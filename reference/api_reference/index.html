<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Automated Python framework for near-field and far-field dosimetric assessments using Sim4Life"><meta name=author content=rwydaegh><link href=https://rwydaegh.github.io/goliat/reference/api_reference/ rel=canonical><link href=../full_features_list/ rel=prev><link href=../../project_info/ rel=next><link rel=icon href=../../img/favicon.svg><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.3"><title>API Reference - GOLIAT Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.50c56a3b.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../stylesheets/extra.css><link rel=stylesheet href=../../css/ansi-colours.css><link rel=stylesheet href=../../css/jupyter-cells.css><link rel=stylesheet href=../../css/pandas-dataframe.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#api-reference class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="GOLIAT Documentation" class="md-header__button md-logo" aria-label="GOLIAT Documentation" data-md-component=logo> <img src=../../img/goliat.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> GOLIAT Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> API Reference </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/rwydaegh/goliat title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> rwydaegh/goliat </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../user_guide/quick_start/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../tutorials/overview/ class=md-tabs__link> Tutorials </a> </li> <li class=md-tabs__item> <a href=../../developer_guide/developer_guide/ class=md-tabs__link> Developer Guide </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/ class=md-tabs__link> Troubleshooting </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../full_features_list/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../project_info/ class=md-tabs__link> Project Info </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="GOLIAT Documentation" class="md-nav__button md-logo" aria-label="GOLIAT Documentation" data-md-component=logo> <img src=../../img/goliat.svg alt=logo> </a> GOLIAT Documentation </label> <div class=md-nav__source> <a href=https://github.com/rwydaegh/goliat title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> rwydaegh/goliat </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user_guide/quick_start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../../user_guide/user_guide/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/01_far_field_basics/ class=md-nav__link> <span class=md-ellipsis> 1. Far-Field Basics </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/02_configuration_and_caching/ class=md-nav__link> <span class=md-ellipsis> 2. Configuration and Caching </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/03_near_field_basics/ class=md-nav__link> <span class=md-ellipsis> 3. Near-Field Basics </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/04_gridding_and_phantom_rotation/ class=md-nav__link> <span class=md-ellipsis> 4. Gridding and Phantom Rotation </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/05_parallel_and_cloud_execution/ class=md-nav__link> <span class=md-ellipsis> 5. Parallel and Cloud Execution </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Developer Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer_guide/developer_guide/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../developer_guide/technical_guide/ class=md-nav__link> <span class=md-ellipsis> Technical Guide </span> </a> </li> <li class=md-nav__item> <a href=../../developer_guide/advanced_features/ class=md-nav__link> <span class=md-ellipsis> Advanced Features </span> </a> </li> <li class=md-nav__item> <a href=../../developer_guide/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../developer_guide/cloud_setup/ class=md-nav__link> <span class=md-ellipsis> Cloud Setup </span> </a> </li> <li class=md-nav__item> <a href=../../developer_guide/coloring_rules/ class=md-nav__link> <span class=md-ellipsis> Coloring Rules </span> </a> </li> <li class=md-nav__item> <a href=../../developer_guide/uml/ class=md-nav__link> <span class=md-ellipsis> UML </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../full_features_list/ class=md-nav__link> <span class=md-ellipsis> Full List of Features </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> API Reference </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#core-modules class=md-nav__link> <span class=md-ellipsis> Core Modules </span> </a> <nav class=md-nav aria-label="Core Modules"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#antenna class=md-nav__link> <span class=md-ellipsis> Antenna </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.antenna.Antenna class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Antenna </span> </a> <nav class=md-nav aria-label= Antenna> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.antenna.Antenna-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.antenna.Antenna.get_config_for_frequency class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_config_for_frequency </span> </a> </li> <li class=md-nav__item> <a href=#goliat.antenna.Antenna.get_model_type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_model_type </span> </a> </li> <li class=md-nav__item> <a href=#goliat.antenna.Antenna.get_source_entity_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_source_entity_name </span> </a> </li> <li class=md-nav__item> <a href=#goliat.antenna.Antenna.get_centered_antenna_path class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_centered_antenna_path </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#colors class=md-nav__link> <span class=md-ellipsis> Colors </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.colors class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;colors </span> </a> <nav class=md-nav aria-label= colors> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.colors-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.colors.init_colorama class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;init_colorama </span> </a> </li> <li class=md-nav__item> <a href=#goliat.colors.get_color class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_color </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.config.Config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Config </span> </a> <nav class=md-nav aria-label= Config> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.config.Config-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.config.Config.get_setting class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_setting </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_simulation_parameters class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_simulation_parameters </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_antenna_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_antenna_config </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_gridding_parameters class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_gridding_parameters </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_phantom_definition class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_phantom_definition </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_material_mapping class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_material_mapping </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_solver_settings class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_solver_settings </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_antenna_component_names class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_antenna_component_names </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_manual_isolve class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_manual_isolve </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_freespace_expansion class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_freespace_expansion </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_excitation_type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_excitation_type </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_bandwidth class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_bandwidth </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_placement_scenario class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_placement_scenario </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_profiling_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_profiling_config </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_line_profiling_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_line_profiling_config </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_download_email class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_download_email </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_osparc_credentials class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_osparc_credentials </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_only_write_input_file class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_only_write_input_file </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.get_auto_cleanup_previous_results class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_auto_cleanup_previous_results </span> </a> </li> <li class=md-nav__item> <a href=#goliat.config.Config.build_simulation_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;build_simulation_config </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-management class=md-nav__link> <span class=md-ellipsis> Data Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.data_extractor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;data_extractor </span> </a> <nav class=md-nav aria-label= data_extractor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.data_extractor-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.data_extractor.get_parameter_from_json class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_parameter_from_json </span> </a> </li> <li class=md-nav__item> <a href=#goliat.data_extractor.get_parameter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_parameter </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> <span class=md-ellipsis> Logging </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.logging_manager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;logging_manager </span> </a> <nav class=md-nav aria-label= logging_manager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.logging_manager-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.logging_manager.ColorFormatter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ColorFormatter </span> </a> </li> <li class=md-nav__item> <a href=#goliat.logging_manager.CustomFormatter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CustomFormatter </span> </a> </li> <li class=md-nav__item> <a href=#goliat.logging_manager.LoggingMixin class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LoggingMixin </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.logging_manager-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.logging_manager.setup_loggers class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;setup_loggers </span> </a> </li> <li class=md-nav__item> <a href=#goliat.logging_manager.shutdown_loggers class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;shutdown_loggers </span> </a> </li> <li class=md-nav__item> <a href=#goliat.logging_manager.add_simulation_log_handlers class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_simulation_log_handlers </span> </a> </li> <li class=md-nav__item> <a href=#goliat.logging_manager.remove_simulation_log_handlers class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;remove_simulation_log_handlers </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#profiling class=md-nav__link> <span class=md-ellipsis> Profiling </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Profiler </span> </a> <nav class=md-nav aria-label= Profiler> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.profiler.Profiler-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.set_total_simulations class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_total_simulations </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.set_project_scope class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_project_scope </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.set_current_project class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_current_project </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.simulation_completed class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;simulation_completed </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.start_stage class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;start_stage </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.end_stage class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;end_stage </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.complete_run_phase class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;complete_run_phase </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.get_weighted_progress class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_weighted_progress </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.get_subtask_estimate class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_subtask_estimate </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.get_phase_subtasks class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_phase_subtasks </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.get_time_remaining class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_time_remaining </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.subtask class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;subtask </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.update_and_save_estimates class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_and_save_estimates </span> </a> </li> <li class=md-nav__item> <a href=#goliat.profiler.Profiler.save_estimates class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_estimates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#project-management class=md-nav__link> <span class=md-ellipsis> Project Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.project_manager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;project_manager </span> </a> <nav class=md-nav aria-label= project_manager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.project_manager-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.project_manager.ProjectCorruptionError class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ProjectCorruptionError </span> </a> </li> <li class=md-nav__item> <a href=#goliat.project_manager.ProjectManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ProjectManager </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.project_manager-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> <li class=md-nav__item> <a href=#utilities class=md-nav__link> <span class=md-ellipsis> Utilities </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.utils class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;utils </span> </a> <nav class=md-nav aria-label= utils> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.utils-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.utils.StudyCancelledError class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StudyCancelledError </span> </a> </li> <li class=md-nav__item> <a href=#goliat.utils.Profiler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Profiler </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.utils-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.utils.format_time class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;format_time </span> </a> </li> <li class=md-nav__item> <a href=#goliat.utils.non_blocking_sleep class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;non_blocking_sleep </span> </a> </li> <li class=md-nav__item> <a href=#goliat.utils.profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;profile </span> </a> </li> <li class=md-nav__item> <a href=#goliat.utils.ensure_s4l_running class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ensure_s4l_running </span> </a> </li> <li class=md-nav__item> <a href=#goliat.utils.open_project class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;open_project </span> </a> </li> <li class=md-nav__item> <a href=#goliat.utils.delete_project_file class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;delete_project_file </span> </a> </li> <li class=md-nav__item> <a href=#goliat.utils.suppress_stdout_stderr class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;suppress_stdout_stderr </span> </a> </li> <li class=md-nav__item> <a href=#goliat.utils.initial_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;initial_setup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#study-orchestration class=md-nav__link> <span class=md-ellipsis> Study Orchestration </span> </a> <nav class=md-nav aria-label="Study Orchestration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#base-study class=md-nav__link> <span class=md-ellipsis> Base Study </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.studies.base_study class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;base_study </span> </a> <nav class=md-nav aria-label= base_study> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.studies.base_study-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.studies.base_study.BaseStudy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BaseStudy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.studies.base_study-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> <li class=md-nav__item> <a href=#far-field-study class=md-nav__link> <span class=md-ellipsis> Far-Field Study </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.studies.far_field_study class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;far_field_study </span> </a> <nav class=md-nav aria-label= far_field_study> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.studies.far_field_study-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.studies.far_field_study.FarFieldStudy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FarFieldStudy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.studies.far_field_study-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> <li class=md-nav__item> <a href=#near-field-study class=md-nav__link> <span class=md-ellipsis> Near-Field Study </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.studies.near_field_study class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;near_field_study </span> </a> <nav class=md-nav aria-label= near_field_study> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.studies.near_field_study-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.studies.near_field_study.NearFieldStudy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NearFieldStudy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.studies.near_field_study-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setup-modules class=md-nav__link> <span class=md-ellipsis> Setup Modules </span> </a> <nav class=md-nav aria-label="Setup Modules"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#base-setup class=md-nav__link> <span class=md-ellipsis> Base Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.setups.base_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;base_setup </span> </a> <nav class=md-nav aria-label= base_setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.base_setup-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.base_setup.BaseSetup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BaseSetup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#boundary-setup class=md-nav__link> <span class=md-ellipsis> Boundary Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.setups.boundary_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;boundary_setup </span> </a> <nav class=md-nav aria-label= boundary_setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.boundary_setup-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.boundary_setup.BoundarySetup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BoundarySetup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#far-field-setup class=md-nav__link> <span class=md-ellipsis> Far-Field Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.setups.far_field_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;far_field_setup </span> </a> <nav class=md-nav aria-label= far_field_setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.far_field_setup-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.far_field_setup.FarFieldSetup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FarFieldSetup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#gridding-setup class=md-nav__link> <span class=md-ellipsis> Gridding Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.setups.gridding_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;gridding_setup </span> </a> <nav class=md-nav aria-label= gridding_setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.gridding_setup-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.gridding_setup.GriddingSetup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GriddingSetup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#material-setup class=md-nav__link> <span class=md-ellipsis> Material Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.setups.material_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;material_setup </span> </a> <nav class=md-nav aria-label= material_setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.material_setup-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.material_setup.MaterialSetup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MaterialSetup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#near-field-setup class=md-nav__link> <span class=md-ellipsis> Near-Field Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.setups.near_field_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;near_field_setup </span> </a> <nav class=md-nav aria-label= near_field_setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.near_field_setup-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.near_field_setup.NearFieldSetup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NearFieldSetup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#phantom-setup class=md-nav__link> <span class=md-ellipsis> Phantom Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.setups.phantom_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;phantom_setup </span> </a> <nav class=md-nav aria-label= phantom_setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.phantom_setup-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.phantom_setup.PhantomSetup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PhantomSetup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#placement-setup class=md-nav__link> <span class=md-ellipsis> Placement Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.setups.placement_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;placement_setup </span> </a> <nav class=md-nav aria-label= placement_setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.placement_setup-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.placement_setup.PlacementSetup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PlacementSetup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#source-setup class=md-nav__link> <span class=md-ellipsis> Source Setup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.setups.source_setup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;source_setup </span> </a> <nav class=md-nav aria-label= source_setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.source_setup-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.setups.source_setup.SourceSetup class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SourceSetup </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#simulation-execution class=md-nav__link> <span class=md-ellipsis> Simulation Execution </span> </a> </li> <li class=md-nav__item> <a href=#goliat.simulation_runner.SimulationRunner class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SimulationRunner </span> </a> <nav class=md-nav aria-label= SimulationRunner> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.simulation_runner.SimulationRunner-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.simulation_runner.SimulationRunner.run class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#results-extraction class=md-nav__link> <span class=md-ellipsis> Results Extraction </span> </a> <nav class=md-nav aria-label="Results Extraction"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cleanup class=md-nav__link> <span class=md-ellipsis> Cleanup </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.extraction.cleaner.Cleaner class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Cleaner </span> </a> <nav class=md-nav aria-label= Cleaner> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.cleaner.Cleaner-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.cleaner.Cleaner.cleanup_simulation_files class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cleanup_simulation_files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json-encoding class=md-nav__link> <span class=md-ellipsis> JSON Encoding </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.extraction.json_encoder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;json_encoder </span> </a> <nav class=md-nav aria-label= json_encoder> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.json_encoder-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.json_encoder.NumpyArrayEncoder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NumpyArrayEncoder </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#power-extraction class=md-nav__link> <span class=md-ellipsis> Power Extraction </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.extraction.power_extractor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;power_extractor </span> </a> <nav class=md-nav aria-label= power_extractor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.power_extractor-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.power_extractor.PowerExtractor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PowerExtractor </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reporting class=md-nav__link> <span class=md-ellipsis> Reporting </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.extraction.reporter.Reporter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Reporter </span> </a> <nav class=md-nav aria-label= Reporter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.reporter.Reporter-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.reporter.Reporter.save_reports class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_reports </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sar-extraction class=md-nav__link> <span class=md-ellipsis> SAR Extraction </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.extraction.sar_extractor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;sar_extractor </span> </a> <nav class=md-nav aria-label= sar_extractor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.sar_extractor-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.sar_extractor.SarExtractor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SarExtractor </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sensor-extraction class=md-nav__link> <span class=md-ellipsis> Sensor Extraction </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.extraction.sensor_extractor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;sensor_extractor </span> </a> <nav class=md-nav aria-label= sensor_extractor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.sensor_extractor-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.extraction.sensor_extractor.SensorExtractor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SensorExtractor </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#analysis class=md-nav__link> <span class=md-ellipsis> Analysis </span> </a> <nav class=md-nav aria-label=Analysis> <ul class=md-nav__list> <li class=md-nav__item> <a href=#analyzer class=md-nav__link> <span class=md-ellipsis> Analyzer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.analysis.analyzer.Analyzer class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Analyzer </span> </a> <nav class=md-nav aria-label= Analyzer> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.analyzer.Analyzer-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.analyzer.Analyzer.run_analysis class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run_analysis </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#analysis-strategies class=md-nav__link> <span class=md-ellipsis> Analysis Strategies </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.analysis.base_strategy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;base_strategy </span> </a> <nav class=md-nav aria-label= base_strategy> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.base_strategy-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BaseAnalysisStrategy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#far-field-strategy class=md-nav__link> <span class=md-ellipsis> Far-Field Strategy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.analysis.far_field_strategy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;far_field_strategy </span> </a> <nav class=md-nav aria-label= far_field_strategy> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.far_field_strategy-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FarFieldAnalysisStrategy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#near-field-strategy class=md-nav__link> <span class=md-ellipsis> Near-Field Strategy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.analysis.near_field_strategy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;near_field_strategy </span> </a> <nav class=md-nav aria-label= near_field_strategy> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.near_field_strategy-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NearFieldAnalysisStrategy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#plotting class=md-nav__link> <span class=md-ellipsis> Plotting </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Plotter </span> </a> <nav class=md-nav aria-label= Plotter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter.plot_average_sar_bar class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;plot_average_sar_bar </span> </a> </li> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter.plot_whole_body_sar_bar class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;plot_whole_body_sar_bar </span> </a> </li> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter.plot_peak_sar_line class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;plot_peak_sar_line </span> </a> </li> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter.plot_pssar_line class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;plot_pssar_line </span> </a> </li> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter.plot_sar_distribution_boxplots class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;plot_sar_distribution_boxplots </span> </a> </li> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter.plot_far_field_distribution_boxplot class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;plot_far_field_distribution_boxplot </span> </a> </li> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter.plot_sar_heatmap class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;plot_sar_heatmap </span> </a> </li> <li class=md-nav__item> <a href=#goliat.analysis.plotter.Plotter.plot_peak_sar_heatmap class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;plot_peak_sar_heatmap </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#gui-components class=md-nav__link> <span class=md-ellipsis> GUI Components </span> </a> <nav class=md-nav aria-label="GUI Components"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#main-gui class=md-nav__link> <span class=md-ellipsis> Main GUI </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.progress_gui class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;progress_gui </span> </a> <nav class=md-nav aria-label= progress_gui> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.progress_gui-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.progress_gui.ProgressGUI class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ProgressGUI </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.progress_gui-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> <li class=md-nav__item> <a href=#gui-communication class=md-nav__link> <span class=md-ellipsis> GUI Communication </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.queue_gui class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;queue_gui </span> </a> <nav class=md-nav aria-label= queue_gui> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.queue_gui-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.queue_gui.QueueGUI class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;QueueGUI </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#gui-components_1 class=md-nav__link> <span class=md-ellipsis> GUI Components </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.components.data_manager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;data_manager </span> </a> <nav class=md-nav aria-label= data_manager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.data_manager-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.data_manager.DataManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DataManager </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.components.plots class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;plots </span> </a> <nav class=md-nav aria-label= plots> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.plots-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.plots.TimeRemainingPlot class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TimeRemainingPlot </span> </a> </li> <li class=md-nav__item> <a href=#goliat.gui.components.plots.OverallProgressPlot class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OverallProgressPlot </span> </a> </li> <li class=md-nav__item> <a href=#goliat.gui.components.plots.PieChartsManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PieChartsManager </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.components.progress_animation class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;progress_animation </span> </a> <nav class=md-nav aria-label= progress_animation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.progress_animation-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.progress_animation.ProgressAnimation class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ProgressAnimation </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.components.queue_handler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;queue_handler </span> </a> <nav class=md-nav aria-label= queue_handler> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.queue_handler-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.queue_handler.QueueHandler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;QueueHandler </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.components.status_manager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;status_manager </span> </a> <nav class=md-nav aria-label= status_manager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.status_manager-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.status_manager.StatusManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StatusManager </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.components.timings_table class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;timings_table </span> </a> <nav class=md-nav aria-label= timings_table> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.timings_table-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.timings_table.TimingsTable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TimingsTable </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.components.tray_manager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;tray_manager </span> </a> <nav class=md-nav aria-label= tray_manager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.tray_manager-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.tray_manager.TrayManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TrayManager </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#goliat.gui.components.ui_builder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;ui_builder </span> </a> <nav class=md-nav aria-label= ui_builder> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.ui_builder-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#goliat.gui.components.ui_builder.UIBuilder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UIBuilder </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scripts class=md-nav__link> <span class=md-ellipsis> Scripts </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../project_info/ class=md-nav__link> <span class=md-ellipsis> Project Info </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/rwydaegh/goliat/edit/master/docs/reference/api_reference.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <a href=https://github.com/rwydaegh/goliat/raw/master/docs/reference/api_reference.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg> </a> <h1 id=api-reference><abbr title="Application Programming Interface">API</abbr> Reference<a class=headerlink href=#api-reference title="Permanent link">&para;</a></h1> <p>Complete <abbr title="Application Programming Interface">API</abbr> documentation for GOLIAT, organized by module category.</p> <h2 id=core-modules>Core Modules<a class=headerlink href=#core-modules title="Permanent link">&para;</a></h2> <p>Core functionality for configuration, logging, and utilities.</p> <h3 id=antenna>Antenna<a class=headerlink href=#antenna title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h2 id=goliat.antenna.Antenna class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">goliat.antenna.Antenna</span> <a href=#goliat.antenna.Antenna class=headerlink title="Permanent link">&para;</a></h2> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Antenna</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents first"> <p>Manages antenna-specific properties and configurations.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.config.Config</code>" href=#goliat.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>The configuration object containing antenna settings.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>frequency_mhz</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The operating frequency in <abbr title=Megahertz>MHz</abbr>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/antenna.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span>
<span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initializes the Antenna object.</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13></a>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14></a><span class=sd>    Args:</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15></a><span class=sd>        config: The configuration object containing antenna settings.</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a><span class=sd>        frequency_mhz: The operating frequency in MHz.</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a>    <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span> <span class=o>=</span> <span class=n>frequency_mhz</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>    <span class=bp>self</span><span class=o>.</span><span class=n>antenna_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_antenna_config</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h3 id=goliat.antenna.Antenna-functions>Functions<a href=#goliat.antenna.Antenna-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.antenna.Antenna.get_config_for_frequency class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_config_for_frequency</span> <a href=#goliat.antenna.Antenna.get_config_for_frequency class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_config_for_frequency</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets the antenna configuration for the current frequency.</p> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If no configuration is defined for the frequency.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>The antenna configuration dictionary.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/antenna.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=k>def</span><span class=w> </span><span class=nf>get_config_for_frequency</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets the antenna configuration for the current frequency.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    Raises:</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>        ValueError: If no configuration is defined for the frequency.</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a><span class=sd>    Returns:</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=sd>        The antenna configuration dictionary.</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>freq_str</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>)</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=k>if</span> <span class=n>freq_str</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>antenna_config</span><span class=p>:</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Antenna configuration not defined for frequency: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=si>}</span><span class=s2> MHz&quot;</span><span class=p>)</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>antenna_config</span><span class=p>[</span><span class=n>freq_str</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.antenna.Antenna.get_model_type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_model_type</span> <a href=#goliat.antenna.Antenna.get_model_type class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_model_type</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the antenna model type string.</p> <details class=quote> <summary>Source code in <code>goliat/antenna.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=k>def</span><span class=w> </span><span class=nf>get_model_type</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the antenna model type string.&quot;&quot;&quot;</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get_config_for_frequency</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;model_type&quot;</span><span class=p>))</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.antenna.Antenna.get_source_entity_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_source_entity_name</span> <a href=#goliat.antenna.Antenna.get_source_entity_name class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_source_entity_name</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the source entity name from the antenna config.</p> <details class=quote> <summary>Source code in <code>goliat/antenna.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=k>def</span><span class=w> </span><span class=nf>get_source_entity_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the source entity name from the antenna config.&quot;&quot;&quot;</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>get_config_for_frequency</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;source_name&quot;</span><span class=p>))</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.antenna.Antenna.get_centered_antenna_path class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_centered_antenna_path</span> <a href=#goliat.antenna.Antenna.get_centered_antenna_path class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_centered_antenna_path</span><span class=p>(</span><span class=n>centered_antennas_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Constructs the path to the centered .sab antenna file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>centered_antennas_dir</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The directory for centered antenna files.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The absolute path to the centered antenna model file.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/antenna.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=k>def</span><span class=w> </span><span class=nf>get_centered_antenna_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>centered_antennas_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Constructs the path to the centered .sab antenna file.</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a><span class=sd>    Args:</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a><span class=sd>        centered_antennas_dir: The directory for centered antenna files.</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a><span class=sd>    Returns:</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a><span class=sd>        The absolute path to the centered antenna model file.</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>    <span class=n>antenna_filename</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=si>}</span><span class=s2>MHz_centered.sab&quot;</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>centered_antennas_dir</span><span class=p>,</span> <span class=n>antenna_filename</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h3 id=colors>Colors<a class=headerlink href=#colors title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.colors class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.colors</span> <a href=#goliat.colors class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.colors-functions>Functions<a href=#goliat.colors-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.colors.init_colorama class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">init_colorama</span> <a href=#goliat.colors.init_colorama class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>init_colorama</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Initialize colorama with appropriate settings for the current environment.</p> <p>Preserves ANSI codes when stdout is piped (e.g., in Jupyter notebooks) by checking for JUPYTER_NOTEBOOK or COLORAMA_STRIP environment variables.</p> <details class=quote> <summary>Source code in <code>goliat/colors.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=k>def</span><span class=w> </span><span class=nf>init_colorama</span><span class=p>():</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize colorama with appropriate settings for the current environment.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    Preserves ANSI codes when stdout is piped (e.g., in Jupyter notebooks)</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>    by checking for JUPYTER_NOTEBOOK or COLORAMA_STRIP environment variables.</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=c1># Preserve ANSI codes when stdout is piped (e.g., in Jupyter notebooks)</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=n>strip_codes</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;COLORAMA_STRIP&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s1>&#39;0&#39;</span> <span class=ow>or</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;JUPYTER_NOTEBOOK&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s1>&#39;1&#39;</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=n>init</span><span class=p>(</span><span class=n>autoreset</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>strip</span><span class=o>=</span><span class=ow>not</span> <span class=n>strip_codes</span><span class=p>,</span> <span class=n>convert</span><span class=o>=</span><span class=kc>False</span> <span class=k>if</span> <span class=n>strip_codes</span> <span class=k>else</span> <span class=kc>True</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.colors.get_color class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_color</span> <a href=#goliat.colors.get_color class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_color</span><span class=p>(</span><span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the colorama color code for a log type, or white if not found.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>log_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Log type key (e.g., 'info', 'warning', 'error').</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Colorama color code string.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/colors.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a><span class=k>def</span><span class=w> </span><span class=nf>get_color</span><span class=p>(</span><span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the colorama color code for a log type, or white if not found.</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=sd>    Args:</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=sd>        log_type: Log type key (e.g., &#39;info&#39;, &#39;warning&#39;, &#39;error&#39;).</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>    Returns:</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        Colorama color code string.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=k>return</span> <span class=n>COLOR_MAP</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>log_type</span><span class=p>,</span> <span class=n>Fore</span><span class=o>.</span><span class=n>WHITE</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h3 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h2 id=goliat.config.Config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">goliat.config.Config</span> <a href=#goliat.config.Config class=headerlink title="Permanent link">&para;</a></h2> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Config</span><span class=p>(</span><span class=n>base_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>config_filename</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;near_field_config.json&#39;</span><span class=p>,</span> <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents first"> <p>Manages loading and access of hierarchical <abbr title="JavaScript Object Notation">JSON</abbr> configurations.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>base_dir</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The base directory of the project.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>config_filename</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the main configuration file to load.</p> </div> </td> <td> <code>&#39;near_field_config.json&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>no_cache</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>This parameter is accepted but not used directly by the Config class. It's used by other managers to control caching behavior.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>base_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>config_filename</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;near_field_config.json&quot;</span><span class=p>,</span> <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>):</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initializes the Config object by loading all relevant configuration files.</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>    Args:</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        base_dir: The base directory of the project.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>        config_filename: The name of the main configuration file to load.</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>        no_cache: This parameter is accepted but not used directly by the Config class.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>                  It&#39;s used by other managers to control caching behavior.</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span> <span class=o>=</span> <span class=n>base_dir</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_resolve_config_path</span><span class=p>(</span><span class=n>config_filename</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>)</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>material_mapping_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=s2>&quot;material_name_mapping.json&quot;</span><span class=p>)</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=c1># Generate session hash for profiling config (similar to GUI session tracking)</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=n>session_hash</span> <span class=o>=</span> <span class=n>hashlib</span><span class=o>.</span><span class=n>md5</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>getpid</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>encode</span><span class=p>())</span><span class=o>.</span><span class=n>hexdigest</span><span class=p>()[:</span><span class=mi>8</span><span class=p>]</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=n>data_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>)</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=c1># Generate timestamp for filename</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=n>session_timestamp</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;</span><span class=si>%d</span><span class=s2>-%m_%H-%M-%S&quot;</span><span class=p>)</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=c1># Cleanup old JSON files before creating new one</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_cleanup_old_data_files</span><span class=p>(</span><span class=n>data_dir</span><span class=p>)</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;profiling_config_</span><span class=si>{</span><span class=n>session_timestamp</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>session_hash</span><span class=si>}</span><span class=s2>.json&quot;</span><span class=p>)</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_config_with_inheritance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config_path</span><span class=p>)</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=bp>self</span><span class=o>.</span><span class=n>material_mapping</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_json</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>material_mapping_path</span><span class=p>)</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=c1># Load or initialize profiling config</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_or_create_profiling_config</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h3 id=goliat.config.Config-functions>Functions<a href=#goliat.config.Config-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_setting class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_setting</span> <a href=#goliat.config.Config.get_setting class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_setting</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Retrieves a nested setting using a dot-separated path.</p> <details class=example open> <summary>Example</summary> <p><code>get_setting("simulation_parameters.number_of_point_sensors")</code></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The dot-separated path to the setting.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>default</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The default value to return if the setting is not found.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The value of the setting, or the default value.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a><span class=k>def</span><span class=w> </span><span class=nf>get_setting</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Retrieves a nested setting using a dot-separated path.</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a><span class=sd>    Example:</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a><span class=sd>        `get_setting(&quot;simulation_parameters.number_of_point_sensors&quot;)`</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=sd>    Args:</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a><span class=sd>        path: The dot-separated path to the setting.</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a><span class=sd>        default: The default value to return if the setting is not found.</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a><span class=sd>    Returns:</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a><span class=sd>        The value of the setting, or the default value.</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=n>keys</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>)</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>    <span class=n>current_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>    <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>keys</span><span class=p>:</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>current_config</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>and</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>current_config</span><span class=p>:</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>            <span class=n>current_config</span> <span class=o>=</span> <span class=n>current_config</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>            <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>    <span class=k>return</span> <span class=n>current_config</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_simulation_parameters class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_simulation_parameters</span> <a href=#goliat.config.Config.get_simulation_parameters class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_simulation_parameters</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the simulation_parameters config section.</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a><span class=k>def</span><span class=w> </span><span class=nf>get_simulation_parameters</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the simulation_parameters config section.&quot;&quot;&quot;</span>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;simulation_parameters&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_antenna_config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_antenna_config</span> <a href=#goliat.config.Config.get_antenna_config class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_antenna_config</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the antenna_config section.</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a><span class=k>def</span><span class=w> </span><span class=nf>get_antenna_config</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the antenna_config section.&quot;&quot;&quot;</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;antenna_config&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_gridding_parameters class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_gridding_parameters</span> <a href=#goliat.config.Config.get_gridding_parameters class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_gridding_parameters</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the gridding_parameters config section.</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a><span class=k>def</span><span class=w> </span><span class=nf>get_gridding_parameters</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the gridding_parameters config section.&quot;&quot;&quot;</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;gridding_parameters&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_phantom_definition class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_phantom_definition</span> <a href=#goliat.config.Config.get_phantom_definition class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_phantom_definition</span><span class=p>(</span><span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets the configuration for a specific phantom.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>phantom_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the phantom.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>The configuration for the specified phantom, or an empty dict if not found.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a><span class=k>def</span><span class=w> </span><span class=nf>get_phantom_definition</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets the configuration for a specific phantom.</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a><span class=sd>    Args:</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a><span class=sd>        phantom_name: The name of the phantom.</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a><span class=sd>    Returns:</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a><span class=sd>        The configuration for the specified phantom, or an empty dict if not found.</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;phantom_definitions&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>phantom_name</span><span class=p>,</span> <span class=p>{})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_material_mapping class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_material_mapping</span> <a href=#goliat.config.Config.get_material_mapping class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_material_mapping</span><span class=p>(</span><span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets the material name mapping for a specific phantom.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>phantom_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the phantom.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>The material mapping dictionary.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a><span class=k>def</span><span class=w> </span><span class=nf>get_material_mapping</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets the material name mapping for a specific phantom.</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a><span class=sd>    Args:</span>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a><span class=sd>        phantom_name: The name of the phantom.</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a><span class=sd>    Returns:</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a><span class=sd>        The material mapping dictionary.</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a>    <span class=k>if</span> <span class=n>phantom_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>material_mapping</span><span class=p>:</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>material_mapping</span><span class=p>[</span><span class=n>phantom_name</span><span class=p>]</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>material_mapping</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_solver_settings class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_solver_settings</span> <a href=#goliat.config.Config.get_solver_settings class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_solver_settings</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the solver_settings config section.</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a><span class=k>def</span><span class=w> </span><span class=nf>get_solver_settings</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the solver_settings config section.&quot;&quot;&quot;</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;solver_settings&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_antenna_component_names class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_antenna_component_names</span> <a href=#goliat.config.Config.get_antenna_component_names class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_antenna_component_names</span><span class=p>(</span><span class=n>antenna_model_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets component names for a specific antenna model type.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>antenna_model_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The type of the antenna model (e.g., '<abbr title="Planar Inverted-F Antenna">PIFA</abbr>').</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=list>list</span></code> </td> <td> <div class=doc-md-description> <p>A list of component names.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a><span class=k>def</span><span class=w> </span><span class=nf>get_antenna_component_names</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>antenna_model_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets component names for a specific antenna model type.</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a><span class=sd>    Args:</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a><span class=sd>        antenna_model_type: The type of the antenna model (e.g., &#39;PIFA&#39;).</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a><span class=sd>    Returns:</span>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a><span class=sd>        A list of component names.</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;antenna_config&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;components&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>antenna_model_type</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_manual_isolve class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_manual_isolve</span> <a href=#goliat.config.Config.get_manual_isolve class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_manual_isolve</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns whether manual <abbr title="Sim4Life FDTD solver executable">iSolve</abbr> execution is enabled.</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a><span class=k>def</span><span class=w> </span><span class=nf>get_manual_isolve</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns whether manual iSolve execution is enabled.&quot;&quot;&quot;</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;manual_isolve&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_freespace_expansion class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_freespace_expansion</span> <a href=#goliat.config.Config.get_freespace_expansion class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_freespace_expansion</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the freespace antenna bbox expansion in mm [x, y, z].</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a><span class=k>def</span><span class=w> </span><span class=nf>get_freespace_expansion</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the freespace antenna bbox expansion in mm [x, y, z].&quot;&quot;&quot;</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_simulation_parameters</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;freespace_antenna_bbox_expansion_mm&quot;</span><span class=p>,</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>])</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_excitation_type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_excitation_type</span> <a href=#goliat.config.Config.get_excitation_type class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_excitation_type</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the excitation type string, defaults to 'Harmonic'.</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a><span class=k>def</span><span class=w> </span><span class=nf>get_excitation_type</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the excitation type string, defaults to &#39;Harmonic&#39;.&quot;&quot;&quot;</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_simulation_parameters</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;excitation_type&quot;</span><span class=p>,</span> <span class=s2>&quot;Harmonic&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_bandwidth class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_bandwidth</span> <a href=#goliat.config.Config.get_bandwidth class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_bandwidth</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the bandwidth in <abbr title=Megahertz>MHz</abbr> for Gaussian excitation.</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a><span class=k>def</span><span class=w> </span><span class=nf>get_bandwidth</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the bandwidth in MHz for Gaussian excitation.&quot;&quot;&quot;</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_simulation_parameters</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;bandwidth_mhz&quot;</span><span class=p>,</span> <span class=mf>50.0</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_placement_scenario class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_placement_scenario</span> <a href=#goliat.config.Config.get_placement_scenario class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_placement_scenario</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets the definition for a specific placement scenario.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>scenario_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the placement scenario.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>The configuration for the placement scenario.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a><span class=k>def</span><span class=w> </span><span class=nf>get_placement_scenario</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets the definition for a specific placement scenario.</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a><span class=sd>    Args:</span>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a><span class=sd>        scenario_name: The name of the placement scenario.</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a><span class=sd>    Returns:</span>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a><span class=sd>        The configuration for the placement scenario.</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;placement_scenarios&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_profiling_config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_profiling_config</span> <a href=#goliat.config.Config.get_profiling_config class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_profiling_config</span><span class=p>(</span><span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets the profiling configuration for a given study type.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>study_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The type of the study (e.g., 'near_field').</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>The profiling configuration for the study type.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a><span class=k>def</span><span class=w> </span><span class=nf>get_profiling_config</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets the profiling configuration for a given study type.</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a><span class=sd>    Args:</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294></a><span class=sd>        study_type: The type of the study (e.g., &#39;near_field&#39;).</span>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295></a>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296></a><span class=sd>    Returns:</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297></a><span class=sd>        The profiling configuration for the study type.</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299></a>    <span class=k>if</span> <span class=n>study_type</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=p>:</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a>        <span class=kn>import</span><span class=w> </span><span class=nn>logging</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>        <span class=n>logging</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Profiling configuration not defined for study type: </span><span class=si>{</span><span class=n>study_type</span><span class=si>}</span><span class=s2>. Returning empty configuration.&quot;</span><span class=p>)</span>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303></a>        <span class=k>return</span> <span class=p>{}</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=p>[</span><span class=n>study_type</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_line_profiling_config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_line_profiling_config</span> <a href=#goliat.config.Config.get_line_profiling_config class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_line_profiling_config</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the line_profiling config section.</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-306><a id=__codelineno-0-306 name=__codelineno-0-306></a><span class=k>def</span><span class=w> </span><span class=nf>get_line_profiling_config</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-307><a id=__codelineno-0-307 name=__codelineno-0-307></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the line_profiling config section.&quot;&quot;&quot;</span>
</span><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;line_profiling&quot;</span><span class=p>,</span> <span class=p>{})</span> <span class=ow>or</span> <span class=p>{}</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_download_email class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_download_email</span> <a href=#goliat.config.Config.get_download_email class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_download_email</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns the download email from environment variables.</p> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If DOWNLOAD_EMAIL is not set in the environment.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-310><a id=__codelineno-0-310 name=__codelineno-0-310></a><span class=k>def</span><span class=w> </span><span class=nf>get_download_email</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the download email from environment variables.</span>
</span><span id=__span-0-312><a id=__codelineno-0-312 name=__codelineno-0-312></a>
</span><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a><span class=sd>    Raises:</span>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a><span class=sd>        ValueError: If DOWNLOAD_EMAIL is not set in the environment.</span>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a>    <span class=n>email</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;DOWNLOAD_EMAIL&quot;</span><span class=p>)</span>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>email</span><span class=p>:</span>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Missing DOWNLOAD_EMAIL. Please set this in your .env file.&quot;</span><span class=p>)</span>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319></a>    <span class=k>return</span> <span class=n>email</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_osparc_credentials class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_osparc_credentials</span> <a href=#goliat.config.Config.get_osparc_credentials class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_osparc_credentials</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets <abbr title="Open Simulation Platform for Advanced Research and Computing">oSPARC</abbr> credentials from environment variables.</p> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If required <abbr title="Open Simulation Platform for Advanced Research and Computing">oSPARC</abbr> credentials are not set.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>A dictionary containing <abbr title="Open Simulation Platform for Advanced Research and Computing">oSPARC</abbr> <abbr title="Application Programming Interface">API</abbr> credentials.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a><span class=k>def</span><span class=w> </span><span class=nf>get_osparc_credentials</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets oSPARC credentials from environment variables.</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a><span class=sd>    Raises:</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a><span class=sd>        ValueError: If required oSPARC credentials are not set.</span>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326></a>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a><span class=sd>    Returns:</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a><span class=sd>        A dictionary containing oSPARC API credentials.</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a>    <span class=n>credentials</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a>        <span class=s2>&quot;api_key&quot;</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;OSPARC_API_KEY&quot;</span><span class=p>),</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332></a>        <span class=s2>&quot;api_secret&quot;</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;OSPARC_API_SECRET&quot;</span><span class=p>),</span>
</span><span id=__span-0-333><a id=__codelineno-0-333 name=__codelineno-0-333></a>        <span class=s2>&quot;api_server&quot;</span><span class=p>:</span> <span class=s2>&quot;https://api.sim4life.science&quot;</span><span class=p>,</span>
</span><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a>        <span class=s2>&quot;api_version&quot;</span><span class=p>:</span> <span class=s2>&quot;v0&quot;</span><span class=p>,</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a>    <span class=p>}</span>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a>    <span class=n>missing</span> <span class=o>=</span> <span class=p>[</span><span class=n>key</span> <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>credentials</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>key</span> <span class=o>!=</span> <span class=s2>&quot;api_version&quot;</span><span class=p>]</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a>    <span class=k>if</span> <span class=n>missing</span><span class=p>:</span>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a>            <span class=sa>f</span><span class=s2>&quot;Missing oSPARC credentials: </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>missing</span><span class=p>)</span><span class=si>}</span><span class=s2>. &quot;</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a>            <span class=s2>&quot;Please create a .env file in the project root with your oSPARC API credentials. &quot;</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>            <span class=s2>&quot;See README.md for setup instructions.&quot;</span>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>        <span class=p>)</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>    <span class=k>return</span> <span class=n>credentials</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_only_write_input_file class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_only_write_input_file</span> <a href=#goliat.config.Config.get_only_write_input_file class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_only_write_input_file</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns whether to only write input files without running simulations.</p> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a><span class=k>def</span><span class=w> </span><span class=nf>get_only_write_input_file</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns whether to only write input files without running simulations.&quot;&quot;&quot;</span>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a>    <span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;execution_control.only_write_input_file&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a>    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>result</span><span class=p>,</span> <span class=nb>bool</span><span class=p>)</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>    <span class=k>return</span> <span class=n>result</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.get_auto_cleanup_previous_results class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_auto_cleanup_previous_results</span> <a href=#goliat.config.Config.get_auto_cleanup_previous_results class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_auto_cleanup_previous_results</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets the 'auto_cleanup_previous_results' setting from 'execution_control'.</p> <p>This setting determines which previous simulation files to automatically delete to preserve disk space. It should only be used in serial workflows.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=list>list</span></code> </td> <td> <div class=doc-md-description> <p>A list of file types to clean up (e.g., ["output", "input"]).</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a><span class=k>def</span><span class=w> </span><span class=nf>get_auto_cleanup_previous_results</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets the &#39;auto_cleanup_previous_results&#39; setting from &#39;execution_control&#39;.</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a><span class=sd>    This setting determines which previous simulation files to automatically delete</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a><span class=sd>    to preserve disk space. It should only be used in serial workflows.</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a><span class=sd>    Returns:</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a><span class=sd>        A list of file types to clean up (e.g., [&quot;output&quot;, &quot;input&quot;]).</span>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a>    <span class=n>cleanup_setting</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;execution_control.auto_cleanup_previous_results&quot;</span><span class=p>,</span> <span class=p>[])</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a>    <span class=c1># Handle legacy boolean format for backwards compatibility</span>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>cleanup_setting</span><span class=p>,</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a>        <span class=k>if</span> <span class=n>cleanup_setting</span><span class=p>:</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a>            <span class=c1># Legacy behavior: only clean output files</span>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a>            <span class=k>return</span> <span class=p>[</span><span class=s2>&quot;output&quot;</span><span class=p>]</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a>            <span class=k>return</span> <span class=p>[]</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a>
</span><span id=__span-0-372><a id=__codelineno-0-372 name=__codelineno-0-372></a>    <span class=c1># Validate that it&#39;s a list</span>
</span><span id=__span-0-373><a id=__codelineno-0-373 name=__codelineno-0-373></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>cleanup_setting</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
</span><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a>        <span class=kn>import</span><span class=w> </span><span class=nn>logging</span>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a>        <span class=n>logging</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;&#39;auto_cleanup_previous_results&#39; should be a list, got </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>cleanup_setting</span><span class=p>)</span><span class=si>}</span><span class=s2>. Disabling cleanup for safety.&quot;</span><span class=p>)</span>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a>        <span class=k>return</span> <span class=p>[]</span>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a>    <span class=c1># Validate file types</span>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a>    <span class=n>valid_types</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;output&quot;</span><span class=p>,</span> <span class=s2>&quot;input&quot;</span><span class=p>,</span> <span class=s2>&quot;smash&quot;</span><span class=p>}</span>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a>    <span class=n>invalid_types</span> <span class=o>=</span> <span class=p>[</span><span class=n>t</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>cleanup_setting</span> <span class=k>if</span> <span class=n>t</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>valid_types</span><span class=p>]</span>
</span><span id=__span-0-382><a id=__codelineno-0-382 name=__codelineno-0-382></a>    <span class=k>if</span> <span class=n>invalid_types</span><span class=p>:</span>
</span><span id=__span-0-383><a id=__codelineno-0-383 name=__codelineno-0-383></a>        <span class=kn>import</span><span class=w> </span><span class=nn>logging</span>
</span><span id=__span-0-384><a id=__codelineno-0-384 name=__codelineno-0-384></a>
</span><span id=__span-0-385><a id=__codelineno-0-385 name=__codelineno-0-385></a>        <span class=n>logging</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid file types in &#39;auto_cleanup_previous_results&#39;: </span><span class=si>{</span><span class=n>invalid_types</span><span class=si>}</span><span class=s2>. Valid types are: </span><span class=si>{</span><span class=n>valid_types</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-386><a id=__codelineno-0-386 name=__codelineno-0-386></a>
</span><span id=__span-0-387><a id=__codelineno-0-387 name=__codelineno-0-387></a>    <span class=k>return</span> <span class=p>[</span><span class=n>t</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>cleanup_setting</span> <span class=k>if</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>valid_types</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.config.Config.build_simulation_config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">build_simulation_config</span> <a href=#goliat.config.Config.build_simulation_config class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>build_simulation_config</span><span class=p>(</span><span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>position_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>orientation_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>direction_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>polarization_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Constructs a minimal, simulation-specific configuration dictionary.</p> <p>This method is the core of the "Verify and Resume" feature. It creates a "surgical" snapshot of the configuration that is unique to a single simulation run. This snapshot is then hashed to determine if a valid, reusable simulation already exists.</p> <p>The key principle is to only include parameters that directly affect the outcome of the specific simulation. For example, instead of including the entire 'gridding_parameters' block, it surgically extracts only the gridding value for the specific 'frequency_mhz' being used. This ensures that a change to one frequency's gridding in the main config does not invalidate the hashes for other, unaffected frequencies.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>phantom_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the phantom model.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>frequency_mhz</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The simulation frequency in <abbr title=Megahertz>MHz</abbr>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_name</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>(Near-Field) The base name of the placement scenario.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>position_name</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>(Near-Field) The name of the position within the scenario.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>orientation_name</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>(Near-Field) The name of the orientation.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>direction_name</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>(Far-Field) The incident direction of the plane wave.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>polarization_name</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>(Far-Field) The polarization of the plane wave.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>A dictionary containing the minimal, surgical configuration snapshot.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span>
<span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span>
<span class=normal><a href=#__codelineno-0-409>409</a></span>
<span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span>
<span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span>
<span class=normal><a href=#__codelineno-0-453>453</a></span>
<span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span>
<span class=normal><a href=#__codelineno-0-461>461</a></span>
<span class=normal><a href=#__codelineno-0-462>462</a></span>
<span class=normal><a href=#__codelineno-0-463>463</a></span>
<span class=normal><a href=#__codelineno-0-464>464</a></span>
<span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span>
<span class=normal><a href=#__codelineno-0-468>468</a></span>
<span class=normal><a href=#__codelineno-0-469>469</a></span>
<span class=normal><a href=#__codelineno-0-470>470</a></span>
<span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span>
<span class=normal><a href=#__codelineno-0-473>473</a></span>
<span class=normal><a href=#__codelineno-0-474>474</a></span>
<span class=normal><a href=#__codelineno-0-475>475</a></span>
<span class=normal><a href=#__codelineno-0-476>476</a></span>
<span class=normal><a href=#__codelineno-0-477>477</a></span>
<span class=normal><a href=#__codelineno-0-478>478</a></span>
<span class=normal><a href=#__codelineno-0-479>479</a></span>
<span class=normal><a href=#__codelineno-0-480>480</a></span>
<span class=normal><a href=#__codelineno-0-481>481</a></span>
<span class=normal><a href=#__codelineno-0-482>482</a></span>
<span class=normal><a href=#__codelineno-0-483>483</a></span>
<span class=normal><a href=#__codelineno-0-484>484</a></span>
<span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span>
<span class=normal><a href=#__codelineno-0-487>487</a></span>
<span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span>
<span class=normal><a href=#__codelineno-0-493>493</a></span>
<span class=normal><a href=#__codelineno-0-494>494</a></span>
<span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-389><a id=__codelineno-0-389 name=__codelineno-0-389></a><span class=k>def</span><span class=w> </span><span class=nf>build_simulation_config</span><span class=p>(</span>
</span><span id=__span-0-390><a id=__codelineno-0-390 name=__codelineno-0-390></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-391><a id=__codelineno-0-391 name=__codelineno-0-391></a>    <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-392><a id=__codelineno-0-392 name=__codelineno-0-392></a>    <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-393><a id=__codelineno-0-393 name=__codelineno-0-393></a>    <span class=n>scenario_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-394><a id=__codelineno-0-394 name=__codelineno-0-394></a>    <span class=n>position_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-395><a id=__codelineno-0-395 name=__codelineno-0-395></a>    <span class=n>orientation_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-396><a id=__codelineno-0-396 name=__codelineno-0-396></a>    <span class=n>direction_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a>    <span class=n>polarization_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-399><a id=__codelineno-0-399 name=__codelineno-0-399></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Constructs a minimal, simulation-specific configuration dictionary.</span>
</span><span id=__span-0-400><a id=__codelineno-0-400 name=__codelineno-0-400></a>
</span><span id=__span-0-401><a id=__codelineno-0-401 name=__codelineno-0-401></a><span class=sd>    This method is the core of the &quot;Verify and Resume&quot; feature. It creates a</span>
</span><span id=__span-0-402><a id=__codelineno-0-402 name=__codelineno-0-402></a><span class=sd>    &quot;surgical&quot; snapshot of the configuration that is unique to a single</span>
</span><span id=__span-0-403><a id=__codelineno-0-403 name=__codelineno-0-403></a><span class=sd>    simulation run. This snapshot is then hashed to determine if a valid,</span>
</span><span id=__span-0-404><a id=__codelineno-0-404 name=__codelineno-0-404></a><span class=sd>    reusable simulation already exists.</span>
</span><span id=__span-0-405><a id=__codelineno-0-405 name=__codelineno-0-405></a>
</span><span id=__span-0-406><a id=__codelineno-0-406 name=__codelineno-0-406></a><span class=sd>    The key principle is to only include parameters that directly affect the</span>
</span><span id=__span-0-407><a id=__codelineno-0-407 name=__codelineno-0-407></a><span class=sd>    outcome of the specific simulation. For example, instead of including the</span>
</span><span id=__span-0-408><a id=__codelineno-0-408 name=__codelineno-0-408></a><span class=sd>    entire &#39;gridding_parameters&#39; block, it surgically extracts only the</span>
</span><span id=__span-0-409><a id=__codelineno-0-409 name=__codelineno-0-409></a><span class=sd>    gridding value for the specific &#39;frequency_mhz&#39; being used. This ensures</span>
</span><span id=__span-0-410><a id=__codelineno-0-410 name=__codelineno-0-410></a><span class=sd>    that a change to one frequency&#39;s gridding in the main config does not</span>
</span><span id=__span-0-411><a id=__codelineno-0-411 name=__codelineno-0-411></a><span class=sd>    invalidate the hashes for other, unaffected frequencies.</span>
</span><span id=__span-0-412><a id=__codelineno-0-412 name=__codelineno-0-412></a>
</span><span id=__span-0-413><a id=__codelineno-0-413 name=__codelineno-0-413></a><span class=sd>    Args:</span>
</span><span id=__span-0-414><a id=__codelineno-0-414 name=__codelineno-0-414></a><span class=sd>        phantom_name: The name of the phantom model.</span>
</span><span id=__span-0-415><a id=__codelineno-0-415 name=__codelineno-0-415></a><span class=sd>        frequency_mhz: The simulation frequency in MHz.</span>
</span><span id=__span-0-416><a id=__codelineno-0-416 name=__codelineno-0-416></a><span class=sd>        scenario_name: (Near-Field) The base name of the placement scenario.</span>
</span><span id=__span-0-417><a id=__codelineno-0-417 name=__codelineno-0-417></a><span class=sd>        position_name: (Near-Field) The name of the position within the scenario.</span>
</span><span id=__span-0-418><a id=__codelineno-0-418 name=__codelineno-0-418></a><span class=sd>        orientation_name: (Near-Field) The name of the orientation.</span>
</span><span id=__span-0-419><a id=__codelineno-0-419 name=__codelineno-0-419></a><span class=sd>        direction_name: (Far-Field) The incident direction of the plane wave.</span>
</span><span id=__span-0-420><a id=__codelineno-0-420 name=__codelineno-0-420></a><span class=sd>        polarization_name: (Far-Field) The polarization of the plane wave.</span>
</span><span id=__span-0-421><a id=__codelineno-0-421 name=__codelineno-0-421></a>
</span><span id=__span-0-422><a id=__codelineno-0-422 name=__codelineno-0-422></a><span class=sd>    Returns:</span>
</span><span id=__span-0-423><a id=__codelineno-0-423 name=__codelineno-0-423></a><span class=sd>        A dictionary containing the minimal, surgical configuration snapshot.</span>
</span><span id=__span-0-424><a id=__codelineno-0-424 name=__codelineno-0-424></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-425><a id=__codelineno-0-425 name=__codelineno-0-425></a>    <span class=n>surgical_config</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-426><a id=__codelineno-0-426 name=__codelineno-0-426></a>
</span><span id=__span-0-427><a id=__codelineno-0-427 name=__codelineno-0-427></a>    <span class=c1># 1. Copy global parameters</span>
</span><span id=__span-0-428><a id=__codelineno-0-428 name=__codelineno-0-428></a>    <span class=n>global_keys</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a>        <span class=s2>&quot;study_type&quot;</span><span class=p>,</span>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a>        <span class=s2>&quot;simulation_parameters&quot;</span><span class=p>,</span>
</span><span id=__span-0-431><a id=__codelineno-0-431 name=__codelineno-0-431></a>        <span class=s2>&quot;solver_settings&quot;</span><span class=p>,</span>
</span><span id=__span-0-432><a id=__codelineno-0-432 name=__codelineno-0-432></a>        <span class=s2>&quot;manual_isolve&quot;</span><span class=p>,</span>
</span><span id=__span-0-433><a id=__codelineno-0-433 name=__codelineno-0-433></a>        <span class=s2>&quot;export_material_properties&quot;</span><span class=p>,</span>
</span><span id=__span-0-434><a id=__codelineno-0-434 name=__codelineno-0-434></a>    <span class=p>]</span>
</span><span id=__span-0-435><a id=__codelineno-0-435 name=__codelineno-0-435></a>    <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>global_keys</span><span class=p>:</span>
</span><span id=__span-0-436><a id=__codelineno-0-436 name=__codelineno-0-436></a>        <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>:</span>
</span><span id=__span-0-437><a id=__codelineno-0-437 name=__codelineno-0-437></a>            <span class=n>surgical_config</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-0-438><a id=__codelineno-0-438 name=__codelineno-0-438></a>
</span><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a>    <span class=c1># 4. Surgically handle gridding parameters</span>
</span><span id=__span-0-440><a id=__codelineno-0-440 name=__codelineno-0-440></a>    <span class=n>gridding_params</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_gridding_parameters</span><span class=p>()</span>
</span><span id=__span-0-441><a id=__codelineno-0-441 name=__codelineno-0-441></a>    <span class=n>surgical_gridding</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-442><a id=__codelineno-0-442 name=__codelineno-0-442></a>    <span class=c1># Copy non-frequency specific gridding params</span>
</span><span id=__span-0-443><a id=__codelineno-0-443 name=__codelineno-0-443></a>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>gridding_params</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-444><a id=__codelineno-0-444 name=__codelineno-0-444></a>        <span class=k>if</span> <span class=n>key</span> <span class=o>!=</span> <span class=s2>&quot;global_gridding_per_frequency&quot;</span><span class=p>:</span>
</span><span id=__span-0-445><a id=__codelineno-0-445 name=__codelineno-0-445></a>            <span class=n>surgical_gridding</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a>    <span class=c1># Extract only the relevant frequency&#39;s gridding value</span>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>    <span class=k>if</span> <span class=s2>&quot;global_gridding_per_frequency&quot;</span> <span class=ow>in</span> <span class=n>gridding_params</span><span class=p>:</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>        <span class=n>freq_str</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>frequency_mhz</span><span class=p>)</span>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>        <span class=k>if</span> <span class=n>freq_str</span> <span class=ow>in</span> <span class=n>gridding_params</span><span class=p>[</span><span class=s2>&quot;global_gridding_per_frequency&quot;</span><span class=p>]:</span>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>            <span class=n>surgical_gridding</span><span class=p>[</span><span class=s2>&quot;global_gridding_per_frequency&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=n>freq_str</span><span class=p>:</span> <span class=n>gridding_params</span><span class=p>[</span><span class=s2>&quot;global_gridding_per_frequency&quot;</span><span class=p>][</span><span class=n>freq_str</span><span class=p>]}</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>
</span><span id=__span-0-453><a id=__codelineno-0-453 name=__codelineno-0-453></a>    <span class=n>surgical_config</span><span class=p>[</span><span class=s2>&quot;gridding_parameters&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>surgical_gridding</span>
</span><span id=__span-0-454><a id=__codelineno-0-454 name=__codelineno-0-454></a>
</span><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a>    <span class=c1># 2. Add simulation-specific identifiers</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a>    <span class=n>surgical_config</span><span class=p>[</span><span class=s2>&quot;phantom&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-457><a id=__codelineno-0-457 name=__codelineno-0-457></a>    <span class=n>surgical_config</span><span class=p>[</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>frequency_mhz</span>
</span><span id=__span-0-458><a id=__codelineno-0-458 name=__codelineno-0-458></a>
</span><span id=__span-0-459><a id=__codelineno-0-459 name=__codelineno-0-459></a>    <span class=c1># 3. Surgically select study-specific parameters</span>
</span><span id=__span-0-460><a id=__codelineno-0-460 name=__codelineno-0-460></a>    <span class=n>study_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;study_type&quot;</span><span class=p>)</span>
</span><span id=__span-0-461><a id=__codelineno-0-461 name=__codelineno-0-461></a>    <span class=k>if</span> <span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;near_field&quot;</span><span class=p>:</span>
</span><span id=__span-0-462><a id=__codelineno-0-462 name=__codelineno-0-462></a>        <span class=c1># Select the specific antenna config for the given frequency</span>
</span><span id=__span-0-463><a id=__codelineno-0-463 name=__codelineno-0-463></a>        <span class=n>surgical_config</span><span class=p>[</span><span class=s2>&quot;antenna_config&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;antenna_config.</span><span class=si>{</span><span class=n>frequency_mhz</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-464><a id=__codelineno-0-464 name=__codelineno-0-464></a>
</span><span id=__span-0-465><a id=__codelineno-0-465 name=__codelineno-0-465></a>        <span class=c1># Reconstruct placement_scenarios for the specific placement</span>
</span><span id=__span-0-466><a id=__codelineno-0-466 name=__codelineno-0-466></a>        <span class=k>if</span> <span class=n>scenario_name</span><span class=p>:</span>
</span><span id=__span-0-467><a id=__codelineno-0-467 name=__codelineno-0-467></a>            <span class=n>original_scenario</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_placement_scenario</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>)</span>
</span><span id=__span-0-468><a id=__codelineno-0-468 name=__codelineno-0-468></a>            <span class=k>if</span> <span class=n>original_scenario</span> <span class=ow>and</span> <span class=n>position_name</span> <span class=ow>and</span> <span class=n>orientation_name</span><span class=p>:</span>
</span><span id=__span-0-469><a id=__codelineno-0-469 name=__codelineno-0-469></a>                <span class=n>surgical_config</span><span class=p>[</span><span class=s2>&quot;placement_scenarios&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-470><a id=__codelineno-0-470 name=__codelineno-0-470></a>                    <span class=n>scenario_name</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-0-471><a id=__codelineno-0-471 name=__codelineno-0-471></a>                        <span class=s2>&quot;positions&quot;</span><span class=p>:</span> <span class=p>{</span><span class=n>position_name</span><span class=p>:</span> <span class=n>original_scenario</span><span class=p>[</span><span class=s2>&quot;positions&quot;</span><span class=p>][</span><span class=n>position_name</span><span class=p>]},</span>
</span><span id=__span-0-472><a id=__codelineno-0-472 name=__codelineno-0-472></a>                        <span class=s2>&quot;orientations&quot;</span><span class=p>:</span> <span class=p>{</span><span class=n>orientation_name</span><span class=p>:</span> <span class=n>original_scenario</span><span class=p>[</span><span class=s2>&quot;orientations&quot;</span><span class=p>][</span><span class=n>orientation_name</span><span class=p>]},</span>
</span><span id=__span-0-473><a id=__codelineno-0-473 name=__codelineno-0-473></a>                        <span class=s2>&quot;bounding_box&quot;</span><span class=p>:</span> <span class=n>original_scenario</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;bounding_box&quot;</span><span class=p>,</span> <span class=s2>&quot;default&quot;</span><span class=p>),</span>
</span><span id=__span-0-474><a id=__codelineno-0-474 name=__codelineno-0-474></a>                    <span class=p>}</span>
</span><span id=__span-0-475><a id=__codelineno-0-475 name=__codelineno-0-475></a>                <span class=p>}</span>
</span><span id=__span-0-476><a id=__codelineno-0-476 name=__codelineno-0-476></a>
</span><span id=__span-0-477><a id=__codelineno-0-477 name=__codelineno-0-477></a>        <span class=c1># Select the specific phantom definition</span>
</span><span id=__span-0-478><a id=__codelineno-0-478 name=__codelineno-0-478></a>        <span class=n>surgical_config</span><span class=p>[</span><span class=s2>&quot;phantom_definitions&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=n>phantom_name</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_phantom_definition</span><span class=p>(</span><span class=n>phantom_name</span><span class=p>)}</span>
</span><span id=__span-0-479><a id=__codelineno-0-479 name=__codelineno-0-479></a>
</span><span id=__span-0-480><a id=__codelineno-0-480 name=__codelineno-0-480></a>    <span class=k>elif</span> <span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;far_field&quot;</span><span class=p>:</span>
</span><span id=__span-0-481><a id=__codelineno-0-481 name=__codelineno-0-481></a>        <span class=c1># Surgically build the far_field_setup to be robust against future changes</span>
</span><span id=__span-0-482><a id=__codelineno-0-482 name=__codelineno-0-482></a>        <span class=n>original_ff_setup</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;far_field_setup&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-0-483><a id=__codelineno-0-483 name=__codelineno-0-483></a>        <span class=k>if</span> <span class=n>original_ff_setup</span><span class=p>:</span>
</span><span id=__span-0-484><a id=__codelineno-0-484 name=__codelineno-0-484></a>            <span class=n>surgical_config</span><span class=p>[</span><span class=s2>&quot;far_field_setup&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-485><a id=__codelineno-0-485 name=__codelineno-0-485></a>                <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=n>original_ff_setup</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;type&quot;</span><span class=p>),</span>
</span><span id=__span-0-486><a id=__codelineno-0-486 name=__codelineno-0-486></a>                <span class=s2>&quot;environmental&quot;</span><span class=p>:</span> <span class=p>{</span>
</span><span id=__span-0-487><a id=__codelineno-0-487 name=__codelineno-0-487></a>                    <span class=s2>&quot;incident_directions&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>direction_name</span><span class=p>],</span>
</span><span id=__span-0-488><a id=__codelineno-0-488 name=__codelineno-0-488></a>                    <span class=s2>&quot;polarizations&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>polarization_name</span><span class=p>],</span>
</span><span id=__span-0-489><a id=__codelineno-0-489 name=__codelineno-0-489></a>                <span class=p>},</span>
</span><span id=__span-0-490><a id=__codelineno-0-490 name=__codelineno-0-490></a>            <span class=p>}</span>
</span><span id=__span-0-491><a id=__codelineno-0-491 name=__codelineno-0-491></a>        <span class=c1># Also include the specific phantom definition, if it&#39;s not empty</span>
</span><span id=__span-0-492><a id=__codelineno-0-492 name=__codelineno-0-492></a>        <span class=n>phantom_def</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_phantom_definition</span><span class=p>(</span><span class=n>phantom_name</span><span class=p>)</span>
</span><span id=__span-0-493><a id=__codelineno-0-493 name=__codelineno-0-493></a>        <span class=k>if</span> <span class=n>phantom_def</span><span class=p>:</span>
</span><span id=__span-0-494><a id=__codelineno-0-494 name=__codelineno-0-494></a>            <span class=n>surgical_config</span><span class=p>[</span><span class=s2>&quot;phantom_definitions&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=n>phantom_name</span><span class=p>:</span> <span class=n>phantom_def</span><span class=p>}</span>
</span><span id=__span-0-495><a id=__codelineno-0-495 name=__codelineno-0-495></a>
</span><span id=__span-0-496><a id=__codelineno-0-496 name=__codelineno-0-496></a>    <span class=k>return</span> <span class=n>surgical_config</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h3 id=data-management>Data Management<a class=headerlink href=#data-management title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.data_extractor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.data_extractor</span> <a href=#goliat.data_extractor class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.data_extractor-functions>Functions<a href=#goliat.data_extractor-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.data_extractor.get_parameter_from_json class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_parameter_from_json</span> <a href=#goliat.data_extractor.get_parameter_from_json class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_parameter_from_json</span><span class=p>(</span><span class=n>file_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>json_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extracts a nested value from a <abbr title="JavaScript Object Notation">JSON</abbr> file using dot notation.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>file_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path to the <abbr title="JavaScript Object Notation">JSON</abbr> file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>json_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Dot-separated path like 'section.subsection.key'.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The value at the path, or None if not found.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/data_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-6> 6</a></span>
<span class=normal><a href=#__codelineno-0-7> 7</a></span>
<span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span>
<span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span>
<span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=k>def</span><span class=w> </span><span class=nf>get_parameter_from_json</span><span class=p>(</span><span class=n>file_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>json_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extracts a nested value from a JSON file using dot notation.</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8></a>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9></a><span class=sd>    Args:</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10></a><span class=sd>        file_path: Path to the JSON file.</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11></a><span class=sd>        json_path: Dot-separated path like &#39;section.subsection.key&#39;.</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12></a>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13></a><span class=sd>    Returns:</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14></a><span class=sd>        The value at the path, or None if not found.</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>file_path</span><span class=p>):</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>,</span> <span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>            <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a>    <span class=k>except</span> <span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>JSONDecodeError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>):</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=n>keys</span> <span class=o>=</span> <span class=n>json_path</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>)</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>data</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>keys</span><span class=p>:</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>and</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.data_extractor.get_parameter class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_parameter</span> <a href=#goliat.data_extractor.get_parameter class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_parameter</span><span class=p>(</span><span class=n>source_config</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=n>context</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>Any</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Retrieves a parameter from a data source using a config-driven approach.</p> <p>Supports <abbr title="JavaScript Object Notation">JSON</abbr> sources currently. The source_config defines where to look, and context provides values for formatting paths (e.g., project_root).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>source_config</code> </td> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict with 'source_type', 'file_path_template', 'json_path'.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>context</code> </td> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=typing.Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Values for formatting file paths.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The retrieved value, or None on error.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/data_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=k>def</span><span class=w> </span><span class=nf>get_parameter</span><span class=p>(</span><span class=n>source_config</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=n>context</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Retrieves a parameter from a data source using a config-driven approach.</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>    Supports JSON sources currently. The source_config defines where to look,</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>    and context provides values for formatting paths (e.g., project_root).</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>    Args:</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>        source_config: Dict with &#39;source_type&#39;, &#39;file_path_template&#39;, &#39;json_path&#39;.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>        context: Values for formatting file paths.</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=sd>    Returns:</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>        The retrieved value, or None on error.</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=n>source_type</span> <span class=o>=</span> <span class=n>source_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;source_type&quot;</span><span class=p>)</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=k>if</span> <span class=n>source_type</span> <span class=o>==</span> <span class=s2>&quot;json&quot;</span><span class=p>:</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>        <span class=n>file_path_template</span> <span class=o>=</span> <span class=n>source_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;file_path_template&quot;</span><span class=p>)</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>file_path_template</span><span class=p>:</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>            <span class=n>file_path</span> <span class=o>=</span> <span class=n>file_path_template</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=o>**</span><span class=n>context</span><span class=p>)</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>        <span class=k>except</span> <span class=ne>KeyError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>            <span class=kn>import</span><span class=w> </span><span class=nn>logging</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>            <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: Missing context for placeholder in file_path_template: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>        <span class=n>json_path</span> <span class=o>=</span> <span class=n>source_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;json_path&quot;</span><span class=p>)</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>json_path</span><span class=p>:</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=n>project_root</span> <span class=o>=</span> <span class=n>context</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;project_root&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>        <span class=n>full_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>project_root</span><span class=p>,</span> <span class=n>file_path</span><span class=p>)</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>        <span class=k>return</span> <span class=n>get_parameter_from_json</span><span class=p>(</span><span class=n>full_path</span><span class=p>,</span> <span class=n>json_path</span><span class=p>)</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=c1># Future extension for other data source types</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=c1># elif source_type == &#39;simulation&#39;:</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=c1>#     # ... implementation for extracting from simulation results ...</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=c1>#     pass</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>        <span class=kn>import</span><span class=w> </span><span class=nn>logging</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error: Unsupported source type &#39;</span><span class=si>{</span><span class=n>source_type</span><span class=si>}</span><span class=s2>&#39;&quot;</span><span class=p>)</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>        <span class=k>return</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h3 id=logging>Logging<a class=headerlink href=#logging title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.logging_manager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.logging_manager</span> <a href=#goliat.logging_manager class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.logging_manager-classes>Classes<a href=#goliat.logging_manager-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.logging_manager.ColorFormatter class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ColorFormatter</span> <a href=#goliat.logging_manager.ColorFormatter class=headerlink title="Permanent link">&para;</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=logging.Formatter>Formatter</span></code></p> <p>Custom formatter that colorizes log messages based on log_type.</p> <p>Applies colorama color codes to messages and caller info based on the log_type attribute (info, warning, error, success, etc.).</p> <div class="doc doc-children"> <h5 id=goliat.logging_manager.ColorFormatter-functions>Functions<a href=#goliat.logging_manager.ColorFormatter-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.logging_manager.ColorFormatter.format class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">format</span> <a href=#goliat.logging_manager.ColorFormatter.format class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>format</span><span class=p>(</span><span class=n>record</span><span class=p>:</span> <span class=n>LogRecord</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Adds color codes to log messages based on log_type.</p> <details class=quote> <summary>Source code in <code>goliat/logging_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=k>def</span><span class=w> </span><span class=nf>format</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>record</span><span class=p>:</span> <span class=n>logging</span><span class=o>.</span><span class=n>LogRecord</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds color codes to log messages based on log_type.&quot;&quot;&quot;</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=n>log_type</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>record</span><span class=p>,</span> <span class=s2>&quot;log_type&quot;</span><span class=p>,</span> <span class=s2>&quot;default&quot;</span><span class=p>)</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=n>message_color</span> <span class=o>=</span> <span class=n>get_color</span><span class=p>(</span><span class=n>log_type</span><span class=p>)</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=n>caller_color</span> <span class=o>=</span> <span class=n>get_color</span><span class=p>(</span><span class=s2>&quot;caller&quot;</span><span class=p>)</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=n>message</span> <span class=o>=</span> <span class=n>record</span><span class=o>.</span><span class=n>getMessage</span><span class=p>()</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=n>caller_info</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>record</span><span class=p>,</span> <span class=s2>&quot;caller_info&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>message_color</span><span class=si>}{</span><span class=n>message</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>RESET_ALL</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>caller_color</span><span class=si>}{</span><span class=n>caller_info</span><span class=si>}{</span><span class=n>Style</span><span class=o>.</span><span class=n>RESET_ALL</span><span class=si>}</span><span class=s2>&quot;</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=goliat.logging_manager.CustomFormatter class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">CustomFormatter</span> <a href=#goliat.logging_manager.CustomFormatter class=headerlink title="Permanent link">&para;</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=logging.Formatter>Formatter</span></code></p> <p>Formatter that safely handles optional caller_info attribute.</p> <div class="doc doc-children"> <h5 id=goliat.logging_manager.CustomFormatter-functions>Functions<a href=#goliat.logging_manager.CustomFormatter-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.logging_manager.CustomFormatter.format class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">format</span> <a href=#goliat.logging_manager.CustomFormatter.format class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>format</span><span class=p>(</span><span class=n>record</span><span class=p>:</span> <span class=n>LogRecord</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Formats the record, safely handling the 'caller_info' attribute.</p> <details class=quote> <summary>Source code in <code>goliat/logging_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=k>def</span><span class=w> </span><span class=nf>format</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>record</span><span class=p>:</span> <span class=n>logging</span><span class=o>.</span><span class=n>LogRecord</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Formats the record, safely handling the &#39;caller_info&#39; attribute.&quot;&quot;&quot;</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=n>base_message</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>record</span><span class=p>)</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=n>caller_info</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>record</span><span class=p>,</span> <span class=s2>&quot;caller_info&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=k>if</span> <span class=n>caller_info</span><span class=p>:</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>base_message</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>caller_info</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=k>return</span> <span class=n>base_message</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=goliat.logging_manager.LoggingMixin class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">LoggingMixin</span> <a href=#goliat.logging_manager.LoggingMixin class=headerlink title="Permanent link">&para;</a></h4> <div class="doc doc-contents "> <p>A mixin class that provides a standardized logging interface.</p> <p>Provides a <code>_log</code> method that directs messages to the appropriate logger ('progress' or 'verbose') and, if available, to the <abbr title="Graphical User Interface">GUI</abbr>.</p> <div class="doc doc-children"> </div> </div> </div> <h3 id=goliat.logging_manager-functions>Functions<a href=#goliat.logging_manager-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.logging_manager.setup_loggers class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">setup_loggers</span> <a href=#goliat.logging_manager.setup_loggers class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>setup_loggers</span><span class=p>(</span><span class=n>process_id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>logging</span><span class=o>.</span><span class=n>Logger</span><span class=p>,</span> <span class=n>logging</span><span class=o>.</span><span class=n>Logger</span><span class=p>,</span> <span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sets up dual logging system with rotation.</p> <p>Creates 'progress' and 'verbose' loggers with file and console handlers. Rotates old logs when more than 30 exist. Uses lock file for thread-safe rotation.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>process_id</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>Optional ID to make log filenames unique for parallel runs.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=tuple>tuple</span>[<span title=logging.Logger>Logger</span>, <span title=logging.Logger>Logger</span>, <span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>Tuple of (progress_logger, verbose_logger, session_timestamp).</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/logging_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-45> 45</a></span>
<span class=normal><a href=#__codelineno-0-46> 46</a></span>
<span class=normal><a href=#__codelineno-0-47> 47</a></span>
<span class=normal><a href=#__codelineno-0-48> 48</a></span>
<span class=normal><a href=#__codelineno-0-49> 49</a></span>
<span class=normal><a href=#__codelineno-0-50> 50</a></span>
<span class=normal><a href=#__codelineno-0-51> 51</a></span>
<span class=normal><a href=#__codelineno-0-52> 52</a></span>
<span class=normal><a href=#__codelineno-0-53> 53</a></span>
<span class=normal><a href=#__codelineno-0-54> 54</a></span>
<span class=normal><a href=#__codelineno-0-55> 55</a></span>
<span class=normal><a href=#__codelineno-0-56> 56</a></span>
<span class=normal><a href=#__codelineno-0-57> 57</a></span>
<span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=k>def</span><span class=w> </span><span class=nf>setup_loggers</span><span class=p>(</span><span class=n>process_id</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>logging</span><span class=o>.</span><span class=n>Logger</span><span class=p>,</span> <span class=n>logging</span><span class=o>.</span><span class=n>Logger</span><span class=p>,</span> <span class=nb>str</span><span class=p>]:</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up dual logging system with rotation.</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a><span class=sd>    Creates &#39;progress&#39; and &#39;verbose&#39; loggers with file and console handlers.</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a><span class=sd>    Rotates old logs when more than 30 exist. Uses lock file for thread-safe</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a><span class=sd>    rotation.</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=sd>    Args:</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a><span class=sd>        process_id: Optional ID to make log filenames unique for parallel runs.</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=sd>    Returns:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=sd>        Tuple of (progress_logger, verbose_logger, session_timestamp).</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>    <span class=c1># Initialize colorama with appropriate settings for current environment</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>    <span class=n>init_colorama</span><span class=p>()</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=n>log_dir</span> <span class=o>=</span> <span class=s2>&quot;logs&quot;</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>log_dir</span><span class=p>):</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>        <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>log_dir</span><span class=p>)</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=n>session_timestamp</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;</span><span class=si>%d</span><span class=s2>-%m_%H-%M-%S&quot;</span><span class=p>)</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=k>if</span> <span class=n>process_id</span><span class=p>:</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=n>session_timestamp</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>session_timestamp</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>process_id</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=n>lock_file_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>log_dir</span><span class=p>,</span> <span class=s2>&quot;log_rotation.lock&quot;</span><span class=p>)</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>            <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>lock_file_path</span><span class=p>,</span> <span class=s2>&quot;x&quot;</span><span class=p>):</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>                <span class=k>break</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>        <span class=k>except</span> <span class=ne>FileExistsError</span><span class=p>:</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.1</span><span class=p>)</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>        <span class=n>log_files</span> <span class=o>=</span> <span class=p>[</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>log_dir</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span> <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=n>log_dir</span><span class=p>)</span> <span class=k>if</span> <span class=n>f</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>&quot;.log&quot;</span><span class=p>)]</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>        <span class=n>log_files</span><span class=o>.</span><span class=n>sort</span><span class=p>(</span><span class=n>key</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>getctime</span><span class=p>)</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>        <span class=k>while</span> <span class=nb>len</span><span class=p>(</span><span class=n>log_files</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=mi>30</span><span class=p>:</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>                <span class=n>old_log</span> <span class=o>=</span> <span class=n>log_files</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>                <span class=n>base</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=n>old_log</span><span class=p>)</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>                <span class=n>progress_log</span> <span class=o>=</span> <span class=n>base</span> <span class=o>+</span> <span class=s2>&quot;.progress.log&quot;</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>                <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>old_log</span><span class=p>):</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>                    <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>old_log</span><span class=p>)</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>                <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>progress_log</span><span class=p>):</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>                    <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>progress_log</span><span class=p>)</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>            <span class=k>except</span> <span class=ne>OSError</span><span class=p>:</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>                <span class=k>pass</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>    <span class=k>finally</span><span class=p>:</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>        <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>lock_file_path</span><span class=p>):</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>            <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>lock_file_path</span><span class=p>)</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>    <span class=n>progress_log_filename</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>log_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>session_timestamp</span><span class=si>}</span><span class=s2>.progress.log&quot;</span><span class=p>)</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>    <span class=n>main_log_filename</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>log_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>session_timestamp</span><span class=si>}</span><span class=s2>.log&quot;</span><span class=p>)</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>    <span class=n>file_formatter</span> <span class=o>=</span> <span class=n>CustomFormatter</span><span class=p>(</span><span class=s2>&quot;</span><span class=si>%(asctime)s</span><span class=s2> - </span><span class=si>%(levelname)s</span><span class=s2> - </span><span class=si>%(message)s</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>    <span class=n>console_formatter</span> <span class=o>=</span> <span class=n>ColorFormatter</span><span class=p>()</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=n>main_file_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>FileHandler</span><span class=p>(</span><span class=n>main_log_filename</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&quot;a&quot;</span><span class=p>)</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>    <span class=n>main_file_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>file_formatter</span><span class=p>)</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>    <span class=n>progress_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>    <span class=n>progress_logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>    <span class=k>for</span> <span class=n>handler</span> <span class=ow>in</span> <span class=n>progress_logger</span><span class=o>.</span><span class=n>handlers</span><span class=p>[:]:</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>        <span class=n>progress_logger</span><span class=o>.</span><span class=n>removeHandler</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=n>progress_file_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>FileHandler</span><span class=p>(</span><span class=n>progress_log_filename</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&quot;a&quot;</span><span class=p>)</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>    <span class=n>progress_file_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>file_formatter</span><span class=p>)</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=n>progress_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>progress_file_handler</span><span class=p>)</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>    <span class=n>progress_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>main_file_handler</span><span class=p>)</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>    <span class=n>progress_stream_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>StreamHandler</span><span class=p>()</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>    <span class=n>progress_stream_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>console_formatter</span><span class=p>)</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>    <span class=n>progress_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>progress_stream_handler</span><span class=p>)</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>    <span class=n>progress_logger</span><span class=o>.</span><span class=n>propagate</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>    <span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>    <span class=n>verbose_logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a>    <span class=k>for</span> <span class=n>handler</span> <span class=ow>in</span> <span class=n>verbose_logger</span><span class=o>.</span><span class=n>handlers</span><span class=p>[:]:</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>        <span class=n>verbose_logger</span><span class=o>.</span><span class=n>removeHandler</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>    <span class=n>verbose_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>main_file_handler</span><span class=p>)</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>    <span class=n>verbose_stream_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>StreamHandler</span><span class=p>()</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>    <span class=n>verbose_stream_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>console_formatter</span><span class=p>)</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>    <span class=n>verbose_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>verbose_stream_handler</span><span class=p>)</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>    <span class=n>verbose_logger</span><span class=o>.</span><span class=n>propagate</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>    <span class=n>progress_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;--- Progress logging started for file: </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>progress_log_filename</span><span class=p>)</span><span class=si>}</span><span class=s2> ---&quot;</span><span class=p>)</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>    <span class=n>verbose_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;--- Main logging started for file: </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>main_log_filename</span><span class=p>)</span><span class=si>}</span><span class=s2> ---&quot;</span><span class=p>)</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>    <span class=k>return</span> <span class=n>progress_logger</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>,</span> <span class=n>session_timestamp</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.logging_manager.shutdown_loggers class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">shutdown_loggers</span> <a href=#goliat.logging_manager.shutdown_loggers class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>shutdown_loggers</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Safely shuts down all logging handlers to release file locks.</p> <details class=quote> <summary>Source code in <code>goliat/logging_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a><span class=k>def</span><span class=w> </span><span class=nf>shutdown_loggers</span><span class=p>():</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Safely shuts down all logging handlers to release file locks.&quot;&quot;&quot;</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>    <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=s2>&quot;verbose&quot;</span><span class=p>]:</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>        <span class=n>logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>        <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;--- Logging shutdown ---&quot;</span><span class=p>)</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>        <span class=k>for</span> <span class=n>handler</span> <span class=ow>in</span> <span class=n>logger</span><span class=o>.</span><span class=n>handlers</span><span class=p>[:]:</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>            <span class=n>handler</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>            <span class=n>logger</span><span class=o>.</span><span class=n>removeHandler</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.logging_manager.add_simulation_log_handlers class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">add_simulation_log_handlers</span> <a href=#goliat.logging_manager.add_simulation_log_handlers class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>add_simulation_log_handlers</span><span class=p>(</span><span class=n>simulation_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=n>logging</span><span class=o>.</span><span class=n>Handler</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Adds file handlers for progress and verbose logs to a simulation-specific directory.</p> <p>Creates log files in the simulation directory while keeping the main logs/ directory handlers intact. Both progress and verbose logs are written to the simulation directory.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>simulation_dir</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Directory path where simulation-specific logs should be written.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=list>list</span>[<span title=logging.Handler>Handler</span>]</code> </td> <td> <div class=doc-md-description> <p>List of handlers that were added (for later removal via remove_simulation_log_handlers).</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/logging_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a><span class=k>def</span><span class=w> </span><span class=nf>add_simulation_log_handlers</span><span class=p>(</span><span class=n>simulation_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=n>logging</span><span class=o>.</span><span class=n>Handler</span><span class=p>]:</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds file handlers for progress and verbose logs to a simulation-specific directory.</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a><span class=sd>    Creates log files in the simulation directory while keeping the main logs/ directory</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a><span class=sd>    handlers intact. Both progress and verbose logs are written to the simulation directory.</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a><span class=sd>    Args:</span>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a><span class=sd>        simulation_dir: Directory path where simulation-specific logs should be written.</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a><span class=sd>    Returns:</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a><span class=sd>        List of handlers that were added (for later removal via remove_simulation_log_handlers).</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>simulation_dir</span><span class=p>):</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>        <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>simulation_dir</span><span class=p>)</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a>    <span class=n>file_formatter</span> <span class=o>=</span> <span class=n>CustomFormatter</span><span class=p>(</span><span class=s2>&quot;</span><span class=si>%(asctime)s</span><span class=s2> - </span><span class=si>%(levelname)s</span><span class=s2> - </span><span class=si>%(message)s</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>    <span class=c1># Create log file paths in the simulation directory</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>    <span class=n>progress_log_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>simulation_dir</span><span class=p>,</span> <span class=s2>&quot;progress.log&quot;</span><span class=p>)</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>    <span class=n>verbose_log_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>simulation_dir</span><span class=p>,</span> <span class=s2>&quot;verbose.log&quot;</span><span class=p>)</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>    <span class=c1># Create handlers</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a>    <span class=n>progress_file_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>FileHandler</span><span class=p>(</span><span class=n>progress_log_path</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&quot;a&quot;</span><span class=p>)</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>    <span class=n>progress_file_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>file_formatter</span><span class=p>)</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a>    <span class=n>progress_file_handler</span><span class=o>.</span><span class=n>_is_simulation_handler</span> <span class=o>=</span> <span class=kc>True</span>  <span class=c1># Mark for later removal</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a>    <span class=n>verbose_file_handler</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>FileHandler</span><span class=p>(</span><span class=n>verbose_log_path</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&quot;a&quot;</span><span class=p>)</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>    <span class=n>verbose_file_handler</span><span class=o>.</span><span class=n>setFormatter</span><span class=p>(</span><span class=n>file_formatter</span><span class=p>)</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>    <span class=n>verbose_file_handler</span><span class=o>.</span><span class=n>_is_simulation_handler</span> <span class=o>=</span> <span class=kc>True</span>  <span class=c1># Mark for later removal</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a>    <span class=c1># Add handlers to loggers</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a>    <span class=n>progress_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a>    <span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183></a>    <span class=n>progress_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>progress_file_handler</span><span class=p>)</span>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a>    <span class=n>verbose_logger</span><span class=o>.</span><span class=n>addHandler</span><span class=p>(</span><span class=n>verbose_file_handler</span><span class=p>)</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a>    <span class=c1># Log that simulation-specific logging has started</span>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a>    <span class=n>progress_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;--- Simulation-specific progress logging started: </span><span class=si>{</span><span class=n>progress_log_path</span><span class=si>}</span><span class=s2> ---&quot;</span><span class=p>)</span>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a>    <span class=n>verbose_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;--- Simulation-specific verbose logging started: </span><span class=si>{</span><span class=n>verbose_log_path</span><span class=si>}</span><span class=s2> ---&quot;</span><span class=p>)</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a>    <span class=k>return</span> <span class=p>[</span><span class=n>progress_file_handler</span><span class=p>,</span> <span class=n>verbose_file_handler</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.logging_manager.remove_simulation_log_handlers class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">remove_simulation_log_handlers</span> <a href=#goliat.logging_manager.remove_simulation_log_handlers class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>remove_simulation_log_handlers</span><span class=p>(</span><span class=n>handlers</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Handler</span><span class=p>])</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Removes simulation-specific log handlers and closes their files.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>handlers</code> </td> <td> <code><span title=list>list</span>[<span title=logging.Handler>Handler</span>]</code> </td> <td> <div class=doc-md-description> <p>List of handlers to remove (typically returned from add_simulation_log_handlers).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/logging_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a><span class=k>def</span><span class=w> </span><span class=nf>remove_simulation_log_handlers</span><span class=p>(</span><span class=n>handlers</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>logging</span><span class=o>.</span><span class=n>Handler</span><span class=p>]):</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Removes simulation-specific log handlers and closes their files.</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a><span class=sd>    Args:</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a><span class=sd>        handlers: List of handlers to remove (typically returned from add_simulation_log_handlers).</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a>    <span class=k>for</span> <span class=n>handler</span> <span class=ow>in</span> <span class=n>handlers</span><span class=p>:</span>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a>        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>handler</span><span class=p>,</span> <span class=s1>&#39;_is_simulation_handler&#39;</span><span class=p>)</span> <span class=ow>and</span> <span class=n>handler</span><span class=o>.</span><span class=n>_is_simulation_handler</span><span class=p>:</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a>            <span class=c1># Find and remove from appropriate logger</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>            <span class=n>progress_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>            <span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>            <span class=k>if</span> <span class=n>handler</span> <span class=ow>in</span> <span class=n>progress_logger</span><span class=o>.</span><span class=n>handlers</span><span class=p>:</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>                <span class=n>progress_logger</span><span class=o>.</span><span class=n>removeHandler</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>            <span class=k>if</span> <span class=n>handler</span> <span class=ow>in</span> <span class=n>verbose_logger</span><span class=o>.</span><span class=n>handlers</span><span class=p>:</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>                <span class=n>verbose_logger</span><span class=o>.</span><span class=n>removeHandler</span><span class=p>(</span><span class=n>handler</span><span class=p>)</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a>            <span class=n>handler</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h3 id=profiling>Profiling<a class=headerlink href=#profiling title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h2 id=goliat.profiler.Profiler class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">goliat.profiler.Profiler</span> <a href=#goliat.profiler.Profiler class=headerlink title="Permanent link">&para;</a></h2> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Profiler</span><span class=p>(</span><span class=n>execution_control</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>profiling_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>config_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents first"> <p>Manages execution time tracking, <abbr title="Estimated Time of Arrival">ETA</abbr> estimation, and study phase management.</p> <p>This class divides a study into phases (setup, run, extract), calculates weighted progress, and estimates the time remaining. It also saves updated time estimates to a configuration file after each run, making it self-improving.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>execution_control</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict indicating which phases are enabled.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>profiling_config</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Historical timing data for estimates.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>study_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Study type ('near_field' or 'far_field').</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path where profiling config is saved.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>    <span class=n>execution_control</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a>    <span class=n>profiling_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>    <span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>    <span class=n>config_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=p>):</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the profiler with phase tracking and ETA estimation.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    Args:</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>        execution_control: Dict indicating which phases are enabled.</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=sd>        profiling_config: Historical timing data for estimates.</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a><span class=sd>        study_type: Study type (&#39;near_field&#39; or &#39;far_field&#39;).</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=sd>        config_path: Path where profiling config is saved.</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=bp>self</span><span class=o>.</span><span class=n>execution_control</span> <span class=o>=</span> <span class=n>execution_control</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span> <span class=o>=</span> <span class=n>profiling_config</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span> <span class=o>=</span> <span class=n>study_type</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_path</span> <span class=o>=</span> <span class=n>config_path</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phase_weights</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_calculate_phase_weights</span><span class=p>()</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=bp>self</span><span class=o>.</span><span class=n>subtask_times</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>subtask_stack</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=bp>self</span><span class=o>.</span><span class=n>completed_simulations</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_projects</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>current_project</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=bp>self</span><span class=o>.</span><span class=n>completed_phases</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>current_phase</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phase_start_time</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=bp>self</span><span class=o>.</span><span class=n>run_phase_total_duration</span> <span class=o>=</span> <span class=mi>0</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h3 id=goliat.profiler.Profiler-functions>Functions<a href=#goliat.profiler.Profiler-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.set_total_simulations class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">set_total_simulations</span> <a href=#goliat.profiler.Profiler.set_total_simulations class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>set_total_simulations</span><span class=p>(</span><span class=n>total</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sets total simulation count for progress tracking.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a><span class=k>def</span><span class=w> </span><span class=nf>set_total_simulations</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>total</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets total simulation count for progress tracking.&quot;&quot;&quot;</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span> <span class=o>=</span> <span class=n>total</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.set_project_scope class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">set_project_scope</span> <a href=#goliat.profiler.Profiler.set_project_scope class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>set_project_scope</span><span class=p>(</span><span class=n>total_projects</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sets total project count for progress tracking.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=k>def</span><span class=w> </span><span class=nf>set_project_scope</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>total_projects</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets total project count for progress tracking.&quot;&quot;&quot;</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_projects</span> <span class=o>=</span> <span class=n>total_projects</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.set_current_project class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">set_current_project</span> <a href=#goliat.profiler.Profiler.set_current_project class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>set_current_project</span><span class=p>(</span><span class=n>project_index</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sets the current project index.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=k>def</span><span class=w> </span><span class=nf>set_current_project</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>project_index</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets the current project index.&quot;&quot;&quot;</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>    <span class=bp>self</span><span class=o>.</span><span class=n>current_project</span> <span class=o>=</span> <span class=n>project_index</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.simulation_completed class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">simulation_completed</span> <a href=#goliat.profiler.Profiler.simulation_completed class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>simulation_completed</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Marks one simulation as completed.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-85>85</a></span>
<span class=normal><a href=#__codelineno-0-86>86</a></span>
<span class=normal><a href=#__codelineno-0-87>87</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a><span class=k>def</span><span class=w> </span><span class=nf>simulation_completed</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Marks one simulation as completed.&quot;&quot;&quot;</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>    <span class=bp>self</span><span class=o>.</span><span class=n>completed_simulations</span> <span class=o>+=</span> <span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.start_stage class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">start_stage</span> <a href=#goliat.profiler.Profiler.start_stage class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>start_stage</span><span class=p>(</span><span class=n>phase_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>total_stages</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>1</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Starts tracking a new phase (setup/run/extract).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>phase_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Phase name like 'setup', 'run', or 'extract'.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>total_stages</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Number of stages within this phase.</p> </div> </td> <td> <code>1</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-89>89</a></span>
<span class=normal><a href=#__codelineno-0-90>90</a></span>
<span class=normal><a href=#__codelineno-0-91>91</a></span>
<span class=normal><a href=#__codelineno-0-92>92</a></span>
<span class=normal><a href=#__codelineno-0-93>93</a></span>
<span class=normal><a href=#__codelineno-0-94>94</a></span>
<span class=normal><a href=#__codelineno-0-95>95</a></span>
<span class=normal><a href=#__codelineno-0-96>96</a></span>
<span class=normal><a href=#__codelineno-0-97>97</a></span>
<span class=normal><a href=#__codelineno-0-98>98</a></span>
<span class=normal><a href=#__codelineno-0-99>99</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a><span class=k>def</span><span class=w> </span><span class=nf>start_stage</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>phase_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>total_stages</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>1</span><span class=p>):</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Starts tracking a new phase (setup/run/extract).</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a><span class=sd>    Args:</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a><span class=sd>        phase_name: Phase name like &#39;setup&#39;, &#39;run&#39;, or &#39;extract&#39;.</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a><span class=sd>        total_stages: Number of stages within this phase.</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>    <span class=bp>self</span><span class=o>.</span><span class=n>current_phase</span> <span class=o>=</span> <span class=n>phase_name</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phase_start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>    <span class=bp>self</span><span class=o>.</span><span class=n>completed_stages_in_phase</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_stages_in_phase</span> <span class=o>=</span> <span class=n>total_stages</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.end_stage class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">end_stage</span> <a href=#goliat.profiler.Profiler.end_stage class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>end_stage</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Ends current phase and records its duration for future estimates.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a><span class=k>def</span><span class=w> </span><span class=nf>end_stage</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Ends current phase and records its duration for future estimates.&quot;&quot;&quot;</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>phase_start_time</span><span class=p>:</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>phase_start_time</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=p>[</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>current_phase</span><span class=si>}</span><span class=s2>_time&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>elapsed</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>    <span class=bp>self</span><span class=o>.</span><span class=n>current_phase</span> <span class=o>=</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.complete_run_phase class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">complete_run_phase</span> <a href=#goliat.profiler.Profiler.complete_run_phase class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>complete_run_phase</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Stores the total duration of the 'run' phase from its subtasks.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a><span class=k>def</span><span class=w> </span><span class=nf>complete_run_phase</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Stores the total duration of the &#39;run&#39; phase from its subtasks.&quot;&quot;&quot;</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=bp>self</span><span class=o>.</span><span class=n>run_phase_total_duration</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>subtask_times</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;run_simulation_total&quot;</span><span class=p>,</span> <span class=p>[</span><span class=mi>0</span><span class=p>]))</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.get_weighted_progress class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_weighted_progress</span> <a href=#goliat.profiler.Profiler.get_weighted_progress class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_weighted_progress</span><span class=p>(</span><span class=n>phase_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>phase_progress_ratio</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Calculates overall study progress using phase weights and simulation count.</p> <p>This method handles the complexity that different phases (setup, run, extract) take different amounts of time. For example, if setup takes 10 minutes, run takes 2 hours, and extract takes 5 minutes, then the run phase should account for roughly 85% of the progress bar, not 33%.</p> <p>The calculation works in two parts: 1. Progress within current simulation: Sums weights of completed phases, plus partial weight for the current phase based on its progress ratio. 2. Overall progress: Divides (completed_simulations + current_sim_progress) by total_simulations to get the overall percentage.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>phase_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the current phase ('setup', 'run', or 'extract').</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>phase_progress_ratio</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Progress within current phase (0.0 = not started, 1.0 = fully complete).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Overall progress percentage (0.0 to 100.0).</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a><span class=k>def</span><span class=w> </span><span class=nf>get_weighted_progress</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>phase_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>phase_progress_ratio</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculates overall study progress using phase weights and simulation count.</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a><span class=sd>    This method handles the complexity that different phases (setup, run, extract)</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a><span class=sd>    take different amounts of time. For example, if setup takes 10 minutes, run takes</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a><span class=sd>    2 hours, and extract takes 5 minutes, then the run phase should account for</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a><span class=sd>    roughly 85% of the progress bar, not 33%.</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a><span class=sd>    The calculation works in two parts:</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a><span class=sd>    1. Progress within current simulation: Sums weights of completed phases,</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a><span class=sd>       plus partial weight for the current phase based on its progress ratio.</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a><span class=sd>    2. Overall progress: Divides (completed_simulations + current_sim_progress)</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a><span class=sd>       by total_simulations to get the overall percentage.</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a><span class=sd>    Args:</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a><span class=sd>        phase_name: The name of the current phase (&#39;setup&#39;, &#39;run&#39;, or &#39;extract&#39;).</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a><span class=sd>        phase_progress_ratio: Progress within current phase (0.0 = not started,</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a><span class=sd>                             1.0 = fully complete).</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a><span class=sd>    Returns:</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a><span class=sd>        Overall progress percentage (0.0 to 100.0).</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>        <span class=k>return</span> <span class=mf>0.0</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>    <span class=c1># Progress within the current simulation</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>    <span class=n>progress_current_sim</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>    <span class=k>for</span> <span class=n>p</span><span class=p>,</span> <span class=n>w</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>phase_weights</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>        <span class=k>if</span> <span class=n>p</span> <span class=o>==</span> <span class=n>phase_name</span><span class=p>:</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>            <span class=n>progress_current_sim</span> <span class=o>+=</span> <span class=n>w</span> <span class=o>*</span> <span class=n>phase_progress_ratio</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>            <span class=k>break</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>        <span class=n>progress_current_sim</span> <span class=o>+=</span> <span class=n>w</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>    <span class=c1># Overall progress</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>    <span class=n>overall_progress</span> <span class=o>=</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>completed_simulations</span> <span class=o>+</span> <span class=n>progress_current_sim</span><span class=p>)</span> <span class=o>/</span> <span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>    <span class=c1># print(f&quot;DEBUG: get_weighted_progress: phase={phase_name}, ratio={phase_progress_ratio:.2f}, completed={self.completed_simulations}, total={self.total_simulations}, progress={overall_progress * 100:.1f}%&quot;)</span>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>    <span class=k>return</span> <span class=n>overall_progress</span> <span class=o>*</span> <span class=mi>100</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.get_subtask_estimate class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_subtask_estimate</span> <a href=#goliat.profiler.Profiler.get_subtask_estimate class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_subtask_estimate</span><span class=p>(</span><span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Retrieves the estimated time for a specific subtask. Args: task_name: The name of the subtask. Returns: The estimated duration in seconds.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a><span class=k>def</span><span class=w> </span><span class=nf>get_subtask_estimate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Retrieves the estimated time for a specific subtask.</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a><span class=sd>    Args:</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a><span class=sd>        task_name: The name of the subtask.</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a><span class=sd>    Returns:</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a><span class=sd>        The estimated duration in seconds.</span>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>task_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.get_phase_subtasks class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_phase_subtasks</span> <a href=#goliat.profiler.Profiler.get_phase_subtasks class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_phase_subtasks</span><span class=p>(</span><span class=n>phase_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets a list of subtasks for a given phase. Args: phase_name: The name of the phase. Returns: A list of subtask names.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a><span class=k>def</span><span class=w> </span><span class=nf>get_phase_subtasks</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>phase_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets a list of subtasks for a given phase.</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a><span class=sd>    Args:</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a><span class=sd>        phase_name: The name of the phase.</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a><span class=sd>    Returns:</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a><span class=sd>        A list of subtask names.</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>    <span class=n>subtasks</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>    <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>        <span class=k>if</span> <span class=n>key</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>phase_name</span><span class=si>}</span><span class=s2>_&quot;</span><span class=p>):</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>            <span class=n>subtasks</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>key</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;avg_&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>))</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>    <span class=k>return</span> <span class=n>subtasks</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.get_time_remaining class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_time_remaining</span> <a href=#goliat.profiler.Profiler.get_time_remaining class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_time_remaining</span><span class=p>(</span><span class=n>current_stage_progress</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.0</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Estimates total time remaining for the entire study.</p> <p>Uses historical timing data to predict how long each phase will take, then calculates remaining time by subtracting elapsed time from total estimated time. This gives a realistic <abbr title="Estimated Time of Arrival">ETA</abbr> that accounts for the fact that different phases take different amounts of time.</p> <p>The calculation considers: - Time already spent on fully completed simulations - Time spent on phases within the current simulation that are done - Estimated time remaining in the current phase (based on progress ratio) - Estimated time for all future simulations</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>current_stage_progress</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Progress within current stage (0.0 to 1.0).</p> </div> </td> <td> <code>0.0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Estimated time remaining in seconds.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a><span class=k>def</span><span class=w> </span><span class=nf>get_time_remaining</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>current_stage_progress</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.0</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Estimates total time remaining for the entire study.</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a><span class=sd>    Uses historical timing data to predict how long each phase will take,</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a><span class=sd>    then calculates remaining time by subtracting elapsed time from total</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a><span class=sd>    estimated time. This gives a realistic ETA that accounts for the fact</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a><span class=sd>    that different phases take different amounts of time.</span>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a><span class=sd>    The calculation considers:</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a><span class=sd>    - Time already spent on fully completed simulations</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a><span class=sd>    - Time spent on phases within the current simulation that are done</span>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183></a><span class=sd>    - Estimated time remaining in the current phase (based on progress ratio)</span>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a><span class=sd>    - Estimated time for all future simulations</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a><span class=sd>    Args:</span>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a><span class=sd>        current_stage_progress: Progress within current stage (0.0 to 1.0).</span>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a><span class=sd>    Returns:</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a><span class=sd>        Estimated time remaining in seconds.</span>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>current_phase</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a>        <span class=k>return</span> <span class=mf>0.0</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a>    <span class=c1># Calculate the total estimated time for one simulation</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a>    <span class=n>total_time_per_sim</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a>    <span class=k>for</span> <span class=n>phase</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;setup&quot;</span><span class=p>,</span> <span class=s2>&quot;run&quot;</span><span class=p>,</span> <span class=s2>&quot;extract&quot;</span><span class=p>]:</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>execution_control</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;do_</span><span class=si>{</span><span class=n>phase</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a>            <span class=n>total_time_per_sim</span> <span class=o>+=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>phase</span><span class=si>}</span><span class=s2>_time&quot;</span><span class=p>,</span> <span class=mi>60</span><span class=p>)</span>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a>    <span class=c1># Calculate the time already spent on completed simulations</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>    <span class=n>time_for_completed_sims</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>completed_simulations</span> <span class=o>*</span> <span class=n>total_time_per_sim</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>    <span class=c1># Calculate the time spent on the current simulation so far</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>    <span class=n>time_spent_on_current_sim</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>    <span class=n>ordered_phases</span> <span class=o>=</span> <span class=p>[</span><span class=n>p</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;setup&quot;</span><span class=p>,</span> <span class=s2>&quot;run&quot;</span><span class=p>,</span> <span class=s2>&quot;extract&quot;</span><span class=p>]</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>execution_control</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;do_</span><span class=si>{</span><span class=n>p</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)]</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>        <span class=n>current_phase_index</span> <span class=o>=</span> <span class=n>ordered_phases</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>current_phase</span><span class=p>)</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a>    <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a>        <span class=n>current_phase_index</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>current_phase_index</span><span class=p>):</span>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a>        <span class=n>phase</span> <span class=o>=</span> <span class=n>ordered_phases</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a>        <span class=n>time_spent_on_current_sim</span> <span class=o>+=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>phase</span><span class=si>}</span><span class=s2>_time&quot;</span><span class=p>,</span> <span class=mi>60</span><span class=p>)</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>    <span class=n>current_phase_time</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>current_phase</span><span class=si>}</span><span class=s2>_time&quot;</span><span class=p>,</span> <span class=mi>60</span><span class=p>)</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>    <span class=n>time_spent_on_current_sim</span> <span class=o>+=</span> <span class=n>current_phase_time</span> <span class=o>*</span> <span class=n>current_stage_progress</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>    <span class=c1># Time elapsed in the current phase</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>phase_start_time</span><span class=p>:</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>        <span class=n>time_spent_on_current_sim</span> <span class=o>+=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>phase_start_time</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>    <span class=c1># Total time elapsed is the sum of time for completed sims and time spent on the current one</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a>    <span class=n>total_elapsed_time</span> <span class=o>=</span> <span class=n>time_for_completed_sims</span> <span class=o>+</span> <span class=n>time_spent_on_current_sim</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a>    <span class=c1># Total estimated time for all simulations</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a>    <span class=n>total_estimated_time</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span> <span class=o>*</span> <span class=n>total_time_per_sim</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a>    <span class=c1># Estimated time remaining</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a>    <span class=n>eta</span> <span class=o>=</span> <span class=n>total_estimated_time</span> <span class=o>-</span> <span class=n>total_elapsed_time</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a>    <span class=k>return</span> <span class=nb>max</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>eta</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.subtask class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">subtask</span> <a href=#goliat.profiler.Profiler.subtask class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>subtask</span><span class=p>(</span><span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>A context manager to time a subtask.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a><span class=nd>@contextlib</span><span class=o>.</span><span class=n>contextmanager</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a><span class=k>def</span><span class=w> </span><span class=nf>subtask</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;A context manager to time a subtask.&quot;&quot;&quot;</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a>    <span class=bp>self</span><span class=o>.</span><span class=n>subtask_stack</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>task_name</span><span class=p>,</span> <span class=s2>&quot;start_time&quot;</span><span class=p>:</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()})</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a>        <span class=k>yield</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a>    <span class=k>finally</span><span class=p>:</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a>        <span class=n>subtask</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>subtask_stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span> <span class=o>-</span> <span class=n>subtask</span><span class=p>[</span><span class=s2>&quot;start_time&quot;</span><span class=p>]</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a>        <span class=bp>self</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=n>subtask</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>elapsed</span><span class=p>)</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a>        <span class=bp>self</span><span class=o>.</span><span class=n>update_and_save_estimates</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.update_and_save_estimates class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_and_save_estimates</span> <a href=#goliat.profiler.Profiler.update_and_save_estimates class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_and_save_estimates</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates the profiling configuration with the latest average times and saves it.</p> <p>This makes the profiler's estimates self-improving over time.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span>
<span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a><span class=k>def</span><span class=w> </span><span class=nf>update_and_save_estimates</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates the profiling configuration with the latest average times and saves it.</span>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a><span class=sd>    This makes the profiler&#39;s estimates self-improving over time.</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config_path</span><span class=p>,</span> <span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a>            <span class=n>full_config</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a>    <span class=k>except</span> <span class=p>(</span><span class=ne>FileNotFoundError</span><span class=p>,</span> <span class=n>json</span><span class=o>.</span><span class=n>JSONDecodeError</span><span class=p>):</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a>        <span class=n>full_config</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>full_config</span><span class=p>:</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a>        <span class=n>full_config</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a>        <span class=k>if</span> <span class=n>key</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;avg_&quot;</span><span class=p>):</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a>            <span class=n>full_config</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>][</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=nb>round</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a>    <span class=k>for</span> <span class=n>task_name</span><span class=p>,</span> <span class=n>times</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>subtask_times</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a>        <span class=k>if</span> <span class=n>times</span><span class=p>:</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a>            <span class=n>avg_task_time</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>times</span><span class=p>)</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>times</span><span class=p>)</span>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a>            <span class=n>avg_key</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>task_name</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a>            <span class=n>full_config</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>][</span><span class=n>avg_key</span><span class=p>]</span> <span class=o>=</span> <span class=nb>round</span><span class=p>(</span><span class=n>avg_task_time</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a>            <span class=c1># Also update the in-memory profiling_config so it&#39;s available when sent to GUI</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a>            <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=p>[</span><span class=n>avg_key</span><span class=p>]</span> <span class=o>=</span> <span class=nb>round</span><span class=p>(</span><span class=n>avg_task_time</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config_path</span><span class=p>,</span> <span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a>        <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>full_config</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.profiler.Profiler.save_estimates class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">save_estimates</span> <a href=#goliat.profiler.Profiler.save_estimates class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>save_estimates</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Saves the final profiling estimates at the end of the study.</p> <details class=quote> <summary>Source code in <code>goliat/profiler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a><span class=k>def</span><span class=w> </span><span class=nf>save_estimates</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Saves the final profiling estimates at the end of the study.&quot;&quot;&quot;</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>    <span class=bp>self</span><span class=o>.</span><span class=n>update_and_save_estimates</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h3 id=project-management>Project Management<a class=headerlink href=#project-management title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.project_manager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.project_manager</span> <a href=#goliat.project_manager class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.project_manager-classes>Classes<a href=#goliat.project_manager-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.project_manager.ProjectCorruptionError class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ProjectCorruptionError</span> <a href=#goliat.project_manager.ProjectCorruptionError class=headerlink title="Permanent link">&para;</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=Exception>Exception</span></code></p> <p>Raised when a project file is corrupted, locked, or inaccessible.</p> </div> </div> <div class="doc doc-object doc-class"> <h4 id=goliat.project_manager.ProjectManager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ProjectManager</span> <a href=#goliat.project_manager.ProjectManager class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>ProjectManager</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>gui</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>QueueGUI</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.logging_manager.LoggingMixin</code>" href=#goliat.logging_manager.LoggingMixin>LoggingMixin</a></code></p> <p>Manages the lifecycle of Sim4Life (.smash) project files.</p> <p>Handles creation, opening, saving, and validation of project files, ensuring robustness against file corruption and locks.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.config.Config</code>" href=#goliat.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>The main configuration object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>verbose_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for detailed output.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>progress_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for high-level progress updates.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>gui</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<a class="autorefs autorefs-internal" title="<code>goliat.gui_manager.QueueGUI</code>" href=#goliat.gui.queue_gui.QueueGUI>QueueGUI</a>]</code> </td> <td> <div class=doc-md-description> <p>The <abbr title="Graphical User Interface">GUI</abbr> proxy for inter-process communication.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>no_cache</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If True, bypasses metadata verification.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=n>gui</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s2>&quot;QueueGUI&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=p>):</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initializes the ProjectManager.</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>    Args:</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>        config: The main configuration object.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>        verbose_logger: Logger for detailed output.</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=sd>        progress_logger: Logger for high-level progress updates.</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=sd>        gui: The GUI proxy for inter-process communication.</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>        no_cache: If True, bypasses metadata verification.</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>verbose_logger</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span> <span class=o>=</span> <span class=n>progress_logger</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=o>=</span> <span class=n>gui</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=bp>self</span><span class=o>.</span><span class=n>no_cache</span> <span class=o>=</span> <span class=n>no_cache</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.document</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>document</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=bp>self</span><span class=o>.</span><span class=n>execution_control</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;execution_control&quot;</span><span class=p>,</span> <span class=p>{</span><span class=s2>&quot;do_setup&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;do_run&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;do_extract&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>})</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.project_manager.ProjectManager-functions>Functions<a href=#goliat.project_manager.ProjectManager-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.write_simulation_metadata class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">write_simulation_metadata</span> <a href=#goliat.project_manager.ProjectManager.write_simulation_metadata class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>write_simulation_metadata</span><span class=p>(</span><span class=n>meta_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>surgical_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Writes config metadata and hash to disk for verification/resume.</p> <p>Creates a metadata file that tracks the config hash and completion status of each phase (setup/run/extract). Used by the verify-and-resume feature.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>meta_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Full path where metadata should be saved.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>surgical_config</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>The minimal config snapshot for this simulation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span>
<span class=normal><a href=#__codelineno-0-85>85</a></span>
<span class=normal><a href=#__codelineno-0-86>86</a></span>
<span class=normal><a href=#__codelineno-0-87>87</a></span>
<span class=normal><a href=#__codelineno-0-88>88</a></span>
<span class=normal><a href=#__codelineno-0-89>89</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a><span class=k>def</span><span class=w> </span><span class=nf>write_simulation_metadata</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>meta_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>surgical_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Writes config metadata and hash to disk for verification/resume.</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a><span class=sd>    Creates a metadata file that tracks the config hash and completion status</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a><span class=sd>    of each phase (setup/run/extract). Used by the verify-and-resume feature.</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a><span class=sd>    Args:</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a><span class=sd>        meta_path: Full path where metadata should be saved.</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=sd>        surgical_config: The minimal config snapshot for this simulation.</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=n>config_hash</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_generate_config_hash</span><span class=p>(</span><span class=n>surgical_config</span><span class=p>)</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=n>metadata</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>        <span class=s2>&quot;config_hash&quot;</span><span class=p>:</span> <span class=n>config_hash</span><span class=p>,</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>        <span class=s2>&quot;config_snapshot&quot;</span><span class=p>:</span> <span class=n>surgical_config</span><span class=p>,</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>        <span class=s2>&quot;setup_timestamp&quot;</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>isoformat</span><span class=p>(),</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>        <span class=s2>&quot;run_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>        <span class=s2>&quot;extract_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>    <span class=p>}</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>    <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>meta_path</span><span class=p>),</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>meta_path</span><span class=p>,</span> <span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>        <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>metadata</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>        <span class=sa>f</span><span class=s2>&quot;  - Saved configuration metadata to </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>meta_path</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>        <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.update_simulation_metadata class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_simulation_metadata</span> <a href=#goliat.project_manager.ProjectManager.update_simulation_metadata class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_simulation_metadata</span><span class=p>(</span><span class=n>meta_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>run_done</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>extract_done</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates phase completion flags in the metadata file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>meta_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path to the metadata file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>run_done</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=bool>bool</span>]</code> </td> <td> <div class=doc-md-description> <p>New run phase status.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>extract_done</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=bool>bool</span>]</code> </td> <td> <div class=doc-md-description> <p>New extract phase status.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a><span class=k>def</span><span class=w> </span><span class=nf>update_simulation_metadata</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>meta_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>run_done</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>extract_done</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates phase completion flags in the metadata file.</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a><span class=sd>    Args:</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=sd>        meta_path: Path to the metadata file.</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a><span class=sd>        run_done: New run phase status.</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a><span class=sd>        extract_done: New extract phase status.</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>meta_path</span><span class=p>):</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cannot update metadata, file not found: </span><span class=si>{</span><span class=n>meta_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>        <span class=k>return</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>meta_path</span><span class=p>,</span> <span class=s2>&quot;r+&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=n>metadata</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=k>if</span> <span class=n>run_done</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>            <span class=n>metadata</span><span class=p>[</span><span class=s2>&quot;run_done&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>run_done</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>        <span class=k>if</span> <span class=n>extract_done</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>            <span class=n>metadata</span><span class=p>[</span><span class=s2>&quot;extract_done&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>extract_done</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>        <span class=n>f</span><span class=o>.</span><span class=n>seek</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>        <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>metadata</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>        <span class=n>f</span><span class=o>.</span><span class=n>truncate</span><span class=p>()</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Updated metadata in </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>meta_path</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.verify_simulation_metadata class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">verify_simulation_metadata</span> <a href=#goliat.project_manager.ProjectManager.verify_simulation_metadata class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>verify_simulation_metadata</span><span class=p>(</span><span class=n>meta_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>surgical_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>smash_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Verifies if an existing simulation can be reused to skip completed phases.</p> <p>This method implements a three-step verification process to determine if a previously run simulation can be reused:</p> <ol> <li> <p>Config hash check: Compares the stored config hash with the current config. If they don't match, the simulation is outdated and must be rerun.</p> </li> <li> <p>Project file validation: Checks if the .smash file exists, is not locked, and has valid <abbr title="Hierarchical Data Format version 5">HDF5</abbr> structure. If invalid, setup must be rerun.</p> </li> <li> <p>Deliverable freshness check: Verifies that output files (<abbr title="HDF5 file format (Hierarchical Data Format version 5)">H5</abbr> results) and extracted files (<abbr title="JavaScript Object Notation">JSON</abbr>/<abbr title="Pickle (Python object serialization format)">PKL</abbr>/<abbr title="HyperText Markup Language">HTML</abbr>) exist and are newer than the setup timestamp. This ensures we don't skip phases if files are missing or outdated.</p> </li> </ol> <p>The method returns a dict indicating which phases are complete, allowing the study to skip setup/run/extract as appropriate. Note that extract completion always requires run completion - if extract is done but run isn't, both are marked incomplete to prevent inconsistent states.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>meta_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path to the metadata file containing config hash and timestamps.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>surgical_config</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Current config snapshot to compare against stored hash.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>smash_path</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>Optional override for project file path (used for verification).</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict with boolean flags: 'setup_done', 'run_done', 'extract_done'.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>All False if verification fails at any step.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a><span class=k>def</span><span class=w> </span><span class=nf>verify_simulation_metadata</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>meta_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>surgical_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>smash_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Verifies if an existing simulation can be reused to skip completed phases.</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a><span class=sd>    This method implements a three-step verification process to determine if a</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a><span class=sd>    previously run simulation can be reused:</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a><span class=sd>    1. Config hash check: Compares the stored config hash with the current config.</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a><span class=sd>       If they don&#39;t match, the simulation is outdated and must be rerun.</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a><span class=sd>    2. Project file validation: Checks if the .smash file exists, is not locked,</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a><span class=sd>       and has valid HDF5 structure. If invalid, setup must be rerun.</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a><span class=sd>    3. Deliverable freshness check: Verifies that output files (H5 results) and</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a><span class=sd>       extracted files (JSON/PKL/HTML) exist and are newer than the setup timestamp.</span>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a><span class=sd>       This ensures we don&#39;t skip phases if files are missing or outdated.</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a><span class=sd>    The method returns a dict indicating which phases are complete, allowing the</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a><span class=sd>    study to skip setup/run/extract as appropriate. Note that extract completion</span>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183></a><span class=sd>    always requires run completion - if extract is done but run isn&#39;t, both are</span>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a><span class=sd>    marked incomplete to prevent inconsistent states.</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a><span class=sd>    Args:</span>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a><span class=sd>        meta_path: Path to the metadata file containing config hash and timestamps.</span>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a><span class=sd>        surgical_config: Current config snapshot to compare against stored hash.</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a><span class=sd>        smash_path: Optional override for project file path (used for verification).</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a><span class=sd>    Returns:</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a><span class=sd>        Dict with boolean flags: &#39;setup_done&#39;, &#39;run_done&#39;, &#39;extract_done&#39;.</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a><span class=sd>        All False if verification fails at any step.</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a>    <span class=n>status</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;setup_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&quot;run_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&quot;extract_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>}</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>meta_path</span><span class=p>):</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;No metadata file found at </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>meta_path</span><span class=p>)</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a>        <span class=k>return</span> <span class=n>status</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>meta_path</span><span class=p>,</span> <span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>            <span class=n>metadata</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>        <span class=n>stored_hash</span> <span class=o>=</span> <span class=n>metadata</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;config_hash&quot;</span><span class=p>)</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>        <span class=n>current_hash</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_generate_config_hash</span><span class=p>(</span><span class=n>surgical_config</span><span class=p>)</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>        <span class=k>if</span> <span class=n>stored_hash</span> <span class=o>!=</span> <span class=n>current_hash</span><span class=p>:</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Config hash mismatch for </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>meta_path</span><span class=p>)</span><span class=si>}</span><span class=s2>. Simulation is outdated.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a>            <span class=k>return</span> <span class=n>status</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a>        <span class=n>path_to_check</span> <span class=o>=</span> <span class=n>smash_path</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>path_to_check</span><span class=p>:</span>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Project path not set, cannot verify .smash file.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;error&quot;</span><span class=p>)</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a>            <span class=k>return</span> <span class=n>status</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>        <span class=n>original_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>        <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span> <span class=o>=</span> <span class=n>path_to_check</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a>        <span class=n>is_valid</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_valid_smash_file</span><span class=p>()</span>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>        <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span> <span class=o>=</span> <span class=n>original_path</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>is_valid</span><span class=p>:</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Project file &#39;</span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>path_to_check</span><span class=p>)</span><span class=si>}</span><span class=s2>&#39; is missing or corrupted.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>            <span class=k>return</span> <span class=n>status</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>        <span class=n>status</span><span class=p>[</span><span class=s2>&quot;setup_done&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a>        <span class=n>setup_timestamp_str</span> <span class=o>=</span> <span class=n>metadata</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;setup_timestamp&quot;</span><span class=p>)</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>setup_timestamp_str</span><span class=p>:</span>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;No setup_timestamp in metadata, cannot verify deliverables.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a>            <span class=k>return</span> <span class=n>status</span>  <span class=c1># Returns all False</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a>        <span class=c1># Convert ISO 8601 string to timestamp</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>setup_timestamp_str</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a>            <span class=n>setup_timestamp</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>fromisoformat</span><span class=p>(</span><span class=n>setup_timestamp_str</span><span class=p>)</span><span class=o>.</span><span class=n>timestamp</span><span class=p>()</span>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a>            <span class=n>setup_timestamp</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>setup_timestamp_str</span><span class=p>)</span>  <span class=c1># Backward compatibility</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a>        <span class=n>project_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>path_to_check</span><span class=p>)</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a>        <span class=n>project_filename</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>path_to_check</span><span class=p>)</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a>        <span class=n>deliverables_status</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_deliverables_status</span><span class=p>(</span><span class=n>project_dir</span><span class=p>,</span> <span class=n>project_filename</span><span class=p>,</span> <span class=n>setup_timestamp</span><span class=p>)</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a>        <span class=c1># The final status is determined *only* by the presence of deliverables on the file system.</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a>        <span class=c1># This prevents a situation where metadata claims completion but files are missing.</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a>        <span class=n>status</span><span class=p>[</span><span class=s2>&quot;run_done&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>deliverables_status</span><span class=p>[</span><span class=s2>&quot;run_done&quot;</span><span class=p>]</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a>        <span class=n>status</span><span class=p>[</span><span class=s2>&quot;extract_done&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>deliverables_status</span><span class=p>[</span><span class=s2>&quot;extract_done&quot;</span><span class=p>]</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a>        <span class=c1># Extract cannot possible be done if the corresponding run is not done or invalid</span>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a>        <span class=k>if</span> <span class=n>status</span><span class=p>[</span><span class=s2>&quot;extract_done&quot;</span><span class=p>]</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>status</span><span class=p>[</span><span class=s2>&quot;run_done&quot;</span><span class=p>]:</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Extraction was done, but run not. Rerunning both.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a>            <span class=n>status</span><span class=p>[</span><span class=s2>&quot;extract_done&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a>        <span class=n>status_parts</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a>        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>status</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a>            <span class=n>name</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;_done&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>,</span> <span class=s2>&quot; &quot;</span><span class=p>)</span><span class=o>.</span><span class=n>title</span><span class=p>()</span>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a>            <span class=n>status_text</span> <span class=o>=</span> <span class=s2>&quot;done&quot;</span> <span class=k>if</span> <span class=n>value</span> <span class=k>else</span> <span class=s2>&quot;NOT done&quot;</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a>            <span class=n>status_parts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>status_text</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a>        <span class=n>status_msg</span> <span class=o>=</span> <span class=s2>&quot;, &quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>status_parts</span><span class=p>)</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Verified existing project. Status: </span><span class=si>{</span><span class=n>status_msg</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a>        <span class=k>if</span> <span class=n>status</span><span class=p>[</span><span class=s2>&quot;run_done&quot;</span><span class=p>]</span> <span class=ow>and</span> <span class=n>status</span><span class=p>[</span><span class=s2>&quot;extract_done&quot;</span><span class=p>]:</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Project already done, skipping.&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a>        <span class=k>return</span> <span class=n>status</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a>    <span class=k>except</span> <span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>JSONDecodeError</span><span class=p>,</span> <span class=ne>KeyError</span><span class=p>):</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Metadata file </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>meta_path</span><span class=p>)</span><span class=si>}</span><span class=s2> is corrupted.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;error&quot;</span><span class=p>)</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a>        <span class=k>return</span> <span class=n>status</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.get_setup_timestamp_from_metadata class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_setup_timestamp_from_metadata</span> <a href=#goliat.project_manager.ProjectManager.get_setup_timestamp_from_metadata class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_setup_timestamp_from_metadata</span><span class=p>(</span><span class=n>meta_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>float</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Retrieves the setup timestamp from the metadata file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>meta_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path to the metadata file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Optional>Optional</span>[<span title=float>float</span>]</code> </td> <td> <div class=doc-md-description> <p>Setup timestamp as a float (seconds since epoch), or None if not found or file doesn't exist.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a><span class=k>def</span><span class=w> </span><span class=nf>get_setup_timestamp_from_metadata</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>meta_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>float</span><span class=p>]:</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Retrieves the setup timestamp from the metadata file.</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a><span class=sd>    Args:</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a><span class=sd>        meta_path: Path to the metadata file.</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a><span class=sd>    Returns:</span>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a><span class=sd>        Setup timestamp as a float (seconds since epoch), or None if not found or file doesn&#39;t exist.</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>meta_path</span><span class=p>):</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>meta_path</span><span class=p>,</span> <span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a>            <span class=n>metadata</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a>        <span class=n>setup_timestamp_str</span> <span class=o>=</span> <span class=n>metadata</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;setup_timestamp&quot;</span><span class=p>)</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>setup_timestamp_str</span><span class=p>:</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a>        <span class=c1># Convert ISO 8601 string to timestamp</span>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>setup_timestamp_str</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a>            <span class=k>return</span> <span class=n>datetime</span><span class=o>.</span><span class=n>fromisoformat</span><span class=p>(</span><span class=n>setup_timestamp_str</span><span class=p>)</span><span class=o>.</span><span class=n>timestamp</span><span class=p>()</span>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a>            <span class=k>return</span> <span class=nb>float</span><span class=p>(</span><span class=n>setup_timestamp_str</span><span class=p>)</span>  <span class=c1># Backward compatibility</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>    <span class=k>except</span> <span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>JSONDecodeError</span><span class=p>,</span> <span class=ne>KeyError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>):</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a>        <span class=k>return</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.create_or_open_project class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">create_or_open_project</span> <a href=#goliat.project_manager.ProjectManager.create_or_open_project class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>create_or_open_project</span><span class=p>(</span><span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>position_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>orientation_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Creates a new project or opens an existing one based on the 'do_setup' flag.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>phantom_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the phantom model.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>frequency_mhz</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The simulation frequency in <abbr title=Megahertz>MHz</abbr>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_name</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>The base name of the placement scenario.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>position_name</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>The name of the position within the scenario.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>orientation_name</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>The name of the orientation within the scenario.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If required parameters are missing or <code>study_type</code> is unknown.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=FileNotFoundError>FileNotFoundError</span></code> </td> <td> <div class=doc-md-description> <p>If <code>do_setup</code> is false and the project file does not exist.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.project_manager.ProjectCorruptionError</code>" href=#goliat.project_manager.ProjectCorruptionError>ProjectCorruptionError</a></code> </td> <td> <div class=doc-md-description> <p>If the project file is corrupted.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span>
<span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span>
<span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span>
<span class=normal><a href=#__codelineno-0-409>409</a></span>
<span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span>
<span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span>
<span class=normal><a href=#__codelineno-0-453>453</a></span>
<span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span>
<span class=normal><a href=#__codelineno-0-461>461</a></span>
<span class=normal><a href=#__codelineno-0-462>462</a></span>
<span class=normal><a href=#__codelineno-0-463>463</a></span>
<span class=normal><a href=#__codelineno-0-464>464</a></span>
<span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a><span class=k>def</span><span class=w> </span><span class=nf>create_or_open_project</span><span class=p>(</span>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a>    <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a>    <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>    <span class=n>scenario_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>    <span class=n>position_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>    <span class=n>orientation_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>    <span class=o>**</span><span class=n>kwargs</span><span class=p>,</span>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a new project or opens an existing one based on the &#39;do_setup&#39; flag.</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a><span class=sd>    Args:</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a><span class=sd>        phantom_name: The name of the phantom model.</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a><span class=sd>        frequency_mhz: The simulation frequency in MHz.</span>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a><span class=sd>        scenario_name: The base name of the placement scenario.</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a><span class=sd>        position_name: The name of the position within the scenario.</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a><span class=sd>        orientation_name: The name of the orientation within the scenario.</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a><span class=sd>    Raises:</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a><span class=sd>        ValueError: If required parameters are missing or `study_type` is unknown.</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a><span class=sd>        FileNotFoundError: If `do_setup` is false and the project file does not exist.</span>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a><span class=sd>        ProjectCorruptionError: If the project file is corrupted.</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a>    <span class=n>study_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;study_type&quot;</span><span class=p>)</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>study_type</span><span class=p>:</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;&#39;study_type&#39; not found in the configuration file.&quot;</span><span class=p>)</span>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a>    <span class=k>if</span> <span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;near_field&quot;</span><span class=p>:</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a>            <span class=p>[</span>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a>                <span class=n>phantom_name</span><span class=p>,</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a>                <span class=n>frequency_mhz</span><span class=p>,</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a>                <span class=n>scenario_name</span><span class=p>,</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a>                <span class=n>position_name</span><span class=p>,</span>
</span><span id=__span-0-372><a id=__codelineno-0-372 name=__codelineno-0-372></a>                <span class=n>orientation_name</span><span class=p>,</span>
</span><span id=__span-0-373><a id=__codelineno-0-373 name=__codelineno-0-373></a>            <span class=p>]</span>
</span><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a>        <span class=p>):</span>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;For near-field studies, all placement parameters are required.&quot;</span><span class=p>)</span>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a>        <span class=n>placement_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>position_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>orientation_name</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a>        <span class=n>project_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a>            <span class=s2>&quot;results&quot;</span><span class=p>,</span>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a>            <span class=s2>&quot;near_field&quot;</span><span class=p>,</span>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a>            <span class=n>phantom_name</span><span class=o>.</span><span class=n>lower</span><span class=p>(),</span>
</span><span id=__span-0-382><a id=__codelineno-0-382 name=__codelineno-0-382></a>            <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>frequency_mhz</span><span class=si>}</span><span class=s2>MHz&quot;</span><span class=p>,</span>
</span><span id=__span-0-383><a id=__codelineno-0-383 name=__codelineno-0-383></a>            <span class=n>placement_name</span><span class=p>,</span>
</span><span id=__span-0-384><a id=__codelineno-0-384 name=__codelineno-0-384></a>        <span class=p>)</span>
</span><span id=__span-0-385><a id=__codelineno-0-385 name=__codelineno-0-385></a>        <span class=n>project_filename</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;near_field_</span><span class=si>{</span><span class=n>phantom_name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>frequency_mhz</span><span class=si>}</span><span class=s2>MHz_</span><span class=si>{</span><span class=n>placement_name</span><span class=si>}</span><span class=s2>.smash&quot;</span>
</span><span id=__span-0-386><a id=__codelineno-0-386 name=__codelineno-0-386></a>
</span><span id=__span-0-387><a id=__codelineno-0-387 name=__codelineno-0-387></a>    <span class=k>elif</span> <span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;far_field&quot;</span><span class=p>:</span>
</span><span id=__span-0-388><a id=__codelineno-0-388 name=__codelineno-0-388></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span>
</span><span id=__span-0-389><a id=__codelineno-0-389 name=__codelineno-0-389></a>            <span class=p>[</span>
</span><span id=__span-0-390><a id=__codelineno-0-390 name=__codelineno-0-390></a>                <span class=n>phantom_name</span><span class=p>,</span>
</span><span id=__span-0-391><a id=__codelineno-0-391 name=__codelineno-0-391></a>                <span class=n>frequency_mhz</span><span class=p>,</span>
</span><span id=__span-0-392><a id=__codelineno-0-392 name=__codelineno-0-392></a>                <span class=n>scenario_name</span><span class=p>,</span>
</span><span id=__span-0-393><a id=__codelineno-0-393 name=__codelineno-0-393></a>                <span class=n>position_name</span><span class=p>,</span>
</span><span id=__span-0-394><a id=__codelineno-0-394 name=__codelineno-0-394></a>                <span class=n>orientation_name</span><span class=p>,</span>
</span><span id=__span-0-395><a id=__codelineno-0-395 name=__codelineno-0-395></a>            <span class=p>]</span>
</span><span id=__span-0-396><a id=__codelineno-0-396 name=__codelineno-0-396></a>        <span class=p>):</span>
</span><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;For far-field studies, all placement parameters are required.&quot;</span><span class=p>)</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a>
</span><span id=__span-0-399><a id=__codelineno-0-399 name=__codelineno-0-399></a>        <span class=n>placement_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>position_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>orientation_name</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-400><a id=__codelineno-0-400 name=__codelineno-0-400></a>        <span class=n>project_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
</span><span id=__span-0-401><a id=__codelineno-0-401 name=__codelineno-0-401></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span>
</span><span id=__span-0-402><a id=__codelineno-0-402 name=__codelineno-0-402></a>            <span class=s2>&quot;results&quot;</span><span class=p>,</span>
</span><span id=__span-0-403><a id=__codelineno-0-403 name=__codelineno-0-403></a>            <span class=s2>&quot;far_field&quot;</span><span class=p>,</span>
</span><span id=__span-0-404><a id=__codelineno-0-404 name=__codelineno-0-404></a>            <span class=n>phantom_name</span><span class=o>.</span><span class=n>lower</span><span class=p>(),</span>
</span><span id=__span-0-405><a id=__codelineno-0-405 name=__codelineno-0-405></a>            <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>frequency_mhz</span><span class=si>}</span><span class=s2>MHz&quot;</span><span class=p>,</span>
</span><span id=__span-0-406><a id=__codelineno-0-406 name=__codelineno-0-406></a>            <span class=n>placement_name</span><span class=p>,</span>
</span><span id=__span-0-407><a id=__codelineno-0-407 name=__codelineno-0-407></a>        <span class=p>)</span>
</span><span id=__span-0-408><a id=__codelineno-0-408 name=__codelineno-0-408></a>        <span class=n>project_filename</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;far_field_</span><span class=si>{</span><span class=n>phantom_name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>frequency_mhz</span><span class=si>}</span><span class=s2>MHz_</span><span class=si>{</span><span class=n>placement_name</span><span class=si>}</span><span class=s2>.smash&quot;</span>
</span><span id=__span-0-409><a id=__codelineno-0-409 name=__codelineno-0-409></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-410><a id=__codelineno-0-410 name=__codelineno-0-410></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unknown study_type &#39;</span><span class=si>{</span><span class=n>study_type</span><span class=si>}</span><span class=s2>&#39; in config.&quot;</span><span class=p>)</span>
</span><span id=__span-0-411><a id=__codelineno-0-411 name=__codelineno-0-411></a>
</span><span id=__span-0-412><a id=__codelineno-0-412 name=__codelineno-0-412></a>    <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>project_dir</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-413><a id=__codelineno-0-413 name=__codelineno-0-413></a>    <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>project_dir</span><span class=p>,</span> <span class=n>project_filename</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\\</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;/&quot;</span><span class=p>)</span>
</span><span id=__span-0-414><a id=__codelineno-0-414 name=__codelineno-0-414></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Project path set to: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-415><a id=__codelineno-0-415 name=__codelineno-0-415></a>
</span><span id=__span-0-416><a id=__codelineno-0-416 name=__codelineno-0-416></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>execution_control</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-417><a id=__codelineno-0-417 name=__codelineno-0-417></a>        <span class=bp>self</span><span class=o>.</span><span class=n>execution_control</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-418><a id=__codelineno-0-418 name=__codelineno-0-418></a>    <span class=n>do_setup</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>execution_control</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;do_setup&quot;</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-419><a id=__codelineno-0-419 name=__codelineno-0-419></a>
</span><span id=__span-0-420><a id=__codelineno-0-420 name=__codelineno-0-420></a>    <span class=c1># For far-field, direction and polarization are part of the unique signature,</span>
</span><span id=__span-0-421><a id=__codelineno-0-421 name=__codelineno-0-421></a>    <span class=c1># but they are not used in the file path, so we retrieve them from the setup logic if needed.</span>
</span><span id=__span-0-422><a id=__codelineno-0-422 name=__codelineno-0-422></a>    <span class=c1># This is a bit of a workaround but keeps the project manager&#39;s interface clean.</span>
</span><span id=__span-0-423><a id=__codelineno-0-423 name=__codelineno-0-423></a>    <span class=n>direction_name</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-424><a id=__codelineno-0-424 name=__codelineno-0-424></a>    <span class=n>polarization_name</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-425><a id=__codelineno-0-425 name=__codelineno-0-425></a>    <span class=k>if</span> <span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;far_field&quot;</span><span class=p>:</span>
</span><span id=__span-0-426><a id=__codelineno-0-426 name=__codelineno-0-426></a>        <span class=c1># For far-field, the orientation and position names map to direction and polarization</span>
</span><span id=__span-0-427><a id=__codelineno-0-427 name=__codelineno-0-427></a>        <span class=n>direction_name</span> <span class=o>=</span> <span class=n>orientation_name</span>
</span><span id=__span-0-428><a id=__codelineno-0-428 name=__codelineno-0-428></a>        <span class=n>polarization_name</span> <span class=o>=</span> <span class=n>position_name</span>
</span><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a>    <span class=n>surgical_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>build_simulation_config</span><span class=p>(</span>
</span><span id=__span-0-431><a id=__codelineno-0-431 name=__codelineno-0-431></a>        <span class=n>phantom_name</span><span class=o>=</span><span class=n>phantom_name</span><span class=p>,</span>
</span><span id=__span-0-432><a id=__codelineno-0-432 name=__codelineno-0-432></a>        <span class=n>frequency_mhz</span><span class=o>=</span><span class=n>frequency_mhz</span><span class=p>,</span>
</span><span id=__span-0-433><a id=__codelineno-0-433 name=__codelineno-0-433></a>        <span class=n>scenario_name</span><span class=o>=</span><span class=n>scenario_name</span><span class=p>,</span>
</span><span id=__span-0-434><a id=__codelineno-0-434 name=__codelineno-0-434></a>        <span class=n>position_name</span><span class=o>=</span><span class=n>position_name</span><span class=p>,</span>
</span><span id=__span-0-435><a id=__codelineno-0-435 name=__codelineno-0-435></a>        <span class=n>orientation_name</span><span class=o>=</span><span class=n>orientation_name</span><span class=p>,</span>
</span><span id=__span-0-436><a id=__codelineno-0-436 name=__codelineno-0-436></a>        <span class=n>direction_name</span><span class=o>=</span><span class=n>direction_name</span><span class=p>,</span>
</span><span id=__span-0-437><a id=__codelineno-0-437 name=__codelineno-0-437></a>        <span class=n>polarization_name</span><span class=o>=</span><span class=n>polarization_name</span><span class=p>,</span>
</span><span id=__span-0-438><a id=__codelineno-0-438 name=__codelineno-0-438></a>    <span class=p>)</span>
</span><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a>
</span><span id=__span-0-440><a id=__codelineno-0-440 name=__codelineno-0-440></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>do_setup</span><span class=p>:</span>
</span><span id=__span-0-441><a id=__codelineno-0-441 name=__codelineno-0-441></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-442><a id=__codelineno-0-442 name=__codelineno-0-442></a>            <span class=s2>&quot;Execution control: &#39;do_setup&#39; is false. Opening existing project without verification.&quot;</span><span class=p>,</span>
</span><span id=__span-0-443><a id=__codelineno-0-443 name=__codelineno-0-443></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-444><a id=__codelineno-0-444 name=__codelineno-0-444></a>        <span class=p>)</span>
</span><span id=__span-0-445><a id=__codelineno-0-445 name=__codelineno-0-445></a>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>):</span>
</span><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a>            <span class=n>error_msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;ERROR: &#39;do_setup&#39; is false, but project file not found at </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=si>}</span><span class=s2>. Cannot proceed.&quot;</span>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=n>error_msg</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;fatal&quot;</span><span class=p>)</span>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>            <span class=k>raise</span> <span class=ne>FileNotFoundError</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>        <span class=bp>self</span><span class=o>.</span><span class=n>open</span><span class=p>()</span>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>        <span class=c1># Return a status dict indicating setup is done, but we don&#39;t know about the other phases.</span>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>        <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;setup_done&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;run_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&quot;extract_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>}</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>
</span><span id=__span-0-453><a id=__codelineno-0-453 name=__codelineno-0-453></a>    <span class=c1># If do_setup is true, we verify the project unless --no-cache is used.</span>
</span><span id=__span-0-454><a id=__codelineno-0-454 name=__codelineno-0-454></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>no_cache</span><span class=p>:</span>
</span><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;`--no-cache` flag is active. Forcing a new setup by skipping verification.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a>        <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;setup_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&quot;run_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&quot;extract_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>}</span>
</span><span id=__span-0-457><a id=__codelineno-0-457 name=__codelineno-0-457></a>
</span><span id=__span-0-458><a id=__codelineno-0-458 name=__codelineno-0-458></a>    <span class=n>verification_status</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>verify_simulation_metadata</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>project_dir</span><span class=p>,</span> <span class=s2>&quot;config.json&quot;</span><span class=p>),</span> <span class=n>surgical_config</span><span class=p>)</span>
</span><span id=__span-0-459><a id=__codelineno-0-459 name=__codelineno-0-459></a>
</span><span id=__span-0-460><a id=__codelineno-0-460 name=__codelineno-0-460></a>    <span class=k>if</span> <span class=n>verification_status</span><span class=p>[</span><span class=s2>&quot;setup_done&quot;</span><span class=p>]:</span>
</span><span id=__span-0-461><a id=__codelineno-0-461 name=__codelineno-0-461></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Verified existing project. Opening.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-462><a id=__codelineno-0-462 name=__codelineno-0-462></a>        <span class=bp>self</span><span class=o>.</span><span class=n>open</span><span class=p>()</span>
</span><span id=__span-0-463><a id=__codelineno-0-463 name=__codelineno-0-463></a>        <span class=k>return</span> <span class=n>verification_status</span>
</span><span id=__span-0-464><a id=__codelineno-0-464 name=__codelineno-0-464></a>
</span><span id=__span-0-465><a id=__codelineno-0-465 name=__codelineno-0-465></a>    <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>project_dir</span><span class=p>):</span>
</span><span id=__span-0-466><a id=__codelineno-0-466 name=__codelineno-0-466></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Existing project is invalid or out of date. A new setup is required.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-467><a id=__codelineno-0-467 name=__codelineno-0-467></a>    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;setup_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&quot;run_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span> <span class=s2>&quot;extract_done&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.create_new class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">create_new</span> <a href=#goliat.project_manager.ProjectManager.create_new class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>create_new</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Creates a new empty project in memory.</p> <p>Closes any open document, deletes existing project file and cache files, then creates a fresh unsaved project. Also initializes the model by creating/deleting a dummy block to ensure Sim4Life is ready.</p> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-469>469</a></span>
<span class=normal><a href=#__codelineno-0-470>470</a></span>
<span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span>
<span class=normal><a href=#__codelineno-0-473>473</a></span>
<span class=normal><a href=#__codelineno-0-474>474</a></span>
<span class=normal><a href=#__codelineno-0-475>475</a></span>
<span class=normal><a href=#__codelineno-0-476>476</a></span>
<span class=normal><a href=#__codelineno-0-477>477</a></span>
<span class=normal><a href=#__codelineno-0-478>478</a></span>
<span class=normal><a href=#__codelineno-0-479>479</a></span>
<span class=normal><a href=#__codelineno-0-480>480</a></span>
<span class=normal><a href=#__codelineno-0-481>481</a></span>
<span class=normal><a href=#__codelineno-0-482>482</a></span>
<span class=normal><a href=#__codelineno-0-483>483</a></span>
<span class=normal><a href=#__codelineno-0-484>484</a></span>
<span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span>
<span class=normal><a href=#__codelineno-0-487>487</a></span>
<span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span>
<span class=normal><a href=#__codelineno-0-493>493</a></span>
<span class=normal><a href=#__codelineno-0-494>494</a></span>
<span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span>
<span class=normal><a href=#__codelineno-0-497>497</a></span>
<span class=normal><a href=#__codelineno-0-498>498</a></span>
<span class=normal><a href=#__codelineno-0-499>499</a></span>
<span class=normal><a href=#__codelineno-0-500>500</a></span>
<span class=normal><a href=#__codelineno-0-501>501</a></span>
<span class=normal><a href=#__codelineno-0-502>502</a></span>
<span class=normal><a href=#__codelineno-0-503>503</a></span>
<span class=normal><a href=#__codelineno-0-504>504</a></span>
<span class=normal><a href=#__codelineno-0-505>505</a></span>
<span class=normal><a href=#__codelineno-0-506>506</a></span>
<span class=normal><a href=#__codelineno-0-507>507</a></span>
<span class=normal><a href=#__codelineno-0-508>508</a></span>
<span class=normal><a href=#__codelineno-0-509>509</a></span>
<span class=normal><a href=#__codelineno-0-510>510</a></span>
<span class=normal><a href=#__codelineno-0-511>511</a></span>
<span class=normal><a href=#__codelineno-0-512>512</a></span>
<span class=normal><a href=#__codelineno-0-513>513</a></span>
<span class=normal><a href=#__codelineno-0-514>514</a></span>
<span class=normal><a href=#__codelineno-0-515>515</a></span>
<span class=normal><a href=#__codelineno-0-516>516</a></span>
<span class=normal><a href=#__codelineno-0-517>517</a></span>
<span class=normal><a href=#__codelineno-0-518>518</a></span>
<span class=normal><a href=#__codelineno-0-519>519</a></span>
<span class=normal><a href=#__codelineno-0-520>520</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-469><a id=__codelineno-0-469 name=__codelineno-0-469></a><span class=k>def</span><span class=w> </span><span class=nf>create_new</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-470><a id=__codelineno-0-470 name=__codelineno-0-470></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a new empty project in memory.</span>
</span><span id=__span-0-471><a id=__codelineno-0-471 name=__codelineno-0-471></a>
</span><span id=__span-0-472><a id=__codelineno-0-472 name=__codelineno-0-472></a><span class=sd>    Closes any open document, deletes existing project file and cache files,</span>
</span><span id=__span-0-473><a id=__codelineno-0-473 name=__codelineno-0-473></a><span class=sd>    then creates a fresh unsaved project. Also initializes the model by</span>
</span><span id=__span-0-474><a id=__codelineno-0-474 name=__codelineno-0-474></a><span class=sd>    creating/deleting a dummy block to ensure Sim4Life is ready.</span>
</span><span id=__span-0-475><a id=__codelineno-0-475 name=__codelineno-0-475></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-476><a id=__codelineno-0-476 name=__codelineno-0-476></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=p>,</span> <span class=s2>&quot;IsOpen&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>IsOpen</span><span class=p>():</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-477><a id=__codelineno-0-477 name=__codelineno-0-477></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-478><a id=__codelineno-0-478 name=__codelineno-0-478></a>            <span class=s2>&quot;Closing existing document before creating a new one to release file lock.&quot;</span><span class=p>,</span>
</span><span id=__span-0-479><a id=__codelineno-0-479 name=__codelineno-0-479></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-480><a id=__codelineno-0-480 name=__codelineno-0-480></a>        <span class=p>)</span>
</span><span id=__span-0-481><a id=__codelineno-0-481 name=__codelineno-0-481></a>        <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>Close</span><span class=p>()</span>
</span><span id=__span-0-482><a id=__codelineno-0-482 name=__codelineno-0-482></a>
</span><span id=__span-0-483><a id=__codelineno-0-483 name=__codelineno-0-483></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span> <span class=ow>and</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>):</span>
</span><span id=__span-0-484><a id=__codelineno-0-484 name=__codelineno-0-484></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-485><a id=__codelineno-0-485 name=__codelineno-0-485></a>            <span class=sa>f</span><span class=s2>&quot;Deleting existing project file at </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-486><a id=__codelineno-0-486 name=__codelineno-0-486></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-487><a id=__codelineno-0-487 name=__codelineno-0-487></a>        <span class=p>)</span>
</span><span id=__span-0-488><a id=__codelineno-0-488 name=__codelineno-0-488></a>        <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>)</span>
</span><span id=__span-0-489><a id=__codelineno-0-489 name=__codelineno-0-489></a>
</span><span id=__span-0-490><a id=__codelineno-0-490 name=__codelineno-0-490></a>        <span class=n>project_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>)</span>
</span><span id=__span-0-491><a id=__codelineno-0-491 name=__codelineno-0-491></a>        <span class=n>project_filename_base</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>)</span>
</span><span id=__span-0-492><a id=__codelineno-0-492 name=__codelineno-0-492></a>        <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=n>project_dir</span><span class=p>):</span>
</span><span id=__span-0-493><a id=__codelineno-0-493 name=__codelineno-0-493></a>            <span class=n>is_cache_file</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;.</span><span class=si>{</span><span class=n>project_filename_base</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=p>(</span>
</span><span id=__span-0-494><a id=__codelineno-0-494 name=__codelineno-0-494></a>                <span class=n>item</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=n>project_filename_base</span><span class=p>)</span> <span class=ow>and</span> <span class=n>item</span> <span class=o>!=</span> <span class=n>project_filename_base</span>
</span><span id=__span-0-495><a id=__codelineno-0-495 name=__codelineno-0-495></a>            <span class=p>)</span>
</span><span id=__span-0-496><a id=__codelineno-0-496 name=__codelineno-0-496></a>
</span><span id=__span-0-497><a id=__codelineno-0-497 name=__codelineno-0-497></a>            <span class=k>if</span> <span class=n>is_cache_file</span><span class=p>:</span>
</span><span id=__span-0-498><a id=__codelineno-0-498 name=__codelineno-0-498></a>                <span class=n>item_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>project_dir</span><span class=p>,</span> <span class=n>item</span><span class=p>)</span>
</span><span id=__span-0-499><a id=__codelineno-0-499 name=__codelineno-0-499></a>                <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>isfile</span><span class=p>(</span><span class=n>item_path</span><span class=p>):</span>
</span><span id=__span-0-500><a id=__codelineno-0-500 name=__codelineno-0-500></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Deleting cache file: </span><span class=si>{</span><span class=n>item_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-501><a id=__codelineno-0-501 name=__codelineno-0-501></a>                    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-502><a id=__codelineno-0-502 name=__codelineno-0-502></a>                        <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>item_path</span><span class=p>)</span>
</span><span id=__span-0-503><a id=__codelineno-0-503 name=__codelineno-0-503></a>                    <span class=k>except</span> <span class=ne>OSError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-504><a id=__codelineno-0-504 name=__codelineno-0-504></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-505><a id=__codelineno-0-505 name=__codelineno-0-505></a>                            <span class=sa>f</span><span class=s2>&quot;Error deleting cache file </span><span class=si>{</span><span class=n>item_path</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-506><a id=__codelineno-0-506 name=__codelineno-0-506></a>                            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;error&quot;</span><span class=p>,</span>
</span><span id=__span-0-507><a id=__codelineno-0-507 name=__codelineno-0-507></a>                        <span class=p>)</span>
</span><span id=__span-0-508><a id=__codelineno-0-508 name=__codelineno-0-508></a>
</span><span id=__span-0-509><a id=__codelineno-0-509 name=__codelineno-0-509></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Creating a new empty project in memory.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-510><a id=__codelineno-0-510 name=__codelineno-0-510></a>    <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>New</span><span class=p>()</span>
</span><span id=__span-0-511><a id=__codelineno-0-511 name=__codelineno-0-511></a>
</span><span id=__span-0-512><a id=__codelineno-0-512 name=__codelineno-0-512></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-513><a id=__codelineno-0-513 name=__codelineno-0-513></a>        <span class=s2>&quot;Initializing model by creating and deleting a dummy block...&quot;</span><span class=p>,</span>
</span><span id=__span-0-514><a id=__codelineno-0-514 name=__codelineno-0-514></a>        <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>,</span>
</span><span id=__span-0-515><a id=__codelineno-0-515 name=__codelineno-0-515></a>    <span class=p>)</span>
</span><span id=__span-0-516><a id=__codelineno-0-516 name=__codelineno-0-516></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.model</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>s4l_model</span>
</span><span id=__span-0-517><a id=__codelineno-0-517 name=__codelineno-0-517></a>
</span><span id=__span-0-518><a id=__codelineno-0-518 name=__codelineno-0-518></a>    <span class=n>dummy_block</span> <span class=o>=</span> <span class=n>s4l_model</span><span class=o>.</span><span class=n>CreateSolidBlock</span><span class=p>(</span><span class=n>s4l_model</span><span class=o>.</span><span class=n>Vec3</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=n>s4l_model</span><span class=o>.</span><span class=n>Vec3</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>
</span><span id=__span-0-519><a id=__codelineno-0-519 name=__codelineno-0-519></a>    <span class=n>dummy_block</span><span class=o>.</span><span class=n>Delete</span><span class=p>()</span>
</span><span id=__span-0-520><a id=__codelineno-0-520 name=__codelineno-0-520></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Model initialized, ready for population.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.open class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">open</span> <a href=#goliat.project_manager.ProjectManager.open class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>open</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Opens an existing project after validation checks.</p> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.project_manager.ProjectCorruptionError</code>" href=#goliat.project_manager.ProjectCorruptionError>ProjectCorruptionError</a></code> </td> <td> <div class=doc-md-description> <p>If project file is invalid, locked, or Sim4Life can't open it.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-522>522</a></span>
<span class=normal><a href=#__codelineno-0-523>523</a></span>
<span class=normal><a href=#__codelineno-0-524>524</a></span>
<span class=normal><a href=#__codelineno-0-525>525</a></span>
<span class=normal><a href=#__codelineno-0-526>526</a></span>
<span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span>
<span class=normal><a href=#__codelineno-0-540>540</a></span>
<span class=normal><a href=#__codelineno-0-541>541</a></span>
<span class=normal><a href=#__codelineno-0-542>542</a></span>
<span class=normal><a href=#__codelineno-0-543>543</a></span>
<span class=normal><a href=#__codelineno-0-544>544</a></span>
<span class=normal><a href=#__codelineno-0-545>545</a></span>
<span class=normal><a href=#__codelineno-0-546>546</a></span>
<span class=normal><a href=#__codelineno-0-547>547</a></span>
<span class=normal><a href=#__codelineno-0-548>548</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-522><a id=__codelineno-0-522 name=__codelineno-0-522></a><span class=k>def</span><span class=w> </span><span class=nf>open</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-523><a id=__codelineno-0-523 name=__codelineno-0-523></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Opens an existing project after validation checks.</span>
</span><span id=__span-0-524><a id=__codelineno-0-524 name=__codelineno-0-524></a>
</span><span id=__span-0-525><a id=__codelineno-0-525 name=__codelineno-0-525></a><span class=sd>    Raises:</span>
</span><span id=__span-0-526><a id=__codelineno-0-526 name=__codelineno-0-526></a><span class=sd>        ProjectCorruptionError: If project file is invalid, locked, or</span>
</span><span id=__span-0-527><a id=__codelineno-0-527 name=__codelineno-0-527></a><span class=sd>                                Sim4Life can&#39;t open it.</span>
</span><span id=__span-0-528><a id=__codelineno-0-528 name=__codelineno-0-528></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-529><a id=__codelineno-0-529 name=__codelineno-0-529></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Validating project file: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-530><a id=__codelineno-0-530 name=__codelineno-0-530></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_valid_smash_file</span><span class=p>():</span>
</span><span id=__span-0-531><a id=__codelineno-0-531 name=__codelineno-0-531></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-532><a id=__codelineno-0-532 name=__codelineno-0-532></a>            <span class=sa>f</span><span class=s2>&quot;ERROR: Project file </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=si>}</span><span class=s2> is corrupted or locked.&quot;</span><span class=p>,</span>
</span><span id=__span-0-533><a id=__codelineno-0-533 name=__codelineno-0-533></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;fatal&quot;</span><span class=p>,</span>
</span><span id=__span-0-534><a id=__codelineno-0-534 name=__codelineno-0-534></a>        <span class=p>)</span>
</span><span id=__span-0-535><a id=__codelineno-0-535 name=__codelineno-0-535></a>        <span class=k>raise</span> <span class=n>ProjectCorruptionError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;File is not a valid or accessible HDF5 file: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-536><a id=__codelineno-0-536 name=__codelineno-0-536></a>
</span><span id=__span-0-537><a id=__codelineno-0-537 name=__codelineno-0-537></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Opening project with Sim4Life: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-538><a id=__codelineno-0-538 name=__codelineno-0-538></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-539><a id=__codelineno-0-539 name=__codelineno-0-539></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>:</span>
</span><span id=__span-0-540><a id=__codelineno-0-540 name=__codelineno-0-540></a>            <span class=n>open_project</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>)</span>
</span><span id=__span-0-541><a id=__codelineno-0-541 name=__codelineno-0-541></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-542><a id=__codelineno-0-542 name=__codelineno-0-542></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-543><a id=__codelineno-0-543 name=__codelineno-0-543></a>            <span class=sa>f</span><span class=s2>&quot;ERROR: Sim4Life failed to open project file, it is likely corrupted: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-544><a id=__codelineno-0-544 name=__codelineno-0-544></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;fatal&quot;</span><span class=p>,</span>
</span><span id=__span-0-545><a id=__codelineno-0-545 name=__codelineno-0-545></a>        <span class=p>)</span>
</span><span id=__span-0-546><a id=__codelineno-0-546 name=__codelineno-0-546></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=p>,</span> <span class=s2>&quot;IsOpen&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>IsOpen</span><span class=p>():</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-547><a id=__codelineno-0-547 name=__codelineno-0-547></a>            <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>Close</span><span class=p>()</span>
</span><span id=__span-0-548><a id=__codelineno-0-548 name=__codelineno-0-548></a>        <span class=k>raise</span> <span class=n>ProjectCorruptionError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Sim4Life could not open corrupted file: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.save class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">save</span> <a href=#goliat.project_manager.ProjectManager.save class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>save</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Saves the current project to its file path.</p> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If project_path hasn't been set.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-550>550</a></span>
<span class=normal><a href=#__codelineno-0-551>551</a></span>
<span class=normal><a href=#__codelineno-0-552>552</a></span>
<span class=normal><a href=#__codelineno-0-553>553</a></span>
<span class=normal><a href=#__codelineno-0-554>554</a></span>
<span class=normal><a href=#__codelineno-0-555>555</a></span>
<span class=normal><a href=#__codelineno-0-556>556</a></span>
<span class=normal><a href=#__codelineno-0-557>557</a></span>
<span class=normal><a href=#__codelineno-0-558>558</a></span>
<span class=normal><a href=#__codelineno-0-559>559</a></span>
<span class=normal><a href=#__codelineno-0-560>560</a></span>
<span class=normal><a href=#__codelineno-0-561>561</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-550><a id=__codelineno-0-550 name=__codelineno-0-550></a><span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-551><a id=__codelineno-0-551 name=__codelineno-0-551></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Saves the current project to its file path.</span>
</span><span id=__span-0-552><a id=__codelineno-0-552 name=__codelineno-0-552></a>
</span><span id=__span-0-553><a id=__codelineno-0-553 name=__codelineno-0-553></a><span class=sd>    Raises:</span>
</span><span id=__span-0-554><a id=__codelineno-0-554 name=__codelineno-0-554></a><span class=sd>        ValueError: If project_path hasn&#39;t been set.</span>
</span><span id=__span-0-555><a id=__codelineno-0-555 name=__codelineno-0-555></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-556><a id=__codelineno-0-556 name=__codelineno-0-556></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>:</span>
</span><span id=__span-0-557><a id=__codelineno-0-557 name=__codelineno-0-557></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Project path is not set. Cannot save.&quot;</span><span class=p>)</span>
</span><span id=__span-0-558><a id=__codelineno-0-558 name=__codelineno-0-558></a>
</span><span id=__span-0-559><a id=__codelineno-0-559 name=__codelineno-0-559></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Saving project to </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=si>}</span><span class=s2>...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-560><a id=__codelineno-0-560 name=__codelineno-0-560></a>    <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>SaveAs</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>)</span>
</span><span id=__span-0-561><a id=__codelineno-0-561 name=__codelineno-0-561></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Project saved.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.close class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">close</span> <a href=#goliat.project_manager.ProjectManager.close class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>close</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Closes the active Sim4Life document.</p> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-563>563</a></span>
<span class=normal><a href=#__codelineno-0-564>564</a></span>
<span class=normal><a href=#__codelineno-0-565>565</a></span>
<span class=normal><a href=#__codelineno-0-566>566</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-563><a id=__codelineno-0-563 name=__codelineno-0-563></a><span class=k>def</span><span class=w> </span><span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-564><a id=__codelineno-0-564 name=__codelineno-0-564></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Closes the active Sim4Life document.&quot;&quot;&quot;</span>
</span><span id=__span-0-565><a id=__codelineno-0-565 name=__codelineno-0-565></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Closing project document...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-566><a id=__codelineno-0-566 name=__codelineno-0-566></a>    <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>Close</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.cleanup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">cleanup</span> <a href=#goliat.project_manager.ProjectManager.cleanup class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>cleanup</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Closes any open project.</p> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-568>568</a></span>
<span class=normal><a href=#__codelineno-0-569>569</a></span>
<span class=normal><a href=#__codelineno-0-570>570</a></span>
<span class=normal><a href=#__codelineno-0-571>571</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-568><a id=__codelineno-0-568 name=__codelineno-0-568></a><span class=k>def</span><span class=w> </span><span class=nf>cleanup</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-569><a id=__codelineno-0-569 name=__codelineno-0-569></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Closes any open project.&quot;&quot;&quot;</span>
</span><span id=__span-0-570><a id=__codelineno-0-570 name=__codelineno-0-570></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=p>,</span> <span class=s2>&quot;IsOpen&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>IsOpen</span><span class=p>():</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-571><a id=__codelineno-0-571 name=__codelineno-0-571></a>        <span class=bp>self</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.project_manager.ProjectManager.reload_project class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">reload_project</span> <a href=#goliat.project_manager.ProjectManager.reload_project class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>reload_project</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Saves, closes, and reopens the project to load simulation results.</p> <p>Needed because Sim4Life sometimes requires a reload to see new results files. This ensures results are available for extraction.</p> <details class=quote> <summary>Source code in <code>goliat/project_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-573>573</a></span>
<span class=normal><a href=#__codelineno-0-574>574</a></span>
<span class=normal><a href=#__codelineno-0-575>575</a></span>
<span class=normal><a href=#__codelineno-0-576>576</a></span>
<span class=normal><a href=#__codelineno-0-577>577</a></span>
<span class=normal><a href=#__codelineno-0-578>578</a></span>
<span class=normal><a href=#__codelineno-0-579>579</a></span>
<span class=normal><a href=#__codelineno-0-580>580</a></span>
<span class=normal><a href=#__codelineno-0-581>581</a></span>
<span class=normal><a href=#__codelineno-0-582>582</a></span>
<span class=normal><a href=#__codelineno-0-583>583</a></span>
<span class=normal><a href=#__codelineno-0-584>584</a></span>
<span class=normal><a href=#__codelineno-0-585>585</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-573><a id=__codelineno-0-573 name=__codelineno-0-573></a><span class=k>def</span><span class=w> </span><span class=nf>reload_project</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-574><a id=__codelineno-0-574 name=__codelineno-0-574></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Saves, closes, and reopens the project to load simulation results.</span>
</span><span id=__span-0-575><a id=__codelineno-0-575 name=__codelineno-0-575></a>
</span><span id=__span-0-576><a id=__codelineno-0-576 name=__codelineno-0-576></a><span class=sd>    Needed because Sim4Life sometimes requires a reload to see new results</span>
</span><span id=__span-0-577><a id=__codelineno-0-577 name=__codelineno-0-577></a><span class=sd>    files. This ensures results are available for extraction.</span>
</span><span id=__span-0-578><a id=__codelineno-0-578 name=__codelineno-0-578></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-579><a id=__codelineno-0-579 name=__codelineno-0-579></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=p>,</span> <span class=s2>&quot;IsOpen&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>IsOpen</span><span class=p>():</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-580><a id=__codelineno-0-580 name=__codelineno-0-580></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Saving and reloading project to load results...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-581><a id=__codelineno-0-581 name=__codelineno-0-581></a>        <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
</span><span id=__span-0-582><a id=__codelineno-0-582 name=__codelineno-0-582></a>        <span class=bp>self</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span><span id=__span-0-583><a id=__codelineno-0-583 name=__codelineno-0-583></a>
</span><span id=__span-0-584><a id=__codelineno-0-584 name=__codelineno-0-584></a>    <span class=bp>self</span><span class=o>.</span><span class=n>open</span><span class=p>()</span>
</span><span id=__span-0-585><a id=__codelineno-0-585 name=__codelineno-0-585></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Project reloaded.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <h3 id=goliat.project_manager-functions>Functions<a href=#goliat.project_manager-functions class=headerlink title="Permanent link">&para;</a></h3> </div> </div> </div><h3 id=utilities>Utilities<a class=headerlink href=#utilities title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.utils class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.utils</span> <a href=#goliat.utils class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Utility functions for GOLIAT.</p> <p>This module re-exports commonly used utilities from submodules for backward compatibility. All existing imports from <code>goliat.utils</code> will continue to work.</p> <div class="doc doc-children"> <h3 id=goliat.utils-classes>Classes<a href=#goliat.utils-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.utils.StudyCancelledError class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">StudyCancelledError</span> <a href=#goliat.utils.StudyCancelledError class=headerlink title="Permanent link">&para;</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=Exception>Exception</span></code></p> <p>Raised when the user cancels a study via the <abbr title="Graphical User Interface">GUI</abbr>.</p> </div> </div> <div class="doc doc-object doc-class"> <h4 id=goliat.utils.Profiler class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Profiler</span> <a href=#goliat.utils.Profiler class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Profiler</span><span class=p>(</span><span class=n>config_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;sensitivity_analysis&#39;</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Tracks execution times and estimates remaining time for a study.</p> <p>This is a lightweight profiler used for simpler scenarios. For the main study profiler with phase tracking and weighted progress, see goliat.profiler.Profiler.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path to the <abbr title="JavaScript Object Notation">JSON</abbr> config file with timing data.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>study_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Key in the config for this study's timing data.</p> </div> </td> <td> <code>&#39;sensitivity_analysis&#39;</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;sensitivity_analysis&quot;</span><span class=p>):</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the profiler with a config file.</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=sd>    Args:</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=sd>        config_path: Path to the JSON config file with timing data.</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=sd>        study_type: Key in the config for this study&#39;s timing data.</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_path</span> <span class=o>=</span> <span class=n>config_path</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span> <span class=o>=</span> <span class=n>study_type</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_config</span><span class=p>()</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=bp>self</span><span class=o>.</span><span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>run_times</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_runs</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=bp>self</span><span class=o>.</span><span class=n>completed_runs</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=bp>self</span><span class=o>.</span><span class=n>current_run_start_time</span> <span class=o>=</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.utils.Profiler-functions>Functions<a href=#goliat.utils.Profiler-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.utils.Profiler.start_study class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">start_study</span> <a href=#goliat.utils.Profiler.start_study class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>start_study</span><span class=p>(</span><span class=n>total_runs</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Resets counters for a new study.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=k>def</span><span class=w> </span><span class=nf>start_study</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>total_runs</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Resets counters for a new study.&quot;&quot;&quot;</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_runs</span> <span class=o>=</span> <span class=n>total_runs</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=bp>self</span><span class=o>.</span><span class=n>completed_runs</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=bp>self</span><span class=o>.</span><span class=n>run_times</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=bp>self</span><span class=o>.</span><span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.utils.Profiler.start_run class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">start_run</span> <a href=#goliat.utils.Profiler.start_run class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>start_run</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Marks the start of a run.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=k>def</span><span class=w> </span><span class=nf>start_run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Marks the start of a run.&quot;&quot;&quot;</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=bp>self</span><span class=o>.</span><span class=n>current_run_start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.utils.Profiler.end_run class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">end_run</span> <a href=#goliat.utils.Profiler.end_run class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>end_run</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Records the duration of the current run.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a><span class=k>def</span><span class=w> </span><span class=nf>end_run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Records the duration of the current run.&quot;&quot;&quot;</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>current_run_start_time</span><span class=p>:</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=n>duration</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>current_run_start_time</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=bp>self</span><span class=o>.</span><span class=n>run_times</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>duration</span><span class=p>)</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>        <span class=bp>self</span><span class=o>.</span><span class=n>completed_runs</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>        <span class=bp>self</span><span class=o>.</span><span class=n>current_run_start_time</span> <span class=o>=</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.utils.Profiler.get_average_run_time class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_average_run_time</span> <a href=#goliat.utils.Profiler.get_average_run_time class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_average_run_time</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns average run time from measurements, or falls back to config.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a><span class=k>def</span><span class=w> </span><span class=nf>get_average_run_time</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns average run time from measurements, or falls back to config.&quot;&quot;&quot;</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>run_times</span><span class=p>:</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>        <span class=k>return</span> <span class=nb>sum</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>run_times</span><span class=p>)</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>run_times</span><span class=p>)</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;average_run_time&quot;</span><span class=p>,</span> <span class=mf>60.0</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.utils.Profiler.get_time_remaining class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_time_remaining</span> <a href=#goliat.utils.Profiler.get_time_remaining class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_time_remaining</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Estimates seconds remaining based on completed runs and average time.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=k>def</span><span class=w> </span><span class=nf>get_time_remaining</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Estimates seconds remaining based on completed runs and average time.&quot;&quot;&quot;</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>total_runs</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>        <span class=k>return</span> <span class=mi>0</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>    <span class=n>avg_time</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_average_run_time</span><span class=p>()</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>    <span class=n>remaining_runs</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>total_runs</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>completed_runs</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>    <span class=k>return</span> <span class=n>remaining_runs</span> <span class=o>*</span> <span class=n>avg_time</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.utils.Profiler.save_estimates class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">save_estimates</span> <a href=#goliat.utils.Profiler.save_estimates class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>save_estimates</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Writes updated average run time to the config file.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=k>def</span><span class=w> </span><span class=nf>save_estimates</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Writes updated average run time to the config file.&quot;&quot;&quot;</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>run_times</span><span class=p>:</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>        <span class=k>return</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=n>new_avg</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_average_run_time</span><span class=p>()</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config_path</span><span class=p>,</span> <span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>            <span class=n>full_config</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>    <span class=k>except</span> <span class=p>(</span><span class=ne>FileNotFoundError</span><span class=p>,</span> <span class=n>json</span><span class=o>.</span><span class=n>JSONDecodeError</span><span class=p>):</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>        <span class=n>full_config</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>full_config</span><span class=p>:</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>        <span class=n>full_config</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=n>full_config</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>][</span><span class=s2>&quot;average_run_time&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_avg</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config_path</span><span class=p>,</span> <span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>full_config</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>4</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.utils.Profiler.get_elapsed class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_elapsed</span> <a href=#goliat.utils.Profiler.get_elapsed class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_elapsed</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns elapsed seconds since study start.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a><span class=k>def</span><span class=w> </span><span class=nf>get_elapsed</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns elapsed seconds since study start.&quot;&quot;&quot;</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>    <span class=k>return</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>start_time</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.utils.Profiler.subtask class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">subtask</span> <a href=#goliat.utils.Profiler.subtask class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>subtask</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Context manager that times a subtask and logs the duration.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a><span class=nd>@contextlib</span><span class=o>.</span><span class=n>contextmanager</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a><span class=k>def</span><span class=w> </span><span class=nf>subtask</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Context manager that times a subtask and logs the duration.&quot;&quot;&quot;</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>        <span class=k>yield</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>    <span class=k>finally</span><span class=p>:</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Subtask &#39;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&#39; took </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;verbose&quot;</span><span class=p>})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <h3 id=goliat.utils-functions>Functions<a href=#goliat.utils-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.utils.format_time class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">format_time</span> <a href=#goliat.utils.format_time class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>format_time</span><span class=p>(</span><span class=n>seconds</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Formats seconds into a readable string like '1h 23m 45s' or '2m 30s'.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a><span class=k>def</span><span class=w> </span><span class=nf>format_time</span><span class=p>(</span><span class=n>seconds</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Formats seconds into a readable string like &#39;1h 23m 45s&#39; or &#39;2m 30s&#39;.&quot;&quot;&quot;</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>    <span class=n>seconds</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>seconds</span><span class=p>)</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>    <span class=k>if</span> <span class=n>seconds</span> <span class=o>&lt;</span> <span class=mi>60</span><span class=p>:</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>seconds</span><span class=si>}</span><span class=s2>s&quot;</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>    <span class=n>minutes</span><span class=p>,</span> <span class=n>seconds</span> <span class=o>=</span> <span class=nb>divmod</span><span class=p>(</span><span class=n>seconds</span><span class=p>,</span> <span class=mi>60</span><span class=p>)</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>    <span class=k>if</span> <span class=n>minutes</span> <span class=o>&lt;</span> <span class=mi>60</span><span class=p>:</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>minutes</span><span class=si>}</span><span class=s2>m </span><span class=si>{</span><span class=n>seconds</span><span class=si>}</span><span class=s2>s&quot;</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>    <span class=n>hours</span><span class=p>,</span> <span class=n>minutes</span> <span class=o>=</span> <span class=nb>divmod</span><span class=p>(</span><span class=n>minutes</span><span class=p>,</span> <span class=mi>60</span><span class=p>)</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>hours</span><span class=si>}</span><span class=s2>h </span><span class=si>{</span><span class=n>minutes</span><span class=si>}</span><span class=s2>m </span><span class=si>{</span><span class=n>seconds</span><span class=si>}</span><span class=s2>s&quot;</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.utils.non_blocking_sleep class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">non_blocking_sleep</span> <a href=#goliat.utils.non_blocking_sleep class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>non_blocking_sleep</span><span class=p>(</span><span class=n>seconds</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sleeps while processing Qt <abbr title="Graphical User Interface">GUI</abbr> events to keep the UI responsive.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a><span class=k>def</span><span class=w> </span><span class=nf>non_blocking_sleep</span><span class=p>(</span><span class=n>seconds</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sleeps while processing Qt GUI events to keep the UI responsive.&quot;&quot;&quot;</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>    <span class=kn>from</span><span class=w> </span><span class=nn>PySide6.QtCore</span><span class=w> </span><span class=kn>import</span> <span class=n>QCoreApplication</span><span class=p>,</span> <span class=n>QEventLoop</span><span class=p>,</span> <span class=n>QTime</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>    <span class=n>end_time</span> <span class=o>=</span> <span class=n>QTime</span><span class=o>.</span><span class=n>currentTime</span><span class=p>()</span><span class=o>.</span><span class=n>addSecs</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>seconds</span><span class=p>))</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>    <span class=k>while</span> <span class=n>QTime</span><span class=o>.</span><span class=n>currentTime</span><span class=p>()</span> <span class=o>&lt;</span> <span class=n>end_time</span><span class=p>:</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>        <span class=n>QCoreApplication</span><span class=o>.</span><span class=n>processEvents</span><span class=p>(</span><span class=n>QEventLoop</span><span class=o>.</span><span class=n>AllEvents</span><span class=p>,</span> <span class=mi>50</span><span class=p>)</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.05</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.utils.profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">profile</span> <a href=#goliat.utils.profile class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>profile</span><span class=p>(</span><span class=n>study</span><span class=p>:</span> <span class=n>BaseStudy</span><span class=p>,</span> <span class=n>phase_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Context manager that profiles a study phase and updates the <abbr title="Graphical User Interface">GUI</abbr>.</p> <p>Tracks timing, logs start/end messages, and syncs progress bars. Use this around major phases like setup, run, or extract.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>study</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.studies.base_study.BaseStudy</code>" href=#goliat.studies.base_study.BaseStudy>BaseStudy</a></code> </td> <td> <div class=doc-md-description> <p>The study instance to profile.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>phase_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of the phase (e.g., 'setup', 'run', 'extract').</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a><span class=nd>@contextlib</span><span class=o>.</span><span class=n>contextmanager</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a><span class=k>def</span><span class=w> </span><span class=nf>profile</span><span class=p>(</span><span class=n>study</span><span class=p>:</span> <span class=s2>&quot;BaseStudy&quot;</span><span class=p>,</span> <span class=n>phase_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Context manager that profiles a study phase and updates the GUI.</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a><span class=sd>    Tracks timing, logs start/end messages, and syncs progress bars. Use this</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a><span class=sd>    around major phases like setup, run, or extract.</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a><span class=sd>    Args:</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a><span class=sd>        study: The study instance to profile.</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a><span class=sd>        phase_name: Name of the phase (e.g., &#39;setup&#39;, &#39;run&#39;, &#39;extract&#39;).</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a>    <span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>start_stage</span><span class=p>(</span><span class=n>phase_name</span><span class=p>)</span>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a>    <span class=k>if</span> <span class=n>study</span><span class=o>.</span><span class=n>gui</span><span class=p>:</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>        <span class=n>study</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_profiler</span><span class=p>()</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a>        <span class=n>study</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_stage_progress</span><span class=p>(</span><span class=n>phase_name</span><span class=o>.</span><span class=n>capitalize</span><span class=p>(),</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a>        <span class=n>study</span><span class=o>.</span><span class=n>start_stage_animation</span><span class=p>(</span><span class=n>phase_name</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>    <span class=n>study</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;--- Starting: </span><span class=si>{</span><span class=n>phase_name</span><span class=si>}</span><span class=s2> ---&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;header&quot;</span><span class=p>)</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>    <span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a>        <span class=k>yield</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>    <span class=k>finally</span><span class=p>:</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span> <span class=o>-</span> <span class=n>start_time</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>        <span class=n>study</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;--- Finished: </span><span class=si>{</span><span class=n>phase_name</span><span class=si>}</span><span class=s2> (took </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s) ---&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;header&quot;</span><span class=p>)</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>        <span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>end_stage</span><span class=p>()</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>        <span class=k>if</span> <span class=n>study</span><span class=o>.</span><span class=n>gui</span><span class=p>:</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a>            <span class=n>study</span><span class=o>.</span><span class=n>end_stage_animation</span><span class=p>()</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>            <span class=n>study</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_profiler</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.utils.ensure_s4l_running class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">ensure_s4l_running</span> <a href=#goliat.utils.ensure_s4l_running class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>ensure_s4l_running</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Starts Sim4Life if it's not already running.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a><span class=k>def</span><span class=w> </span><span class=nf>ensure_s4l_running</span><span class=p>():</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Starts Sim4Life if it&#39;s not already running.&quot;&quot;&quot;</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>    <span class=kn>from</span><span class=w> </span><span class=nn>s4l_v1._api</span><span class=w> </span><span class=kn>import</span> <span class=n>application</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a>    <span class=k>if</span> <span class=n>application</span><span class=o>.</span><span class=n>get_app_safe</span><span class=p>()</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Starting Sim4Life application...&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;info&quot;</span><span class=p>})</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a>        <span class=n>application</span><span class=o>.</span><span class=n>run_application</span><span class=p>(</span><span class=n>disable_ui_plugins</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Sim4Life application started.&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;success&quot;</span><span class=p>})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.utils.open_project class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">open_project</span> <a href=#goliat.utils.open_project class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>open_project</span><span class=p>(</span><span class=n>project_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Opens a Sim4Life project file, or creates a new project if missing.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a><span class=k>def</span><span class=w> </span><span class=nf>open_project</span><span class=p>(</span><span class=n>project_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Opens a Sim4Life project file, or creates a new project if missing.&quot;&quot;&quot;</span>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.document</span>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>project_path</span><span class=p>):</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a>            <span class=sa>f</span><span class=s2>&quot;Project file not found at </span><span class=si>{</span><span class=n>project_path</span><span class=si>}</span><span class=s2>, creating a new one.&quot;</span><span class=p>,</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a>            <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;warning&quot;</span><span class=p>},</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a>        <span class=p>)</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a>        <span class=n>s4l_v1</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>New</span><span class=p>()</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Opening project: </span><span class=si>{</span><span class=n>project_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;info&quot;</span><span class=p>})</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a>        <span class=n>s4l_v1</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>Open</span><span class=p>(</span><span class=n>project_path</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.utils.delete_project_file class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">delete_project_file</span> <a href=#goliat.utils.delete_project_file class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>delete_project_file</span><span class=p>(</span><span class=n>project_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Deletes a project file if it exists.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a><span class=k>def</span><span class=w> </span><span class=nf>delete_project_file</span><span class=p>(</span><span class=n>project_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Deletes a project file if it exists.&quot;&quot;&quot;</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>    <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>project_path</span><span class=p>):</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>            <span class=sa>f</span><span class=s2>&quot;Deleting existing project file: </span><span class=si>{</span><span class=n>project_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>            <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;warning&quot;</span><span class=p>},</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>        <span class=p>)</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>        <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>project_path</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.utils.suppress_stdout_stderr class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">suppress_stdout_stderr</span> <a href=#goliat.utils.suppress_stdout_stderr class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>suppress_stdout_stderr</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Context manager that suppresses stdout and stderr output.</p> <details class=quote> <summary>Source code in <code>goliat/utils/core.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a><span class=nd>@contextlib</span><span class=o>.</span><span class=n>contextmanager</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a><span class=k>def</span><span class=w> </span><span class=nf>suppress_stdout_stderr</span><span class=p>():</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Context manager that suppresses stdout and stderr output.&quot;&quot;&quot;</span>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>devnull</span><span class=p>,</span> <span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>fnull</span><span class=p>:</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a>        <span class=n>saved_stdout</span><span class=p>,</span> <span class=n>saved_stderr</span> <span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>stdout</span><span class=p>,</span> <span class=n>sys</span><span class=o>.</span><span class=n>stderr</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a>        <span class=n>sys</span><span class=o>.</span><span class=n>stdout</span><span class=p>,</span> <span class=n>sys</span><span class=o>.</span><span class=n>stderr</span> <span class=o>=</span> <span class=n>fnull</span><span class=p>,</span> <span class=n>fnull</span>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>            <span class=k>yield</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a>        <span class=k>finally</span><span class=p>:</span>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>            <span class=n>sys</span><span class=o>.</span><span class=n>stdout</span><span class=p>,</span> <span class=n>sys</span><span class=o>.</span><span class=n>stderr</span> <span class=o>=</span> <span class=n>saved_stdout</span><span class=p>,</span> <span class=n>saved_stderr</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.utils.initial_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">initial_setup</span> <a href=#goliat.utils.initial_setup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>initial_setup</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Performs all initial checks and setup procedures. - Ensures correct python interpreter is used. - Prompts user before installing dependencies. - Installs package in editable mode if not already installed. - Prepares data files.</p> <details class=quote> <summary>Source code in <code>goliat/utils/setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span>
<span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a><span class=k>def</span><span class=w> </span><span class=nf>initial_setup</span><span class=p>():</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a><span class=sd>    Performs all initial checks and setup procedures.</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a><span class=sd>    - Ensures correct python interpreter is used.</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a><span class=sd>    - Prompts user before installing dependencies.</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a><span class=sd>    - Installs package in editable mode if not already installed.</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a><span class=sd>    - Prepares data files.</span>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a>    <span class=c1># Skip everything in CI/test environment</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a>    <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;CI&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;PYTEST_CURRENT_TEST&quot;</span><span class=p>):</span>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>        <span class=k>return</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a>    <span class=n>base_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>),</span> <span class=s2>&quot;../..&quot;</span><span class=p>))</span>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>    <span class=c1># Check if goliat is installed as a package</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>    <span class=n>package_installed</span> <span class=o>=</span> <span class=n>check_package_installed</span><span class=p>()</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>package_installed</span><span class=p>:</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a>        <span class=c1># Prompt user for permission to install</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;=&quot;</span> <span class=o>*</span> <span class=mi>80</span><span class=p>)</span>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;GOLIAT Package Installation&quot;</span><span class=p>)</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;=&quot;</span> <span class=o>*</span> <span class=mi>80</span><span class=p>)</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;GOLIAT needs to be installed as a Python package to work properly.&quot;</span><span class=p>)</span>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;This will install:&quot;</span><span class=p>)</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;  - Python dependencies from requirements.txt&quot;</span><span class=p>)</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;  - GOLIAT package in editable mode (allows code modifications)&quot;</span><span class=p>)</span>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a>        <span class=nb>print</span><span class=p>()</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;This is a one-time setup. You can modify the code and changes will&quot;</span><span class=p>)</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;be reflected immediately without reinstalling.&quot;</span><span class=p>)</span>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a>        <span class=nb>print</span><span class=p>()</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a>        <span class=n>response</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&quot;Do you want to install dependencies and GOLIAT package? [Y/n]: &quot;</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a>        <span class=k>if</span> <span class=n>response</span> <span class=ow>and</span> <span class=n>response</span> <span class=o>!=</span> <span class=s1>&#39;y&#39;</span> <span class=ow>and</span> <span class=n>response</span> <span class=o>!=</span> <span class=s1>&#39;yes&#39;</span><span class=p>:</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a>            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Installation cancelled. GOLIAT cannot run without installation.&quot;</span><span class=p>)</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a>            <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a>        <span class=c1># Install requirements.txt first</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Installing Python dependencies...&quot;</span><span class=p>)</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a>        <span class=n>install_requirements</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;requirements.txt&quot;</span><span class=p>))</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a>        <span class=c1># Install editable package</span>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Installing GOLIAT package in editable mode...&quot;</span><span class=p>)</span>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a>            <span class=n>subprocess</span><span class=o>.</span><span class=n>check_call</span><span class=p>([</span><span class=n>sys</span><span class=o>.</span><span class=n>executable</span><span class=p>,</span> <span class=s2>&quot;-m&quot;</span><span class=p>,</span> <span class=s2>&quot;pip&quot;</span><span class=p>,</span> <span class=s2>&quot;install&quot;</span><span class=p>,</span> <span class=s2>&quot;-e&quot;</span><span class=p>,</span> <span class=n>base_dir</span><span class=p>])</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a>            <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;✓ GOLIAT package installed successfully!&quot;</span><span class=p>)</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a>        <span class=k>except</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>CalledProcessError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a>            <span class=n>logging</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Failed to install GOLIAT package: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a>            <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a>    <span class=c1># Verify package is importable</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a>        <span class=kn>import</span><span class=w> </span><span class=nn>goliat</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a>    <span class=k>except</span> <span class=ne>ImportError</span><span class=p>:</span>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a>        <span class=n>logging</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;GOLIAT package could not be imported. Please ensure installation completed successfully.&quot;</span><span class=p>)</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a>    <span class=c1># Rest of setup (data preparation, etc.)</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a>    <span class=n>data_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>)</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a>    <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a>    <span class=n>lock_file</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=s2>&quot;.setup_done&quot;</span><span class=p>)</span>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>lock_file</span><span class=p>):</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a>        <span class=n>check_repo_root</span><span class=p>()</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a>        <span class=c1># Skip interpreter check in CI/test environment</span>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;CI&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;PYTEST_CURRENT_TEST&quot;</span><span class=p>):</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a>            <span class=n>check_python_interpreter</span><span class=p>()</span>  <span class=c1># This function now handles AWS detection internally</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a>        <span class=n>prepare_data</span><span class=p>(</span><span class=n>base_dir</span><span class=p>)</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>lock_file</span><span class=p>,</span> <span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a>            <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&quot;Setup complete.&quot;</span><span class=p>)</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>        <span class=c1># Skip interpreter check in CI/test environment</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;CI&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;PYTEST_CURRENT_TEST&quot;</span><span class=p>):</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a>            <span class=n>check_python_interpreter</span><span class=p>()</span>  <span class=c1># This function now handles AWS detection internally</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><hr> <h2 id=study-orchestration>Study Orchestration<a class=headerlink href=#study-orchestration title="Permanent link">&para;</a></h2> <p>Study classes that orchestrate simulation workflows.</p> <h3 id=base-study>Base Study<a class=headerlink href=#base-study title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.studies.base_study class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.studies.base_study</span> <a href=#goliat.studies.base_study class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.studies.base_study-classes>Classes<a href=#goliat.studies.base_study-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.studies.base_study.BaseStudy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">BaseStudy</span> <a href=#goliat.studies.base_study.BaseStudy class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>BaseStudy</span><span class=p>(</span><span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>config_filename</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>gui</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>QueueGUI</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>profiler</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.logging_manager.LoggingMixin</code>" href=#goliat.logging_manager.LoggingMixin>LoggingMixin</a></code></p> <p>Base class for simulation studies.</p> <p>Handles common setup like config loading, profiling, project management, and <abbr title="Graphical User Interface">GUI</abbr> coordination. Subclasses implement _run_study() for specific logic.</p> <details class=quote> <summary>Source code in <code>goliat/studies/base_study.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>config_filename</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>gui</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s2>&quot;QueueGUI&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>profiler</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=p>):</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span> <span class=o>=</span> <span class=n>study_type</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=o>=</span> <span class=n>gui</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=bp>self</span><span class=o>.</span><span class=n>no_cache</span> <span class=o>=</span> <span class=n>no_cache</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))))</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>Config</span><span class=p>(</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>        <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>        <span class=n>config_filename</span> <span class=k>if</span> <span class=n>config_filename</span> <span class=k>else</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=si>}</span><span class=s2>_config.json&quot;</span><span class=p>,</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=p>)</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=c1># Get study-specific profiling config</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=n>profiling_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_profiling_config</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>)</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=n>execution_control</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;execution_control&quot;</span><span class=p>,</span> <span class=p>{</span><span class=s2>&quot;do_setup&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;do_run&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;do_extract&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>})</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span> <span class=o>=</span> <span class=n>Profiler</span><span class=p>(</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>        <span class=n>execution_control</span><span class=p>,</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>        <span class=n>profiling_config</span><span class=p>,</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>        <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>,</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiling_config_path</span><span class=p>,</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>    <span class=p>)</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=bp>self</span><span class=o>.</span><span class=n>line_profiler</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=bp>self</span><span class=o>.</span><span class=n>project_manager</span> <span class=o>=</span> <span class=n>ProjectManager</span><span class=p>(</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>        <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=p>,</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=n>no_cache</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>no_cache</span><span class=p>,</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.studies.base_study.BaseStudy-functions>Functions<a href=#goliat.studies.base_study.BaseStudy-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.studies.base_study.BaseStudy.subtask class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">subtask</span> <a href=#goliat.studies.base_study.BaseStudy.subtask class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>subtask</span><span class=p>(</span><span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>instance_to_profile</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>A context manager for a 'subtask' within a phase.</p> <details class=quote> <summary>Source code in <code>goliat/studies/base_study.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a><span class=nd>@contextlib</span><span class=o>.</span><span class=n>contextmanager</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=k>def</span><span class=w> </span><span class=nf>subtask</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>instance_to_profile</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;A context manager for a &#39;subtask&#39; within a phase.&quot;&quot;&quot;</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>    <span class=n>is_top_level_subtask</span> <span class=o>=</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_stack</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>    <span class=n>sub_stage_display_name</span> <span class=o>=</span> <span class=n>task_name</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>,</span> <span class=s2>&quot; &quot;</span><span class=p>)</span><span class=o>.</span><span class=n>capitalize</span><span class=p>()</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>    <span class=k>if</span> <span class=n>is_top_level_subtask</span><span class=p>:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  - </span><span class=si>{</span><span class=n>sub_stage_display_name</span><span class=si>}</span><span class=s2>...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>current_phase</span><span class=p>:</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>            <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_stage_progress</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>current_phase</span><span class=o>.</span><span class=n>capitalize</span><span class=p>(),</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>sub_stage</span><span class=o>=</span><span class=n>sub_stage_display_name</span><span class=p>)</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>            <span class=bp>self</span><span class=o>.</span><span class=n>start_stage_animation</span><span class=p>(</span><span class=n>task_name</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>    <span class=n>lp</span><span class=p>,</span> <span class=n>wrapper</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_setup_line_profiler_if_needed</span><span class=p>(</span><span class=n>task_name</span><span class=p>,</span> <span class=n>instance_to_profile</span><span class=p>)</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=n>task_name</span><span class=p>):</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>            <span class=k>if</span> <span class=n>lp</span> <span class=ow>and</span> <span class=n>wrapper</span><span class=p>:</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>                <span class=k>yield</span> <span class=n>wrapper</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>                <span class=k>yield</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>    <span class=k>finally</span><span class=p>:</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=n>task_name</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;    - Subtask &#39;</span><span class=si>{</span><span class=n>task_name</span><span class=si>}</span><span class=s2>&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>        <span class=k>if</span> <span class=n>is_top_level_subtask</span><span class=p>:</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;    - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=p>:</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>                <span class=bp>self</span><span class=o>.</span><span class=n>end_stage_animation</span><span class=p>()</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>current_phase</span><span class=p>:</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_stage_progress</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>current_phase</span><span class=o>.</span><span class=n>capitalize</span><span class=p>(),</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>        <span class=k>if</span> <span class=n>lp</span><span class=p>:</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log_line_profiler_stats</span><span class=p>(</span><span class=n>task_name</span><span class=p>,</span> <span class=n>lp</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.studies.base_study.BaseStudy.start_stage_animation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">start_stage_animation</span> <a href=#goliat.studies.base_study.BaseStudy.start_stage_animation class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>start_stage_animation</span><span class=p>(</span><span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>end_value</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Starts progress bar animation for the current stage.</p> <details class=quote> <summary>Source code in <code>goliat/studies/base_study.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a><span class=k>def</span><span class=w> </span><span class=nf>start_stage_animation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>end_value</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Starts progress bar animation for the current stage.&quot;&quot;&quot;</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=p>:</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>        <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>start_stage_animation</span><span class=p>(</span><span class=n>task_name</span><span class=p>,</span> <span class=n>end_value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.studies.base_study.BaseStudy.end_stage_animation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">end_stage_animation</span> <a href=#goliat.studies.base_study.BaseStudy.end_stage_animation class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>end_stage_animation</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Stops the current stage animation.</p> <details class=quote> <summary>Source code in <code>goliat/studies/base_study.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a><span class=k>def</span><span class=w> </span><span class=nf>end_stage_animation</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Stops the current stage animation.&quot;&quot;&quot;</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=p>:</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>        <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>end_stage_animation</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.studies.base_study.BaseStudy.run class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">run</span> <a href=#goliat.studies.base_study.BaseStudy.run class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>run</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Main entry point to run the study.</p> <p>Ensures Sim4Life is running, calls _run_study(), and handles cleanup and error reporting. Catches StudyCancelledError for graceful shutdown.</p> <details class=quote> <summary>Source code in <code>goliat/studies/base_study.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a><span class=k>def</span><span class=w> </span><span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Main entry point to run the study.</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a><span class=sd>    Ensures Sim4Life is running, calls _run_study(), and handles cleanup</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a><span class=sd>    and error reporting. Catches StudyCancelledError for graceful shutdown.</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>    <span class=n>ensure_s4l_running</span><span class=p>()</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_run_study</span><span class=p>()</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>    <span class=k>except</span> <span class=n>StudyCancelledError</span><span class=p>:</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>            <span class=s2>&quot;--- Study execution cancelled by user. ---&quot;</span><span class=p>,</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>            <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>        <span class=p>)</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;--- FATAL ERROR in study: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2> ---&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;fatal&quot;</span><span class=p>)</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>traceback</span><span class=o>.</span><span class=n>format_exc</span><span class=p>())</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>    <span class=k>finally</span><span class=p>:</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>            <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>--- </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2> Finished ---&quot;</span><span class=p>,</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>            <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>,</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>        <span class=p>)</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>        <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>save_estimates</span><span class=p>()</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>        <span class=bp>self</span><span class=o>.</span><span class=n>project_manager</span><span class=o>.</span><span class=n>cleanup</span><span class=p>()</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=p>:</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>            <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_profiler</span><span class=p>()</span>  <span class=c1># Send final profiler state</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <h3 id=goliat.studies.base_study-functions>Functions<a href=#goliat.studies.base_study-functions class=headerlink title="Permanent link">&para;</a></h3> </div> </div> </div><h3 id=far-field-study>Far-Field Study<a class=headerlink href=#far-field-study title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.studies.far_field_study class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.studies.far_field_study</span> <a href=#goliat.studies.far_field_study class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.studies.far_field_study-classes>Classes<a href=#goliat.studies.far_field_study-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.studies.far_field_study.FarFieldStudy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">FarFieldStudy</span> <a href=#goliat.studies.far_field_study.FarFieldStudy class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>FarFieldStudy</span><span class=p>(</span><span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>config_filename</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>gui</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>QueueGUI</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>profiler</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.studies.base_study.BaseStudy</code>" href=#goliat.studies.base_study.BaseStudy>BaseStudy</a></code></p> <p>Manages far-field simulation campaigns.</p> <p>Runs plane wave simulations across phantoms, frequencies, directions, and polarizations. Handles setup, run, and extraction phases with progress tracking.</p> <details class=quote> <summary>Source code in <code>goliat/studies/base_study.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>config_filename</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>gui</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s2>&quot;QueueGUI&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>profiler</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=p>):</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span> <span class=o>=</span> <span class=n>study_type</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=o>=</span> <span class=n>gui</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=bp>self</span><span class=o>.</span><span class=n>no_cache</span> <span class=o>=</span> <span class=n>no_cache</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))))</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>Config</span><span class=p>(</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>        <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>        <span class=n>config_filename</span> <span class=k>if</span> <span class=n>config_filename</span> <span class=k>else</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=si>}</span><span class=s2>_config.json&quot;</span><span class=p>,</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=p>)</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=c1># Get study-specific profiling config</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=n>profiling_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_profiling_config</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>)</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=n>execution_control</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;execution_control&quot;</span><span class=p>,</span> <span class=p>{</span><span class=s2>&quot;do_setup&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;do_run&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;do_extract&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>})</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span> <span class=o>=</span> <span class=n>Profiler</span><span class=p>(</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>        <span class=n>execution_control</span><span class=p>,</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>        <span class=n>profiling_config</span><span class=p>,</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>        <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>,</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiling_config_path</span><span class=p>,</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>    <span class=p>)</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=bp>self</span><span class=o>.</span><span class=n>line_profiler</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=bp>self</span><span class=o>.</span><span class=n>project_manager</span> <span class=o>=</span> <span class=n>ProjectManager</span><span class=p>(</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>        <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=p>,</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=n>no_cache</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>no_cache</span><span class=p>,</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <h3 id=goliat.studies.far_field_study-functions>Functions<a href=#goliat.studies.far_field_study-functions class=headerlink title="Permanent link">&para;</a></h3> </div> </div> </div><h3 id=near-field-study>Near-Field Study<a class=headerlink href=#near-field-study title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.studies.near_field_study class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.studies.near_field_study</span> <a href=#goliat.studies.near_field_study class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.studies.near_field_study-classes>Classes<a href=#goliat.studies.near_field_study-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.studies.near_field_study.NearFieldStudy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">NearFieldStudy</span> <a href=#goliat.studies.near_field_study.NearFieldStudy class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>NearFieldStudy</span><span class=p>(</span><span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>config_filename</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>gui</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>QueueGUI</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>profiler</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.studies.base_study.BaseStudy</code>" href=#goliat.studies.base_study.BaseStudy>BaseStudy</a></code></p> <p>Manages near-field simulation campaigns.</p> <p>Runs simulations across phantoms, frequencies, placements, positions, and orientations. Handles setup, run, and extraction phases with progress tracking and metadata verification.</p> <details class=quote> <summary>Source code in <code>goliat/studies/base_study.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>study_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>config_filename</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>gui</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s2>&quot;QueueGUI&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>profiler</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=n>no_cache</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=p>):</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span> <span class=o>=</span> <span class=n>study_type</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=o>=</span> <span class=n>gui</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=bp>self</span><span class=o>.</span><span class=n>no_cache</span> <span class=o>=</span> <span class=n>no_cache</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))))</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>Config</span><span class=p>(</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>        <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>        <span class=n>config_filename</span> <span class=k>if</span> <span class=n>config_filename</span> <span class=k>else</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=si>}</span><span class=s2>_config.json&quot;</span><span class=p>,</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=p>)</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=c1># Get study-specific profiling config</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=n>profiling_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_profiling_config</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>)</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=n>execution_control</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;execution_control&quot;</span><span class=p>,</span> <span class=p>{</span><span class=s2>&quot;do_setup&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;do_run&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&quot;do_extract&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>})</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span> <span class=o>=</span> <span class=n>Profiler</span><span class=p>(</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>        <span class=n>execution_control</span><span class=p>,</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>        <span class=n>profiling_config</span><span class=p>,</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>        <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span><span class=p>,</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiling_config_path</span><span class=p>,</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>    <span class=p>)</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=bp>self</span><span class=o>.</span><span class=n>line_profiler</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=bp>self</span><span class=o>.</span><span class=n>project_manager</span> <span class=o>=</span> <span class=n>ProjectManager</span><span class=p>(</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>        <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=p>,</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=n>no_cache</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>no_cache</span><span class=p>,</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <h3 id=goliat.studies.near_field_study-functions>Functions<a href=#goliat.studies.near_field_study-functions class=headerlink title="Permanent link">&para;</a></h3> </div> </div> </div><hr> <h2 id=setup-modules>Setup Modules<a class=headerlink href=#setup-modules title="Permanent link">&para;</a></h2> <p>Classes responsible for building the Sim4Life simulation scene.</p> <h3 id=base-setup>Base Setup<a class=headerlink href=#base-setup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.setups.base_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.setups.base_setup</span> <a href=#goliat.setups.base_setup class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.setups.base_setup-classes>Classes<a href=#goliat.setups.base_setup-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.setups.base_setup.BaseSetup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">BaseSetup</span> <a href=#goliat.setups.base_setup.BaseSetup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>BaseSetup</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.logging_manager.LoggingMixin</code>" href=#goliat.logging_manager.LoggingMixin>LoggingMixin</a></code></p> <p>Base class for simulation setup modules.</p> <p>Provides common functionality like solver configuration, time/termination setup, point sensor creation, and final voxelization. Subclasses implement run_full_setup() for specific setup logic.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.config.Config</code>" href=#goliat.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>Configuration object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>verbose_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for detailed output.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>progress_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for progress updates.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/base_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>):</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the base setup.</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>    Args:</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        config: Configuration object.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>        verbose_logger: Logger for detailed output.</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>        progress_logger: Logger for progress updates.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>verbose_logger</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span> <span class=o>=</span> <span class=n>progress_logger</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=bp>self</span><span class=o>.</span><span class=n>s4l_v1</span> <span class=o>=</span> <span class=n>s4l_v1</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=bp>self</span><span class=o>.</span><span class=n>emfdtd</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>s4l_v1</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>emfdtd</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=bp>self</span><span class=o>.</span><span class=n>model</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>s4l_v1</span><span class=o>.</span><span class=n>model</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.setups.base_setup.BaseSetup-functions>Functions<a href=#goliat.setups.base_setup.BaseSetup-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.setups.base_setup.BaseSetup.run_full_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">run_full_setup</span> <a href=#goliat.setups.base_setup.BaseSetup.run_full_setup class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>run_full_setup</span><span class=p>(</span><span class=n>project_manager</span><span class=p>:</span> <span class=n>ProjectManager</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Prepares the simulation scene. Must be implemented by subclasses.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The configured simulation object.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=NotImplementedError>NotImplementedError</span></code> </td> <td> <div class=doc-md-description> <p>If not overridden by subclass.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/base_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a><span class=k>def</span><span class=w> </span><span class=nf>run_full_setup</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>project_manager</span><span class=p>:</span> <span class=s2>&quot;ProjectManager&quot;</span><span class=p>):</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Prepares the simulation scene. Must be implemented by subclasses.</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a><span class=sd>    Returns:</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a><span class=sd>        The configured simulation object.</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a><span class=sd>    Raises:</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a><span class=sd>        NotImplementedError: If not overridden by subclass.</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>    <span class=k>raise</span> <span class=ne>NotImplementedError</span><span class=p>(</span><span class=s2>&quot;The &#39;run_full_setup&#39; method must be implemented by a subclass.&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=boundary-setup>Boundary Setup<a class=headerlink href=#boundary-setup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.setups.boundary_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.setups.boundary_setup</span> <a href=#goliat.setups.boundary_setup class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.setups.boundary_setup-classes>Classes<a href=#goliat.setups.boundary_setup-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.setups.boundary_setup.BoundarySetup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">BoundarySetup</span> <a href=#goliat.setups.boundary_setup.BoundarySetup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>BoundarySetup</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>simulation</span><span class=p>:</span> <span class=n>Simulation</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.setups.base_setup.BaseSetup</code>" href=#goliat.setups.base_setup.BaseSetup>BaseSetup</a></code></p> <p>Configures the boundary conditions for the simulation.</p> <details class=quote> <summary>Source code in <code>goliat/setups/boundary_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a>    <span class=n>simulation</span><span class=p>:</span> <span class=s2>&quot;emfdtd.Simulation&quot;</span><span class=p>,</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=p>):</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span> <span class=o>=</span> <span class=n>simulation</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.setups.boundary_setup.BoundarySetup-functions>Functions<a href=#goliat.setups.boundary_setup.BoundarySetup-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.setups.boundary_setup.BoundarySetup.setup_boundary_conditions class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">setup_boundary_conditions</span> <a href=#goliat.setups.boundary_setup.BoundarySetup.setup_boundary_conditions class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>setup_boundary_conditions</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Configures <abbr title="Perfectly Matched Layer">PML</abbr> boundary conditions from the solver settings.</p> <p>Sets the global boundary type (e.g., UPML/CPML) and <abbr title="Perfectly Matched Layer">PML</abbr> strength (Low/Medium/High) based on the config.</p> <details class=quote> <summary>Source code in <code>goliat/setups/boundary_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=k>def</span><span class=w> </span><span class=nf>setup_boundary_conditions</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Configures PML boundary conditions from the solver settings.</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=sd>    Sets the global boundary type (e.g., UPML/CPML) and PML strength</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=sd>    (Low/Medium/High) based on the config.</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Setting up boundary conditions...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>solver_settings</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_solver_settings</span><span class=p>()</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>boundary_config</span> <span class=o>=</span> <span class=n>solver_settings</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;boundary_conditions&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=c1># Set Boundary Type (e.g., UpmlCpml)</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=n>bc_type</span> <span class=o>=</span> <span class=n>boundary_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;type&quot;</span><span class=p>,</span> <span class=s2>&quot;UpmlCpml&quot;</span><span class=p>)</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  - Setting global boundary conditions to: </span><span class=si>{</span><span class=n>bc_type</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=n>global_boundaries</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>GlobalBoundarySettings</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=k>if</span> <span class=n>global_boundaries</span><span class=p>:</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>        <span class=n>bc_enum</span> <span class=o>=</span> <span class=n>global_boundaries</span><span class=o>.</span><span class=n>GlobalBoundaryType</span><span class=o>.</span><span class=n>enum</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>bc_enum</span><span class=p>,</span> <span class=n>bc_type</span><span class=p>):</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>            <span class=n>global_boundaries</span><span class=o>.</span><span class=n>GlobalBoundaryType</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>bc_enum</span><span class=p>,</span> <span class=n>bc_type</span><span class=p>)</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>                <span class=sa>f</span><span class=s2>&quot;    - Successfully set GlobalBoundaryType to </span><span class=si>{</span><span class=n>bc_type</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>                <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>,</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>            <span class=p>)</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>                <span class=sa>f</span><span class=s2>&quot;    - Warning: Invalid boundary condition type &#39;</span><span class=si>{</span><span class=n>bc_type</span><span class=si>}</span><span class=s2>&#39;. Using default.&quot;</span><span class=p>,</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>                <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>            <span class=p>)</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>            <span class=s2>&quot;    - Warning: &#39;GlobalBoundarySettings&#39; not found on simulation object.&quot;</span><span class=p>,</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>        <span class=p>)</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=c1># Set PML Strength</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=n>strength</span> <span class=o>=</span> <span class=n>boundary_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;strength&quot;</span><span class=p>,</span> <span class=s2>&quot;Medium&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>capitalize</span><span class=p>()</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  - Setting PML strength to: </span><span class=si>{</span><span class=n>strength</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=n>boundary_settings_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>AllSettings</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>emfdtd</span><span class=o>.</span><span class=n>BoundarySettings</span><span class=p>)]</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>boundary_settings_list</span><span class=p>:</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>            <span class=s2>&quot;  - No BoundarySettings found in simulation. Cannot set PML strength.&quot;</span><span class=p>,</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>        <span class=p>)</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>        <span class=k>return</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=n>boundary_settings</span> <span class=o>=</span> <span class=n>boundary_settings_list</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=n>strength_enum</span> <span class=o>=</span> <span class=n>boundary_settings</span><span class=o>.</span><span class=n>PmlStrength</span><span class=o>.</span><span class=n>enum</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>strength_enum</span><span class=p>,</span> <span class=n>strength</span><span class=p>):</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>        <span class=n>boundary_settings</span><span class=o>.</span><span class=n>PmlStrength</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>strength_enum</span><span class=p>,</span> <span class=n>strength</span><span class=p>)</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;    - Successfully set PmlStrength to </span><span class=si>{</span><span class=n>strength</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>            <span class=sa>f</span><span class=s2>&quot;    - Warning: Invalid PML strength &#39;</span><span class=si>{</span><span class=n>strength</span><span class=si>}</span><span class=s2>&#39;. Using default (Medium).&quot;</span><span class=p>,</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>        <span class=p>)</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>        <span class=n>boundary_settings</span><span class=o>.</span><span class=n>PmlStrength</span> <span class=o>=</span> <span class=n>strength_enum</span><span class=o>.</span><span class=n>Medium</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=far-field-setup>Far-Field Setup<a class=headerlink href=#far-field-setup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.setups.far_field_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.setups.far_field_setup</span> <a href=#goliat.setups.far_field_setup class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.setups.far_field_setup-classes>Classes<a href=#goliat.setups.far_field_setup-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.setups.far_field_setup.FarFieldSetup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">FarFieldSetup</span> <a href=#goliat.setups.far_field_setup.FarFieldSetup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>FarFieldSetup</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>direction_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>polarization_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>project_manager</span><span class=p>:</span> <span class=n>ProjectManager</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>profiler</span><span class=p>:</span> <span class=n>Profiler</span><span class=p>,</span> <span class=n>gui</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.setups.base_setup.BaseSetup</code>" href=#goliat.setups.base_setup.BaseSetup>BaseSetup</a></code></p> <p>Configures a far-field simulation for a specific direction and polarization.</p> <details class=quote> <summary>Source code in <code>goliat/setups/far_field_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=n>direction_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>polarization_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>project_manager</span><span class=p>:</span> <span class=s2>&quot;ProjectManager&quot;</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=n>profiler</span><span class=p>:</span> <span class=s2>&quot;Profiler&quot;</span><span class=p>,</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=n>gui</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=p>):</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span> <span class=o>=</span> <span class=n>frequency_mhz</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=bp>self</span><span class=o>.</span><span class=n>direction_name</span> <span class=o>=</span> <span class=n>direction_name</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=bp>self</span><span class=o>.</span><span class=n>polarization_name</span> <span class=o>=</span> <span class=n>polarization_name</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>project_manager</span> <span class=o>=</span> <span class=n>project_manager</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span> <span class=o>=</span> <span class=n>profiler</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=o>=</span> <span class=n>gui</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;far_field_setup/type&quot;</span><span class=p>,</span> <span class=s2>&quot;environmental&quot;</span><span class=p>)</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>s4l_v1</span><span class=o>.</span><span class=n>document</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.setups.far_field_setup.FarFieldSetup-functions>Functions<a href=#goliat.setups.far_field_setup.FarFieldSetup-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.setups.far_field_setup.FarFieldSetup.run_full_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">run_full_setup</span> <a href=#goliat.setups.far_field_setup.FarFieldSetup.run_full_setup class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>run_full_setup</span><span class=p>(</span><span class=n>project_manager</span><span class=p>:</span> <span class=n>ProjectManager</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>emfdtd</span><span class=o>.</span><span class=n>Simulation</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Executes the full setup sequence for a single far-field simulation with granular timing.</p> <details class=quote> <summary>Source code in <code>goliat/setups/far_field_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-49> 49</a></span>
<span class=normal><a href=#__codelineno-0-50> 50</a></span>
<span class=normal><a href=#__codelineno-0-51> 51</a></span>
<span class=normal><a href=#__codelineno-0-52> 52</a></span>
<span class=normal><a href=#__codelineno-0-53> 53</a></span>
<span class=normal><a href=#__codelineno-0-54> 54</a></span>
<span class=normal><a href=#__codelineno-0-55> 55</a></span>
<span class=normal><a href=#__codelineno-0-56> 56</a></span>
<span class=normal><a href=#__codelineno-0-57> 57</a></span>
<span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a><span class=k>def</span><span class=w> </span><span class=nf>run_full_setup</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>project_manager</span><span class=p>:</span> <span class=s2>&quot;ProjectManager&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;emfdtd.Simulation&quot;</span><span class=p>:</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Executes the full setup sequence for a single far-field simulation with granular timing.&quot;&quot;&quot;</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;--- Setting up single Far-Field sim ---&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;header&quot;</span><span class=p>)</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>    <span class=c1># Subtask 1: Load phantom</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Load phantom...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_load_phantom&quot;</span><span class=p>):</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>        <span class=n>phantom_setup</span> <span class=o>=</span> <span class=n>PhantomSetup</span><span class=p>(</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>            <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=p>,</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>            <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>            <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>        <span class=p>)</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>        <span class=n>phantom_setup</span><span class=o>.</span><span class=n>ensure_phantom_is_loaded</span><span class=p>()</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_load_phantom&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_load_phantom&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>    <span class=c1># Subtask 2: Configure scene</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Configure scene (bbox, plane wave)...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_configure_scene&quot;</span><span class=p>):</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>        <span class=n>bbox_entity</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_or_get_simulation_bbox</span><span class=p>()</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>        <span class=n>simulation</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_simulation_entity</span><span class=p>(</span><span class=n>bbox_entity</span><span class=p>)</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_configure_scene&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_configure_scene&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=c1># Subtask 3: Assign materials</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Assign materials...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_materials&quot;</span><span class=p>):</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>        <span class=n>material_setup</span> <span class=o>=</span> <span class=n>MaterialSetup</span><span class=p>(</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>            <span class=n>simulation</span><span class=p>,</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>            <span class=kc>None</span><span class=p>,</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>            <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=p>,</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>            <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>            <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>            <span class=n>free_space</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>        <span class=p>)</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>        <span class=n>material_setup</span><span class=o>.</span><span class=n>assign_materials</span><span class=p>(</span><span class=n>phantom_only</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_materials&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_materials&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>    <span class=c1># Subtask 4: Configure solver</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Configure solver (gridding, boundaries, sensors)...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_solver&quot;</span><span class=p>):</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>        <span class=n>gridding_setup</span> <span class=o>=</span> <span class=n>GriddingSetup</span><span class=p>(</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>            <span class=n>simulation</span><span class=p>,</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>            <span class=kc>None</span><span class=p>,</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>            <span class=kc>None</span><span class=p>,</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>            <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>            <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>            <span class=n>frequency_mhz</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>,</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=p>)</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=n>gridding_setup</span><span class=o>.</span><span class=n>setup_gridding</span><span class=p>()</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>        <span class=n>boundary_setup</span> <span class=o>=</span> <span class=n>BoundarySetup</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span> <span class=n>simulation</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>        <span class=n>boundary_setup</span><span class=o>.</span><span class=n>setup_boundary_conditions</span><span class=p>()</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_add_point_sensors</span><span class=p>(</span><span class=n>simulation</span><span class=p>,</span> <span class=s2>&quot;far_field_simulation_bbox&quot;</span><span class=p>)</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_setup_solver_settings</span><span class=p>(</span><span class=n>simulation</span><span class=p>)</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_solver&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_solver&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>    <span class=c1># Subtask 5: Voxelize</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Voxelize simulation...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_voxelize&quot;</span><span class=p>):</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>        <span class=n>bbox_entity</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>            <span class=p>(</span><span class=n>e</span> <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>AllEntities</span><span class=p>()</span> <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>e</span><span class=p>,</span> <span class=s2>&quot;Name&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=n>e</span><span class=o>.</span><span class=n>Name</span> <span class=o>==</span> <span class=s2>&quot;far_field_simulation_bbox&quot;</span><span class=p>),</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>            <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>        <span class=p>)</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>bbox_entity</span><span class=p>:</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>            <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&quot;Could not find &#39;far_field_simulation_bbox&#39; for voxelization.&quot;</span><span class=p>)</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>        <span class=kn>import</span><span class=w> </span><span class=nn>XCoreModeling</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>        <span class=n>phantom_entities</span> <span class=o>=</span> <span class=p>[</span><span class=n>e</span> <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>AllEntities</span><span class=p>()</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>e</span><span class=p>,</span> <span class=n>XCoreModeling</span><span class=o>.</span><span class=n>TriangleMesh</span><span class=p>)]</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>        <span class=n>point_sensor_entities</span> <span class=o>=</span> <span class=p>[</span><span class=n>e</span> <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>AllEntities</span><span class=p>()</span> <span class=k>if</span> <span class=s2>&quot;Point Sensor Entity&quot;</span> <span class=ow>in</span> <span class=n>e</span><span class=o>.</span><span class=n>Name</span><span class=p>]</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>        <span class=n>all_simulation_parts</span> <span class=o>=</span> <span class=n>phantom_entities</span> <span class=o>+</span> <span class=p>[</span><span class=n>bbox_entity</span><span class=p>]</span> <span class=o>+</span> <span class=n>point_sensor_entities</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>_finalize_setup</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>project_manager</span><span class=p>,</span> <span class=n>simulation</span><span class=p>,</span> <span class=n>all_simulation_parts</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>)</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_voxelize&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_voxelize&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>    <span class=c1># Subtask 6: Save project</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Save project...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_save_project&quot;</span><span class=p>):</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>        <span class=n>project_manager</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_save_project&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_save_project&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Common settings applied.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>    <span class=k>return</span> <span class=n>simulation</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=gridding-setup>Gridding Setup<a class=headerlink href=#gridding-setup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.setups.gridding_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.setups.gridding_setup</span> <a href=#goliat.setups.gridding_setup class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.setups.gridding_setup-classes>Classes<a href=#goliat.setups.gridding_setup-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.setups.gridding_setup.GriddingSetup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">GriddingSetup</span> <a href=#goliat.setups.gridding_setup.GriddingSetup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>GriddingSetup</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>simulation</span><span class=p>:</span> <span class=n>Simulation</span><span class=p>,</span> <span class=n>placement_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>antenna</span><span class=p>:</span> <span class=n>Antenna</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.setups.base_setup.BaseSetup</code>" href=#goliat.setups.base_setup.BaseSetup>BaseSetup</a></code></p> <p>Configures simulation grid resolution and subgridding.</p> <p>Sets up main grid (automatic or manual) with padding, and optional antenna-specific subgrids for fine details.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.config.Config</code>" href=#goliat.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>Configuration object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>simulation</code> </td> <td> <code><span title=s4l_v1.simulation.emfdtd.Simulation>Simulation</span></code> </td> <td> <div class=doc-md-description> <p>The simulation object to configure gridding for.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>placement_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of the placement scenario.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>antenna</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.antenna.Antenna</code>" href=#goliat.antenna.Antenna>Antenna</a></code> </td> <td> <div class=doc-md-description> <p>Antenna object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>verbose_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for detailed output.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>progress_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for progress updates.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>frequency_mhz</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Simulation frequency in <abbr title=Megahertz>MHz</abbr> (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/gridding_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=n>simulation</span><span class=p>:</span> <span class=s2>&quot;emfdtd.Simulation&quot;</span><span class=p>,</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=n>placement_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=n>antenna</span><span class=p>:</span> <span class=s2>&quot;Antenna&quot;</span><span class=p>,</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a><span class=p>):</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initializes the GriddingSetup.</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=sd>    Args:</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=sd>        config: Configuration object.</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=sd>        simulation: The simulation object to configure gridding for.</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>        placement_name: Name of the placement scenario.</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>        antenna: Antenna object.</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        verbose_logger: Logger for detailed output.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>        progress_logger: Logger for progress updates.</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>        frequency_mhz: Simulation frequency in MHz (optional).</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span> <span class=o>=</span> <span class=n>simulation</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span> <span class=o>=</span> <span class=n>placement_name</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span> <span class=o>=</span> <span class=n>antenna</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span> <span class=o>=</span> <span class=n>frequency_mhz</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.units</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=bp>self</span><span class=o>.</span><span class=n>units</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>units</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.setups.gridding_setup.GriddingSetup-functions>Functions<a href=#goliat.setups.gridding_setup.GriddingSetup-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.setups.gridding_setup.GriddingSetup.setup_gridding class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">setup_gridding</span> <a href=#goliat.setups.gridding_setup.GriddingSetup.setup_gridding class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>setup_gridding</span><span class=p>(</span><span class=n>antenna_components</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sets up main grid and optional antenna subgrids.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>antenna_components</code> </td> <td> <code><span title=dict>dict</span> | None</code> </td> <td> <div class=doc-md-description> <p>Dict mapping component names to entities.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/gridding_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a><span class=k>def</span><span class=w> </span><span class=nf>setup_gridding</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>antenna_components</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up main grid and optional antenna subgrids.</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a><span class=sd>    Args:</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a><span class=sd>        antenna_components: Dict mapping component names to entities.</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Setting up gridding...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_setup_main_grid</span><span class=p>()</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=k>if</span> <span class=n>antenna_components</span><span class=p>:</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_setup_subgrids</span><span class=p>(</span><span class=n>antenna_components</span><span class=p>)</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>            <span class=s2>&quot;  - No antenna components provided, skipping subgridding.&quot;</span><span class=p>,</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>        <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=material-setup>Material Setup<a class=headerlink href=#material-setup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.setups.material_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.setups.material_setup</span> <a href=#goliat.setups.material_setup class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.setups.material_setup-classes>Classes<a href=#goliat.setups.material_setup-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.setups.material_setup.MaterialSetup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">MaterialSetup</span> <a href=#goliat.setups.material_setup.MaterialSetup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>MaterialSetup</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>simulation</span><span class=p>:</span> <span class=n>Simulation</span><span class=p>,</span> <span class=n>antenna</span><span class=p>:</span> <span class=n>Antenna</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>free_space</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.setups.base_setup.BaseSetup</code>" href=#goliat.setups.base_setup.BaseSetup>BaseSetup</a></code></p> <p>Assigns materials to phantom tissues and antenna components.</p> <p>Maps tissue names to <abbr title="Foundation for Research on Information Technologies in Society">IT'IS</abbr> database materials and assigns antenna materials from config. Uses file locking for thread-safe database access.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.config.Config</code>" href=#goliat.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>Configuration object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>simulation</code> </td> <td> <code><span title=s4l_v1.simulation.emfdtd.Simulation>Simulation</span></code> </td> <td> <div class=doc-md-description> <p>The simulation object to assign materials to.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>antenna</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.antenna.Antenna</code>" href=#goliat.antenna.Antenna>Antenna</a></code> </td> <td> <div class=doc-md-description> <p>Antenna object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>phantom_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of the phantom model.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>verbose_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for detailed output.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>progress_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for progress updates.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>free_space</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Whether this is a free-space simulation.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/material_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=n>simulation</span><span class=p>:</span> <span class=s2>&quot;emfdtd.Simulation&quot;</span><span class=p>,</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=n>antenna</span><span class=p>:</span> <span class=s2>&quot;Antenna&quot;</span><span class=p>,</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>free_space</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a><span class=p>):</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initializes the MaterialSetup.</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=sd>    Args:</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=sd>        config: Configuration object.</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=sd>        simulation: The simulation object to assign materials to.</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>        antenna: Antenna object.</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>        phantom_name: Name of the phantom model.</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        verbose_logger: Logger for detailed output.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>        progress_logger: Logger for progress updates.</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>        free_space: Whether this is a free-space simulation.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span> <span class=o>=</span> <span class=n>simulation</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span> <span class=o>=</span> <span class=n>antenna</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span> <span class=o>=</span> <span class=n>free_space</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=c1># Import required modules</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.materials.database</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=kn>import</span><span class=w> </span><span class=nn>XCoreModeling</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=c1># Access material database - use s4l_v1.materials.database</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=bp>self</span><span class=o>.</span><span class=n>database</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>materials</span><span class=o>.</span><span class=n>database</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=bp>self</span><span class=o>.</span><span class=n>XCoreModeling</span> <span class=o>=</span> <span class=n>XCoreModeling</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.setups.material_setup.MaterialSetup-functions>Functions<a href=#goliat.setups.material_setup.MaterialSetup-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.setups.material_setup.MaterialSetup.assign_materials class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">assign_materials</span> <a href=#goliat.setups.material_setup.MaterialSetup.assign_materials class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>assign_materials</span><span class=p>(</span><span class=n>antenna_components</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>phantom_only</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Assigns materials to simulation entities.</p> <p>Sets background to Air, then assigns phantom materials if not free-space, and antenna materials if not phantom_only mode.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>antenna_components</code> </td> <td> <code><span title=dict>dict</span> | None</code> </td> <td> <div class=doc-md-description> <p>Dict mapping component names to entities.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>phantom_only</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If True, skips antenna material assignment.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/material_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a><span class=k>def</span><span class=w> </span><span class=nf>assign_materials</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>antenna_components</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>phantom_only</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>):</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Assigns materials to simulation entities.</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=sd>    Sets background to Air, then assigns phantom materials if not free-space,</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a><span class=sd>    and antenna materials if not phantom_only mode.</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a><span class=sd>    Args:</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a><span class=sd>        antenna_components: Dict mapping component names to entities.</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a><span class=sd>        phantom_only: If True, skips antenna material assignment.</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Assigning materials...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>    <span class=c1># Background material</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>    <span class=n>background_settings</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>raw</span><span class=o>.</span><span class=n>BackgroundMaterialSettings</span><span class=p>()</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=n>air_material</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>database</span><span class=p>[</span><span class=s2>&quot;Generic 1.1&quot;</span><span class=p>][</span><span class=s2>&quot;Air&quot;</span><span class=p>]</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>raw</span><span class=o>.</span><span class=n>AssignMaterial</span><span class=p>(</span><span class=n>background_settings</span><span class=p>,</span> <span class=n>air_material</span><span class=p>)</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=c1># Phantom materials</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span><span class=p>:</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_assign_phantom_materials</span><span class=p>()</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>    <span class=c1># Antenna materials</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>phantom_only</span><span class=p>:</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>antenna_components</span><span class=p>:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;antenna_components must be provided when not in phantom_only mode.&quot;</span><span class=p>)</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_assign_antenna_materials</span><span class=p>(</span><span class=n>antenna_components</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=near-field-setup>Near-Field Setup<a class=headerlink href=#near-field-setup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.setups.near_field_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.setups.near_field_setup</span> <a href=#goliat.setups.near_field_setup class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.setups.near_field_setup-classes>Classes<a href=#goliat.setups.near_field_setup-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.setups.near_field_setup.NearFieldSetup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">NearFieldSetup</span> <a href=#goliat.setups.near_field_setup.NearFieldSetup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>NearFieldSetup</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>position_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>orientation_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>antenna</span><span class=p>:</span> <span class=n>Antenna</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>profiler</span><span class=p>:</span> <span class=n>Profiler</span><span class=p>,</span> <span class=n>gui</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>free_space</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.setups.base_setup.BaseSetup</code>" href=#goliat.setups.base_setup.BaseSetup>BaseSetup</a></code></p> <p>Configures the simulation environment by coordinating setup modules.</p> <details class=quote> <summary>Source code in <code>goliat/setups/near_field_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>position_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>orientation_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>antenna</span><span class=p>:</span> <span class=s2>&quot;Antenna&quot;</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=n>profiler</span><span class=p>:</span> <span class=s2>&quot;Profiler&quot;</span><span class=p>,</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=n>gui</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=n>free_space</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=p>):</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span> <span class=o>=</span> <span class=n>frequency_mhz</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_placement_name</span> <span class=o>=</span> <span class=n>scenario_name</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=bp>self</span><span class=o>.</span><span class=n>position_name</span> <span class=o>=</span> <span class=n>position_name</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>orientation_name</span> <span class=o>=</span> <span class=n>orientation_name</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>position_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>orientation_name</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span> <span class=o>=</span> <span class=n>antenna</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span> <span class=o>=</span> <span class=n>profiler</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=o>=</span> <span class=n>gui</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span> <span class=o>=</span> <span class=n>free_space</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=c1># S4L modules</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>    <span class=kn>import</span><span class=w> </span><span class=nn>XCoreModeling</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>s4l_v1</span><span class=o>.</span><span class=n>document</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=bp>self</span><span class=o>.</span><span class=n>XCoreModeling</span> <span class=o>=</span> <span class=n>XCoreModeling</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.setups.near_field_setup.NearFieldSetup-functions>Functions<a href=#goliat.setups.near_field_setup.NearFieldSetup-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.setups.near_field_setup.NearFieldSetup.run_full_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">run_full_setup</span> <a href=#goliat.setups.near_field_setup.NearFieldSetup.run_full_setup class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>run_full_setup</span><span class=p>(</span><span class=n>project_manager</span><span class=p>:</span> <span class=n>ProjectManager</span><span class=p>,</span> <span class=n>lock</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>emfdtd</span><span class=o>.</span><span class=n>Simulation</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Executes complete setup sequence with detailed timing.</p> <p>Orchestrates the entire simulation setup process in 6 major subtasks:</p> <ol> <li> <p>Load phantom: Imports phantom model from disk or downloads if missing. Creates head/trunk bounding boxes if needed.</p> </li> <li> <p>Configure scene: Imports antenna, places it relative to phantom, creates simulation bounding box, sets up simulation entity, adds point sensors. Handles special cases like phantom rotation and phone alignment.</p> </li> <li> <p>Assign materials: Maps tissue names to <abbr title="Foundation for Research on Information Technologies in Society">IT'IS</abbr> database materials, assigns antenna component materials from config. Uses file locking for thread safety.</p> </li> <li> <p>Configure solver: Sets up gridding (automatic or manual with subgrids), configures boundary conditions (<abbr title="Perfectly Matched Layer">PML</abbr>), and sets up excitation sources.</p> </li> <li> <p>Voxelize: Runs automatic voxelization on all simulation entities, updates materials and grid, optionally exports material properties.</p> </li> <li> <p>Save project: Saves the .smash file to disk.</p> </li> </ol> <p>Each subtask is profiled individually for accurate timing estimates. The method returns a fully configured simulation object ready to run.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>project_manager</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.project_manager.ProjectManager</code>" href=#goliat.project_manager.ProjectManager>ProjectManager</a></code> </td> <td> <div class=doc-md-description> <p>Project manager for saving operations.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>lock</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Optional lock (currently unused, reserved for future use).</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=s4l_v1.simulation.emfdtd.Simulation>Simulation</span></code> </td> <td> <div class=doc-md-description> <p>Fully configured simulation object ready for execution.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/near_field_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a><span class=k>def</span><span class=w> </span><span class=nf>run_full_setup</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>project_manager</span><span class=p>:</span> <span class=s2>&quot;ProjectManager&quot;</span><span class=p>,</span> <span class=n>lock</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;emfdtd.Simulation&quot;</span><span class=p>:</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Executes complete setup sequence with detailed timing.</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=sd>    Orchestrates the entire simulation setup process in 6 major subtasks:</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a><span class=sd>    1. Load phantom: Imports phantom model from disk or downloads if missing.</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a><span class=sd>       Creates head/trunk bounding boxes if needed.</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a><span class=sd>    2. Configure scene: Imports antenna, places it relative to phantom, creates</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a><span class=sd>       simulation bounding box, sets up simulation entity, adds point sensors.</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a><span class=sd>       Handles special cases like phantom rotation and phone alignment.</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a><span class=sd>    3. Assign materials: Maps tissue names to IT&#39;IS database materials, assigns</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a><span class=sd>       antenna component materials from config. Uses file locking for thread safety.</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a><span class=sd>    4. Configure solver: Sets up gridding (automatic or manual with subgrids),</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a><span class=sd>       configures boundary conditions (PML), and sets up excitation sources.</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=sd>    5. Voxelize: Runs automatic voxelization on all simulation entities, updates</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=sd>       materials and grid, optionally exports material properties.</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>    6. Save project: Saves the .smash file to disk.</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=sd>    Each subtask is profiled individually for accurate timing estimates. The method</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=sd>    returns a fully configured simulation object ready to run.</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a><span class=sd>    Args:</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a><span class=sd>        project_manager: Project manager for saving operations.</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=sd>        lock: Optional lock (currently unused, reserved for future use).</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a><span class=sd>    Returns:</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a><span class=sd>        Fully configured simulation object ready for execution.</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Running full simulation setup...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>    <span class=c1># Subtask 1: Load phantom</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span><span class=p>:</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Load phantom...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_load_phantom&quot;</span><span class=p>):</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>            <span class=n>phantom_setup</span> <span class=o>=</span> <span class=n>PhantomSetup</span><span class=p>(</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>                <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>                <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=p>,</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>                <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>                <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>            <span class=p>)</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>            <span class=n>phantom_setup</span><span class=o>.</span><span class=n>ensure_phantom_is_loaded</span><span class=p>()</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_load_phantom&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_load_phantom&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>    <span class=c1># Subtask 2: Configure scene</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Configure scene (bboxes, placement, simulation, sensors)...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_configure_scene&quot;</span><span class=p>):</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span><span class=p>:</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_setup_bounding_boxes</span><span class=p>()</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>        <span class=n>placement_setup</span> <span class=o>=</span> <span class=n>PlacementSetup</span><span class=p>(</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>            <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=p>,</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>            <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>,</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>            <span class=bp>self</span><span class=o>.</span><span class=n>base_placement_name</span><span class=p>,</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>            <span class=bp>self</span><span class=o>.</span><span class=n>position_name</span><span class=p>,</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>            <span class=bp>self</span><span class=o>.</span><span class=n>orientation_name</span><span class=p>,</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>            <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span><span class=p>,</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>            <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a>            <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>            <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span><span class=p>,</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>        <span class=p>)</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>        <span class=n>placement_setup</span><span class=o>.</span><span class=n>place_antenna</span><span class=p>()</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>        <span class=n>antenna_components</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_antenna_components</span><span class=p>()</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_create_simulation_bbox</span><span class=p>()</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>        <span class=n>simulation</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_setup_simulation_entity</span><span class=p>()</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>        <span class=n>sim_bbox_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=si>}</span><span class=s2>_simulation_bbox&quot;</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_add_point_sensors</span><span class=p>(</span><span class=n>simulation</span><span class=p>,</span> <span class=n>sim_bbox_name</span><span class=p>)</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_handle_phantom_rotation</span><span class=p>(</span><span class=n>placement_setup</span><span class=p>)</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_align_simulation_with_phone</span><span class=p>()</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_configure_scene&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_configure_scene&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>    <span class=c1># Subtask 3: Assign materials</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Assign materials...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_materials&quot;</span><span class=p>):</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>        <span class=n>material_setup</span> <span class=o>=</span> <span class=n>MaterialSetup</span><span class=p>(</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>            <span class=n>simulation</span><span class=p>,</span>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>            <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span><span class=p>,</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a>            <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=p>,</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a>            <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>            <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a>            <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span><span class=p>,</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a>        <span class=p>)</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a>        <span class=n>material_setup</span><span class=o>.</span><span class=n>assign_materials</span><span class=p>(</span><span class=n>antenna_components</span><span class=p>)</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_materials&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_materials&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a>    <span class=c1># Subtask 4: Configure solver</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Configure solver (gridding, boundaries, sources)...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_solver&quot;</span><span class=p>):</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a>        <span class=n>gridding_setup</span> <span class=o>=</span> <span class=n>GriddingSetup</span><span class=p>(</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>            <span class=n>simulation</span><span class=p>,</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>            <span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span><span class=p>,</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>            <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span><span class=p>,</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>            <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>            <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>            <span class=n>frequency_mhz</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>,</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a>        <span class=p>)</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>        <span class=n>gridding_setup</span><span class=o>.</span><span class=n>setup_gridding</span><span class=p>(</span><span class=n>antenna_components</span><span class=p>)</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a>        <span class=n>boundary_setup</span> <span class=o>=</span> <span class=n>BoundarySetup</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span> <span class=n>simulation</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a>        <span class=n>boundary_setup</span><span class=o>.</span><span class=n>setup_boundary_conditions</span><span class=p>()</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>        <span class=n>source_setup</span> <span class=o>=</span> <span class=n>SourceSetup</span><span class=p>(</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>,</span>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a>            <span class=n>simulation</span><span class=p>,</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a>            <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>,</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a>            <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span><span class=p>,</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a>            <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>,</span>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183></a>            <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>,</span>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a>            <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span><span class=p>,</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a>        <span class=p>)</span>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a>        <span class=n>source_setup</span><span class=o>.</span><span class=n>setup_source_and_sensors</span><span class=p>(</span><span class=n>antenna_components</span><span class=p>)</span>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_solver&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_solver&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a>    <span class=c1># Subtask 5: Voxelize</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Voxelize simulation...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_voxelize&quot;</span><span class=p>):</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a>        <span class=n>all_antenna_parts</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>antenna_components</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a>        <span class=n>point_sensor_entities</span> <span class=o>=</span> <span class=p>[</span><span class=n>e</span> <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>AllEntities</span><span class=p>()</span> <span class=k>if</span> <span class=s2>&quot;Point Sensor Entity&quot;</span> <span class=ow>in</span> <span class=n>e</span><span class=o>.</span><span class=n>Name</span><span class=p>]</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span><span class=p>:</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a>            <span class=n>sim_bbox_name</span> <span class=o>=</span> <span class=s2>&quot;freespace_simulation_bbox&quot;</span>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a>            <span class=n>sim_bbox_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=si>}</span><span class=s2>_simulation_bbox&quot;</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>        <span class=n>sim_bbox_entity</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>            <span class=p>(</span><span class=n>e</span> <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>AllEntities</span><span class=p>()</span> <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>e</span><span class=p>,</span> <span class=s2>&quot;Name&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=n>e</span><span class=o>.</span><span class=n>Name</span> <span class=o>==</span> <span class=n>sim_bbox_name</span><span class=p>),</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>            <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>        <span class=p>)</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>sim_bbox_entity</span><span class=p>:</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>            <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Could not find simulation bounding box: &#39;</span><span class=si>{</span><span class=n>sim_bbox_name</span><span class=si>}</span><span class=s2>&#39; for voxelization.&quot;</span><span class=p>)</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a>        <span class=n>phantom_entities</span> <span class=o>=</span> <span class=p>[</span><span class=n>e</span> <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>AllEntities</span><span class=p>()</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>e</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreModeling</span><span class=o>.</span><span class=n>TriangleMesh</span><span class=p>)]</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a>        <span class=n>all_simulation_parts</span> <span class=o>=</span> <span class=n>phantom_entities</span> <span class=o>+</span> <span class=n>all_antenna_parts</span> <span class=o>+</span> <span class=n>point_sensor_entities</span> <span class=o>+</span> <span class=p>[</span><span class=n>sim_bbox_entity</span><span class=p>]</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>_finalize_setup</span><span class=p>(</span><span class=n>project_manager</span><span class=p>,</span> <span class=n>simulation</span><span class=p>,</span> <span class=n>all_simulation_parts</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>)</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_voxelize&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_voxelize&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>    <span class=c1># Subtask 6: Save project</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Save project...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;setup_save_project&quot;</span><span class=p>):</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a>        <span class=n>project_manager</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;setup_save_project&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;setup_save_project&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Full simulation setup complete.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>    <span class=k>return</span> <span class=n>simulation</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=phantom-setup>Phantom Setup<a class=headerlink href=#phantom-setup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.setups.phantom_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.setups.phantom_setup</span> <a href=#goliat.setups.phantom_setup class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.setups.phantom_setup-classes>Classes<a href=#goliat.setups.phantom_setup-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.setups.phantom_setup.PhantomSetup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">PhantomSetup</span> <a href=#goliat.setups.phantom_setup.PhantomSetup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>PhantomSetup</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.setups.base_setup.BaseSetup</code>" href=#goliat.setups.base_setup.BaseSetup>BaseSetup</a></code></p> <p>Handles loading and importing phantom models into Sim4Life.</p> <details class=quote> <summary>Source code in <code>goliat/setups/phantom_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>    <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a><span class=p>):</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.data</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.model</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=kn>import</span><span class=w> </span><span class=nn>XCoreModeling</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=bp>self</span><span class=o>.</span><span class=n>model</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>model</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>data</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=bp>self</span><span class=o>.</span><span class=n>XCoreModeling</span> <span class=o>=</span> <span class=n>XCoreModeling</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.setups.phantom_setup.PhantomSetup-functions>Functions<a href=#goliat.setups.phantom_setup.PhantomSetup-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.setups.phantom_setup.PhantomSetup.ensure_phantom_is_loaded class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">ensure_phantom_is_loaded</span> <a href=#goliat.setups.phantom_setup.PhantomSetup.ensure_phantom_is_loaded class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>ensure_phantom_is_loaded</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Checks if phantom is loaded, imports from disk if available, or downloads if missing.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>True if phantom is now loaded, False if download was initiated (requires re-run).</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/phantom_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-36> 36</a></span>
<span class=normal><a href=#__codelineno-0-37> 37</a></span>
<span class=normal><a href=#__codelineno-0-38> 38</a></span>
<span class=normal><a href=#__codelineno-0-39> 39</a></span>
<span class=normal><a href=#__codelineno-0-40> 40</a></span>
<span class=normal><a href=#__codelineno-0-41> 41</a></span>
<span class=normal><a href=#__codelineno-0-42> 42</a></span>
<span class=normal><a href=#__codelineno-0-43> 43</a></span>
<span class=normal><a href=#__codelineno-0-44> 44</a></span>
<span class=normal><a href=#__codelineno-0-45> 45</a></span>
<span class=normal><a href=#__codelineno-0-46> 46</a></span>
<span class=normal><a href=#__codelineno-0-47> 47</a></span>
<span class=normal><a href=#__codelineno-0-48> 48</a></span>
<span class=normal><a href=#__codelineno-0-49> 49</a></span>
<span class=normal><a href=#__codelineno-0-50> 50</a></span>
<span class=normal><a href=#__codelineno-0-51> 51</a></span>
<span class=normal><a href=#__codelineno-0-52> 52</a></span>
<span class=normal><a href=#__codelineno-0-53> 53</a></span>
<span class=normal><a href=#__codelineno-0-54> 54</a></span>
<span class=normal><a href=#__codelineno-0-55> 55</a></span>
<span class=normal><a href=#__codelineno-0-56> 56</a></span>
<span class=normal><a href=#__codelineno-0-57> 57</a></span>
<span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=k>def</span><span class=w> </span><span class=nf>ensure_phantom_is_loaded</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Checks if phantom is loaded, imports from disk if available, or downloads if missing.</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>    Returns:</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        True if phantom is now loaded, False if download was initiated (requires re-run).</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;--- Running Phantom Check ---&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;header&quot;</span><span class=p>)</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=n>all_entities</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>AllEntities</span><span class=p>()</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>all_entities</span><span class=p>)</span><span class=si>}</span><span class=s2> total entities in the project.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=n>is_loaded</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>entity</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>all_entities</span><span class=p>):</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>entity</span><span class=p>,</span> <span class=s2>&quot;Name&quot;</span><span class=p>):</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>            <span class=n>entity_name_lower</span> <span class=o>=</span> <span class=n>entity</span><span class=o>.</span><span class=n>Name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>            <span class=n>phantom_name_lower</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>            <span class=k>if</span> <span class=n>phantom_name_lower</span> <span class=ow>in</span> <span class=n>entity_name_lower</span><span class=p>:</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>                <span class=n>is_loaded</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>                <span class=k>break</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  - Entity </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>: (No &#39;Name&#39; attribute)&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=k>if</span> <span class=n>is_loaded</span><span class=p>:</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>            <span class=s2>&quot;--- Phantom Check Result: Phantom model is already present. ---&quot;</span><span class=p>,</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>,</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>        <span class=p>)</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>        <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>            <span class=s2>&quot;--- Phantom Check Result: Phantom not found in project. ---&quot;</span><span class=p>,</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=p>)</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>    <span class=n>study_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;study_type&quot;</span><span class=p>)</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>    <span class=k>if</span> <span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;near_field&quot;</span> <span class=ow>or</span> <span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;far_field&quot;</span><span class=p>:</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>        <span class=n>sab_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=s2>&quot;phantoms&quot;</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=si>}</span><span class=s2>.sab&quot;</span><span class=p>)</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>        <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>sab_path</span><span class=p>):</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>                <span class=sa>f</span><span class=s2>&quot;Phantom not found in document. Importing from &#39;</span><span class=si>{</span><span class=n>sab_path</span><span class=si>}</span><span class=s2>&#39;...&quot;</span><span class=p>,</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>                <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>            <span class=p>)</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>            <span class=bp>self</span><span class=o>.</span><span class=n>XCoreModeling</span><span class=o>.</span><span class=n>Import</span><span class=p>(</span><span class=n>sab_path</span><span class=p>)</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Phantom imported successfully.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>            <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>            <span class=sa>f</span><span class=s2>&quot;Local .sab file not found. Attempting to download &#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=si>}</span><span class=s2>&#39;...&quot;</span><span class=p>,</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>        <span class=p>)</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>        <span class=n>available_downloads</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>GetAvailableDownloads</span><span class=p>()</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>        <span class=n>phantom_to_download</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>            <span class=p>(</span><span class=n>item</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>available_downloads</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>in</span> <span class=n>item</span><span class=o>.</span><span class=n>Name</span><span class=o>.</span><span class=n>lower</span><span class=p>()),</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>            <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>        <span class=p>)</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>phantom_to_download</span><span class=p>:</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>            <span class=k>raise</span> <span class=ne>FileNotFoundError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Phantom &#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=si>}</span><span class=s2>&#39; not found for download or in local files.&quot;</span><span class=p>)</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found &#39;</span><span class=si>{</span><span class=n>phantom_to_download</span><span class=o>.</span><span class=n>Name</span><span class=si>}</span><span class=s2>&#39;. Downloading...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>        <span class=n>download_email</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;download_email&quot;</span><span class=p>,</span> <span class=s2>&quot;example@example.com&quot;</span><span class=p>)</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>DownloadModel</span><span class=p>(</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>            <span class=n>phantom_to_download</span><span class=p>,</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>            <span class=n>email</span><span class=o>=</span><span class=n>download_email</span><span class=p>,</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>            <span class=n>directory</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=s2>&quot;phantoms&quot;</span><span class=p>),</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>        <span class=p>)</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>            <span class=s2>&quot;Phantom downloaded successfully. Please re-run the script to import the new .sab file.&quot;</span><span class=p>,</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>,</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=p>)</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unknown study type: </span><span class=si>{</span><span class=n>study_type</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=placement-setup>Placement Setup<a class=headerlink href=#placement-setup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.setups.placement_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.setups.placement_setup</span> <a href=#goliat.setups.placement_setup class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.setups.placement_setup-classes>Classes<a href=#goliat.setups.placement_setup-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.setups.placement_setup.PlacementSetup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">PlacementSetup</span> <a href=#goliat.setups.placement_setup.PlacementSetup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>PlacementSetup</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>base_placement_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>position_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>orientation_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>antenna</span><span class=p>:</span> <span class=n>Antenna</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>free_space</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.setups.base_setup.BaseSetup</code>" href=#goliat.setups.base_setup.BaseSetup>BaseSetup</a></code></p> <p>Handles antenna placement and orientation relative to phantom.</p> <p>Imports antenna model, calculates target position based on placement scenario, and applies composed transformation (stand-up rotation, translation, orientation twists) to position antenna correctly.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.config.Config</code>" href=#goliat.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>Configuration object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>phantom_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of the phantom model.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>frequency_mhz</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Simulation frequency in <abbr title=Megahertz>MHz</abbr>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>base_placement_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Base name of the placement scenario.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>position_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of the position within the scenario.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>orientation_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of the orientation within the scenario.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>antenna</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.antenna.Antenna</code>" href=#goliat.antenna.Antenna>Antenna</a></code> </td> <td> <div class=doc-md-description> <p>Antenna object to place.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>verbose_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for detailed output.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>progress_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for progress updates.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>free_space</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Whether this is a free-space simulation.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/placement_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=n>base_placement_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=n>position_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=n>orientation_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>antenna</span><span class=p>:</span> <span class=s2>&quot;Antenna&quot;</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>free_space</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=p>):</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initializes the PlacementSetup.</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>    Args:</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>        config: Configuration object.</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        phantom_name: Name of the phantom model.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>        frequency_mhz: Simulation frequency in MHz.</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>        base_placement_name: Base name of the placement scenario.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>        position_name: Name of the position within the scenario.</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=sd>        orientation_name: Name of the orientation within the scenario.</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=sd>        antenna: Antenna object to place.</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>        verbose_logger: Logger for detailed output.</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a><span class=sd>        progress_logger: Logger for progress updates.</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a><span class=sd>        free_space: Whether this is a free-space simulation.</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span> <span class=o>=</span> <span class=n>frequency_mhz</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_placement_name</span> <span class=o>=</span> <span class=n>base_placement_name</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=bp>self</span><span class=o>.</span><span class=n>position_name</span> <span class=o>=</span> <span class=n>position_name</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=bp>self</span><span class=o>.</span><span class=n>orientation_name</span> <span class=o>=</span> <span class=n>orientation_name</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>base_placement_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>position_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>orientation_name</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span> <span class=o>=</span> <span class=n>antenna</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>    <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span> <span class=o>=</span> <span class=n>free_space</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=c1># Import XCoreMath for transformations</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=kn>import</span><span class=w> </span><span class=nn>XCoreMath</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span> <span class=o>=</span> <span class=n>XCoreMath</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.setups.placement_setup.PlacementSetup-functions>Functions<a href=#goliat.setups.placement_setup.PlacementSetup-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.setups.placement_setup.PlacementSetup.place_antenna class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">place_antenna</span> <a href=#goliat.setups.placement_setup.PlacementSetup.place_antenna class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>place_antenna</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Places and orients antenna using a single composed transformation.</p> <p>This method implements a key optimization: instead of applying multiple transforms sequentially (which causes precision loss and can accumulate errors), it composes all transformations into a single matrix and applies it once.</p> <p>The transformation sequence is: 1. Stand-up rotation: Rotates antenna 90° around X-axis to make it upright 2. Base translation: Moves antenna to a reference point (speaker location) 3. Special rotation: For 'by_cheek', applies -90° Z-rotation to align with YZ plane 4. Orientation twists: Applies any rotations specified in orientation config 5. Final translation: Moves antenna to its target position relative to phantom</p> <p>The order matters because matrix multiplication is not commutative. Each step builds on the previous transform, so the antenna ends up correctly positioned and oriented relative to the phantom regardless of how many rotations are needed.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>None (uses instance attributes</code> </td> <td> </td> <td> <div class=doc-md-description> <p>antenna, placement_name, etc.)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=RuntimeError>RuntimeError</span></code> </td> <td> <div class=doc-md-description> <p>If antenna import fails or required entities aren't found.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/placement_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a><span class=k>def</span><span class=w> </span><span class=nf>place_antenna</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Places and orients antenna using a single composed transformation.</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a><span class=sd>    This method implements a key optimization: instead of applying multiple</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a><span class=sd>    transforms sequentially (which causes precision loss and can accumulate errors),</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a><span class=sd>    it composes all transformations into a single matrix and applies it once.</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=sd>    The transformation sequence is:</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a><span class=sd>    1. Stand-up rotation: Rotates antenna 90° around X-axis to make it upright</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a><span class=sd>    2. Base translation: Moves antenna to a reference point (speaker location)</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a><span class=sd>    3. Special rotation: For &#39;by_cheek&#39;, applies -90° Z-rotation to align with YZ plane</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=sd>    4. Orientation twists: Applies any rotations specified in orientation config</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=sd>    5. Final translation: Moves antenna to its target position relative to phantom</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>    The order matters because matrix multiplication is not commutative. Each step</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a><span class=sd>    builds on the previous transform, so the antenna ends up correctly positioned</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=sd>    and oriented relative to the phantom regardless of how many rotations are needed.</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=sd>    Args:</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a><span class=sd>        None (uses instance attributes: antenna, placement_name, etc.)</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=sd>    Raises:</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a><span class=sd>        RuntimeError: If antenna import fails or required entities aren&#39;t found.</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>        <span class=sa>f</span><span class=s2>&quot;--- Starting Placement: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base_placement_name</span><span class=si>}</span><span class=s2> - </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>position_name</span><span class=si>}</span><span class=s2> - </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>orientation_name</span><span class=si>}</span><span class=s2> ---&quot;</span><span class=p>,</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>        <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;header&quot;</span><span class=p>,</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>    <span class=p>)</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>    <span class=n>phantom_definition</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_phantom_definition</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=o>.</span><span class=n>lower</span><span class=p>())</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>phantom_definition</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;placements&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;do_</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base_placement_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>):</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>            <span class=sa>f</span><span class=s2>&quot;Placement &#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base_placement_name</span><span class=si>}</span><span class=s2>&#39; is disabled in the configuration.&quot;</span><span class=p>,</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>        <span class=p>)</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>        <span class=k>return</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=n>base_target_point</span><span class=p>,</span> <span class=n>position_offset</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_placement_details</span><span class=p>()</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>    <span class=c1># Import antenna model</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>    <span class=n>antenna_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span><span class=o>.</span><span class=n>get_centered_antenna_path</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=s2>&quot;antennas&quot;</span><span class=p>,</span> <span class=s2>&quot;centered&quot;</span><span class=p>))</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>    <span class=n>imported_entities</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>Import</span><span class=p>(</span><span class=n>antenna_path</span><span class=p>))</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>    <span class=n>antenna_group</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>        <span class=p>(</span><span class=n>e</span> <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>imported_entities</span> <span class=k>if</span> <span class=s2>&quot;Antenna&quot;</span> <span class=ow>in</span> <span class=n>e</span><span class=o>.</span><span class=n>Name</span> <span class=ow>and</span> <span class=s2>&quot;bounding box&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>e</span><span class=o>.</span><span class=n>Name</span><span class=p>),</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>        <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>    <span class=p>)</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=n>bbox_entity</span> <span class=o>=</span> <span class=nb>next</span><span class=p>((</span><span class=n>e</span> <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>imported_entities</span> <span class=k>if</span> <span class=s2>&quot;bounding box&quot;</span> <span class=ow>in</span> <span class=n>e</span><span class=o>.</span><span class=n>Name</span><span class=p>),</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>antenna_group</span><span class=p>:</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>        <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&quot;Could not find imported antenna group.&quot;</span><span class=p>)</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>    <span class=c1># Find the &quot;Ground&quot; entity/entities (&quot;PCB&quot; of the phone excl. IFA antenna)</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>    <span class=n>ground_entities</span> <span class=o>=</span> <span class=p>[</span><span class=n>e</span> <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>antenna_group</span><span class=o>.</span><span class=n>Entities</span> <span class=k>if</span> <span class=s2>&quot;Ground&quot;</span> <span class=ow>in</span> <span class=n>e</span><span class=o>.</span><span class=n>Name</span> <span class=ow>or</span> <span class=s2>&quot;Substrate&quot;</span> <span class=ow>in</span> <span class=n>e</span><span class=o>.</span><span class=n>Name</span><span class=p>]</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>    <span class=c1># Rename the entities to include the placement name for uniqueness</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>    <span class=n>antenna_group</span><span class=o>.</span><span class=n>Name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>antenna_group</span><span class=o>.</span><span class=n>Name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span><span class=si>}</span><span class=s2>)&quot;</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>    <span class=k>if</span> <span class=n>bbox_entity</span><span class=p>:</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a>        <span class=n>bbox_entity</span><span class=o>.</span><span class=n>Name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>bbox_entity</span><span class=o>.</span><span class=n>Name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span><span class=si>}</span><span class=s2>)&quot;</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>    <span class=n>entities_to_transform</span> <span class=o>=</span> <span class=p>[</span><span class=n>antenna_group</span><span class=p>,</span> <span class=n>bbox_entity</span><span class=p>]</span> <span class=k>if</span> <span class=n>bbox_entity</span> <span class=k>else</span> <span class=p>[</span><span class=n>antenna_group</span><span class=p>]</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>    <span class=c1># --- Transformation Composition ---</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Composing final transformation...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>    <span class=c1># Start with an identity transform</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>    <span class=n>final_transform</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Transform</span><span class=p>()</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>    <span class=c1># 1. Stand-up Rotation</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>    <span class=n>rot_stand_up</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Rotation</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Vec3</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=n>np</span><span class=o>.</span><span class=n>deg2rad</span><span class=p>(</span><span class=mi>90</span><span class=p>))</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>    <span class=n>final_transform</span> <span class=o>=</span> <span class=n>rot_stand_up</span> <span class=o>*</span> <span class=n>final_transform</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>    <span class=c1># 2. Base translation to antenna reference point (speaker output of the mock-up phone)</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>    <span class=n>reference_target_point</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_speaker_reference</span><span class=p>(</span><span class=n>ground_entities</span><span class=p>,</span> <span class=n>upright_transform</span><span class=o>=</span><span class=n>final_transform</span><span class=p>)</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>    <span class=n>base_translation</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Translation</span><span class=p>(</span><span class=n>reference_target_point</span><span class=p>)</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>    <span class=n>final_transform</span> <span class=o>=</span> <span class=n>base_translation</span> <span class=o>*</span> <span class=n>final_transform</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>    <span class=c1># Special rotation for &#39;by_cheek&#39; to align with YZ plane</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>base_placement_name</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;by_cheek&quot;</span><span class=p>):</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Applying &#39;by_cheek&#39; specific Z-rotation.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>        <span class=n>rot_z_cheek</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Rotation</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Vec3</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>np</span><span class=o>.</span><span class=n>deg2rad</span><span class=p>(</span><span class=o>-</span><span class=mi>90</span><span class=p>))</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>        <span class=n>final_transform</span> <span class=o>=</span> <span class=n>rot_z_cheek</span> <span class=o>*</span> <span class=n>final_transform</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>    <span class=c1># 3. Orientation Twist</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>orientation_rotations</span><span class=p>:</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a>        <span class=k>for</span> <span class=n>rot</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>orientation_rotations</span><span class=p>:</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>            <span class=n>axis_map</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a>                <span class=s2>&quot;X&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Vec3</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a>                <span class=s2>&quot;Y&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Vec3</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a>                <span class=s2>&quot;Z&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Vec3</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a>            <span class=p>}</span>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a>            <span class=n>rot_twist</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Rotation</span><span class=p>(</span><span class=n>axis_map</span><span class=p>[</span><span class=n>rot</span><span class=p>[</span><span class=s2>&quot;axis&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>upper</span><span class=p>()],</span> <span class=n>np</span><span class=o>.</span><span class=n>deg2rad</span><span class=p>(</span><span class=n>rot</span><span class=p>[</span><span class=s2>&quot;angle_deg&quot;</span><span class=p>]))</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>            <span class=n>final_transform</span> <span class=o>=</span> <span class=n>rot_twist</span> <span class=o>*</span> <span class=n>final_transform</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a>    <span class=c1># 4. Final Translation</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a>    <span class=n>final_target_point</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>Vec3</span><span class=p>(</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>        <span class=n>base_target_point</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=n>position_offset</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>        <span class=n>base_target_point</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=n>position_offset</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a>        <span class=n>base_target_point</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>+</span> <span class=n>position_offset</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a>    <span class=p>)</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>    <span class=n>translation_transform</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>XCoreMath</span><span class=o>.</span><span class=n>Translation</span><span class=p>(</span><span class=n>final_target_point</span><span class=p>)</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>    <span class=n>final_transform</span> <span class=o>=</span> <span class=n>translation_transform</span> <span class=o>*</span> <span class=n>final_transform</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>    <span class=c1># --- Apply the single, composed transform ---</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Applying final composed transform.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>    <span class=k>for</span> <span class=n>entity</span> <span class=ow>in</span> <span class=n>entities_to_transform</span><span class=p>:</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a>        <span class=n>entity</span><span class=o>.</span><span class=n>ApplyTransform</span><span class=p>(</span><span class=n>final_transform</span><span class=p>)</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;--- Transformation Sequence Complete ---&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=source-setup>Source Setup<a class=headerlink href=#source-setup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.setups.source_setup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.setups.source_setup</span> <a href=#goliat.setups.source_setup class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.setups.source_setup-classes>Classes<a href=#goliat.setups.source_setup-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.setups.source_setup.SourceSetup class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">SourceSetup</span> <a href=#goliat.setups.source_setup.SourceSetup class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>SourceSetup</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>simulation</span><span class=p>:</span> <span class=n>Simulation</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>antenna</span><span class=p>:</span> <span class=n>Antenna</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>free_space</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.setups.base_setup.BaseSetup</code>" href=#goliat.setups.base_setup.BaseSetup>BaseSetup</a></code></p> <p>Configures excitation sources and sensors for the simulation.</p> <details class=quote> <summary>Source code in <code>goliat/setups/source_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>    <span class=n>simulation</span><span class=p>:</span> <span class=s2>&quot;emfdtd.Simulation&quot;</span><span class=p>,</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>    <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a>    <span class=n>antenna</span><span class=p>:</span> <span class=s2>&quot;Antenna&quot;</span><span class=p>,</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=n>free_space</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=p>):</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>)</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span> <span class=o>=</span> <span class=n>simulation</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span> <span class=o>=</span> <span class=n>frequency_mhz</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span> <span class=o>=</span> <span class=n>antenna</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span> <span class=o>=</span> <span class=n>free_space</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.units</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=bp>self</span><span class=o>.</span><span class=n>units</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>units</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.setups.source_setup.SourceSetup-functions>Functions<a href=#goliat.setups.source_setup.SourceSetup-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.setups.source_setup.SourceSetup.setup_source_and_sensors class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">setup_source_and_sensors</span> <a href=#goliat.setups.source_setup.SourceSetup.setup_source_and_sensors class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>setup_source_and_sensors</span><span class=p>(</span><span class=n>antenna_components</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sets up the edge source and sensors based on excitation type.</p> <p>For phantom simulations, uses harmonic excitation. For free-space, uses Gaussian with bandwidth. Also adds edge sensors and optionally far-field sensors for free-space simulations.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>antenna_components</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict mapping component names to entities.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/setups/source_setup.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-37> 37</a></span>
<span class=normal><a href=#__codelineno-0-38> 38</a></span>
<span class=normal><a href=#__codelineno-0-39> 39</a></span>
<span class=normal><a href=#__codelineno-0-40> 40</a></span>
<span class=normal><a href=#__codelineno-0-41> 41</a></span>
<span class=normal><a href=#__codelineno-0-42> 42</a></span>
<span class=normal><a href=#__codelineno-0-43> 43</a></span>
<span class=normal><a href=#__codelineno-0-44> 44</a></span>
<span class=normal><a href=#__codelineno-0-45> 45</a></span>
<span class=normal><a href=#__codelineno-0-46> 46</a></span>
<span class=normal><a href=#__codelineno-0-47> 47</a></span>
<span class=normal><a href=#__codelineno-0-48> 48</a></span>
<span class=normal><a href=#__codelineno-0-49> 49</a></span>
<span class=normal><a href=#__codelineno-0-50> 50</a></span>
<span class=normal><a href=#__codelineno-0-51> 51</a></span>
<span class=normal><a href=#__codelineno-0-52> 52</a></span>
<span class=normal><a href=#__codelineno-0-53> 53</a></span>
<span class=normal><a href=#__codelineno-0-54> 54</a></span>
<span class=normal><a href=#__codelineno-0-55> 55</a></span>
<span class=normal><a href=#__codelineno-0-56> 56</a></span>
<span class=normal><a href=#__codelineno-0-57> 57</a></span>
<span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=k>def</span><span class=w> </span><span class=nf>setup_source_and_sensors</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>antenna_components</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the edge source and sensors based on excitation type.</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>    For phantom simulations, uses harmonic excitation. For free-space,</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>    uses Gaussian with bandwidth. Also adds edge sensors and optionally</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>    far-field sensors for free-space simulations.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=sd>    Args:</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=sd>        antenna_components: Dict mapping component names to entities.</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Setting up source and sensors...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=n>source_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>antenna</span><span class=o>.</span><span class=n>get_source_entity_name</span><span class=p>()</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=k>if</span> <span class=n>source_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>antenna_components</span><span class=p>:</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>        <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Could not find source entity &#39;</span><span class=si>{</span><span class=n>source_name</span><span class=si>}</span><span class=s2>&#39; in antenna group.&quot;</span><span class=p>)</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=n>source_entity</span> <span class=o>=</span> <span class=n>antenna_components</span><span class=p>[</span><span class=n>source_name</span><span class=p>]</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=c1># Source setup</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=n>edge_source_settings</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>emfdtd</span><span class=o>.</span><span class=n>EdgeSourceSettings</span><span class=p>()</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=c1># Get the enum for ExcitationType</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>    <span class=n>excitation_enum</span> <span class=o>=</span> <span class=n>edge_source_settings</span><span class=o>.</span><span class=n>ExcitationType</span><span class=o>.</span><span class=n>enum</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span><span class=p>:</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;  - Using Gaussian source for free-space simulation.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>        <span class=n>excitation_type</span> <span class=o>=</span> <span class=s2>&quot;gaussian&quot;</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>        <span class=n>edge_source_settings</span><span class=o>.</span><span class=n>ExcitationType</span> <span class=o>=</span> <span class=n>excitation_enum</span><span class=o>.</span><span class=n>Gaussian</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=n>edge_source_settings</span><span class=o>.</span><span class=n>CenterFrequency</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>units</span><span class=o>.</span><span class=n>MHz</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>        <span class=n>edge_source_settings</span><span class=o>.</span><span class=n>Bandwidth</span> <span class=o>=</span> <span class=mf>50.0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>units</span><span class=o>.</span><span class=n>MHz</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;  - Using Harmonic source for phantom simulation.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>)</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>        <span class=n>excitation_type</span> <span class=o>=</span> <span class=s2>&quot;harmonic&quot;</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>        <span class=n>edge_source_settings</span><span class=o>.</span><span class=n>ExcitationType</span> <span class=o>=</span> <span class=n>excitation_enum</span><span class=o>.</span><span class=n>Harmonic</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>        <span class=n>edge_source_settings</span><span class=o>.</span><span class=n>Frequency</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>units</span><span class=o>.</span><span class=n>MHz</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>        <span class=n>edge_source_settings</span><span class=o>.</span><span class=n>CenterFrequency</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>units</span><span class=o>.</span><span class=n>MHz</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>edge_source_settings</span><span class=p>,</span> <span class=p>[</span><span class=n>source_entity</span><span class=p>])</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=c1># Sensor setup</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=n>edge_sensor_settings</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>emfdtd</span><span class=o>.</span><span class=n>EdgeSensorSettings</span><span class=p>()</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>edge_sensor_settings</span><span class=p>,</span> <span class=p>[</span><span class=n>source_entity</span><span class=p>])</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>free_space</span><span class=p>:</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>        <span class=n>far_field_sensor_settings</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>AddFarFieldSensorSettings</span><span class=p>()</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>        <span class=c1># Configure extracted frequencies for Gaussian source</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>        <span class=k>if</span> <span class=n>excitation_type</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;gaussian&quot;</span><span class=p>:</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>            <span class=n>center_freq_hz</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span> <span class=o>*</span> <span class=mf>1e6</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>            <span class=n>bandwidth_hz</span> <span class=o>=</span> <span class=mf>50.0</span> <span class=o>*</span> <span class=mf>1e6</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>            <span class=n>start_freq_hz</span> <span class=o>=</span> <span class=n>center_freq_hz</span> <span class=o>-</span> <span class=p>(</span><span class=n>bandwidth_hz</span> <span class=o>/</span> <span class=mi>2</span><span class=p>)</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>            <span class=n>end_freq_hz</span> <span class=o>=</span> <span class=n>center_freq_hz</span> <span class=o>+</span> <span class=p>(</span><span class=n>bandwidth_hz</span> <span class=o>/</span> <span class=mi>2</span><span class=p>)</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>            <span class=c1># Create a list of 21 frequencies, including the center frequency</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>            <span class=n>num_samples</span> <span class=o>=</span> <span class=mi>21</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>            <span class=n>extracted_frequencies_hz</span> <span class=o>=</span> <span class=p>[</span><span class=n>start_freq_hz</span> <span class=o>+</span> <span class=n>i</span> <span class=o>*</span> <span class=p>(</span><span class=n>bandwidth_hz</span> <span class=o>/</span> <span class=p>(</span><span class=n>num_samples</span> <span class=o>-</span> <span class=mi>1</span><span class=p>))</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_samples</span><span class=p>)]</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>            <span class=n>far_field_sensor_settings</span><span class=o>.</span><span class=n>ExtractedFrequencies</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>                <span class=n>extracted_frequencies_hz</span><span class=p>,</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>                <span class=bp>self</span><span class=o>.</span><span class=n>units</span><span class=o>.</span><span class=n>Hz</span><span class=p>,</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>            <span class=p>)</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>                <span class=sa>f</span><span class=s2>&quot;  - Set extracted frequencies from </span><span class=si>{</span><span class=n>start_freq_hz</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mf>1e6</span><span class=si>}</span><span class=s2> MHz to </span><span class=si>{</span><span class=n>end_freq_hz</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mf>1e6</span><span class=si>}</span><span class=s2> MHz.&quot;</span><span class=p>,</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>                <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>            <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><hr> <h2 id=simulation-execution>Simulation Execution<a class=headerlink href=#simulation-execution title="Permanent link">&para;</a></h2> <div class="doc doc-object doc-class"> <h2 id=goliat.simulation_runner.SimulationRunner class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">goliat.simulation_runner.SimulationRunner</span> <a href=#goliat.simulation_runner.SimulationRunner class=headerlink title="Permanent link">&para;</a></h2> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>SimulationRunner</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>project_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>simulation</span><span class=p>:</span> <span class=n>Simulation</span><span class=p>,</span> <span class=n>profiler</span><span class=p>:</span> <span class=n>Profiler</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>gui</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>QueueGUI</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.logging_manager.LoggingMixin</code>" href=#goliat.logging_manager.LoggingMixin>LoggingMixin</a></code></p> <p>Manages simulation execution via the Sim4Life <abbr title="Application Programming Interface">API</abbr> or <abbr title="Sim4Life FDTD solver executable">iSolve</abbr>.exe.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.config.Config</code>" href=#goliat.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>Configuration object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>project_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path to the Sim4Life project file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>simulation</code> </td> <td> <code><span title=s4l_v1.simulation.emfdtd.Simulation>Simulation</span></code> </td> <td> <div class=doc-md-description> <p>The simulation object to run.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>profiler</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.profiler.Profiler</code>" href=#goliat.profiler.Profiler>Profiler</a></code> </td> <td> <div class=doc-md-description> <p>Profiler for timing subtasks.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>verbose_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for detailed output.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>progress_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for high-level updates.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>gui</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<a class="autorefs autorefs-internal" title="<code>goliat.gui_manager.QueueGUI</code>" href=#goliat.gui.queue_gui.QueueGUI>QueueGUI</a>]</code> </td> <td> <div class=doc-md-description> <p>Optional <abbr title="Graphical User Interface">GUI</abbr> proxy for updates.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/simulation_runner.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=n>project_path</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=n>simulation</span><span class=p>:</span> <span class=s2>&quot;s4l_v1.simulation.emfdtd.Simulation&quot;</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>profiler</span><span class=p>:</span> <span class=s2>&quot;Profiler&quot;</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=s2>&quot;Logger&quot;</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>gui</span><span class=p>:</span> <span class=s2>&quot;Optional[QueueGUI]&quot;</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=p>):</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the simulation runner.</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>    Args:</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>        config: Configuration object.</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        project_path: Path to the Sim4Life project file.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>        simulation: The simulation object to run.</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>        profiler: Profiler for timing subtasks.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>        verbose_logger: Logger for detailed output.</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=sd>        progress_logger: Logger for high-level updates.</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=sd>        gui: Optional GUI proxy for updates.</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=bp>self</span><span class=o>.</span><span class=n>project_path</span> <span class=o>=</span> <span class=n>project_path</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span> <span class=o>=</span> <span class=n>simulation</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span> <span class=o>=</span> <span class=n>profiler</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>verbose_logger</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span> <span class=o>=</span> <span class=n>progress_logger</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=o>=</span> <span class=n>gui</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.document</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>document</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h3 id=goliat.simulation_runner.SimulationRunner-functions>Functions<a href=#goliat.simulation_runner.SimulationRunner-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.simulation_runner.SimulationRunner.run class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">run</span> <a href=#goliat.simulation_runner.SimulationRunner.run class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>run</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Runs the simulation using the configured execution method.</p> <p>Writes input file first, then runs via Sim4Life <abbr title="Application Programming Interface">API</abbr>, manual <abbr title="Sim4Life FDTD solver executable">iSolve</abbr>, or <abbr title="Open Simulation Platform for Advanced Research and Computing">oSPARC</abbr> depending on config. Handles errors and provides helpful messages for common issues.</p> <details class=quote> <summary>Source code in <code>goliat/simulation_runner.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a><span class=k>def</span><span class=w> </span><span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Runs the simulation using the configured execution method.</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=sd>    Writes input file first, then runs via Sim4Life API, manual iSolve,</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a><span class=sd>    or oSPARC depending on config. Handles errors and provides helpful</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a><span class=sd>    messages for common issues.</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=p>:</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>            <span class=s2>&quot;ERROR: Simulation object not found. Cannot run simulation.&quot;</span><span class=p>,</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>            <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;error&quot;</span><span class=p>,</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>        <span class=p>)</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>        <span class=k>return</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Running simulation: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>Name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=n>server_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_solver_settings</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;server&quot;</span><span class=p>)</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=p>,</span> <span class=s2>&quot;WriteInputFile&quot;</span><span class=p>):</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>                <span class=s2>&quot;    - Write input file...&quot;</span><span class=p>,</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>                <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>                <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>            <span class=p>)</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>            <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;run_write_input_file&quot;</span><span class=p>):</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>                <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>WriteInputFile</span><span class=p>()</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>                <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>SaveAs</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>project_path</span><span class=p>)</span>  <span class=c1># Force a save to flush files</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>            <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;run_write_input_file&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;run_write_input_file&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>        <span class=c1># Stop here if we only want to write the input file</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_only_write_input_file</span><span class=p>():</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>                <span class=s2>&quot;&#39;only_write_input_file&#39; is true, skipping simulation run.&quot;</span><span class=p>,</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>                <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>                <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>            <span class=p>)</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>            <span class=k>return</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_manual_isolve</span><span class=p>():</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_run_isolve_manual</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=p>)</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>        <span class=k>elif</span> <span class=n>server_name</span> <span class=ow>and</span> <span class=s2>&quot;osparc&quot;</span> <span class=ow>in</span> <span class=n>server_name</span><span class=o>.</span><span class=n>lower</span><span class=p>():</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_run_osparc_direct</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=p>,</span> <span class=n>server_name</span><span class=p>)</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>            <span class=n>server_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_server_id</span><span class=p>(</span><span class=n>server_name</span><span class=p>)</span> <span class=k>if</span> <span class=n>server_name</span> <span class=k>else</span> <span class=kc>None</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>            <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span><span class=o>.</span><span class=n>RunSimulation</span><span class=p>(</span><span class=n>wait</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>server_id</span><span class=o>=</span><span class=n>server_id</span><span class=p>)</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>            <span class=n>log_msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Simulation finished on &#39;</span><span class=si>{</span><span class=n>server_name</span><span class=w> </span><span class=ow>or</span><span class=w> </span><span class=s1>&#39;localhost&#39;</span><span class=si>}</span><span class=s2>&#39;.&quot;</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=n>log_msg</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>            <span class=sa>f</span><span class=s2>&quot;An error occurred during simulation run: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>            <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;error&quot;</span><span class=p>,</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>        <span class=p>)</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>        <span class=c1># Check if a cloud server was intended for the run</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>        <span class=n>server_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_solver_settings</span><span class=p>()</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;server&quot;</span><span class=p>)</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>        <span class=k>if</span> <span class=n>server_name</span> <span class=ow>and</span> <span class=n>server_name</span> <span class=o>!=</span> <span class=s2>&quot;localhost&quot;</span><span class=p>:</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>                <span class=s2>&quot;If you are running on the cloud, please ensure you are logged into Sim4Life &quot;</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>                <span class=s2>&quot;via the GUI and your API credentials are correct.&quot;</span><span class=p>,</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>                <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>                <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a>            <span class=p>)</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>traceback</span><span class=o>.</span><span class=n>format_exc</span><span class=p>())</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><hr> <h2 id=results-extraction>Results Extraction<a class=headerlink href=#results-extraction title="Permanent link">&para;</a></h2> <p>Classes for extracting and processing simulation results.</p> <h3 id=cleanup>Cleanup<a class=headerlink href=#cleanup title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h2 id=goliat.extraction.cleaner.Cleaner class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">goliat.extraction.cleaner.Cleaner</span> <a href=#goliat.extraction.cleaner.Cleaner class=headerlink title="Permanent link">&para;</a></h2> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Cleaner</span><span class=p>(</span><span class=n>parent</span><span class=p>:</span> <span class=n>ResultsExtractor</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents first"> <p>Manages deletion of simulation files to free disk space.</p> <p>Deletes output files, input files, and/or project files based on config. Useful for long-running studies where disk space is limited.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>parent</code> </td> <td> <code><span title=goliat.results_extractor.ResultsExtractor>ResultsExtractor</span></code> </td> <td> <div class=doc-md-description> <p>Parent ResultsExtractor instance.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/cleaner.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=s2>&quot;ResultsExtractor&quot;</span><span class=p>):</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the cleaner.</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a><span class=sd>    Args:</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=sd>        parent: Parent ResultsExtractor instance.</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h3 id=goliat.extraction.cleaner.Cleaner-functions>Functions<a href=#goliat.extraction.cleaner.Cleaner-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.extraction.cleaner.Cleaner.cleanup_simulation_files class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">cleanup_simulation_files</span> <a href=#goliat.extraction.cleaner.Cleaner.cleanup_simulation_files class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>cleanup_simulation_files</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Deletes simulation files based on auto_cleanup config.</p> <p>Removes files matching specified patterns (output/input <abbr title="HDF5 file format (Hierarchical Data Format version 5)">H5</abbr> files, project files). Only runs if cleanup is enabled in config.</p> <details class=quote> <summary>Source code in <code>goliat/extraction/cleaner.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=k>def</span><span class=w> </span><span class=nf>cleanup_simulation_files</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Deletes simulation files based on auto_cleanup config.</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=sd>    Removes files matching specified patterns (output/input H5 files,</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=sd>    project files). Only runs if cleanup is enabled in config.</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>cleanup_types</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_auto_cleanup_previous_results</span><span class=p>()</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>cleanup_types</span><span class=p>:</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>        <span class=k>return</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;  - WARNING: Study object is not available. Skipping cleanup.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>        <span class=k>return</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=n>project_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=o>.</span><span class=n>project_manager</span><span class=o>.</span><span class=n>project_path</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>project_path</span><span class=p>:</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;  - WARNING: Project path is not set. Skipping cleanup.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>        <span class=k>return</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=n>project_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>project_path</span><span class=p>)</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=n>project_filename</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>project_path</span><span class=p>)</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=n>results_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>project_dir</span><span class=p>,</span> <span class=n>project_filename</span> <span class=o>+</span> <span class=s2>&quot;_Results&quot;</span><span class=p>)</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=c1># Map cleanup types to file patterns and directories</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=n>file_patterns</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>        <span class=s2>&quot;output&quot;</span><span class=p>:</span> <span class=p>(</span><span class=n>results_dir</span><span class=p>,</span> <span class=s2>&quot;*_Output.h5&quot;</span><span class=p>,</span> <span class=s2>&quot;output&quot;</span><span class=p>),</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>        <span class=s2>&quot;input&quot;</span><span class=p>:</span> <span class=p>(</span><span class=n>results_dir</span><span class=p>,</span> <span class=s2>&quot;*_Input.h5&quot;</span><span class=p>,</span> <span class=s2>&quot;input&quot;</span><span class=p>),</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>        <span class=s2>&quot;smash&quot;</span><span class=p>:</span> <span class=p>(</span><span class=n>project_dir</span><span class=p>,</span> <span class=s2>&quot;*.smash&quot;</span><span class=p>,</span> <span class=s2>&quot;project&quot;</span><span class=p>),</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>    <span class=p>}</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=n>total_deleted</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_delete_files</span><span class=p>(</span><span class=n>cleanup_types</span><span class=p>,</span> <span class=n>file_patterns</span><span class=p>)</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=k>if</span> <span class=n>total_deleted</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>            <span class=sa>f</span><span class=s2>&quot;  - Cleaned up </span><span class=si>{</span><span class=n>total_deleted</span><span class=si>}</span><span class=s2> file(s) to save disk space.&quot;</span><span class=p>,</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>            <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>        <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h3 id=json-encoding><abbr title="JavaScript Object Notation">JSON</abbr> Encoding<a class=headerlink href=#json-encoding title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.extraction.json_encoder class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.extraction.json_encoder</span> <a href=#goliat.extraction.json_encoder class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.extraction.json_encoder-classes>Classes<a href=#goliat.extraction.json_encoder-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.extraction.json_encoder.NumpyArrayEncoder class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">NumpyArrayEncoder</span> <a href=#goliat.extraction.json_encoder.NumpyArrayEncoder class=headerlink title="Permanent link">&para;</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=json.JSONEncoder>JSONEncoder</span></code></p> <p><abbr title="JavaScript Object Notation">JSON</abbr> encoder that handles NumPy types.</p> <p>Converts numpy arrays and numeric types to Python built-ins so they can be serialized to <abbr title="JavaScript Object Notation">JSON</abbr>.</p> <div class="doc doc-children"> <h5 id=goliat.extraction.json_encoder.NumpyArrayEncoder-functions>Functions<a href=#goliat.extraction.json_encoder.NumpyArrayEncoder-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.extraction.json_encoder.NumpyArrayEncoder.default class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">default</span> <a href=#goliat.extraction.json_encoder.NumpyArrayEncoder.default class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>default</span><span class=p>(</span><span class=n>o</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Converts NumPy types to <abbr title="JavaScript Object Notation">JSON</abbr>-serializable Python types.</p> <details class=quote> <summary>Source code in <code>goliat/extraction/json_encoder.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14></a><span class=k>def</span><span class=w> </span><span class=nf>default</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>o</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Converts NumPy types to JSON-serializable Python types.&quot;&quot;&quot;</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>o</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>):</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a>        <span class=k>return</span> <span class=n>o</span><span class=o>.</span><span class=n>tolist</span><span class=p>()</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>o</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>integer</span><span class=p>):</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a>        <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=n>o</span><span class=p>)</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>o</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>floating</span><span class=p>):</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>        <span class=k>return</span> <span class=nb>float</span><span class=p>(</span><span class=n>o</span><span class=p>)</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a>    <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>default</span><span class=p>(</span><span class=n>o</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=power-extraction>Power Extraction<a class=headerlink href=#power-extraction title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.extraction.power_extractor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.extraction.power_extractor</span> <a href=#goliat.extraction.power_extractor class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.extraction.power_extractor-classes>Classes<a href=#goliat.extraction.power_extractor-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.extraction.power_extractor.PowerExtractor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">PowerExtractor</span> <a href=#goliat.extraction.power_extractor.PowerExtractor class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>PowerExtractor</span><span class=p>(</span><span class=n>parent</span><span class=p>:</span> <span class=n>ResultsExtractor</span><span class=p>,</span> <span class=n>results_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.logging_manager.LoggingMixin</code>" href=#goliat.logging_manager.LoggingMixin>LoggingMixin</a></code></p> <p>Extracts input power and power balance from simulation results.</p> <p>For near-field, reads power from port sensors. For far-field, calculates theoretical power from plane wave parameters. Also extracts power balance to verify energy conservation.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>parent</code> </td> <td> <code><span title=goliat.results_extractor.ResultsExtractor>ResultsExtractor</span></code> </td> <td> <div class=doc-md-description> <p>Parent ResultsExtractor instance.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>results_data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict to store extracted power data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/power_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=s2>&quot;ResultsExtractor&quot;</span><span class=p>,</span> <span class=n>results_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the power extractor.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    Args:</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>        parent: Parent ResultsExtractor instance.</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=sd>        results_data: Dict to store extracted power data.</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>config</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>simulation</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>study_type</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>placement_name</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=bp>self</span><span class=o>.</span><span class=n>frequency_mhz</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>frequency_mhz</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>verbose_logger</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>progress_logger</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>gui</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span> <span class=o>=</span> <span class=n>results_data</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.document</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>document</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.extraction.power_extractor.PowerExtractor-functions>Functions<a href=#goliat.extraction.power_extractor.PowerExtractor-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.extraction.power_extractor.PowerExtractor.extract_input_power class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">extract_input_power</span> <a href=#goliat.extraction.power_extractor.PowerExtractor.extract_input_power class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>extract_input_power</span><span class=p>(</span><span class=n>simulation_extractor</span><span class=p>:</span> <span class=n>Extractor</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extracts input power, delegating to study-type specific methods.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>simulation_extractor</code> </td> <td> <code><span title=s4l_v1.analysis.Extractor>Extractor</span></code> </td> <td> <div class=doc-md-description> <p>Results extractor from the simulation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/power_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=k>def</span><span class=w> </span><span class=nf>extract_input_power</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>simulation_extractor</span><span class=p>:</span> <span class=s2>&quot;analysis.Extractor&quot;</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extracts input power, delegating to study-type specific methods.</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a><span class=sd>    Args:</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a><span class=sd>        simulation_extractor: Results extractor from the simulation.</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Extract input power...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=p>:</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>            <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;extract_input_power&quot;</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;far_field&quot;</span><span class=p>:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>_extract_far_field_power</span><span class=p>()</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>                <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>_extract_near_field_power</span><span class=p>(</span><span class=n>simulation_extractor</span><span class=p>)</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>            <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;extract_input_power&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;extract_input_power&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>            <span class=sa>f</span><span class=s2>&quot;  - ERROR: An exception occurred during input power extraction: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>            <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;error&quot;</span><span class=p>,</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>        <span class=p>)</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>traceback</span><span class=o>.</span><span class=n>format_exc</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.extraction.power_extractor.PowerExtractor.extract_power_balance class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">extract_power_balance</span> <a href=#goliat.extraction.power_extractor.PowerExtractor.extract_power_balance class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>extract_power_balance</span><span class=p>(</span><span class=n>simulation_extractor</span><span class=p>:</span> <span class=n>Extractor</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extracts power balance to verify energy conservation.</p> <p>Power balance is a sanity check: the power going into the simulation should equal the power coming out (as losses and radiation). This helps catch numerical errors or convergence issues.</p> <p>The balance is calculated as: balance = (P_out / P_in) × 100%</p> <p>Where P_out includes: - Dielectric losses (power absorbed by materials) - Radiated power (power escaping the simulation volume)</p> <p>For far-field studies, uses the theoretical input power (from plane wave calculation) rather than extracted power, since plane waves don't have a traditional "input port" sensor.</p> <p>A balance close to 100% indicates good energy conservation. Values significantly different suggest convergence issues or numerical errors.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>simulation_extractor</code> </td> <td> <code><span title=s4l_v1.analysis.Extractor>Extractor</span></code> </td> <td> <div class=doc-md-description> <p>Results extractor from the simulation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/power_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span>
<span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a><span class=k>def</span><span class=w> </span><span class=nf>extract_power_balance</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>simulation_extractor</span><span class=p>:</span> <span class=s2>&quot;analysis.Extractor&quot;</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extracts power balance to verify energy conservation.</span>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a><span class=sd>    Power balance is a sanity check: the power going into the simulation should</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a><span class=sd>    equal the power coming out (as losses and radiation). This helps catch</span>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a><span class=sd>    numerical errors or convergence issues.</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a><span class=sd>    The balance is calculated as: balance = (P_out / P_in) × 100%</span>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a><span class=sd>    Where P_out includes:</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a><span class=sd>    - Dielectric losses (power absorbed by materials)</span>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a><span class=sd>    - Radiated power (power escaping the simulation volume)</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a><span class=sd>    For far-field studies, uses the theoretical input power (from plane wave</span>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a><span class=sd>    calculation) rather than extracted power, since plane waves don&#39;t have a</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a><span class=sd>    traditional &quot;input port&quot; sensor.</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a><span class=sd>    A balance close to 100% indicates good energy conservation. Values significantly</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a><span class=sd>    different suggest convergence issues or numerical errors.</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a><span class=sd>    Args:</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a><span class=sd>        simulation_extractor: Results extractor from the simulation.</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Extract power balance...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=p>:</span>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a>            <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;extract_power_balance&quot;</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a>                <span class=n>em_sensor_extractor</span> <span class=o>=</span> <span class=n>simulation_extractor</span><span class=p>[</span><span class=s2>&quot;Overall Field&quot;</span><span class=p>]</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a>                <span class=n>power_balance_extractor</span> <span class=o>=</span> <span class=n>em_sensor_extractor</span><span class=o>.</span><span class=n>Outputs</span><span class=p>[</span><span class=s2>&quot;Power Balance&quot;</span><span class=p>]</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a>                <span class=n>power_balance_extractor</span><span class=o>.</span><span class=n>Update</span><span class=p>()</span>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a>                <span class=n>power_balance_data</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a>                    <span class=n>key</span><span class=p>:</span> <span class=n>power_balance_extractor</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>DataSimpleDataCollection</span><span class=o>.</span><span class=n>FieldValue</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a>                    <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>power_balance_extractor</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>DataSimpleDataCollection</span><span class=o>.</span><span class=n>Keys</span><span class=p>()</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a>                    <span class=k>if</span> <span class=n>key</span> <span class=o>!=</span> <span class=s2>&quot;Balance&quot;</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a>                <span class=p>}</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;far_field&quot;</span> <span class=ow>and</span> <span class=s2>&quot;input_power_W&quot;</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>:</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a>                    <span class=n>power_balance_data</span><span class=p>[</span><span class=s2>&quot;Pin&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>[</span><span class=s2>&quot;input_power_W&quot;</span><span class=p>]</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a>                        <span class=sa>f</span><span class=s2>&quot;    - Overwriting Pin with theoretical value: </span><span class=si>{</span><span class=nb>float</span><span class=p>(</span><span class=n>power_balance_data</span><span class=p>[</span><span class=s1>&#39;Pin&#39;</span><span class=p>])</span><span class=si>:</span><span class=s2>.4e</span><span class=si>}</span><span class=s2> W&quot;</span><span class=p>,</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a>                        <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;info&quot;</span><span class=p>,</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a>                    <span class=p>)</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a>                <span class=n>pin</span> <span class=o>=</span> <span class=n>power_balance_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Pin&quot;</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>)</span>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a>                <span class=n>p_out</span> <span class=o>=</span> <span class=n>power_balance_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;DielLoss&quot;</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>)</span> <span class=o>+</span> <span class=n>power_balance_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;RadPower&quot;</span><span class=p>,</span> <span class=mf>0.0</span><span class=p>)</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a>                <span class=n>balance</span> <span class=o>=</span> <span class=mi>100</span> <span class=o>*</span> <span class=p>(</span><span class=n>p_out</span> <span class=o>/</span> <span class=n>pin</span><span class=p>)</span> <span class=k>if</span> <span class=n>pin</span> <span class=o>&gt;</span> <span class=mf>1e-9</span> <span class=k>else</span> <span class=nb>float</span><span class=p>(</span><span class=s2>&quot;nan&quot;</span><span class=p>)</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a>                <span class=n>power_balance_data</span><span class=p>[</span><span class=s2>&quot;Balance&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>balance</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a>                <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;    - Final Balance: </span><span class=si>{</span><span class=n>balance</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;highlight&quot;</span><span class=p>)</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a>                <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>[</span><span class=s2>&quot;power_balance&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>power_balance_data</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a>            <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;extract_power_balance&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;extract_power_balance&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  - WARNING: Could not extract power balance: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>traceback</span><span class=o>.</span><span class=n>format_exc</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=reporting>Reporting<a class=headerlink href=#reporting title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h2 id=goliat.extraction.reporter.Reporter class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">goliat.extraction.reporter.Reporter</span> <a href=#goliat.extraction.reporter.Reporter class=headerlink title="Permanent link">&para;</a></h2> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Reporter</span><span class=p>(</span><span class=n>parent</span><span class=p>:</span> <span class=n>ResultsExtractor</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents first"> <p>Generates and saves detailed reports from extraction results.</p> <p>Creates Pickle files for programmatic access and <abbr title="HyperText Markup Language">HTML</abbr> files for human readability. Includes <abbr title="Specific Absorption Rate">SAR</abbr> statistics, tissue groups, and peak <abbr title="Specific Absorption Rate">SAR</abbr> details.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>parent</code> </td> <td> <code><span title=goliat.results_extractor.ResultsExtractor>ResultsExtractor</span></code> </td> <td> <div class=doc-md-description> <p>Parent ResultsExtractor instance.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/reporter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=s2>&quot;ResultsExtractor&quot;</span><span class=p>):</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the reporter.</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=sd>    Args:</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=sd>        parent: Parent ResultsExtractor instance.</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h3 id=goliat.extraction.reporter.Reporter-functions>Functions<a href=#goliat.extraction.reporter.Reporter-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.extraction.reporter.Reporter.save_reports class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">save_reports</span> <a href=#goliat.extraction.reporter.Reporter.save_reports class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>save_reports</span><span class=p>(</span><span class=n>df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>tissue_groups</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>group_sar_stats</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>results_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Saves Pickle and <abbr title="HyperText Markup Language">HTML</abbr> reports to the results directory.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with detailed <abbr title="Specific Absorption Rate">SAR</abbr> statistics per tissue.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>tissue_groups</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict mapping group names to tissue lists.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>group_sar_stats</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict with aggregated <abbr title="Specific Absorption Rate">SAR</abbr> stats per group.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>results_data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict with summary results and metadata.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/reporter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a><span class=k>def</span><span class=w> </span><span class=nf>save_reports</span><span class=p>(</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=n>df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>tissue_groups</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>group_sar_stats</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>results_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a><span class=p>):</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Saves Pickle and HTML reports to the results directory.</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=sd>    Args:</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>        df: DataFrame with detailed SAR statistics per tissue.</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>        tissue_groups: Dict mapping group names to tissue lists.</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        group_sar_stats: Dict with aggregated SAR stats per group.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>        results_data: Dict with summary results and metadata.</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=n>results_dir</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_results_dir</span><span class=p>()</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>results_dir</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_save_pickle_report</span><span class=p>(</span><span class=n>results_dir</span><span class=p>,</span> <span class=n>df</span><span class=p>,</span> <span class=n>tissue_groups</span><span class=p>,</span> <span class=n>group_sar_stats</span><span class=p>,</span> <span class=n>results_data</span><span class=p>)</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_save_html_report</span><span class=p>(</span><span class=n>results_dir</span><span class=p>,</span> <span class=n>df</span><span class=p>,</span> <span class=n>tissue_groups</span><span class=p>,</span> <span class=n>group_sar_stats</span><span class=p>,</span> <span class=n>results_data</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h3 id=sar-extraction><abbr title="Specific Absorption Rate">SAR</abbr> Extraction<a class=headerlink href=#sar-extraction title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.extraction.sar_extractor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.extraction.sar_extractor</span> <a href=#goliat.extraction.sar_extractor class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.extraction.sar_extractor-classes>Classes<a href=#goliat.extraction.sar_extractor-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.extraction.sar_extractor.SarExtractor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">SarExtractor</span> <a href=#goliat.extraction.sar_extractor.SarExtractor class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>SarExtractor</span><span class=p>(</span><span class=n>parent</span><span class=p>:</span> <span class=n>ResultsExtractor</span><span class=p>,</span> <span class=n>results_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.logging_manager.LoggingMixin</code>" href=#goliat.logging_manager.LoggingMixin>LoggingMixin</a></code></p> <p>Extracts <abbr title="Specific Absorption Rate">SAR</abbr> statistics from simulation results.</p> <p>Uses Sim4Life's SarStatisticsEvaluator to compute mass-averaged <abbr title="Specific Absorption Rate">SAR</abbr>, peak spatial-average <abbr title="Specific Absorption Rate">SAR</abbr> (10g), and tissue-specific metrics. Groups tissues into logical groups (eyes, skin, brain) for analysis.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>parent</code> </td> <td> <code><span title=goliat.results_extractor.ResultsExtractor>ResultsExtractor</span></code> </td> <td> <div class=doc-md-description> <p>Parent ResultsExtractor instance.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>results_data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict to store extracted <abbr title="Specific Absorption Rate">SAR</abbr> data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/sar_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=s2>&quot;ResultsExtractor&quot;</span><span class=p>,</span> <span class=n>results_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the SAR extractor.</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>    Args:</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=sd>        parent: Parent ResultsExtractor instance.</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a><span class=sd>        results_data: Dict to store extracted SAR data.</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>config</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=bp>self</span><span class=o>.</span><span class=n>simulation</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>simulation</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>phantom_name</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>placement_name</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>verbose_logger</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>progress_logger</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>gui</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span> <span class=o>=</span> <span class=n>results_data</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.analysis</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.document</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=kn>import</span><span class=w> </span><span class=nn>s4l_v1.units</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>units</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=bp>self</span><span class=o>.</span><span class=n>analysis</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>analysis</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>document</span> <span class=o>=</span> <span class=n>s4l_v1</span><span class=o>.</span><span class=n>document</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>units</span> <span class=o>=</span> <span class=n>units</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.extraction.sar_extractor.SarExtractor-functions>Functions<a href=#goliat.extraction.sar_extractor.SarExtractor-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.extraction.sar_extractor.SarExtractor.extract_sar_statistics class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">extract_sar_statistics</span> <a href=#goliat.extraction.sar_extractor.SarExtractor.extract_sar_statistics class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>extract_sar_statistics</span><span class=p>(</span><span class=n>simulation_extractor</span><span class=p>:</span> <span class=n>Extractor</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extracts comprehensive <abbr title="Specific Absorption Rate">SAR</abbr> statistics for all tissues.</p> <p>This is the main <abbr title="Specific Absorption Rate">SAR</abbr> extraction method that orchestrates the entire process. It uses Sim4Life's SarStatisticsEvaluator to compute standardized <abbr title="Specific Absorption Rate">SAR</abbr> metrics according to <abbr title="Institute of Electrical and Electronics Engineers">IEEE</abbr>/<abbr title="International Electrotechnical Commission">IEC</abbr> standards.</p> <p>The process: 1. Extracts the 'Overall Field' E-field data from simulation results 2. Creates a SarStatisticsEvaluator configured for 10g peak spatial-average <abbr title="Specific Absorption Rate">SAR</abbr> 3. Processes the evaluator output into a pandas DataFrame 4. Groups tissues into logical categories (eyes, skin, brain) 5. Calculates weighted-average <abbr title="Specific Absorption Rate">SAR</abbr> for each group (mass-weighted) 6. Extracts peak <abbr title="Specific Absorption Rate">SAR</abbr> details (location, coordinates, etc.) 7. Stores both per-tissue and group-level results</p> <p>The results include mass-averaged <abbr title="Specific Absorption Rate">SAR</abbr>, peak spatial-average <abbr title="Specific Absorption Rate">SAR</abbr> (10g), and tissue-specific metrics. For near-field studies, also extracts head/trunk <abbr title="Specific Absorption Rate">SAR</abbr> based on placement scenario. For far-field, extracts whole-body <abbr title="Specific Absorption Rate">SAR</abbr>.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>simulation_extractor</code> </td> <td> <code><span title=goliat.extraction.sar_extractor.SarExtractor.analysis.Extractor>Extractor</span></code> </td> <td> <div class=doc-md-description> <p>Results extractor from the simulation object.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/sar_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-48> 48</a></span>
<span class=normal><a href=#__codelineno-0-49> 49</a></span>
<span class=normal><a href=#__codelineno-0-50> 50</a></span>
<span class=normal><a href=#__codelineno-0-51> 51</a></span>
<span class=normal><a href=#__codelineno-0-52> 52</a></span>
<span class=normal><a href=#__codelineno-0-53> 53</a></span>
<span class=normal><a href=#__codelineno-0-54> 54</a></span>
<span class=normal><a href=#__codelineno-0-55> 55</a></span>
<span class=normal><a href=#__codelineno-0-56> 56</a></span>
<span class=normal><a href=#__codelineno-0-57> 57</a></span>
<span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a><span class=k>def</span><span class=w> </span><span class=nf>extract_sar_statistics</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>simulation_extractor</span><span class=p>:</span> <span class=s2>&quot;analysis.Extractor&quot;</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extracts comprehensive SAR statistics for all tissues.</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a><span class=sd>    This is the main SAR extraction method that orchestrates the entire process.</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=sd>    It uses Sim4Life&#39;s SarStatisticsEvaluator to compute standardized SAR metrics</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a><span class=sd>    according to IEEE/IEC standards.</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=sd>    The process:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=sd>    1. Extracts the &#39;Overall Field&#39; E-field data from simulation results</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a><span class=sd>    2. Creates a SarStatisticsEvaluator configured for 10g peak spatial-average SAR</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a><span class=sd>    3. Processes the evaluator output into a pandas DataFrame</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=sd>    4. Groups tissues into logical categories (eyes, skin, brain)</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=sd>    5. Calculates weighted-average SAR for each group (mass-weighted)</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=sd>    6. Extracts peak SAR details (location, coordinates, etc.)</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a><span class=sd>    7. Stores both per-tissue and group-level results</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a><span class=sd>    The results include mass-averaged SAR, peak spatial-average SAR (10g), and</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a><span class=sd>    tissue-specific metrics. For near-field studies, also extracts head/trunk SAR</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a><span class=sd>    based on placement scenario. For far-field, extracts whole-body SAR.</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a><span class=sd>    Args:</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a><span class=sd>        simulation_extractor: Results extractor from the simulation object.</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Extract SAR statistics...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=p>:</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>            <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;extract_sar_statistics&quot;</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>                <span class=n>em_sensor_extractor</span> <span class=o>=</span> <span class=n>simulation_extractor</span><span class=p>[</span><span class=s2>&quot;Overall Field&quot;</span><span class=p>]</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>                <span class=n>em_sensor_extractor</span><span class=o>.</span><span class=n>FrequencySettings</span><span class=o>.</span><span class=n>ExtractedFrequency</span> <span class=o>=</span> <span class=s2>&quot;All&quot;</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>                <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>AllAlgorithms</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>em_sensor_extractor</span><span class=p>)</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>                <span class=n>em_sensor_extractor</span><span class=o>.</span><span class=n>Update</span><span class=p>()</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>                <span class=n>inputs</span> <span class=o>=</span> <span class=p>[</span><span class=n>em_sensor_extractor</span><span class=o>.</span><span class=n>Outputs</span><span class=p>[</span><span class=s2>&quot;EM E(x,y,z,f0)&quot;</span><span class=p>]]</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>                <span class=n>sar_stats_evaluator</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>analysis</span><span class=o>.</span><span class=n>em_evaluators</span><span class=o>.</span><span class=n>SarStatisticsEvaluator</span><span class=p>(</span><span class=n>inputs</span><span class=o>=</span><span class=n>inputs</span><span class=p>)</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>                <span class=n>sar_stats_evaluator</span><span class=o>.</span><span class=n>PeakSpatialAverageSAR</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>                <span class=n>sar_stats_evaluator</span><span class=o>.</span><span class=n>PeakSAR</span><span class=o>.</span><span class=n>TargetMass</span> <span class=o>=</span> <span class=mf>10.0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>units</span><span class=o>.</span><span class=n>Unit</span><span class=p>(</span><span class=s2>&quot;g&quot;</span><span class=p>)</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>                <span class=n>sar_stats_evaluator</span><span class=o>.</span><span class=n>UpdateAttributes</span><span class=p>()</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>                <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>AllAlgorithms</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>sar_stats_evaluator</span><span class=p>)</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>                <span class=n>sar_stats_evaluator</span><span class=o>.</span><span class=n>Update</span><span class=p>()</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>                <span class=n>stats_output</span> <span class=o>=</span> <span class=n>sar_stats_evaluator</span><span class=o>.</span><span class=n>Outputs</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>                <span class=n>results</span> <span class=o>=</span> <span class=n>stats_output</span><span class=o>.</span><span class=n>item_at</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>Data</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>stats_output</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>stats_output</span><span class=o>.</span><span class=n>item_at</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=s2>&quot;Data&quot;</span><span class=p>)</span> <span class=k>else</span> <span class=kc>None</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>                <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>AllAlgorithms</span><span class=o>.</span><span class=n>Remove</span><span class=p>(</span><span class=n>sar_stats_evaluator</span><span class=p>)</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>                <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=n>results</span> <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>results</span><span class=p>,</span> <span class=s2>&quot;NumberOfRows&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=n>results</span><span class=o>.</span><span class=n>NumberOfRows</span><span class=p>()</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>):</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;  - WARNING: No SAR statistics data found.&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>                    <span class=k>return</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>                <span class=n>columns</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;Tissue&quot;</span><span class=p>]</span> <span class=o>+</span> <span class=p>[</span><span class=n>cap</span> <span class=k>for</span> <span class=n>cap</span> <span class=ow>in</span> <span class=n>results</span><span class=o>.</span><span class=n>ColumnMainCaptions</span><span class=p>]</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>                <span class=n>data</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>                    <span class=p>[</span><span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;\s*\(.*\)\s*$&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=n>results</span><span class=o>.</span><span class=n>RowCaptions</span><span class=p>[</span><span class=n>i</span><span class=p>])</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;)&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)]</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>                    <span class=o>+</span> <span class=p>[</span><span class=n>results</span><span class=o>.</span><span class=n>Value</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span> <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>results</span><span class=o>.</span><span class=n>NumberOfColumns</span><span class=p>())]</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>                    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>results</span><span class=o>.</span><span class=n>NumberOfRows</span><span class=p>())</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>                <span class=p>]</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>                <span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>                <span class=n>df</span><span class=o>.</span><span class=n>columns</span> <span class=o>=</span> <span class=n>columns</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>                <span class=n>numeric_cols</span> <span class=o>=</span> <span class=p>[</span><span class=n>col</span> <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=n>df</span><span class=o>.</span><span class=n>columns</span> <span class=k>if</span> <span class=n>col</span> <span class=o>!=</span> <span class=s2>&quot;Tissue&quot;</span><span class=p>]</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>                <span class=n>df</span><span class=p>[</span><span class=n>numeric_cols</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>numeric_cols</span><span class=p>]</span><span class=o>.</span><span class=n>apply</span><span class=p>(</span><span class=n>pd</span><span class=o>.</span><span class=n>to_numeric</span><span class=p>,</span> <span class=n>errors</span><span class=o>=</span><span class=s2>&quot;coerce&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>fillna</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>                <span class=n>tissue_groups</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_define_tissue_groups</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s2>&quot;Tissue&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>tolist</span><span class=p>())</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>                <span class=n>group_sar_stats</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_calculate_group_sar</span><span class=p>(</span><span class=n>df</span><span class=p>,</span> <span class=n>tissue_groups</span><span class=p>)</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>                <span class=k>for</span> <span class=n>group</span><span class=p>,</span> <span class=n>data</span> <span class=ow>in</span> <span class=n>group_sar_stats</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>[</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>group</span><span class=si>}</span><span class=s2>_weighted_avg_sar&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;weighted_avg_sar&quot;</span><span class=p>]</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>[</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>group</span><span class=si>}</span><span class=s2>_peak_sar&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;peak_sar&quot;</span><span class=p>]</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>                <span class=n>all_regions_row</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>df</span><span class=p>[</span><span class=s2>&quot;Tissue&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;All Regions&quot;</span><span class=p>]</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>                <span class=k>if</span> <span class=ow>not</span> <span class=n>all_regions_row</span><span class=o>.</span><span class=n>empty</span><span class=p>:</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>                    <span class=n>mass_averaged_sar</span> <span class=o>=</span> <span class=n>all_regions_row</span><span class=p>[</span><span class=s2>&quot;Mass-Averaged SAR&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>                    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study_type</span> <span class=o>==</span> <span class=s2>&quot;near_field&quot;</span><span class=p>:</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>                        <span class=n>sar_key</span> <span class=o>=</span> <span class=s2>&quot;head_SAR&quot;</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>placement_name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;front_of_eyes&quot;</span><span class=p>,</span> <span class=s2>&quot;by_cheek&quot;</span><span class=p>]</span> <span class=k>else</span> <span class=s2>&quot;trunk_SAR&quot;</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>[</span><span class=n>sar_key</span><span class=p>]</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>mass_averaged_sar</span><span class=p>)</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>                    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>[</span><span class=s2>&quot;whole_body_sar&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>mass_averaged_sar</span><span class=p>)</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>                    <span class=n>peak_sar_col_name</span> <span class=o>=</span> <span class=s2>&quot;Peak Spatial-Average SAR[IEEE/IEC62704-1] (10g)&quot;</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>                    <span class=k>if</span> <span class=n>peak_sar_col_name</span> <span class=ow>in</span> <span class=n>all_regions_row</span><span class=o>.</span><span class=n>columns</span><span class=p>:</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>[</span><span class=s2>&quot;peak_sar_10g_W_kg&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>all_regions_row</span><span class=p>[</span><span class=n>peak_sar_col_name</span><span class=p>]</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>                <span class=bp>self</span><span class=o>.</span><span class=n>extract_peak_sar_details</span><span class=p>(</span><span class=n>em_sensor_extractor</span><span class=p>)</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>                <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>                    <span class=p>{</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>                        <span class=s2>&quot;_temp_sar_df&quot;</span><span class=p>:</span> <span class=n>df</span><span class=p>,</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>                        <span class=s2>&quot;_temp_tissue_groups&quot;</span><span class=p>:</span> <span class=n>tissue_groups</span><span class=p>,</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>                        <span class=s2>&quot;_temp_group_sar_stats&quot;</span><span class=p>:</span> <span class=n>group_sar_stats</span><span class=p>,</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>                    <span class=p>}</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>                <span class=p>)</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>            <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;extract_sar_statistics&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;extract_sar_statistics&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>            <span class=sa>f</span><span class=s2>&quot;  - ERROR: An unexpected error during all-tissue SAR statistics extraction: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>            <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;error&quot;</span><span class=p>,</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>        <span class=p>)</span>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>traceback</span><span class=o>.</span><span class=n>format_exc</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.extraction.sar_extractor.SarExtractor.extract_peak_sar_details class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">extract_peak_sar_details</span> <a href=#goliat.extraction.sar_extractor.SarExtractor.extract_peak_sar_details class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>extract_peak_sar_details</span><span class=p>(</span><span class=n>em_sensor_extractor</span><span class=p>:</span> <span class=n>Extractor</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extracts detailed metadata about the peak spatial-average <abbr title="Specific Absorption Rate">SAR</abbr> location.</p> <p>While the main <abbr title="Specific Absorption Rate">SAR</abbr> extraction gives per-tissue statistics, this method provides detailed information about where the absolute peak <abbr title="Specific Absorption Rate">SAR</abbr> occurs. This includes 3D coordinates, the tissue/organ containing the peak, mass of the 10g averaging volume, and other metadata.</p> <p>This information is useful for: - Understanding which anatomical region has the highest exposure - Verifying that peak <abbr title="Specific Absorption Rate">SAR</abbr> is in an expected location - Debugging unexpected <abbr title="Specific Absorption Rate">SAR</abbr> hotspots - Reporting peak exposure location in compliance documentation</p> <p>Uses Sim4Life's AverageSarFieldEvaluator configured for 10g spatial averaging to find the peak location according to <abbr title="Institute of Electrical and Electronics Engineers">IEEE</abbr>/<abbr title="International Electrotechnical Commission">IEC</abbr> 62704-1 standards.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>em_sensor_extractor</code> </td> <td> <code><span title=goliat.extraction.sar_extractor.SarExtractor.analysis.Extractor>Extractor</span></code> </td> <td> <div class=doc-md-description> <p>The 'Overall Field' results extractor containing the <abbr title="Specific Absorption Rate">SAR</abbr> field data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/sar_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span>
<span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a><span class=k>def</span><span class=w> </span><span class=nf>extract_peak_sar_details</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>em_sensor_extractor</span><span class=p>:</span> <span class=s2>&quot;analysis.Extractor&quot;</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extracts detailed metadata about the peak spatial-average SAR location.</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a><span class=sd>    While the main SAR extraction gives per-tissue statistics, this method</span>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a><span class=sd>    provides detailed information about where the absolute peak SAR occurs.</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a><span class=sd>    This includes 3D coordinates, the tissue/organ containing the peak, mass</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a><span class=sd>    of the 10g averaging volume, and other metadata.</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a><span class=sd>    This information is useful for:</span>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a><span class=sd>    - Understanding which anatomical region has the highest exposure</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a><span class=sd>    - Verifying that peak SAR is in an expected location</span>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a><span class=sd>    - Debugging unexpected SAR hotspots</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a><span class=sd>    - Reporting peak exposure location in compliance documentation</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a><span class=sd>    Uses Sim4Life&#39;s AverageSarFieldEvaluator configured for 10g spatial averaging</span>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a><span class=sd>    to find the peak location according to IEEE/IEC 62704-1 standards.</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a><span class=sd>    Args:</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a><span class=sd>        em_sensor_extractor: The &#39;Overall Field&#39; results extractor containing</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a><span class=sd>                           the SAR field data.</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;  - Extracting peak SAR details...&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a>        <span class=n>inputs</span> <span class=o>=</span> <span class=p>[</span><span class=n>em_sensor_extractor</span><span class=o>.</span><span class=n>Outputs</span><span class=p>[</span><span class=s2>&quot;SAR(x,y,z,f0)&quot;</span><span class=p>]]</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a>        <span class=n>average_sar_field_evaluator</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>analysis</span><span class=o>.</span><span class=n>em_evaluators</span><span class=o>.</span><span class=n>AverageSarFieldEvaluator</span><span class=p>(</span><span class=n>inputs</span><span class=o>=</span><span class=n>inputs</span><span class=p>)</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a>        <span class=n>average_sar_field_evaluator</span><span class=o>.</span><span class=n>TargetMass</span> <span class=o>=</span> <span class=mf>10.0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>units</span><span class=o>.</span><span class=n>Unit</span><span class=p>(</span><span class=s2>&quot;g&quot;</span><span class=p>)</span>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a>        <span class=n>average_sar_field_evaluator</span><span class=o>.</span><span class=n>UpdateAttributes</span><span class=p>()</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a>        <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>AllAlgorithms</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>average_sar_field_evaluator</span><span class=p>)</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a>        <span class=n>average_sar_field_evaluator</span><span class=o>.</span><span class=n>Update</span><span class=p>()</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a>        <span class=n>peak_sar_output</span> <span class=o>=</span> <span class=n>average_sar_field_evaluator</span><span class=o>.</span><span class=n>Outputs</span><span class=p>[</span><span class=s2>&quot;Peak Spatial SAR (psSAR) Results&quot;</span><span class=p>]</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a>        <span class=n>peak_sar_output</span><span class=o>.</span><span class=n>Update</span><span class=p>()</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a>        <span class=n>data_collection</span> <span class=o>=</span> <span class=n>peak_sar_output</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>DataSimpleDataCollection</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a>        <span class=k>if</span> <span class=n>data_collection</span><span class=p>:</span>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a>            <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>[</span><span class=s2>&quot;peak_sar_details&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=n>key</span><span class=p>:</span> <span class=n>data_collection</span><span class=o>.</span><span class=n>FieldValue</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>data_collection</span><span class=o>.</span><span class=n>Keys</span><span class=p>()}</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a>                <span class=s2>&quot;  - WARNING: Could not extract peak SAR details.&quot;</span><span class=p>,</span>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a>                <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a>            <span class=p>)</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a>        <span class=bp>self</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>AllAlgorithms</span><span class=o>.</span><span class=n>Remove</span><span class=p>(</span><span class=n>average_sar_field_evaluator</span><span class=p>)</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a>            <span class=sa>f</span><span class=s2>&quot;  - ERROR: An exception occurred during peak SAR detail extraction: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;error&quot;</span><span class=p>,</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>        <span class=p>)</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>traceback</span><span class=o>.</span><span class=n>format_exc</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=sensor-extraction>Sensor Extraction<a class=headerlink href=#sensor-extraction title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.extraction.sensor_extractor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.extraction.sensor_extractor</span> <a href=#goliat.extraction.sensor_extractor class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Point sensor data extraction.</p> <div class="doc doc-children"> <h3 id=goliat.extraction.sensor_extractor-classes>Classes<a href=#goliat.extraction.sensor_extractor-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.extraction.sensor_extractor.SensorExtractor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">SensorExtractor</span> <a href=#goliat.extraction.sensor_extractor.SensorExtractor class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>SensorExtractor</span><span class=p>(</span><span class=n>parent</span><span class=p>:</span> <span class=n>ResultsExtractor</span><span class=p>,</span> <span class=n>results_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extracts time-domain E-field data from point sensors.</p> <p>Reads E-field measurements from sensors placed at simulation bbox corners, creates plots showing magnitude over time, and stores raw data in results.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>parent</code> </td> <td> <code><span title=goliat.results_extractor.ResultsExtractor>ResultsExtractor</span></code> </td> <td> <div class=doc-md-description> <p>Parent ResultsExtractor instance.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>results_data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict to store extracted data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/sensor_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>:</span> <span class=s2>&quot;ResultsExtractor&quot;</span><span class=p>,</span> <span class=n>results_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the sensor extractor.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    Args:</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>        parent: Parent ResultsExtractor instance.</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=sd>        results_data: Dict to store extracted data.</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>parent</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span> <span class=o>=</span> <span class=n>results_data</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>verbose_logger</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span> <span class=o>=</span> <span class=n>parent</span><span class=o>.</span><span class=n>progress_logger</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.extraction.sensor_extractor.SensorExtractor-functions>Functions<a href=#goliat.extraction.sensor_extractor.SensorExtractor-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.extraction.sensor_extractor.SensorExtractor.extract_point_sensor_data class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">extract_point_sensor_data</span> <a href=#goliat.extraction.sensor_extractor.SensorExtractor.extract_point_sensor_data class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>extract_point_sensor_data</span><span class=p>(</span><span class=n>simulation_extractor</span><span class=p>:</span> <span class=n>Extractor</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extracts E-field data from all point sensors and generates plots.</p> <p>Iterates through configured sensors, extracts time-domain E-field components (Ex, Ey, Ez), calculates magnitude, and saves both plot and raw data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>simulation_extractor</code> </td> <td> <code><span title=s4l_v1.analysis.Extractor>Extractor</span></code> </td> <td> <div class=doc-md-description> <p>Results extractor from the simulation object.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/extraction/sensor_extractor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-34> 34</a></span>
<span class=normal><a href=#__codelineno-0-35> 35</a></span>
<span class=normal><a href=#__codelineno-0-36> 36</a></span>
<span class=normal><a href=#__codelineno-0-37> 37</a></span>
<span class=normal><a href=#__codelineno-0-38> 38</a></span>
<span class=normal><a href=#__codelineno-0-39> 39</a></span>
<span class=normal><a href=#__codelineno-0-40> 40</a></span>
<span class=normal><a href=#__codelineno-0-41> 41</a></span>
<span class=normal><a href=#__codelineno-0-42> 42</a></span>
<span class=normal><a href=#__codelineno-0-43> 43</a></span>
<span class=normal><a href=#__codelineno-0-44> 44</a></span>
<span class=normal><a href=#__codelineno-0-45> 45</a></span>
<span class=normal><a href=#__codelineno-0-46> 46</a></span>
<span class=normal><a href=#__codelineno-0-47> 47</a></span>
<span class=normal><a href=#__codelineno-0-48> 48</a></span>
<span class=normal><a href=#__codelineno-0-49> 49</a></span>
<span class=normal><a href=#__codelineno-0-50> 50</a></span>
<span class=normal><a href=#__codelineno-0-51> 51</a></span>
<span class=normal><a href=#__codelineno-0-52> 52</a></span>
<span class=normal><a href=#__codelineno-0-53> 53</a></span>
<span class=normal><a href=#__codelineno-0-54> 54</a></span>
<span class=normal><a href=#__codelineno-0-55> 55</a></span>
<span class=normal><a href=#__codelineno-0-56> 56</a></span>
<span class=normal><a href=#__codelineno-0-57> 57</a></span>
<span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a><span class=k>def</span><span class=w> </span><span class=nf>extract_point_sensor_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>simulation_extractor</span><span class=p>:</span> <span class=s2>&quot;analysis.Extractor&quot;</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extracts E-field data from all point sensors and generates plots.</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=sd>    Iterates through configured sensors, extracts time-domain E-field components</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>    (Ex, Ey, Ez), calculates magnitude, and saves both plot and raw data.</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>    Args:</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>        simulation_extractor: Results extractor from the simulation object.</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;    - Extract point sensors...&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>        <span class=n>elapsed</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=p>:</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>            <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask</span><span class=p>(</span><span class=s2>&quot;extract_point_sensor_data&quot;</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>                <span class=n>num_sensors</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;simulation_parameters.number_of_point_sensors&quot;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>                <span class=k>if</span> <span class=n>num_sensors</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>                    <span class=k>return</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>                <span class=n>plt</span><span class=o>.</span><span class=n>ioff</span><span class=p>()</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>                <span class=n>plt</span><span class=o>.</span><span class=n>rcParams</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=s2>&quot;text.usetex&quot;</span><span class=p>:</span> <span class=kc>False</span><span class=p>})</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>                <span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>()</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>                <span class=n>ax</span><span class=o>.</span><span class=n>grid</span><span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=n>which</span><span class=o>=</span><span class=s2>&quot;major&quot;</span><span class=p>,</span> <span class=n>axis</span><span class=o>=</span><span class=s2>&quot;y&quot;</span><span class=p>,</span> <span class=n>linestyle</span><span class=o>=</span><span class=s2>&quot;--&quot;</span><span class=p>)</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>                <span class=n>point_source_order</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;simulation_parameters.point_source_order&quot;</span><span class=p>,</span> <span class=p>[])</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>                <span class=n>point_sensor_results</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>                <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_sensors</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>                    <span class=k>if</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=nb>len</span><span class=p>(</span><span class=n>point_source_order</span><span class=p>):</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>                            <span class=sa>f</span><span class=s2>&quot;    - WARNING: Not enough entries in &#39;point_source_order&#39; for sensor </span><span class=si>{</span><span class=n>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>. Skipping.&quot;</span><span class=p>,</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>                            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>                        <span class=p>)</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>                        <span class=k>continue</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>                    <span class=n>corner_name</span> <span class=o>=</span> <span class=n>point_source_order</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>                    <span class=n>full_sensor_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Point Sensor Entity </span><span class=si>{</span><span class=n>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>corner_name</span><span class=si>}</span><span class=s2>)&quot;</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>                    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>                        <span class=n>em_sensor_extractor</span> <span class=o>=</span> <span class=n>simulation_extractor</span><span class=p>[</span><span class=n>full_sensor_name</span><span class=p>]</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>                        <span class=k>if</span> <span class=ow>not</span> <span class=n>em_sensor_extractor</span><span class=p>:</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>                            <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>                                <span class=sa>f</span><span class=s2>&quot;    - WARNING: Could not find sensor extractor for &#39;</span><span class=si>{</span><span class=n>full_sensor_name</span><span class=si>}</span><span class=s2>&#39;&quot;</span><span class=p>,</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>                                <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>                            <span class=p>)</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>                            <span class=k>continue</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>                    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>                            <span class=sa>f</span><span class=s2>&quot;    - WARNING: Could not retrieve sensor &#39;</span><span class=si>{</span><span class=n>full_sensor_name</span><span class=si>}</span><span class=s2>&#39;. Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>                            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>                        <span class=p>)</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>                        <span class=k>continue</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>AllAlgorithms</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>em_sensor_extractor</span><span class=p>)</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>                    <span class=k>if</span> <span class=s2>&quot;EM E(t)&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>em_sensor_extractor</span><span class=o>.</span><span class=n>Outputs</span><span class=p>:</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>                            <span class=sa>f</span><span class=s2>&quot;    - WARNING: &#39;EM E(t)&#39; output not found for sensor &#39;</span><span class=si>{</span><span class=n>full_sensor_name</span><span class=si>}</span><span class=s2>&#39;&quot;</span><span class=p>,</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>                            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>                        <span class=p>)</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>AllAlgorithms</span><span class=o>.</span><span class=n>Remove</span><span class=p>(</span><span class=n>em_sensor_extractor</span><span class=p>)</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>                        <span class=k>continue</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>                    <span class=n>em_output</span> <span class=o>=</span> <span class=n>em_sensor_extractor</span><span class=o>.</span><span class=n>Outputs</span><span class=p>[</span><span class=s2>&quot;EM E(t)&quot;</span><span class=p>]</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>                    <span class=n>em_output</span><span class=o>.</span><span class=n>Update</span><span class=p>()</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>                    <span class=n>time_axis</span> <span class=o>=</span> <span class=n>em_output</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>Axis</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>                    <span class=n>ex</span><span class=p>,</span> <span class=n>ey</span><span class=p>,</span> <span class=n>ez</span> <span class=o>=</span> <span class=p>(</span><span class=n>em_output</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>GetComponent</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>3</span><span class=p>))</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>                    <span class=n>label</span> <span class=o>=</span> <span class=n>corner_name</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>,</span> <span class=s2>&quot; &quot;</span><span class=p>)</span><span class=o>.</span><span class=n>title</span><span class=p>()</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>                    <span class=k>if</span> <span class=n>time_axis</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>time_axis</span><span class=o>.</span><span class=n>size</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>                        <span class=n>e_mag</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>ex</span><span class=o>**</span><span class=mi>2</span> <span class=o>+</span> <span class=n>ey</span><span class=o>**</span><span class=mi>2</span> <span class=o>+</span> <span class=n>ez</span><span class=o>**</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>                        <span class=n>ax</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>time_axis</span><span class=p>,</span> <span class=n>e_mag</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=n>label</span><span class=p>)</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>                        <span class=n>point_sensor_results</span><span class=p>[</span><span class=n>label</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>                            <span class=s2>&quot;time_s&quot;</span><span class=p>:</span> <span class=n>time_axis</span><span class=o>.</span><span class=n>tolist</span><span class=p>(),</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>                            <span class=s2>&quot;Ex_V_m&quot;</span><span class=p>:</span> <span class=n>ex</span><span class=o>.</span><span class=n>tolist</span><span class=p>(),</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>                            <span class=s2>&quot;Ey_V_m&quot;</span><span class=p>:</span> <span class=n>ey</span><span class=o>.</span><span class=n>tolist</span><span class=p>(),</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>                            <span class=s2>&quot;Ez_V_m&quot;</span><span class=p>:</span> <span class=n>ez</span><span class=o>.</span><span class=n>tolist</span><span class=p>(),</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>                            <span class=s2>&quot;E_mag_V_m&quot;</span><span class=p>:</span> <span class=n>e_mag</span><span class=o>.</span><span class=n>tolist</span><span class=p>(),</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>                        <span class=p>}</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>                    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>                            <span class=sa>f</span><span class=s2>&quot;    - WARNING: No data found for sensor &#39;</span><span class=si>{</span><span class=n>full_sensor_name</span><span class=si>}</span><span class=s2>&#39;&quot;</span><span class=p>,</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>                            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>                        <span class=p>)</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>document</span><span class=o>.</span><span class=n>AllAlgorithms</span><span class=o>.</span><span class=n>Remove</span><span class=p>(</span><span class=n>em_sensor_extractor</span><span class=p>)</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>                <span class=k>if</span> <span class=n>point_sensor_results</span><span class=p>:</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>results_data</span><span class=p>[</span><span class=s2>&quot;point_sensor_data&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>point_sensor_results</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>                <span class=bp>self</span><span class=o>.</span><span class=n>_save_plot</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>ax</span><span class=p>)</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>            <span class=n>elapsed</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>study</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=p>[</span><span class=s2>&quot;extract_point_sensor_data&quot;</span><span class=p>][</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Subtask &#39;extract_point_sensor_data&#39; done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;      - Done in </span><span class=si>{</span><span class=n>elapsed</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s&quot;</span><span class=p>,</span> <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>            <span class=sa>f</span><span class=s2>&quot;  - ERROR: An exception occurred during point sensor data extraction: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>            <span class=n>level</span><span class=o>=</span><span class=s2>&quot;progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>            <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;error&quot;</span><span class=p>,</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>        <span class=p>)</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>traceback</span><span class=o>.</span><span class=n>format_exc</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><hr> <h2 id=analysis>Analysis<a class=headerlink href=#analysis title="Permanent link">&para;</a></h2> <p>Classes for analyzing and visualizing simulation results.</p> <h3 id=analyzer>Analyzer<a class=headerlink href=#analyzer title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h2 id=goliat.analysis.analyzer.Analyzer class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">goliat.analysis.analyzer.Analyzer</span> <a href=#goliat.analysis.analyzer.Analyzer class=headerlink title="Permanent link">&para;</a></h2> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Analyzer</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>strategy</span><span class=p>:</span> <span class=n>BaseAnalysisStrategy</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents first"> <p>Analyzes simulation results using a strategy pattern.</p> <p>Delegates to strategy-specific implementations for loading results and generating plots. Handles unit conversion, caching, and report export.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.config.Config</code>" href=#goliat.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>Configuration object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>phantom_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Phantom model name being analyzed.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>strategy</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.analysis.base_strategy.BaseAnalysisStrategy</code>" href=#goliat.analysis.base_strategy.BaseAnalysisStrategy>BaseAnalysisStrategy</a></code> </td> <td> <div class=doc-md-description> <p>Strategy implementation for analysis logic.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/analyzer.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>strategy</span><span class=p>:</span> <span class=s2>&quot;BaseAnalysisStrategy&quot;</span><span class=p>):</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the analyzer with a strategy.</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>    Args:</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=sd>        config: Configuration object.</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a><span class=sd>        phantom_name: Phantom model name being analyzed.</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=sd>        strategy: Strategy implementation for analysis logic.</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>base_dir</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=bp>self</span><span class=o>.</span><span class=n>strategy</span> <span class=o>=</span> <span class=n>strategy</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=bp>self</span><span class=o>.</span><span class=n>results_base_dir</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>strategy</span><span class=o>.</span><span class=n>get_results_base_dir</span><span class=p>()</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=bp>self</span><span class=o>.</span><span class=n>plotter</span> <span class=o>=</span> <span class=n>Plotter</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>strategy</span><span class=o>.</span><span class=n>get_plots_dir</span><span class=p>())</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=bp>self</span><span class=o>.</span><span class=n>all_results</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>all_organ_results</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tissue_group_definitions</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>        <span class=s2>&quot;eyes_group&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;eye&quot;</span><span class=p>,</span> <span class=s2>&quot;cornea&quot;</span><span class=p>,</span> <span class=s2>&quot;sclera&quot;</span><span class=p>,</span> <span class=s2>&quot;lens&quot;</span><span class=p>,</span> <span class=s2>&quot;vitreous&quot;</span><span class=p>],</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>        <span class=s2>&quot;skin_group&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;skin&quot;</span><span class=p>],</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>        <span class=s2>&quot;brain_group&quot;</span><span class=p>:</span> <span class=p>[</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>            <span class=s2>&quot;brain&quot;</span><span class=p>,</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>            <span class=s2>&quot;commissura&quot;</span><span class=p>,</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>            <span class=s2>&quot;midbrain&quot;</span><span class=p>,</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>            <span class=s2>&quot;pineal&quot;</span><span class=p>,</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>            <span class=s2>&quot;hypophysis&quot;</span><span class=p>,</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>            <span class=s2>&quot;medulla&quot;</span><span class=p>,</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>            <span class=s2>&quot;pons&quot;</span><span class=p>,</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>            <span class=s2>&quot;thalamus&quot;</span><span class=p>,</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>            <span class=s2>&quot;hippocampus&quot;</span><span class=p>,</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>            <span class=s2>&quot;cerebellum&quot;</span><span class=p>,</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>        <span class=p>],</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h3 id=goliat.analysis.analyzer.Analyzer-functions>Functions<a href=#goliat.analysis.analyzer.Analyzer-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.analysis.analyzer.Analyzer.run_analysis class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">run_analysis</span> <a href=#goliat.analysis.analyzer.Analyzer.run_analysis class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>run_analysis</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Runs complete analysis pipeline using the selected strategy.</p> <p>Loads results, converts units, exports reports, and generates plots. Delegates strategy-specific logic to the strategy instance.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/analyzer.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=k>def</span><span class=w> </span><span class=nf>run_analysis</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Runs complete analysis pipeline using the selected strategy.</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=sd>    Loads results, converts units, exports reports, and generates plots.</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=sd>    Delegates strategy-specific logic to the strategy instance.</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>        <span class=sa>f</span><span class=s2>&quot;--- Starting Results Analysis for Phantom: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=si>}</span><span class=s2> ---&quot;</span><span class=p>,</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;header&quot;</span><span class=p>},</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=p>)</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>    <span class=bp>self</span><span class=o>.</span><span class=n>strategy</span><span class=o>.</span><span class=n>load_and_process_results</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>all_results</span><span class=p>:</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;--- No results found to analyze. ---&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;warning&quot;</span><span class=p>})</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>        <span class=k>return</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=n>results_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>all_results</span><span class=p>)</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=n>all_organ_results_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>all_organ_results</span><span class=p>)</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=n>results_df</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convert_units_and_cache</span><span class=p>(</span><span class=n>results_df</span><span class=p>,</span> <span class=n>all_organ_results_df</span><span class=p>)</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_export_reports</span><span class=p>(</span><span class=n>results_df</span><span class=p>,</span> <span class=n>all_organ_results_df</span><span class=p>)</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=bp>self</span><span class=o>.</span><span class=n>strategy</span><span class=o>.</span><span class=n>generate_plots</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>plotter</span><span class=p>,</span> <span class=n>results_df</span><span class=p>,</span> <span class=n>all_organ_results_df</span><span class=p>)</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>    <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;--- Analysis Finished ---&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;success&quot;</span><span class=p>})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h3 id=analysis-strategies>Analysis Strategies<a class=headerlink href=#analysis-strategies title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.analysis.base_strategy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.analysis.base_strategy</span> <a href=#goliat.analysis.base_strategy class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.analysis.base_strategy-classes>Classes<a href=#goliat.analysis.base_strategy-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.analysis.base_strategy.BaseAnalysisStrategy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">BaseAnalysisStrategy</span> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>BaseAnalysisStrategy</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=abc.ABC>ABC</span></code></p> <p>Base class for analysis strategies.</p> <p>Defines interface for loading results, calculating normalization factors, and generating plots. Subclasses implement study-type specific logic.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.config.Config</code>" href=#goliat.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>Configuration object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>phantom_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Phantom model name being analyzed.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the analysis strategy.</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=sd>    Args:</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=sd>        config: Configuration object.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=sd>        phantom_name: Phantom model name being analyzed.</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>base_dir</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.analysis.base_strategy.BaseAnalysisStrategy-functions>Functions<a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.base_strategy.BaseAnalysisStrategy.get_results_base_dir class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_results_base_dir</span> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy.get_results_base_dir class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_results_base_dir</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns base directory path for results. Must be implemented by subclasses.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=k>def</span><span class=w> </span><span class=nf>get_results_base_dir</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns base directory path for results. Must be implemented by subclasses.&quot;&quot;&quot;</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=k>raise</span> <span class=ne>NotImplementedError</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.base_strategy.BaseAnalysisStrategy.get_plots_dir class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_plots_dir</span> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy.get_plots_dir class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_plots_dir</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns directory path for saving plots. Must be implemented by subclasses.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a><span class=k>def</span><span class=w> </span><span class=nf>get_plots_dir</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns directory path for saving plots. Must be implemented by subclasses.&quot;&quot;&quot;</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=k>raise</span> <span class=ne>NotImplementedError</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.base_strategy.BaseAnalysisStrategy.load_and_process_results class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">load_and_process_results</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> </span> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy.load_and_process_results class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>load_and_process_results</span><span class=p>(</span><span class=n>analyzer</span><span class=p>:</span> <span class=n>Analyzer</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Loads and processes all simulation results.</p> <p>Iterates through configured scenarios and calls analyzer._process_single_result() for each one.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>analyzer</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.analysis.analyzer.Analyzer</code>" href=#goliat.analysis.analyzer.Analyzer>Analyzer</a></code> </td> <td> <div class=doc-md-description> <p>Analyzer instance to process results with.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=nd>@abstractmethod</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=k>def</span><span class=w> </span><span class=nf>load_and_process_results</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>analyzer</span><span class=p>:</span> <span class=s2>&quot;Analyzer&quot;</span><span class=p>):</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Loads and processes all simulation results.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>    Iterates through configured scenarios and calls analyzer._process_single_result()</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>    for each one.</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=sd>    Args:</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>        analyzer: Analyzer instance to process results with.</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=k>pass</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.base_strategy.BaseAnalysisStrategy.get_normalization_factor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_normalization_factor</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> </span> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy.get_normalization_factor class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_normalization_factor</span><span class=p>(</span><span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>simulated_power_w</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Calculates <abbr title="Specific Absorption Rate">SAR</abbr> normalization factor from simulated power.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>frequency_mhz</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Simulation frequency in <abbr title=Megahertz>MHz</abbr>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>simulated_power_w</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Input power from simulation in Watts.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Normalization factor to multiply <abbr title="Specific Absorption Rate">SAR</abbr> values by.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a><span class=nd>@abstractmethod</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a><span class=k>def</span><span class=w> </span><span class=nf>get_normalization_factor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>simulated_power_w</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculates SAR normalization factor from simulated power.</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a><span class=sd>    Args:</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=sd>        frequency_mhz: Simulation frequency in MHz.</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=sd>        simulated_power_w: Input power from simulation in Watts.</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a><span class=sd>    Returns:</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=sd>        Normalization factor to multiply SAR values by.</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=k>pass</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.base_strategy.BaseAnalysisStrategy.extract_data class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">extract_data</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> </span> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy.extract_data class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>extract_data</span><span class=p>(</span><span class=n>pickle_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>placement_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>sim_power</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>norm_factor</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>dict</span><span class=p>,</span> <span class=nb>list</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extracts and structures data from a single simulation's result files.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>pickle_data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Data loaded from the .pkl result file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>frequency_mhz</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Simulation frequency.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>placement_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Detailed placement name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>General scenario name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>sim_power</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Simulated input power in Watts.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>norm_factor</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Normalization factor to apply.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=tuple>tuple</span>[<span title=dict>dict</span>, <span title=list>list</span>]</code> </td> <td> <div class=doc-md-description> <p>Tuple of (main result entry dict, list of organ-specific entries).</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span>
<span class=normal><a href=#__codelineno-0-85>85</a></span>
<span class=normal><a href=#__codelineno-0-86>86</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a><span class=nd>@abstractmethod</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a><span class=k>def</span><span class=w> </span><span class=nf>extract_data</span><span class=p>(</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>    <span class=n>pickle_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>    <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=n>placement_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>    <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>    <span class=n>sim_power</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>    <span class=n>norm_factor</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>dict</span><span class=p>,</span> <span class=nb>list</span><span class=p>]:</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extracts and structures data from a single simulation&#39;s result files.</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a><span class=sd>    Args:</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=sd>        pickle_data: Data loaded from the .pkl result file.</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=sd>        frequency_mhz: Simulation frequency.</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=sd>        placement_name: Detailed placement name.</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>        scenario_name: General scenario name.</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a><span class=sd>        sim_power: Simulated input power in Watts.</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=sd>        norm_factor: Normalization factor to apply.</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=sd>    Returns:</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a><span class=sd>        Tuple of (main result entry dict, list of organ-specific entries).</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>    <span class=k>pass</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.base_strategy.BaseAnalysisStrategy.apply_bug_fixes class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">apply_bug_fixes</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> </span> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy.apply_bug_fixes class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>apply_bug_fixes</span><span class=p>(</span><span class=n>result_entry</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Applies workarounds for known data inconsistencies.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>result_entry</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Data entry for a single simulation result.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Corrected result entry.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-88>88</a></span>
<span class=normal><a href=#__codelineno-0-89>89</a></span>
<span class=normal><a href=#__codelineno-0-90>90</a></span>
<span class=normal><a href=#__codelineno-0-91>91</a></span>
<span class=normal><a href=#__codelineno-0-92>92</a></span>
<span class=normal><a href=#__codelineno-0-93>93</a></span>
<span class=normal><a href=#__codelineno-0-94>94</a></span>
<span class=normal><a href=#__codelineno-0-95>95</a></span>
<span class=normal><a href=#__codelineno-0-96>96</a></span>
<span class=normal><a href=#__codelineno-0-97>97</a></span>
<span class=normal><a href=#__codelineno-0-98>98</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a><span class=nd>@abstractmethod</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a><span class=k>def</span><span class=w> </span><span class=nf>apply_bug_fixes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>result_entry</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Applies workarounds for known data inconsistencies.</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a><span class=sd>    Args:</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a><span class=sd>        result_entry: Data entry for a single simulation result.</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=sd>    Returns:</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a><span class=sd>        Corrected result entry.</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>    <span class=k>return</span> <span class=n>result_entry</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.base_strategy.BaseAnalysisStrategy.calculate_summary_stats class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">calculate_summary_stats</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> </span> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy.calculate_summary_stats class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>calculate_summary_stats</span><span class=p>(</span><span class=n>results_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Calculates summary statistics from aggregated results.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>results_df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with all aggregated simulation results.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with summary statistics.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a><span class=nd>@abstractmethod</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a><span class=k>def</span><span class=w> </span><span class=nf>calculate_summary_stats</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>results_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>:</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculates summary statistics from aggregated results.</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a><span class=sd>    Args:</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a><span class=sd>        results_df: DataFrame with all aggregated simulation results.</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a><span class=sd>    Returns:</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a><span class=sd>        DataFrame with summary statistics.</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=k>pass</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.base_strategy.BaseAnalysisStrategy.generate_plots class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">generate_plots</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small> </span> <a href=#goliat.analysis.base_strategy.BaseAnalysisStrategy.generate_plots class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>generate_plots</span><span class=p>(</span><span class=n>analyzer</span><span class=p>:</span> <span class=n>Analyzer</span><span class=p>,</span> <span class=n>plotter</span><span class=p>:</span> <span class=n>Plotter</span><span class=p>,</span> <span class=n>results_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>all_organ_results_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Generates study-type specific plots.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>analyzer</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.analysis.analyzer.Analyzer</code>" href=#goliat.analysis.analyzer.Analyzer>Analyzer</a></code> </td> <td> <div class=doc-md-description> <p>Analyzer instance with aggregated data.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>plotter</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.analysis.plotter.Plotter</code>" href=#goliat.analysis.plotter.Plotter>Plotter</a></code> </td> <td> <div class=doc-md-description> <p>Plotter instance for creating figures.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>results_df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with summary results.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>all_organ_results_df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with organ-level details.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a><span class=nd>@abstractmethod</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a><span class=k>def</span><span class=w> </span><span class=nf>generate_plots</span><span class=p>(</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>    <span class=n>analyzer</span><span class=p>:</span> <span class=s2>&quot;Analyzer&quot;</span><span class=p>,</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>    <span class=n>plotter</span><span class=p>:</span> <span class=s2>&quot;Plotter&quot;</span><span class=p>,</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>    <span class=n>results_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>    <span class=n>all_organ_results_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a><span class=p>):</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generates study-type specific plots.</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a><span class=sd>    Args:</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a><span class=sd>        analyzer: Analyzer instance with aggregated data.</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a><span class=sd>        plotter: Plotter instance for creating figures.</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a><span class=sd>        results_df: DataFrame with summary results.</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a><span class=sd>        all_organ_results_df: DataFrame with organ-level details.</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>    <span class=k>pass</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=far-field-strategy>Far-Field Strategy<a class=headerlink href=#far-field-strategy title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.analysis.far_field_strategy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.analysis.far_field_strategy</span> <a href=#goliat.analysis.far_field_strategy class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.analysis.far_field_strategy-classes>Classes<a href=#goliat.analysis.far_field_strategy-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">FarFieldAnalysisStrategy</span> <a href=#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>FarFieldAnalysisStrategy</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.analysis.base_strategy.BaseAnalysisStrategy</code>" href=#goliat.analysis.base_strategy.BaseAnalysisStrategy>BaseAnalysisStrategy</a></code></p> <p>Analysis strategy for far-field simulations.</p> <p>Handles result loading, normalization, and plot generation for far-field studies with incident directions and polarizations.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the analysis strategy.</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=sd>    Args:</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=sd>        config: Configuration object.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=sd>        phantom_name: Phantom model name being analyzed.</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>base_dir</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy-functions>Functions<a href=#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.get_results_base_dir class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_results_base_dir</span> <a href=#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.get_results_base_dir class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_results_base_dir</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns base directory for far-field results.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/far_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a><span class=k>def</span><span class=w> </span><span class=nf>get_results_base_dir</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns base directory for far-field results.&quot;&quot;&quot;</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a>    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;results&quot;</span><span class=p>,</span> <span class=s2>&quot;far_field&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.get_plots_dir class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_plots_dir</span> <a href=#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.get_plots_dir class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_plots_dir</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns directory for far-field plots.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/far_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=k>def</span><span class=w> </span><span class=nf>get_plots_dir</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns directory for far-field plots.&quot;&quot;&quot;</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;plots&quot;</span><span class=p>,</span> <span class=s2>&quot;far_field&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.load_and_process_results class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">load_and_process_results</span> <a href=#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.load_and_process_results class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>load_and_process_results</span><span class=p>(</span><span class=n>analyzer</span><span class=p>:</span> <span class=n>Analyzer</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Iterates through far-field results and processes each one.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/far_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=k>def</span><span class=w> </span><span class=nf>load_and_process_results</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>analyzer</span><span class=p>:</span> <span class=s2>&quot;Analyzer&quot;</span><span class=p>):</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Iterates through far-field results and processes each one.&quot;&quot;&quot;</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>frequencies</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;frequencies_mhz&quot;</span><span class=p>)</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=n>far_field_params</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;far_field_setup/environmental&quot;</span><span class=p>)</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>far_field_params</span><span class=p>:</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>        <span class=k>return</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=n>incident_directions</span> <span class=o>=</span> <span class=n>far_field_params</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;incident_directions&quot;</span><span class=p>,</span> <span class=p>[])</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=n>polarizations</span> <span class=o>=</span> <span class=n>far_field_params</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;polarizations&quot;</span><span class=p>,</span> <span class=p>[])</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>frequencies</span><span class=p>:</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>        <span class=k>return</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=k>for</span> <span class=n>freq</span> <span class=ow>in</span> <span class=n>frequencies</span><span class=p>:</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>incident_directions</span><span class=p>:</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>            <span class=k>continue</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>        <span class=k>for</span> <span class=n>direction_name</span> <span class=ow>in</span> <span class=n>incident_directions</span><span class=p>:</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>polarizations</span><span class=p>:</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>                <span class=k>continue</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>            <span class=k>for</span> <span class=n>polarization_name</span> <span class=ow>in</span> <span class=n>polarizations</span><span class=p>:</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>                <span class=n>placement_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;environmental_</span><span class=si>{</span><span class=n>direction_name</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>polarization_name</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>                <span class=n>analyzer</span><span class=o>.</span><span class=n>_process_single_result</span><span class=p>(</span><span class=n>freq</span><span class=p>,</span> <span class=s2>&quot;environmental&quot;</span><span class=p>,</span> <span class=n>placement_name</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.get_normalization_factor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_normalization_factor</span> <a href=#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.get_normalization_factor class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_normalization_factor</span><span class=p>(</span><span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>simulated_power_w</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns normalization factor for far-field (always 1.0).</p> <p>Far-field simulations are normalized to 1 W/m^2 in the simulation itself, so no additional normalization is needed.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/far_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a><span class=k>def</span><span class=w> </span><span class=nf>get_normalization_factor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>simulated_power_w</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns normalization factor for far-field (always 1.0).</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a><span class=sd>    Far-field simulations are normalized to 1 W/m^2 in the simulation itself,</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=sd>    so no additional normalization is needed.</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=k>return</span> <span class=mf>1.0</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.apply_bug_fixes class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">apply_bug_fixes</span> <a href=#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.apply_bug_fixes class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>apply_bug_fixes</span><span class=p>(</span><span class=n>result_entry</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>No bug fixes needed for far-field data.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/far_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-95>95</a></span>
<span class=normal><a href=#__codelineno-0-96>96</a></span>
<span class=normal><a href=#__codelineno-0-97>97</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=k>def</span><span class=w> </span><span class=nf>apply_bug_fixes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>result_entry</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;No bug fixes needed for far-field data.&quot;&quot;&quot;</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>    <span class=k>return</span> <span class=n>result_entry</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.calculate_summary_stats class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">calculate_summary_stats</span> <a href=#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.calculate_summary_stats class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>calculate_summary_stats</span><span class=p>(</span><span class=n>results_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Calculates summary statistics for far-field results.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/far_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a><span class=k>def</span><span class=w> </span><span class=nf>calculate_summary_stats</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>results_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>:</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculates summary statistics for far-field results.&quot;&quot;&quot;</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>    <span class=n>summary</span> <span class=o>=</span> <span class=n>results_df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>numeric_only</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=k>return</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>summary</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=near-field-strategy>Near-Field Strategy<a class=headerlink href=#near-field-strategy title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.analysis.near_field_strategy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.analysis.near_field_strategy</span> <a href=#goliat.analysis.near_field_strategy class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <h3 id=goliat.analysis.near_field_strategy-classes>Classes<a href=#goliat.analysis.near_field_strategy-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">NearFieldAnalysisStrategy</span> <a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>NearFieldAnalysisStrategy</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=n>Config</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.analysis.base_strategy.BaseAnalysisStrategy</code>" href=#goliat.analysis.base_strategy.BaseAnalysisStrategy>BaseAnalysisStrategy</a></code></p> <p>Analysis strategy for near-field simulations.</p> <p>Handles result loading, normalization, and plot generation for near-field studies with placement scenarios, positions, and orientations.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/base_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=s2>&quot;Config&quot;</span><span class=p>,</span> <span class=n>phantom_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the analysis strategy.</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=sd>    Args:</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=sd>        config: Configuration object.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=sd>        phantom_name: Phantom model name being analyzed.</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=n>config</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span> <span class=o>=</span> <span class=n>phantom_name</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>base_dir</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy-functions>Functions<a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.get_results_base_dir class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_results_base_dir</span> <a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.get_results_base_dir class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_results_base_dir</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns base directory for near-field results.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/near_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a><span class=k>def</span><span class=w> </span><span class=nf>get_results_base_dir</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns base directory for near-field results.&quot;&quot;&quot;</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a>    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;results&quot;</span><span class=p>,</span> <span class=s2>&quot;near_field&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.get_plots_dir class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_plots_dir</span> <a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.get_plots_dir class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_plots_dir</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Returns directory for near-field plots.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/near_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=k>def</span><span class=w> </span><span class=nf>get_plots_dir</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns directory for near-field plots.&quot;&quot;&quot;</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>base_dir</span><span class=p>,</span> <span class=s2>&quot;plots&quot;</span><span class=p>,</span> <span class=s2>&quot;near_field&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>phantom_name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.load_and_process_results class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">load_and_process_results</span> <a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.load_and_process_results class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>load_and_process_results</span><span class=p>(</span><span class=n>analyzer</span><span class=p>:</span> <span class=n>Analyzer</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Iterates through near-field results and processes each one.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/near_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=k>def</span><span class=w> </span><span class=nf>load_and_process_results</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>analyzer</span><span class=p>:</span> <span class=s2>&quot;Analyzer&quot;</span><span class=p>):</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Iterates through near-field results and processes each one.&quot;&quot;&quot;</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>antenna_config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_antenna_config</span><span class=p>()</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>antenna_config</span><span class=p>:</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>        <span class=k>return</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=n>frequencies</span> <span class=o>=</span> <span class=n>antenna_config</span><span class=o>.</span><span class=n>keys</span><span class=p>()</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=n>placement_scenarios</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;placement_scenarios&quot;</span><span class=p>)</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>placement_scenarios</span><span class=p>:</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>        <span class=k>return</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=k>for</span> <span class=n>freq</span> <span class=ow>in</span> <span class=n>frequencies</span><span class=p>:</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>        <span class=n>frequency_mhz</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>freq</span><span class=p>)</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>        <span class=k>for</span> <span class=n>scenario_name</span><span class=p>,</span> <span class=n>scenario_def</span> <span class=ow>in</span> <span class=n>placement_scenarios</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>scenario_def</span><span class=p>:</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>                <span class=k>continue</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>            <span class=n>positions</span> <span class=o>=</span> <span class=n>scenario_def</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;positions&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>            <span class=n>orientations</span> <span class=o>=</span> <span class=n>scenario_def</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;orientations&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>positions</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>orientations</span><span class=p>:</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>                <span class=k>continue</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>            <span class=k>for</span> <span class=n>pos_name</span> <span class=ow>in</span> <span class=n>positions</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>                <span class=k>for</span> <span class=n>orient_name</span> <span class=ow>in</span> <span class=n>orientations</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>                    <span class=n>analyzer</span><span class=o>.</span><span class=n>_process_single_result</span><span class=p>(</span><span class=n>frequency_mhz</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>,</span> <span class=n>pos_name</span><span class=p>,</span> <span class=n>orient_name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.get_normalization_factor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_normalization_factor</span> <a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.get_normalization_factor class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_normalization_factor</span><span class=p>(</span><span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>simulated_power_w</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Calculates the normalization factor based on the target power.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>frequency_mhz</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The simulation frequency in <abbr title=Megahertz>MHz</abbr>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>simulated_power_w</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>The input power from the simulation in Watts.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>The calculated normalization factor, or 1.0 if not possible.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/near_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=k>def</span><span class=w> </span><span class=nf>get_normalization_factor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>simulated_power_w</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculates the normalization factor based on the target power.</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=sd>    Args:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=sd>        frequency_mhz: The simulation frequency in MHz.</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a><span class=sd>        simulated_power_w: The input power from the simulation in Watts.</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=sd>    Returns:</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=sd>        The calculated normalization factor, or 1.0 if not possible.</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=n>antenna_configs</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_antenna_config</span><span class=p>()</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=n>freq_config</span> <span class=o>=</span> <span class=n>antenna_configs</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>frequency_mhz</span><span class=p>),</span> <span class=p>{})</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=n>target_power_mw</span> <span class=o>=</span> <span class=n>freq_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;target_power_mW&quot;</span><span class=p>)</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=k>if</span> <span class=n>target_power_mw</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>pd</span><span class=o>.</span><span class=n>notna</span><span class=p>(</span><span class=n>simulated_power_w</span><span class=p>)</span> <span class=ow>and</span> <span class=n>simulated_power_w</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=n>target_power_w</span> <span class=o>=</span> <span class=n>target_power_mw</span> <span class=o>/</span> <span class=mf>1000.0</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=k>return</span> <span class=n>target_power_w</span> <span class=o>/</span> <span class=n>simulated_power_w</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=k>return</span> <span class=mf>1.0</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.extract_data class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">extract_data</span> <a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.extract_data class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>extract_data</span><span class=p>(</span><span class=n>pickle_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>placement_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>sim_power</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>norm_factor</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>dict</span><span class=p>,</span> <span class=nb>list</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extracts and normalizes <abbr title="Specific Absorption Rate">SAR</abbr> data from a single near-field result.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>pickle_data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Data loaded from the .pkl result file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>frequency_mhz</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The simulation frequency.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>placement_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The detailed name of the placement.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The general scenario name (e.g., 'by_cheek').</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>sim_power</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>The simulated input power in Watts.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>norm_factor</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>The normalization factor to apply to <abbr title="Specific Absorption Rate">SAR</abbr> values.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=tuple>tuple</span>[<span title=dict>dict</span>, <span title=list>list</span>]</code> </td> <td> <div class=doc-md-description> <p>A tuple containing the main result entry and a list of organ-specific entries.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/near_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a><span class=k>def</span><span class=w> </span><span class=nf>extract_data</span><span class=p>(</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=n>pickle_data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=n>frequency_mhz</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=n>placement_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=n>sim_power</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=n>norm_factor</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>dict</span><span class=p>,</span> <span class=nb>list</span><span class=p>]:</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extracts and normalizes SAR data from a single near-field result.</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=sd>    Args:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=sd>        pickle_data: Data loaded from the .pkl result file.</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=sd>        frequency_mhz: The simulation frequency.</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a><span class=sd>        placement_name: The detailed name of the placement.</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a><span class=sd>        scenario_name: The general scenario name (e.g., &#39;by_cheek&#39;).</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=sd>        sim_power: The simulated input power in Watts.</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a><span class=sd>        norm_factor: The normalization factor to apply to SAR values.</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a><span class=sd>    Returns:</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=sd>        A tuple containing the main result entry and a list of organ-specific entries.</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>    <span class=n>summary_results</span> <span class=o>=</span> <span class=n>pickle_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;summary_results&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>    <span class=n>grouped_stats</span> <span class=o>=</span> <span class=n>pickle_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;grouped_sar_stats&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>    <span class=n>detailed_df</span> <span class=o>=</span> <span class=n>pickle_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;detailed_sar_stats&quot;</span><span class=p>)</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>    <span class=n>result_entry</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>        <span class=s2>&quot;frequency_mhz&quot;</span><span class=p>:</span> <span class=n>frequency_mhz</span><span class=p>,</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>        <span class=s2>&quot;placement&quot;</span><span class=p>:</span> <span class=n>placement_name</span><span class=p>,</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>        <span class=s2>&quot;scenario&quot;</span><span class=p>:</span> <span class=n>scenario_name</span><span class=p>,</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>        <span class=s2>&quot;input_power_w&quot;</span><span class=p>:</span> <span class=n>sim_power</span><span class=p>,</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>        <span class=s2>&quot;SAR_head&quot;</span><span class=p>:</span> <span class=n>summary_results</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;head_SAR&quot;</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>NA</span><span class=p>)</span> <span class=o>*</span> <span class=n>norm_factor</span><span class=p>,</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>        <span class=s2>&quot;SAR_trunk&quot;</span><span class=p>:</span> <span class=n>summary_results</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;trunk_SAR&quot;</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>NA</span><span class=p>)</span> <span class=o>*</span> <span class=n>norm_factor</span><span class=p>,</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=p>}</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>    <span class=k>for</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>stats</span> <span class=ow>in</span> <span class=n>grouped_stats</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=n>key</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;psSAR10g_</span><span class=si>{</span><span class=n>group_name</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;_group&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=n>result_entry</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>stats</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;peak_sar&quot;</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>NA</span><span class=p>)</span> <span class=o>*</span> <span class=n>norm_factor</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>    <span class=n>organ_entries</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>    <span class=k>if</span> <span class=n>detailed_df</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>        <span class=n>peak_sar_col</span> <span class=o>=</span> <span class=s2>&quot;Peak Spatial-Average SAR[IEEE/IEC62704-1] (10g)&quot;</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>        <span class=k>for</span> <span class=n>_</span><span class=p>,</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>detailed_df</span><span class=o>.</span><span class=n>iterrows</span><span class=p>():</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>            <span class=n>organ_entries</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>                <span class=p>{</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>                    <span class=s2>&quot;frequency_mhz&quot;</span><span class=p>:</span> <span class=n>frequency_mhz</span><span class=p>,</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>                    <span class=s2>&quot;placement&quot;</span><span class=p>:</span> <span class=n>placement_name</span><span class=p>,</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>                    <span class=s2>&quot;tissue&quot;</span><span class=p>:</span> <span class=n>row</span><span class=p>[</span><span class=s2>&quot;Tissue&quot;</span><span class=p>],</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>                    <span class=s2>&quot;mass_avg_sar_mw_kg&quot;</span><span class=p>:</span> <span class=n>row</span><span class=p>[</span><span class=s2>&quot;Mass-Averaged SAR&quot;</span><span class=p>]</span> <span class=o>*</span> <span class=n>norm_factor</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>,</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>                    <span class=s2>&quot;peak_sar_10g_mw_kg&quot;</span><span class=p>:</span> <span class=n>row</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>peak_sar_col</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>NA</span><span class=p>)</span> <span class=o>*</span> <span class=n>norm_factor</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>,</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>                    <span class=s2>&quot;min_local_sar_mw_kg&quot;</span><span class=p>:</span> <span class=n>row</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Min. local SAR&quot;</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>NA</span><span class=p>)</span> <span class=o>*</span> <span class=n>norm_factor</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>,</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>                    <span class=s2>&quot;max_local_sar_mw_kg&quot;</span><span class=p>:</span> <span class=n>row</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Max. local SAR&quot;</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>NA</span><span class=p>)</span> <span class=o>*</span> <span class=n>norm_factor</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>,</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>                <span class=p>}</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>            <span class=p>)</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>    <span class=k>return</span> <span class=n>result_entry</span><span class=p>,</span> <span class=n>organ_entries</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.calculate_summary_stats class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">calculate_summary_stats</span> <a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.calculate_summary_stats class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>calculate_summary_stats</span><span class=p>(</span><span class=n>results_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Calculates summary statistics, including completion progress.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>results_df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with all aggregated simulation results.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>A DataFrame with mean <abbr title="Specific Absorption Rate">SAR</abbr> values and a 'progress' column.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/near_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a><span class=k>def</span><span class=w> </span><span class=nf>calculate_summary_stats</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>results_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>:</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculates summary statistics, including completion progress.</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a><span class=sd>    Args:</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a><span class=sd>        results_df: DataFrame with all aggregated simulation results.</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a><span class=sd>    Returns:</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a><span class=sd>        A DataFrame with mean SAR values and a &#39;progress&#39; column.</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>    <span class=n>placement_scenarios</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s2>&quot;placement_scenarios&quot;</span><span class=p>)</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a>    <span class=n>placements_per_scenario</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a>    <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a>        <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>--- Calculating Total Possible Placements per Scenario ---&quot;</span><span class=p>,</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a>        <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;header&quot;</span><span class=p>},</span>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a>    <span class=p>)</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>    <span class=k>if</span> <span class=n>placement_scenarios</span><span class=p>:</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a>        <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>definition</span> <span class=ow>in</span> <span class=n>placement_scenarios</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>definition</span><span class=p>:</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a>                <span class=k>continue</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>            <span class=n>total</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>definition</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;positions&quot;</span><span class=p>,</span> <span class=p>{}))</span> <span class=o>*</span> <span class=nb>len</span><span class=p>(</span><span class=n>definition</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;orientations&quot;</span><span class=p>,</span> <span class=p>{}))</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>            <span class=n>placements_per_scenario</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>total</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a>            <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;- Scenario &#39;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&#39;: </span><span class=si>{</span><span class=n>total</span><span class=si>}</span><span class=s2> placements&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;info&quot;</span><span class=p>})</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>    <span class=n>summary_stats</span> <span class=o>=</span> <span class=n>results_df</span><span class=o>.</span><span class=n>groupby</span><span class=p>([</span><span class=s2>&quot;scenario&quot;</span><span class=p>,</span> <span class=s2>&quot;frequency_mhz&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>numeric_only</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>    <span class=n>completion_counts</span> <span class=o>=</span> <span class=n>results_df</span><span class=o>.</span><span class=n>groupby</span><span class=p>([</span><span class=s2>&quot;scenario&quot;</span><span class=p>,</span> <span class=s2>&quot;frequency_mhz&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>size</span><span class=p>()</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>    <span class=c1># Define a mapping function that safely handles potential missing keys</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_progress</span><span class=p>(</span><span class=n>idx</span><span class=p>):</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>        <span class=n>scenario_name</span> <span class=o>=</span> <span class=n>idx</span>  <span class=c1># Index is a tuple (scenario, frequency)</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a>        <span class=n>completed</span> <span class=o>=</span> <span class=n>completion_counts</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>idx</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>        <span class=n>total</span> <span class=o>=</span> <span class=n>placements_per_scenario</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>completed</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=n>total</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>summary_stats</span><span class=o>.</span><span class=n>empty</span><span class=p>:</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>        <span class=n>summary_stats</span><span class=p>[</span><span class=s2>&quot;progress&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>summary_stats</span><span class=o>.</span><span class=n>index</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>get_progress</span><span class=p>)</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>    <span class=k>return</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>summary_stats</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.generate_plots class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">generate_plots</span> <a href=#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.generate_plots class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>generate_plots</span><span class=p>(</span><span class=n>analyzer</span><span class=p>:</span> <span class=n>Analyzer</span><span class=p>,</span> <span class=n>plotter</span><span class=p>:</span> <span class=n>Plotter</span><span class=p>,</span> <span class=n>results_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>all_organ_results_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Generates all plots for the near-field analysis.</p> <p>Includes bar charts for average <abbr title="Specific Absorption Rate">SAR</abbr>, line plots for <abbr title="Peak Spatial-Average Specific Absorption Rate">psSAR</abbr>, and boxplots for <abbr title="Specific Absorption Rate">SAR</abbr> distribution.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>analyzer</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.analysis.analyzer.Analyzer</code>" href=#goliat.analysis.analyzer.Analyzer>Analyzer</a></code> </td> <td> <div class=doc-md-description> <p>The main analyzer instance.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>plotter</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.analysis.plotter.Plotter</code>" href=#goliat.analysis.plotter.Plotter>Plotter</a></code> </td> <td> <div class=doc-md-description> <p>The plotter instance for generating plots.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>results_df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with main aggregated results.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>all_organ_results_df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with detailed organ-level results.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/near_field_strategy.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a><span class=k>def</span><span class=w> </span><span class=nf>generate_plots</span><span class=p>(</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a>    <span class=n>analyzer</span><span class=p>:</span> <span class=s2>&quot;Analyzer&quot;</span><span class=p>,</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a>    <span class=n>plotter</span><span class=p>:</span> <span class=s2>&quot;Plotter&quot;</span><span class=p>,</span>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183></a>    <span class=n>results_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a>    <span class=n>all_organ_results_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a><span class=p>):</span>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generates all plots for the near-field analysis.</span>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a><span class=sd>    Includes bar charts for average SAR, line plots for psSAR, and boxplots</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a><span class=sd>    for SAR distribution.</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a><span class=sd>    Args:</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a><span class=sd>        analyzer: The main analyzer instance.</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a><span class=sd>        plotter: The plotter instance for generating plots.</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a><span class=sd>        results_df: DataFrame with main aggregated results.</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a><span class=sd>        all_organ_results_df: DataFrame with detailed organ-level results.</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a>    <span class=n>scenarios_with_results</span> <span class=o>=</span> <span class=n>results_df</span><span class=p>[</span><span class=s2>&quot;scenario&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>unique</span><span class=p>()</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a>    <span class=n>summary_stats</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>calculate_summary_stats</span><span class=p>(</span><span class=n>results_df</span><span class=p>)</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a>    <span class=k>for</span> <span class=n>scenario_name</span> <span class=ow>in</span> <span class=n>scenarios_with_results</span><span class=p>:</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>            <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>--- Generating plots for scenario: </span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2> ---&quot;</span><span class=p>,</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>            <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;header&quot;</span><span class=p>},</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>        <span class=p>)</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>        <span class=n>scenario_results_df</span> <span class=o>=</span> <span class=n>results_df</span><span class=p>[</span><span class=n>results_df</span><span class=p>[</span><span class=s2>&quot;scenario&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>scenario_name</span><span class=p>]</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>        <span class=k>if</span> <span class=n>scenario_name</span> <span class=ow>in</span> <span class=n>summary_stats</span><span class=o>.</span><span class=n>index</span><span class=p>:</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>            <span class=n>scenario_summary_stats</span> <span class=o>=</span> <span class=n>summary_stats</span><span class=o>.</span><span class=n>loc</span><span class=p>[</span><span class=n>scenario_name</span><span class=p>]</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>            <span class=n>avg_results</span> <span class=o>=</span> <span class=n>scenario_summary_stats</span><span class=o>.</span><span class=n>drop</span><span class=p>(</span><span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;progress&quot;</span><span class=p>])</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a>            <span class=n>progress_info</span> <span class=o>=</span> <span class=n>scenario_summary_stats</span><span class=p>[</span><span class=s2>&quot;progress&quot;</span><span class=p>]</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a>            <span class=n>plotter</span><span class=o>.</span><span class=n>plot_average_sar_bar</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>avg_results</span><span class=p>),</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>progress_info</span><span class=p>))</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a>            <span class=n>plotter</span><span class=o>.</span><span class=n>plot_pssar_line</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>avg_results</span><span class=p>))</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a>        <span class=n>plotter</span><span class=o>.</span><span class=n>plot_sar_distribution_boxplots</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>scenario_results_df</span><span class=p>))</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=plotting>Plotting<a class=headerlink href=#plotting title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h2 id=goliat.analysis.plotter.Plotter class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">goliat.analysis.plotter.Plotter</span> <a href=#goliat.analysis.plotter.Plotter class=headerlink title="Permanent link">&para;</a></h2> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Plotter</span><span class=p>(</span><span class=n>plots_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents first"> <p>Generates publication-ready plots from simulation results.</p> <p>Creates bar charts, line plots, boxplots, and heatmaps for <abbr title="Specific Absorption Rate">SAR</abbr> analysis. All plots are saved to the configured plots directory.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>plots_dir</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Directory where all plots will be saved.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/plotter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>plots_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the plotter and creates output directory.</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=sd>    Args:</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>        plots_dir: Directory where all plots will be saved.</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span> <span class=o>=</span> <span class=n>plots_dir</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>        <span class=sa>f</span><span class=s2>&quot;--- Plots will be saved to &#39;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=si>}</span><span class=s2>&#39; directory. ---&quot;</span><span class=p>,</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>        <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;info&quot;</span><span class=p>},</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h3 id=goliat.analysis.plotter.Plotter-functions>Functions<a href=#goliat.analysis.plotter.Plotter-functions class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-function"> <h4 id=goliat.analysis.plotter.Plotter.plot_average_sar_bar class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">plot_average_sar_bar</span> <a href=#goliat.analysis.plotter.Plotter.plot_average_sar_bar class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>plot_average_sar_bar</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>avg_results</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>progress_info</span><span class=p>:</span> <span class=n>Series</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Creates a bar chart of average Head and Trunk <abbr title="Specific Absorption Rate">SAR</abbr> by frequency.</p> <p>Shows completion progress in x-axis labels. Used for near-field analysis.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>scenario_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Placement scenario name (e.g., 'by_cheek').</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>avg_results</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with average <abbr title="Specific Absorption Rate">SAR</abbr> values, indexed by frequency.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>progress_info</code> </td> <td> <code><span title=pandas.Series>Series</span></code> </td> <td> <div class=doc-md-description> <p>Series with completion counts like '&#8538;' per frequency.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/plotter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a><span class=k>def</span><span class=w> </span><span class=nf>plot_average_sar_bar</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>avg_results</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>progress_info</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>):</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a bar chart of average Head and Trunk SAR by frequency.</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a><span class=sd>    Shows completion progress in x-axis labels. Used for near-field analysis.</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=sd>    Args:</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a><span class=sd>        scenario_name: Placement scenario name (e.g., &#39;by_cheek&#39;).</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a><span class=sd>        avg_results: DataFrame with average SAR values, indexed by frequency.</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=sd>        progress_info: Series with completion counts like &#39;5/6&#39; per frequency.</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span> <span class=mi>7</span><span class=p>))</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>    <span class=n>avg_results</span><span class=p>[[</span><span class=s2>&quot;SAR_head&quot;</span><span class=p>,</span> <span class=s2>&quot;SAR_trunk&quot;</span><span class=p>]]</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>kind</span><span class=o>=</span><span class=s2>&quot;bar&quot;</span><span class=p>,</span> <span class=n>ax</span><span class=o>=</span><span class=n>ax</span><span class=p>,</span> <span class=n>colormap</span><span class=o>=</span><span class=s2>&quot;viridis&quot;</span><span class=p>)</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>    <span class=n>progress_labels</span> <span class=o>=</span> <span class=p>[</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>freq</span><span class=si>}</span><span class=s2> MHz</span><span class=se>\n</span><span class=s2>(</span><span class=si>{</span><span class=n>progress_info</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>freq</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;0/0&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2>)&quot;</span> <span class=k>for</span> <span class=n>freq</span> <span class=ow>in</span> <span class=n>avg_results</span><span class=o>.</span><span class=n>index</span><span class=p>]</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_xticklabels</span><span class=p>(</span><span class=n>progress_labels</span><span class=p>,</span> <span class=n>rotation</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Average Normalized SAR for Scenario: </span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;Frequency (MHz) and Completion Progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;Normalized SAR (mW/kg)&quot;</span><span class=p>)</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=n>ax</span><span class=o>.</span><span class=n>legend</span><span class=p>([</span><span class=s2>&quot;Head SAR&quot;</span><span class=p>,</span> <span class=s2>&quot;Trunk SAR&quot;</span><span class=p>])</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>()</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>    <span class=n>fig</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;average_sar_bar_</span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>.png&quot;</span><span class=p>))</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>    <span class=n>plt</span><span class=o>.</span><span class=n>close</span><span class=p>(</span><span class=n>fig</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.analysis.plotter.Plotter.plot_whole_body_sar_bar class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">plot_whole_body_sar_bar</span> <a href=#goliat.analysis.plotter.Plotter.plot_whole_body_sar_bar class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>plot_whole_body_sar_bar</span><span class=p>(</span><span class=n>avg_results</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Creates a bar chart of average whole-body <abbr title="Specific Absorption Rate">SAR</abbr> by frequency.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/plotter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a><span class=k>def</span><span class=w> </span><span class=nf>plot_whole_body_sar_bar</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>avg_results</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>):</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a bar chart of average whole-body SAR by frequency.&quot;&quot;&quot;</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>    <span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span> <span class=mi>7</span><span class=p>))</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=n>avg_results</span><span class=p>[</span><span class=s2>&quot;SAR_whole_body&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>kind</span><span class=o>=</span><span class=s2>&quot;bar&quot;</span><span class=p>,</span> <span class=n>ax</span><span class=o>=</span><span class=n>ax</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s2>&quot;skyblue&quot;</span><span class=p>)</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_xticklabels</span><span class=p>(</span><span class=n>avg_results</span><span class=o>.</span><span class=n>index</span><span class=o>.</span><span class=n>get_level_values</span><span class=p>(</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>),</span> <span class=n>rotation</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&quot;Average Whole-Body SAR&quot;</span><span class=p>)</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;Frequency (MHz)&quot;</span><span class=p>)</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;Normalized Whole-Body SAR (mW/kg)&quot;</span><span class=p>)</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>()</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>    <span class=n>fig</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=p>,</span> <span class=s2>&quot;average_whole_body_sar_bar.png&quot;</span><span class=p>))</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>    <span class=n>plt</span><span class=o>.</span><span class=n>close</span><span class=p>(</span><span class=n>fig</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.analysis.plotter.Plotter.plot_peak_sar_line class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">plot_peak_sar_line</span> <a href=#goliat.analysis.plotter.Plotter.plot_peak_sar_line class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>plot_peak_sar_line</span><span class=p>(</span><span class=n>summary_stats</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Plots peak <abbr title="Specific Absorption Rate">SAR</abbr> trend across frequencies for far-field analysis.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/plotter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span>
<span class=normal><a href=#__codelineno-0-85>85</a></span>
<span class=normal><a href=#__codelineno-0-86>86</a></span>
<span class=normal><a href=#__codelineno-0-87>87</a></span>
<span class=normal><a href=#__codelineno-0-88>88</a></span>
<span class=normal><a href=#__codelineno-0-89>89</a></span>
<span class=normal><a href=#__codelineno-0-90>90</a></span>
<span class=normal><a href=#__codelineno-0-91>91</a></span>
<span class=normal><a href=#__codelineno-0-92>92</a></span>
<span class=normal><a href=#__codelineno-0-93>93</a></span>
<span class=normal><a href=#__codelineno-0-94>94</a></span>
<span class=normal><a href=#__codelineno-0-95>95</a></span>
<span class=normal><a href=#__codelineno-0-96>96</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=k>def</span><span class=w> </span><span class=nf>plot_peak_sar_line</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>summary_stats</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>):</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Plots peak SAR trend across frequencies for far-field analysis.&quot;&quot;&quot;</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>    <span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span> <span class=mi>7</span><span class=p>))</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>    <span class=k>if</span> <span class=s2>&quot;peak_sar&quot;</span> <span class=ow>in</span> <span class=n>summary_stats</span><span class=o>.</span><span class=n>columns</span><span class=p>:</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>        <span class=n>summary_stats</span><span class=p>[</span><span class=s2>&quot;peak_sar&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>kind</span><span class=o>=</span><span class=s2>&quot;line&quot;</span><span class=p>,</span> <span class=n>marker</span><span class=o>=</span><span class=s2>&quot;o&quot;</span><span class=p>,</span> <span class=n>ax</span><span class=o>=</span><span class=n>ax</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s2>&quot;purple&quot;</span><span class=p>)</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&quot;Average Peak SAR (10g) Across All Tissues&quot;</span><span class=p>)</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;Frequency (MHz)&quot;</span><span class=p>)</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;Normalized Peak SAR (mW/kg)&quot;</span><span class=p>)</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_xticks</span><span class=p>(</span><span class=n>summary_stats</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>        <span class=n>ax</span><span class=o>.</span><span class=n>grid</span><span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=n>which</span><span class=o>=</span><span class=s2>&quot;both&quot;</span><span class=p>,</span> <span class=n>linestyle</span><span class=o>=</span><span class=s2>&quot;--&quot;</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=</span><span class=mf>0.5</span><span class=p>)</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>        <span class=n>ax</span><span class=o>.</span><span class=n>text</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=s2>&quot;No Peak SAR data found&quot;</span><span class=p>,</span> <span class=n>ha</span><span class=o>=</span><span class=s2>&quot;center&quot;</span><span class=p>,</span> <span class=n>va</span><span class=o>=</span><span class=s2>&quot;center&quot;</span><span class=p>)</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&quot;Average Peak SAR (10g) Across All Tissues&quot;</span><span class=p>)</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>    <span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>()</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>    <span class=n>fig</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=p>,</span> <span class=s2>&quot;line_peak_sar_summary.png&quot;</span><span class=p>))</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>    <span class=n>plt</span><span class=o>.</span><span class=n>close</span><span class=p>(</span><span class=n>fig</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.analysis.plotter.Plotter.plot_pssar_line class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">plot_pssar_line</span> <a href=#goliat.analysis.plotter.Plotter.plot_pssar_line class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>plot_pssar_line</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>avg_results</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Plots average <abbr title="Peak Spatial-Average Specific Absorption Rate over 10-gram tissue cube">psSAR10g</abbr> trends for tissue groups by frequency.</p> <p>Shows how peak spatial-average <abbr title="Specific Absorption Rate">SAR</abbr> varies with frequency for eyes, skin, and brain groups.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>scenario_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Placement scenario name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>avg_results</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with average <abbr title="Peak Spatial-Average Specific Absorption Rate over 10-gram tissue cube">psSAR10g</abbr> values.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/plotter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a><span class=k>def</span><span class=w> </span><span class=nf>plot_pssar_line</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>avg_results</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>):</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Plots average psSAR10g trends for tissue groups by frequency.</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a><span class=sd>    Shows how peak spatial-average SAR varies with frequency for eyes,</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a><span class=sd>    skin, and brain groups.</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a><span class=sd>    Args:</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a><span class=sd>        scenario_name: Placement scenario name.</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a><span class=sd>        avg_results: DataFrame with average psSAR10g values.</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>    <span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span> <span class=mi>7</span><span class=p>))</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>    <span class=n>pssar_columns</span> <span class=o>=</span> <span class=p>[</span><span class=n>col</span> <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=n>avg_results</span><span class=o>.</span><span class=n>columns</span> <span class=k>if</span> <span class=n>col</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;psSAR10g&quot;</span><span class=p>)]</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=k>if</span> <span class=n>pssar_columns</span><span class=p>:</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>        <span class=n>avg_results</span><span class=p>[</span><span class=n>pssar_columns</span><span class=p>]</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>kind</span><span class=o>=</span><span class=s2>&quot;line&quot;</span><span class=p>,</span> <span class=n>marker</span><span class=o>=</span><span class=s2>&quot;o&quot;</span><span class=p>,</span> <span class=n>ax</span><span class=o>=</span><span class=n>ax</span><span class=p>,</span> <span class=n>colormap</span><span class=o>=</span><span class=s2>&quot;viridis&quot;</span><span class=p>)</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Average Normalized psSAR10g for Scenario: </span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;Frequency (MHz)&quot;</span><span class=p>)</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;Normalized psSAR10g (mW/kg)&quot;</span><span class=p>)</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>        <span class=n>ax</span><span class=o>.</span><span class=n>legend</span><span class=p>([</span><span class=n>label</span> <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=n>pssar_columns</span> <span class=k>if</span> <span class=p>(</span><span class=n>label</span> <span class=o>:=</span> <span class=n>LEGEND_LABELS</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>col</span><span class=p>,</span> <span class=n>col</span><span class=p>))</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>])</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_xticks</span><span class=p>(</span><span class=n>avg_results</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>        <span class=n>ax</span><span class=o>.</span><span class=n>text</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=s2>&quot;No psSAR10g data found&quot;</span><span class=p>,</span> <span class=n>ha</span><span class=o>=</span><span class=s2>&quot;center&quot;</span><span class=p>,</span> <span class=n>va</span><span class=o>=</span><span class=s2>&quot;center&quot;</span><span class=p>)</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Average Normalized psSAR10g for Scenario: </span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>    <span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>()</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>    <span class=n>fig</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;pssar10g_line_</span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>.png&quot;</span><span class=p>))</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>    <span class=n>plt</span><span class=o>.</span><span class=n>close</span><span class=p>(</span><span class=n>fig</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.analysis.plotter.Plotter.plot_sar_distribution_boxplots class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">plot_sar_distribution_boxplots</span> <a href=#goliat.analysis.plotter.Plotter.plot_sar_distribution_boxplots class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>plot_sar_distribution_boxplots</span><span class=p>(</span><span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>scenario_results_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Creates boxplots showing <abbr title="Specific Absorption Rate">SAR</abbr> value distributions across placements.</p> <p>Generates separate boxplots for Head <abbr title="Specific Absorption Rate">SAR</abbr>, Trunk <abbr title="Specific Absorption Rate">SAR</abbr>, and each <abbr title="Peak Spatial-Average Specific Absorption Rate over 10-gram tissue cube">psSAR10g</abbr> metric. Shows spread and outliers for each frequency.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>scenario_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Placement scenario name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_results_df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with detailed results for all placements.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/plotter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a><span class=k>def</span><span class=w> </span><span class=nf>plot_sar_distribution_boxplots</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>scenario_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>scenario_results_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>):</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates boxplots showing SAR value distributions across placements.</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a><span class=sd>    Generates separate boxplots for Head SAR, Trunk SAR, and each psSAR10g</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a><span class=sd>    metric. Shows spread and outliers for each frequency.</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a><span class=sd>    Args:</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a><span class=sd>        scenario_name: Placement scenario name.</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a><span class=sd>        scenario_results_df: DataFrame with detailed results for all placements.</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>    <span class=n>pssar_columns</span> <span class=o>=</span> <span class=p>[</span><span class=n>col</span> <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=n>scenario_results_df</span><span class=o>.</span><span class=n>columns</span> <span class=k>if</span> <span class=n>col</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;psSAR10g&quot;</span><span class=p>)]</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>    <span class=n>sar_metrics_for_boxplot</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;SAR_head&quot;</span><span class=p>,</span> <span class=s2>&quot;SAR_trunk&quot;</span><span class=p>]</span> <span class=o>+</span> <span class=n>pssar_columns</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>    <span class=k>for</span> <span class=n>metric</span> <span class=ow>in</span> <span class=n>sar_metrics_for_boxplot</span><span class=p>:</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>scenario_results_df</span><span class=p>[</span><span class=n>metric</span><span class=p>]</span><span class=o>.</span><span class=n>dropna</span><span class=p>()</span><span class=o>.</span><span class=n>empty</span><span class=p>:</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>            <span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span> <span class=mi>7</span><span class=p>))</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>            <span class=n>sns</span><span class=o>.</span><span class=n>boxplot</span><span class=p>(</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>                <span class=n>data</span><span class=o>=</span><span class=n>scenario_results_df</span><span class=p>,</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>                <span class=n>x</span><span class=o>=</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>,</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>                <span class=n>y</span><span class=o>=</span><span class=n>metric</span><span class=p>,</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>                <span class=n>ax</span><span class=o>=</span><span class=n>ax</span><span class=p>,</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>                <span class=n>hue</span><span class=o>=</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>,</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>                <span class=n>palette</span><span class=o>=</span><span class=s2>&quot;viridis&quot;</span><span class=p>,</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>                <span class=n>legend</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>            <span class=p>)</span>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>            <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Distribution of Normalized </span><span class=si>{</span><span class=n>METRIC_LABELS</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>metric</span><span class=p>,</span><span class=w> </span><span class=n>metric</span><span class=p>)</span><span class=si>}</span><span class=s2> for Scenario: </span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a>            <span class=n>ax</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;Frequency (MHz)&quot;</span><span class=p>)</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a>            <span class=n>ax</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;Normalized SAR (mW/kg)&quot;</span><span class=p>)</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>            <span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>()</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a>            <span class=n>fig</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;boxplot_</span><span class=si>{</span><span class=n>metric</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>scenario_name</span><span class=si>}</span><span class=s2>.png&quot;</span><span class=p>))</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a>            <span class=n>plt</span><span class=o>.</span><span class=n>close</span><span class=p>(</span><span class=n>fig</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.analysis.plotter.Plotter.plot_far_field_distribution_boxplot class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">plot_far_field_distribution_boxplot</span> <a href=#goliat.analysis.plotter.Plotter.plot_far_field_distribution_boxplot class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>plot_far_field_distribution_boxplot</span><span class=p>(</span><span class=n>results_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>metric</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;SAR_whole_body&#39;</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Creates a boxplot showing distribution of a metric across directions/polarizations.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/plotter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a><span class=k>def</span><span class=w> </span><span class=nf>plot_far_field_distribution_boxplot</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>results_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>metric</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;SAR_whole_body&quot;</span><span class=p>):</span>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a boxplot showing distribution of a metric across directions/polarizations.&quot;&quot;&quot;</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>    <span class=k>if</span> <span class=n>metric</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>results_df</span><span class=o>.</span><span class=n>columns</span> <span class=ow>or</span> <span class=n>results_df</span><span class=p>[</span><span class=n>metric</span><span class=p>]</span><span class=o>.</span><span class=n>dropna</span><span class=p>()</span><span class=o>.</span><span class=n>empty</span><span class=p>:</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a>        <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a>            <span class=sa>f</span><span class=s2>&quot;  - WARNING: No data for metric &#39;</span><span class=si>{</span><span class=n>metric</span><span class=si>}</span><span class=s2>&#39; to generate boxplot.&quot;</span><span class=p>,</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a>            <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;warning&quot;</span><span class=p>},</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>        <span class=p>)</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>        <span class=k>return</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a>    <span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span> <span class=mi>7</span><span class=p>))</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>    <span class=n>sns</span><span class=o>.</span><span class=n>boxplot</span><span class=p>(</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>        <span class=n>data</span><span class=o>=</span><span class=n>results_df</span><span class=p>,</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>        <span class=n>x</span><span class=o>=</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>,</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>        <span class=n>y</span><span class=o>=</span><span class=n>metric</span><span class=p>,</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>        <span class=n>ax</span><span class=o>=</span><span class=n>ax</span><span class=p>,</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>        <span class=n>hue</span><span class=o>=</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>,</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a>        <span class=n>palette</span><span class=o>=</span><span class=s2>&quot;viridis&quot;</span><span class=p>,</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>        <span class=n>legend</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a>    <span class=p>)</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Distribution of Normalized </span><span class=si>{</span><span class=n>METRIC_LABELS</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>metric</span><span class=p>,</span><span class=w> </span><span class=n>metric</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;Frequency (MHz)&quot;</span><span class=p>)</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>    <span class=n>ax</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;Normalized SAR (mW/kg)&quot;</span><span class=p>)</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>    <span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>()</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>    <span class=n>fig</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;boxplot_</span><span class=si>{</span><span class=n>metric</span><span class=si>}</span><span class=s2>_distribution.png&quot;</span><span class=p>))</span>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a>    <span class=n>plt</span><span class=o>.</span><span class=n>close</span><span class=p>(</span><span class=n>fig</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.analysis.plotter.Plotter.plot_sar_heatmap class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">plot_sar_heatmap</span> <a href=#goliat.analysis.plotter.Plotter.plot_sar_heatmap class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>plot_sar_heatmap</span><span class=p>(</span><span class=n>organ_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>group_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>tissue_groups</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Creates a combined heatmap showing Min/Avg/Max <abbr title="Specific Absorption Rate">SAR</abbr> per tissue and frequency.</p> <p>Two-panel heatmap: top shows individual tissues with color coding by group, bottom shows group summaries. Uses log-scale colormap for better visibility.</p> <details class=quote> <summary>Source code in <code>goliat/analysis/plotter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span>
<span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a><span class=k>def</span><span class=w> </span><span class=nf>plot_sar_heatmap</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>organ_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>group_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>tissue_groups</span><span class=p>:</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a combined heatmap showing Min/Avg/Max SAR per tissue and frequency.</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a><span class=sd>    Two-panel heatmap: top shows individual tissues with color coding by group,</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a><span class=sd>    bottom shows group summaries. Uses log-scale colormap for better visibility.</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>    <span class=n>organ_pivot</span> <span class=o>=</span> <span class=n>organ_df</span><span class=o>.</span><span class=n>pivot_table</span><span class=p>(</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>        <span class=n>index</span><span class=o>=</span><span class=s2>&quot;tissue&quot;</span><span class=p>,</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>        <span class=n>columns</span><span class=o>=</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>,</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>        <span class=n>values</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;min_sar&quot;</span><span class=p>,</span> <span class=s2>&quot;avg_sar&quot;</span><span class=p>,</span> <span class=s2>&quot;max_sar&quot;</span><span class=p>],</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>    <span class=p>)</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>    <span class=n>organ_pivot</span> <span class=o>=</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>loc</span><span class=p>[(</span><span class=n>organ_pivot</span> <span class=o>&gt;</span> <span class=mf>0.01</span><span class=p>)</span><span class=o>.</span><span class=n>any</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)]</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a>    <span class=n>mean_organ_sar</span> <span class=o>=</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>ascending</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a>    <span class=n>organ_pivot</span> <span class=o>=</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>reindex</span><span class=p>(</span><span class=n>mean_organ_sar</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a>    <span class=n>organ_pivot</span> <span class=o>=</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>reorder_levels</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a>    <span class=n>metric_order</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;min_sar&quot;</span><span class=p>,</span> <span class=s2>&quot;avg_sar&quot;</span><span class=p>,</span> <span class=s2>&quot;max_sar&quot;</span><span class=p>]</span>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a>    <span class=n>sorted_columns</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>organ_pivot</span><span class=o>.</span><span class=n>columns</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=p>(</span><span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>metric_order</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>])))</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a>    <span class=n>organ_pivot</span> <span class=o>=</span> <span class=n>organ_pivot</span><span class=p>[</span><span class=n>sorted_columns</span><span class=p>]</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>    <span class=n>group_pivot</span> <span class=o>=</span> <span class=n>group_df</span><span class=o>.</span><span class=n>pivot_table</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=s2>&quot;group&quot;</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>,</span> <span class=n>values</span><span class=o>=</span><span class=s2>&quot;avg_sar&quot;</span><span class=p>)</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>group_pivot</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>group_pivot</span><span class=o>.</span><span class=n>empty</span><span class=p>:</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a>        <span class=n>mean_group_sar</span> <span class=o>=</span> <span class=n>group_pivot</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>mean_group_sar</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>):</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>            <span class=n>mean_group_sar</span> <span class=o>=</span> <span class=n>mean_group_sar</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>ascending</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>            <span class=n>group_pivot</span> <span class=o>=</span> <span class=n>group_pivot</span><span class=o>.</span><span class=n>reindex</span><span class=p>(</span><span class=n>mean_group_sar</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>    <span class=k>if</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>empty</span><span class=p>:</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a>        <span class=k>return</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a>    <span class=n>fig</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>24</span><span class=p>,</span> <span class=mi>12</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>organ_pivot</span><span class=p>)</span> <span class=o>*</span> <span class=mf>0.4</span><span class=p>))</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a>    <span class=n>gs</span> <span class=o>=</span> <span class=n>gridspec</span><span class=o>.</span><span class=n>GridSpec</span><span class=p>(</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>        <span class=mi>2</span><span class=p>,</span>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a>        <span class=mi>2</span><span class=p>,</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a>        <span class=n>height_ratios</span><span class=o>=</span><span class=p>[</span><span class=nb>len</span><span class=p>(</span><span class=n>organ_pivot</span><span class=p>),</span> <span class=nb>len</span><span class=p>(</span><span class=n>group_pivot</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>],</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a>        <span class=n>width_ratios</span><span class=o>=</span><span class=p>[</span><span class=mf>0.95</span><span class=p>,</span> <span class=mf>0.05</span><span class=p>],</span>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a>        <span class=n>hspace</span><span class=o>=</span><span class=mf>0.1</span><span class=p>,</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a>    <span class=p>)</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a>    <span class=n>ax_organ</span> <span class=o>=</span> <span class=n>fig</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a>    <span class=n>ax_group</span> <span class=o>=</span> <span class=n>fig</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a>    <span class=n>cbar_ax</span> <span class=o>=</span> <span class=n>fig</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[:,</span> <span class=mi>1</span><span class=p>])</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a>    <span class=n>ax_organ</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_plot_heatmap</span><span class=p>(</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a>        <span class=n>fig</span><span class=p>,</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a>        <span class=n>ax_organ</span><span class=p>,</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a>        <span class=n>organ_pivot</span><span class=p>,</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a>        <span class=s2>&quot;Min, Avg, and Max SAR (mW/kg) per Tissue&quot;</span><span class=p>,</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a>        <span class=n>cbar</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a>        <span class=n>cbar_ax</span><span class=o>=</span><span class=n>cbar_ax</span><span class=p>,</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a>    <span class=p>)</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a>    <span class=n>ax_organ</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a>    <span class=n>x_labels</span> <span class=o>=</span> <span class=p>[</span><span class=n>metric</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;_sar&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=k>for</span> <span class=n>freq</span><span class=p>,</span> <span class=n>metric</span> <span class=ow>in</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>columns</span><span class=p>]</span>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a>    <span class=n>ax_organ</span><span class=o>.</span><span class=n>set_xticks</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>x_labels</span><span class=p>))</span> <span class=o>+</span> <span class=mf>0.5</span><span class=p>)</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a>    <span class=n>ax_organ</span><span class=o>.</span><span class=n>set_xticklabels</span><span class=p>(</span><span class=n>x_labels</span><span class=p>,</span> <span class=n>rotation</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a>    <span class=n>ax_organ</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;Tissue&quot;</span><span class=p>)</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a>    <span class=n>group_colors</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;eyes_group&quot;</span><span class=p>:</span> <span class=s2>&quot;r&quot;</span><span class=p>,</span> <span class=s2>&quot;skin_group&quot;</span><span class=p>:</span> <span class=s2>&quot;g&quot;</span><span class=p>,</span> <span class=s2>&quot;brain_group&quot;</span><span class=p>:</span> <span class=s2>&quot;b&quot;</span><span class=p>}</span>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a>    <span class=n>tissue_to_group</span> <span class=o>=</span> <span class=p>{</span><span class=n>tissue</span><span class=p>:</span> <span class=n>group</span> <span class=k>for</span> <span class=n>group</span><span class=p>,</span> <span class=n>tissues</span> <span class=ow>in</span> <span class=n>tissue_groups</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>for</span> <span class=n>tissue</span> <span class=ow>in</span> <span class=n>tissues</span><span class=p>}</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a>    <span class=k>for</span> <span class=n>tick_label</span> <span class=ow>in</span> <span class=n>ax_organ</span><span class=o>.</span><span class=n>get_yticklabels</span><span class=p>():</span>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a>        <span class=n>group</span> <span class=o>=</span> <span class=n>tissue_to_group</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>tick_label</span><span class=o>.</span><span class=n>get_text</span><span class=p>())</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a>        <span class=k>if</span> <span class=n>group</span> <span class=ow>in</span> <span class=n>group_colors</span><span class=p>:</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a>            <span class=n>tick_label</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=n>group_colors</span><span class=p>[</span><span class=n>group</span><span class=p>])</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a>    <span class=n>ax_group</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_plot_heatmap</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>ax_group</span><span class=p>,</span> <span class=n>group_pivot</span><span class=p>,</span> <span class=s2>&quot;Organ Group Summary (Avg SAR)&quot;</span><span class=p>,</span> <span class=n>cbar</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a>    <span class=n>ax_group</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;Frequency (MHz)&quot;</span><span class=p>)</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a>    <span class=n>ax_group</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a>    <span class=k>for</span> <span class=n>tick_label</span> <span class=ow>in</span> <span class=n>ax_group</span><span class=o>.</span><span class=n>get_yticklabels</span><span class=p>():</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a>        <span class=n>tick_label</span><span class=o>.</span><span class=n>set_rotation</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a>        <span class=n>tick_label</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=n>group_colors</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>tick_label</span><span class=o>.</span><span class=n>get_text</span><span class=p>()</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=si>}</span><span class=s2>_group&quot;</span><span class=p>,</span> <span class=s2>&quot;black&quot;</span><span class=p>))</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a>    <span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>(</span><span class=n>rect</span><span class=o>=</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.95</span><span class=p>,</span> <span class=mf>0.98</span><span class=p>))</span>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a>    <span class=n>fig</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=p>,</span> <span class=s2>&quot;heatmap_sar_summary.png&quot;</span><span class=p>))</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a>    <span class=n>plt</span><span class=o>.</span><span class=n>close</span><span class=p>(</span><span class=n>fig</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=goliat.analysis.plotter.Plotter.plot_peak_sar_heatmap class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">plot_peak_sar_heatmap</span> <a href=#goliat.analysis.plotter.Plotter.plot_peak_sar_heatmap class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>plot_peak_sar_heatmap</span><span class=p>(</span><span class=n>organ_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>group_df</span><span class=p>:</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>tissue_groups</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>value_col</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;peak_sar_10g_mw_kg&#39;</span><span class=p>,</span> <span class=n>title</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;Peak SAR&#39;</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Creates a heatmap for peak <abbr title="Specific Absorption Rate">SAR</abbr> values across tissues and frequencies.</p> <p>Similar structure to plot_sar_heatmap but focused on peak <abbr title="Specific Absorption Rate">SAR</abbr> metrics. Shows individual tissues and group summaries in separate panels.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>organ_df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with organ-level peak <abbr title="Specific Absorption Rate">SAR</abbr> data.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>group_df</code> </td> <td> <code><span title=pandas.DataFrame>DataFrame</span></code> </td> <td> <div class=doc-md-description> <p>DataFrame with group-level summaries.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>tissue_groups</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dict mapping groups to tissue lists.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>value_col</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Column name containing the peak <abbr title="Specific Absorption Rate">SAR</abbr> values.</p> </div> </td> <td> <code>&#39;peak_sar_10g_mw_kg&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>title</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Title for the plot.</p> </div> </td> <td> <code>&#39;Peak SAR&#39;</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/analysis/plotter.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span>
<span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span>
<span class=normal><a href=#__codelineno-0-309>309</a></span>
<span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a><span class=k>def</span><span class=w> </span><span class=nf>plot_peak_sar_heatmap</span><span class=p>(</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a>    <span class=n>organ_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a>    <span class=n>group_df</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>,</span>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a>    <span class=n>tissue_groups</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a>    <span class=n>value_col</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;peak_sar_10g_mw_kg&quot;</span><span class=p>,</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>    <span class=n>title</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;Peak SAR&quot;</span><span class=p>,</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a><span class=p>):</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a heatmap for peak SAR values across tissues and frequencies.</span>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a><span class=sd>    Similar structure to plot_sar_heatmap but focused on peak SAR metrics.</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a><span class=sd>    Shows individual tissues and group summaries in separate panels.</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a><span class=sd>    Args:</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a><span class=sd>        organ_df: DataFrame with organ-level peak SAR data.</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a><span class=sd>        group_df: DataFrame with group-level summaries.</span>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a><span class=sd>        tissue_groups: Dict mapping groups to tissue lists.</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a><span class=sd>        value_col: Column name containing the peak SAR values.</span>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a><span class=sd>        title: Title for the plot.</span>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a>    <span class=n>organ_pivot</span> <span class=o>=</span> <span class=n>organ_df</span><span class=o>.</span><span class=n>pivot_table</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=s2>&quot;tissue&quot;</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>,</span> <span class=n>values</span><span class=o>=</span><span class=n>value_col</span><span class=p>)</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a>    <span class=n>organ_pivot</span> <span class=o>=</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>loc</span><span class=p>[(</span><span class=n>organ_pivot</span> <span class=o>&gt;</span> <span class=mf>0.01</span><span class=p>)</span><span class=o>.</span><span class=n>any</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)]</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>    <span class=n>mean_organ_sar</span> <span class=o>=</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>ascending</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a>    <span class=n>organ_pivot</span> <span class=o>=</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>reindex</span><span class=p>(</span><span class=n>mean_organ_sar</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294></a>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295></a>    <span class=n>group_pivot</span> <span class=o>=</span> <span class=n>group_df</span><span class=o>.</span><span class=n>pivot_table</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=s2>&quot;group&quot;</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=s2>&quot;frequency_mhz&quot;</span><span class=p>,</span> <span class=n>values</span><span class=o>=</span><span class=n>value_col</span><span class=p>)</span>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>group_pivot</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>group_pivot</span><span class=o>.</span><span class=n>empty</span><span class=p>:</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297></a>        <span class=n>mean_group_sar</span> <span class=o>=</span> <span class=n>group_pivot</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>mean_group_sar</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>):</span>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299></a>            <span class=n>mean_group_sar</span> <span class=o>=</span> <span class=n>mean_group_sar</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>ascending</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a>            <span class=n>group_pivot</span> <span class=o>=</span> <span class=n>group_pivot</span><span class=o>.</span><span class=n>reindex</span><span class=p>(</span><span class=n>mean_group_sar</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>    <span class=k>if</span> <span class=n>organ_pivot</span><span class=o>.</span><span class=n>empty</span><span class=p>:</span>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303></a>        <span class=k>return</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304></a>
</span><span id=__span-0-305><a id=__codelineno-0-305 name=__codelineno-0-305></a>    <span class=n>fig</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>18</span><span class=p>,</span> <span class=mi>10</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>organ_pivot</span><span class=p>)</span> <span class=o>*</span> <span class=mf>0.3</span><span class=p>))</span>
</span><span id=__span-0-306><a id=__codelineno-0-306 name=__codelineno-0-306></a>    <span class=n>gs</span> <span class=o>=</span> <span class=n>gridspec</span><span class=o>.</span><span class=n>GridSpec</span><span class=p>(</span>
</span><span id=__span-0-307><a id=__codelineno-0-307 name=__codelineno-0-307></a>        <span class=mi>2</span><span class=p>,</span>
</span><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308></a>        <span class=mi>2</span><span class=p>,</span>
</span><span id=__span-0-309><a id=__codelineno-0-309 name=__codelineno-0-309></a>        <span class=n>height_ratios</span><span class=o>=</span><span class=p>[</span><span class=nb>len</span><span class=p>(</span><span class=n>organ_pivot</span><span class=p>),</span> <span class=nb>len</span><span class=p>(</span><span class=n>group_pivot</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>],</span>
</span><span id=__span-0-310><a id=__codelineno-0-310 name=__codelineno-0-310></a>        <span class=n>width_ratios</span><span class=o>=</span><span class=p>[</span><span class=mf>0.95</span><span class=p>,</span> <span class=mf>0.05</span><span class=p>],</span>
</span><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311></a>        <span class=n>hspace</span><span class=o>=</span><span class=mf>0.1</span><span class=p>,</span>
</span><span id=__span-0-312><a id=__codelineno-0-312 name=__codelineno-0-312></a>    <span class=p>)</span>
</span><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a>    <span class=n>ax_organ</span> <span class=o>=</span> <span class=n>fig</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a>    <span class=n>ax_group</span> <span class=o>=</span> <span class=n>fig</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a>    <span class=n>cbar_ax</span> <span class=o>=</span> <span class=n>fig</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=n>gs</span><span class=p>[:,</span> <span class=mi>1</span><span class=p>])</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317></a>    <span class=n>ax_organ</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_plot_heatmap</span><span class=p>(</span>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318></a>        <span class=n>fig</span><span class=p>,</span>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319></a>        <span class=n>ax_organ</span><span class=p>,</span>
</span><span id=__span-0-320><a id=__codelineno-0-320 name=__codelineno-0-320></a>        <span class=n>organ_pivot</span><span class=p>,</span>
</span><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a>        <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>title</span><span class=si>}</span><span class=s2> (mW/kg) per Tissue&quot;</span><span class=p>,</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a>        <span class=n>cbar</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a>        <span class=n>cbar_ax</span><span class=o>=</span><span class=n>cbar_ax</span><span class=p>,</span>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a>    <span class=p>)</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a>    <span class=n>ax_organ</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326></a>    <span class=n>ax_organ</span><span class=o>.</span><span class=n>set_xticklabels</span><span class=p>([])</span>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a>    <span class=n>ax_organ</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;Tissue&quot;</span><span class=p>)</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a>    <span class=n>group_colors</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;eyes_group&quot;</span><span class=p>:</span> <span class=s2>&quot;r&quot;</span><span class=p>,</span> <span class=s2>&quot;skin_group&quot;</span><span class=p>:</span> <span class=s2>&quot;g&quot;</span><span class=p>,</span> <span class=s2>&quot;brain_group&quot;</span><span class=p>:</span> <span class=s2>&quot;b&quot;</span><span class=p>}</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a>    <span class=n>tissue_to_group</span> <span class=o>=</span> <span class=p>{</span><span class=n>tissue</span><span class=p>:</span> <span class=n>group</span> <span class=k>for</span> <span class=n>group</span><span class=p>,</span> <span class=n>tissues</span> <span class=ow>in</span> <span class=n>tissue_groups</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>for</span> <span class=n>tissue</span> <span class=ow>in</span> <span class=n>tissues</span><span class=p>}</span>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a>    <span class=k>for</span> <span class=n>tick_label</span> <span class=ow>in</span> <span class=n>ax_organ</span><span class=o>.</span><span class=n>get_yticklabels</span><span class=p>():</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332></a>        <span class=n>group</span> <span class=o>=</span> <span class=n>tissue_to_group</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>tick_label</span><span class=o>.</span><span class=n>get_text</span><span class=p>())</span>
</span><span id=__span-0-333><a id=__codelineno-0-333 name=__codelineno-0-333></a>        <span class=k>if</span> <span class=n>group</span> <span class=ow>in</span> <span class=n>group_colors</span><span class=p>:</span>
</span><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a>            <span class=n>tick_label</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=n>group_colors</span><span class=p>[</span><span class=n>group</span><span class=p>])</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a>    <span class=n>ax_group</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_plot_heatmap</span><span class=p>(</span><span class=n>fig</span><span class=p>,</span> <span class=n>ax_group</span><span class=p>,</span> <span class=n>group_pivot</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;Organ Group Summary (</span><span class=si>{</span><span class=n>title</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>,</span> <span class=n>cbar</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a>    <span class=n>ax_group</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&quot;Frequency (MHz)&quot;</span><span class=p>)</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a>    <span class=n>ax_group</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a>    <span class=k>for</span> <span class=n>tick_label</span> <span class=ow>in</span> <span class=n>ax_group</span><span class=o>.</span><span class=n>get_yticklabels</span><span class=p>():</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a>        <span class=n>tick_label</span><span class=o>.</span><span class=n>set_rotation</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a>        <span class=n>tick_label</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=n>group_colors</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>tick_label</span><span class=o>.</span><span class=n>get_text</span><span class=p>()</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=si>}</span><span class=s2>_group&quot;</span><span class=p>,</span> <span class=s2>&quot;black&quot;</span><span class=p>))</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>    <span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>(</span><span class=n>rect</span><span class=o>=</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.95</span><span class=p>,</span> <span class=mf>0.98</span><span class=p>))</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>    <span class=n>fig</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>plots_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;heatmap_</span><span class=si>{</span><span class=n>value_col</span><span class=si>}</span><span class=s2>_summary.png&quot;</span><span class=p>))</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>    <span class=n>plt</span><span class=o>.</span><span class=n>close</span><span class=p>(</span><span class=n>fig</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><hr> <h2 id=gui-components><abbr title="Graphical User Interface">GUI</abbr> Components<a class=headerlink href=#gui-components title="Permanent link">&para;</a></h2> <p>Graphical user interface for monitoring simulation progress.</p> <h3 id=main-gui>Main <abbr title="Graphical User Interface">GUI</abbr><a class=headerlink href=#main-gui title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.progress_gui class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.progress_gui</span> <a href=#goliat.gui.progress_gui class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>ProgressGUI main window component.</p> <div class="doc doc-children"> <h3 id=goliat.gui.progress_gui-classes>Classes<a href=#goliat.gui.progress_gui-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.progress_gui.ProgressGUI class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ProgressGUI</span> <a href=#goliat.gui.progress_gui.ProgressGUI class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>ProgressGUI</span><span class=p>(</span><span class=n>queue</span><span class=p>:</span> <span class=n>Queue</span><span class=p>,</span> <span class=n>stop_event</span><span class=p>:</span> <span class=n>Event</span><span class=p>,</span> <span class=n>process</span><span class=p>:</span> <span class=n>Process</span><span class=p>,</span> <span class=n>init_window_title</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=PySide6.QtWidgets.QWidget>QWidget</span></code></p> <p>Main <abbr title="Graphical User Interface">GUI</abbr> window for monitoring simulation progress.</p> <p>Provides real-time progress tracking via progress bars, <abbr title="Estimated Time of Arrival">ETA</abbr> estimation, and status logs. Runs in the main process and communicates with worker process through a multiprocessing queue.</p> <p>The <abbr title="Graphical User Interface">GUI</abbr> architecture: - Main window runs in main process, worker runs in separate process - Communication via multiprocessing.Queue for thread-safe message passing - QueueHandler polls queue every 100ms and updates UI accordingly - Multiple timers handle different update frequencies (queue, clock, graphs)</p> <p>Features: - Overall progress bar (weighted across all simulations) - Stage progress bar (current phase: setup/run/extract) - Real-time <abbr title="Estimated Time of Arrival">ETA</abbr> calculation based on profiler estimates - Status log with color-coded messages - Timings table showing execution statistics - Pie charts showing phase/subtask breakdowns - Time series plots for progress and <abbr title="Estimated Time of Arrival">ETA</abbr> trends - System tray integration for background operation</p> <p>Initializes data manager, status manager, UI builder, timers, and queue handler. Sets up Qt timers for periodic updates (queue polling, clock updates, graph refreshes).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>queue</code> </td> <td> <code><span title=multiprocessing.Queue>Queue</span></code> </td> <td> <div class=doc-md-description> <p>Queue for receiving messages from worker process.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>stop_event</code> </td> <td> <code><span title=multiprocessing.synchronize.Event>Event</span></code> </td> <td> <div class=doc-md-description> <p>Event to signal termination to worker process.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>process</code> </td> <td> <code><span title=multiprocessing.Process>Process</span></code> </td> <td> <div class=doc-md-description> <p>Worker process running the study.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>init_window_title</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Initial window title.</p> </div> </td> <td> <code>&#39;&#39;</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>    <span class=n>queue</span><span class=p>:</span> <span class=n>Queue</span><span class=p>,</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=n>stop_event</span><span class=p>:</span> <span class=n>Event</span><span class=p>,</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=n>process</span><span class=p>:</span> <span class=n>Process</span><span class=p>,</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=n>init_window_title</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the GUI window and all components.</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>    Initializes data manager, status manager, UI builder, timers, and</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a><span class=sd>    queue handler. Sets up Qt timers for periodic updates (queue polling,</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=sd>    clock updates, graph refreshes).</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=sd>    Args:</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a><span class=sd>        queue: Queue for receiving messages from worker process.</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a><span class=sd>        stop_event: Event to signal termination to worker process.</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=sd>        process: Worker process running the study.</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a><span class=sd>        init_window_title: Initial window title.</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue</span><span class=p>:</span> <span class=n>Queue</span> <span class=o>=</span> <span class=n>queue</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=bp>self</span><span class=o>.</span><span class=n>stop_event</span><span class=p>:</span> <span class=n>Event</span> <span class=o>=</span> <span class=n>stop_event</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>    <span class=bp>self</span><span class=o>.</span><span class=n>process</span><span class=p>:</span> <span class=n>Process</span> <span class=o>=</span> <span class=n>process</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>    <span class=bp>self</span><span class=o>.</span><span class=n>start_time</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>:</span> <span class=n>logging</span><span class=o>.</span><span class=n>Logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;progress&quot;</span><span class=p>)</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>:</span> <span class=n>logging</span><span class=o>.</span><span class=n>Logger</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;verbose&quot;</span><span class=p>)</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>    <span class=bp>self</span><span class=o>.</span><span class=n>init_window_title</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>init_window_title</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>    <span class=bp>self</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_is_finished</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_had_errors</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=bp>self</span><span class=o>.</span><span class=n>current_simulation_count</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>    <span class=c1># Initialize components</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>    <span class=c1># Calculate repo root: go up 3 levels from goliat/gui/progress_gui.py to repo root</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>    <span class=n>repo_root</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))))</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>    <span class=n>data_dir</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>repo_root</span><span class=p>,</span> <span class=s2>&quot;data&quot;</span><span class=p>)</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>    <span class=n>os</span><span class=o>.</span><span class=n>makedirs</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data_manager</span><span class=p>:</span> <span class=n>DataManager</span> <span class=o>=</span> <span class=n>DataManager</span><span class=p>(</span><span class=n>data_dir</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>)</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=bp>self</span><span class=o>.</span><span class=n>status_manager</span><span class=p>:</span> <span class=n>StatusManager</span> <span class=o>=</span> <span class=n>StatusManager</span><span class=p>()</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=c1># Build UI</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>    <span class=n>UIBuilder</span><span class=o>.</span><span class=n>build</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>status_manager</span><span class=p>)</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>    <span class=c1># Initialize animation (must be after UI build to ensure stage_progress_bar exists)</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>    <span class=kn>from</span><span class=w> </span><span class=nn>PySide6.QtCore</span><span class=w> </span><span class=kn>import</span> <span class=n>QTimer</span> <span class=k>as</span> <span class=n>_QTimer</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>    <span class=bp>self</span><span class=o>.</span><span class=n>animation_timer</span><span class=p>:</span> <span class=n>_QTimer</span> <span class=o>=</span> <span class=n>_QTimer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>    <span class=bp>self</span><span class=o>.</span><span class=n>animation_timer</span><span class=o>.</span><span class=n>timeout</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>update_animation</span><span class=p>)</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_animation</span><span class=p>:</span> <span class=n>ProgressAnimation</span> <span class=o>=</span> <span class=n>ProgressAnimation</span><span class=p>(</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>        <span class=bp>self</span><span class=o>.</span><span class=n>stage_progress_bar</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>animation_timer</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>DEBUG</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>    <span class=p>)</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a>    <span class=c1># Initialize tray manager</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_manager</span><span class=p>:</span> <span class=n>TrayManager</span> <span class=o>=</span> <span class=n>TrayManager</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>show_from_tray</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>close</span><span class=p>)</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>    <span class=c1># Initialize queue handler</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue_handler</span><span class=p>:</span> <span class=n>QueueHandler</span> <span class=o>=</span> <span class=n>QueueHandler</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_steps_for_stage</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiler_phase</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=s2>&quot;Profiler&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>    <span class=c1># Setup timers</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>    <span class=kn>from</span><span class=w> </span><span class=nn>PySide6.QtCore</span><span class=w> </span><span class=kn>import</span> <span class=n>QTimer</span> <span class=k>as</span> <span class=n>_QTimer</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue_timer</span><span class=p>:</span> <span class=n>_QTimer</span> <span class=o>=</span> <span class=n>_QTimer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue_timer</span><span class=o>.</span><span class=n>timeout</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>queue_handler</span><span class=o>.</span><span class=n>process_queue</span><span class=p>)</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue_timer</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>    <span class=bp>self</span><span class=o>.</span><span class=n>clock_timer</span><span class=p>:</span> <span class=n>_QTimer</span> <span class=o>=</span> <span class=n>_QTimer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>    <span class=bp>self</span><span class=o>.</span><span class=n>clock_timer</span><span class=o>.</span><span class=n>timeout</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>update_clock</span><span class=p>)</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>    <span class=bp>self</span><span class=o>.</span><span class=n>clock_timer</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>    <span class=c1># Graph update timer (every 5 seconds)</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>    <span class=bp>self</span><span class=o>.</span><span class=n>graph_timer</span><span class=p>:</span> <span class=n>_QTimer</span> <span class=o>=</span> <span class=n>_QTimer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>    <span class=bp>self</span><span class=o>.</span><span class=n>graph_timer</span><span class=o>.</span><span class=n>timeout</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>update_graphs</span><span class=p>)</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>    <span class=bp>self</span><span class=o>.</span><span class=n>graph_timer</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=mi>5000</span><span class=p>)</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>    <span class=c1># System utilization update timer (every 1 second)</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a>    <span class=bp>self</span><span class=o>.</span><span class=n>utilization_timer</span><span class=p>:</span> <span class=n>_QTimer</span> <span class=o>=</span> <span class=n>_QTimer</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a>    <span class=bp>self</span><span class=o>.</span><span class=n>utilization_timer</span><span class=o>.</span><span class=n>timeout</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>update_utilization</span><span class=p>)</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>    <span class=bp>self</span><span class=o>.</span><span class=n>utilization_timer</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=mi>1000</span><span class=p>)</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a>    <span class=c1># Initialize GPU availability check</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gpu_available</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=n>SystemMonitor</span><span class=o>.</span><span class=n>is_gpu_available</span><span class=p>()</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a>    <span class=c1># Initialize CPU measurement (first call needs to be blocking)</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>    <span class=k>if</span> <span class=n>PSUTIL_AVAILABLE</span><span class=p>:</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a>            <span class=kn>import</span><span class=w> </span><span class=nn>psutil</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a>            <span class=n>psutil</span><span class=o>.</span><span class=n>cpu_percent</span><span class=p>(</span><span class=n>interval</span><span class=o>=</span><span class=mf>0.1</span><span class=p>)</span>  <span class=c1># Initialize measurement</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>        <span class=k>except</span> <span class=ne>Exception</span><span class=p>:</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>            <span class=k>pass</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.progress_gui.ProgressGUI-functions>Functions<a href=#goliat.gui.progress_gui.ProgressGUI-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.update_overall_progress class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_overall_progress</span> <a href=#goliat.gui.progress_gui.ProgressGUI.update_overall_progress class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_overall_progress</span><span class=p>(</span><span class=n>current_step</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>total_steps</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates overall progress bar across all simulations.</p> <p>The progress bar uses a 0-10000 range internally (for finer granularity), but displays as percentage. Overall progress accounts for completed simulations plus progress within current simulation.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>current_step</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Current step number (0-100 range) or percentage (0-100).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>total_steps</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Total number of steps (typically 100).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a><span class=k>def</span><span class=w> </span><span class=nf>update_overall_progress</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>current_step</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>total_steps</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates overall progress bar across all simulations.</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a><span class=sd>    The progress bar uses a 0-10000 range internally (for finer granularity),</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a><span class=sd>    but displays as percentage. Overall progress accounts for completed</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a><span class=sd>    simulations plus progress within current simulation.</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a><span class=sd>    Args:</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a><span class=sd>        current_step: Current step number (0-100 range) or percentage (0-100).</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a><span class=sd>        total_steps: Total number of steps (typically 100).</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>:</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>        <span class=bp>self</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;DEBUG: update_overall_progress received: current=</span><span class=si>{</span><span class=n>current_step</span><span class=si>}</span><span class=s2>, total=</span><span class=si>{</span><span class=n>total_steps</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>    <span class=k>if</span> <span class=n>total_steps</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>        <span class=n>progress_percent</span> <span class=o>=</span> <span class=p>(</span><span class=n>current_step</span> <span class=o>/</span> <span class=n>total_steps</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a>        <span class=bp>self</span><span class=o>.</span><span class=n>overall_progress_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>progress_percent</span> <span class=o>*</span> <span class=mi>100</span><span class=p>))</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a>        <span class=bp>self</span><span class=o>.</span><span class=n>overall_progress_bar</span><span class=o>.</span><span class=n>setFormat</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>progress_percent</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>:</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a>            <span class=bp>self</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;DEBUG: Overall progress set to: </span><span class=si>{</span><span class=n>progress_percent</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.update_stage_progress class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_stage_progress</span> <a href=#goliat.gui.progress_gui.ProgressGUI.update_stage_progress class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_stage_progress</span><span class=p>(</span><span class=n>stage_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>current_step</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>total_steps</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>sub_stage</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates stage-specific progress bar and label.</p> <p>Shows progress within current phase (setup/run/extract). Stops any active animation when explicit progress is set. Uses 0-1000 range internally for finer granularity.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>stage_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of current stage (e.g., 'Setup', 'Running Simulation').</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>current_step</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Current step within stage.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>total_steps</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Total steps for the stage.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>sub_stage</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Optional sub-stage description (currently unused).</p> </div> </td> <td> <code>&#39;&#39;</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a><span class=k>def</span><span class=w> </span><span class=nf>update_stage_progress</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>stage_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>current_step</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>total_steps</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>sub_stage</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates stage-specific progress bar and label.</span>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a><span class=sd>    Shows progress within current phase (setup/run/extract). Stops any</span>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a><span class=sd>    active animation when explicit progress is set. Uses 0-1000 range</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a><span class=sd>    internally for finer granularity.</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a><span class=sd>    Args:</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a><span class=sd>        stage_name: Name of current stage (e.g., &#39;Setup&#39;, &#39;Running Simulation&#39;).</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a><span class=sd>        current_step: Current step within stage.</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a><span class=sd>        total_steps: Total steps for the stage.</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a><span class=sd>        sub_stage: Optional sub-stage description (currently unused).</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>:</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a>        <span class=bp>self</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a>            <span class=sa>f</span><span class=s2>&quot;DEBUG: update_stage_progress received: name=&#39;</span><span class=si>{</span><span class=n>stage_name</span><span class=si>}</span><span class=s2>&#39;, current=</span><span class=si>{</span><span class=n>current_step</span><span class=si>}</span><span class=s2>, total=</span><span class=si>{</span><span class=n>total_steps</span><span class=si>}</span><span class=s2>, sub_stage=&#39;</span><span class=si>{</span><span class=n>sub_stage</span><span class=si>}</span><span class=s2>&#39;&quot;</span>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a>        <span class=p>)</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>    <span class=bp>self</span><span class=o>.</span><span class=n>stage_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Current Stage: </span><span class=si>{</span><span class=n>stage_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_steps_for_stage</span> <span class=o>=</span> <span class=n>total_steps</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_animation</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>    <span class=n>progress_percent</span> <span class=o>=</span> <span class=p>(</span><span class=n>current_step</span> <span class=o>/</span> <span class=n>total_steps</span><span class=p>)</span> <span class=k>if</span> <span class=n>total_steps</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=mi>0</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>    <span class=n>final_value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>progress_percent</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>)</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a>    <span class=bp>self</span><span class=o>.</span><span class=n>stage_progress_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=n>final_value</span><span class=p>)</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a>    <span class=bp>self</span><span class=o>.</span><span class=n>stage_progress_bar</span><span class=o>.</span><span class=n>setFormat</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>progress_percent</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>100</span><span class=si>:</span><span class=s2>.0f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>:</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a>        <span class=bp>self</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;DEBUG: Stage &#39;</span><span class=si>{</span><span class=n>stage_name</span><span class=si>}</span><span class=s2>&#39; progress set to: </span><span class=si>{</span><span class=n>progress_percent</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>100</span><span class=si>:</span><span class=s2>.0f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.start_stage_animation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">start_stage_animation</span> <a href=#goliat.gui.progress_gui.ProgressGUI.start_stage_animation class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>start_stage_animation</span><span class=p>(</span><span class=n>estimated_duration</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>end_step</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Starts smooth animated progress bar for a stage.</p> <p>Instead of jumping to discrete progress values, animates smoothly over the estimated duration. This provides visual feedback during long-running tasks where progress updates are infrequent.</p> <p>The animation uses linear interpolation between current value and target (always 100% = 1000). Updates every 50ms via Qt timer.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>estimated_duration</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Estimated task duration in seconds (from profiler).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>end_step</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Target step value (unused, always animates to 100%).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a><span class=k>def</span><span class=w> </span><span class=nf>start_stage_animation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>estimated_duration</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>end_step</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Starts smooth animated progress bar for a stage.</span>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a><span class=sd>    Instead of jumping to discrete progress values, animates smoothly over</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a><span class=sd>    the estimated duration. This provides visual feedback during long-running</span>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a><span class=sd>    tasks where progress updates are infrequent.</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a><span class=sd>    The animation uses linear interpolation between current value and target</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a><span class=sd>    (always 100% = 1000). Updates every 50ms via Qt timer.</span>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a><span class=sd>    Args:</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a><span class=sd>        estimated_duration: Estimated task duration in seconds (from profiler).</span>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a><span class=sd>        end_step: Target step value (unused, always animates to 100%).</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>:</span>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a>        <span class=bp>self</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;DEBUG: start_stage_animation received: duration=</span><span class=si>{</span><span class=n>estimated_duration</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s, end_step=</span><span class=si>{</span><span class=n>end_step</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_animation</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=n>estimated_duration</span><span class=p>,</span> <span class=n>end_step</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.end_stage_animation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">end_stage_animation</span> <a href=#goliat.gui.progress_gui.ProgressGUI.end_stage_animation class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>end_stage_animation</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Stops stage progress bar animation.</p> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a><span class=k>def</span><span class=w> </span><span class=nf>end_stage_animation</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Stops stage progress bar animation.&quot;&quot;&quot;</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_animation</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.update_animation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_animation</span> <a href=#goliat.gui.progress_gui.ProgressGUI.update_animation class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_animation</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates progress bar animation frame and syncs overall progress.</p> <p>Called every 50ms by Qt timer when animation is active. Calculates current progress based on elapsed time and estimated duration, then updates stage progress bar. Also syncs overall progress bar using weighted progress calculation from profiler.</p> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a><span class=k>def</span><span class=w> </span><span class=nf>update_animation</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates progress bar animation frame and syncs overall progress.</span>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a><span class=sd>    Called every 50ms by Qt timer when animation is active. Calculates</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a><span class=sd>    current progress based on elapsed time and estimated duration, then</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a><span class=sd>    updates stage progress bar. Also syncs overall progress bar using</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a><span class=sd>    weighted progress calculation from profiler.</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_animation</span><span class=o>.</span><span class=n>update</span><span class=p>()</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a>    <span class=c1># Sync overall progress based on stage animation</span>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>current_phase</span><span class=p>:</span>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a>        <span class=n>current_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>stage_progress_bar</span><span class=o>.</span><span class=n>value</span><span class=p>()</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a>        <span class=n>percent</span> <span class=o>=</span> <span class=p>(</span><span class=n>current_value</span> <span class=o>/</span> <span class=mi>1000</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a>        <span class=n>progress</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>get_weighted_progress</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>current_phase</span><span class=p>,</span> <span class=n>percent</span> <span class=o>/</span> <span class=mf>100.0</span><span class=p>)</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a>        <span class=bp>self</span><span class=o>.</span><span class=n>update_overall_progress</span><span class=p>(</span><span class=n>progress</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.update_simulation_details class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_simulation_details</span> <a href=#goliat.gui.progress_gui.ProgressGUI.update_simulation_details class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_simulation_details</span><span class=p>(</span><span class=n>sim_count</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>total_sims</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>details</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates simulation counter and details labels.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>sim_count</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Current simulation number.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>total_sims</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Total number of simulations.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>details</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Description of current simulation case.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a><span class=k>def</span><span class=w> </span><span class=nf>update_simulation_details</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sim_count</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>total_sims</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>details</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates simulation counter and details labels.</span>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a><span class=sd>    Args:</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a><span class=sd>        sim_count: Current simulation number.</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a><span class=sd>        total_sims: Total number of simulations.</span>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a><span class=sd>        details: Description of current simulation case.</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a>    <span class=bp>self</span><span class=o>.</span><span class=n>current_simulation_count</span> <span class=o>=</span> <span class=n>sim_count</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a>    <span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span> <span class=o>=</span> <span class=n>total_sims</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a>    <span class=bp>self</span><span class=o>.</span><span class=n>sim_counter_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Simulation: </span><span class=si>{</span><span class=n>sim_count</span><span class=si>}</span><span class=s2> / </span><span class=si>{</span><span class=n>total_sims</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a>    <span class=bp>self</span><span class=o>.</span><span class=n>sim_details_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Current Case: </span><span class=si>{</span><span class=n>details</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.update_status class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_status</span> <a href=#goliat.gui.progress_gui.ProgressGUI.update_status class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_status</span><span class=p>(</span><span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;default&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Appends message to status log with color formatting.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Message text.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>log_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Log type for color coding.</p> </div> </td> <td> <code>&#39;default&#39;</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a><span class=k>def</span><span class=w> </span><span class=nf>update_status</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;default&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Appends message to status log with color formatting.</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a><span class=sd>    Args:</span>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a><span class=sd>        message: Message text.</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a><span class=sd>        log_type: Log type for color coding.</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a>    <span class=bp>self</span><span class=o>.</span><span class=n>status_manager</span><span class=o>.</span><span class=n>record_log</span><span class=p>(</span><span class=n>log_type</span><span class=p>)</span>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a>    <span class=bp>self</span><span class=o>.</span><span class=n>error_counter_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>status_manager</span><span class=o>.</span><span class=n>get_error_summary</span><span class=p>())</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a>    <span class=n>formatted_message</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>status_manager</span><span class=o>.</span><span class=n>format_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>log_type</span><span class=p>)</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>    <span class=bp>self</span><span class=o>.</span><span class=n>status_text</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>formatted_message</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.update_utilization class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_utilization</span> <a href=#goliat.gui.progress_gui.ProgressGUI.update_utilization class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_utilization</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates <abbr title="Central Processing Unit">CPU</abbr>, <abbr title="Random Access Memory">RAM</abbr>, and <abbr title="Graphics Processing Unit">GPU</abbr> utilization displays.</p> <p>Called every second by Qt timer. Gets current utilization values from SystemMonitor and updates the progress bars and labels.</p> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span>
<span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span>
<span class=normal><a href=#__codelineno-0-309>309</a></span>
<span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a><span class=k>def</span><span class=w> </span><span class=nf>update_utilization</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates CPU, RAM, and GPU utilization displays.</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a><span class=sd>    Called every second by Qt timer. Gets current utilization values</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a><span class=sd>    from SystemMonitor and updates the progress bars and labels.</span>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a>    <span class=c1># Update CPU utilization</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a>    <span class=n>cpu_percent</span> <span class=o>=</span> <span class=n>SystemMonitor</span><span class=o>.</span><span class=n>get_cpu_utilization</span><span class=p>()</span>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a>    <span class=bp>self</span><span class=o>.</span><span class=n>cpu_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>cpu_percent</span><span class=p>))</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a>    <span class=bp>self</span><span class=o>.</span><span class=n>cpu_bar</span><span class=o>.</span><span class=n>setFormat</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>cpu_percent</span><span class=si>:</span><span class=s2>.0f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a>    <span class=c1># Update RAM utilization</span>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a>    <span class=n>used_gb</span><span class=p>,</span> <span class=n>total_gb</span> <span class=o>=</span> <span class=n>SystemMonitor</span><span class=o>.</span><span class=n>get_ram_utilization</span><span class=p>()</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a>    <span class=k>if</span> <span class=n>total_gb</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>        <span class=n>ram_percent</span> <span class=o>=</span> <span class=p>(</span><span class=n>used_gb</span> <span class=o>/</span> <span class=n>total_gb</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a>        <span class=bp>self</span><span class=o>.</span><span class=n>ram_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>ram_percent</span><span class=p>))</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294></a>        <span class=bp>self</span><span class=o>.</span><span class=n>ram_bar</span><span class=o>.</span><span class=n>setFormat</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>used_gb</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=n>total_gb</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2> GB&quot;</span><span class=p>)</span>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296></a>        <span class=bp>self</span><span class=o>.</span><span class=n>ram_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297></a>        <span class=bp>self</span><span class=o>.</span><span class=n>ram_bar</span><span class=o>.</span><span class=n>setFormat</span><span class=p>(</span><span class=s2>&quot;N/A&quot;</span><span class=p>)</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298></a>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299></a>    <span class=c1># Update GPU utilization</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>gpu_available</span><span class=p>:</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>        <span class=n>gpu_percent</span> <span class=o>=</span> <span class=n>SystemMonitor</span><span class=o>.</span><span class=n>get_gpu_utilization</span><span class=p>()</span>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>        <span class=k>if</span> <span class=n>gpu_percent</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303></a>            <span class=bp>self</span><span class=o>.</span><span class=n>gpu_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>gpu_percent</span><span class=p>))</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304></a>            <span class=bp>self</span><span class=o>.</span><span class=n>gpu_bar</span><span class=o>.</span><span class=n>setFormat</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>gpu_percent</span><span class=si>:</span><span class=s2>.0f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span>
</span><span id=__span-0-305><a id=__codelineno-0-305 name=__codelineno-0-305></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-306><a id=__codelineno-0-306 name=__codelineno-0-306></a>            <span class=bp>self</span><span class=o>.</span><span class=n>gpu_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-307><a id=__codelineno-0-307 name=__codelineno-0-307></a>            <span class=bp>self</span><span class=o>.</span><span class=n>gpu_bar</span><span class=o>.</span><span class=n>setFormat</span><span class=p>(</span><span class=s2>&quot;N/A&quot;</span><span class=p>)</span>
</span><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308></a>            <span class=bp>self</span><span class=o>.</span><span class=n>gpu_available</span> <span class=o>=</span> <span class=kc>False</span>  <span class=c1># GPU became unavailable</span>
</span><span id=__span-0-309><a id=__codelineno-0-309 name=__codelineno-0-309></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-310><a id=__codelineno-0-310 name=__codelineno-0-310></a>        <span class=bp>self</span><span class=o>.</span><span class=n>gpu_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311></a>        <span class=bp>self</span><span class=o>.</span><span class=n>gpu_bar</span><span class=o>.</span><span class=n>setFormat</span><span class=p>(</span><span class=s2>&quot;N/A&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.update_clock class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_clock</span> <a href=#goliat.gui.progress_gui.ProgressGUI.update_clock class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_clock</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates elapsed time, <abbr title="Estimated Time of Arrival">ETA</abbr> labels, and window title.</p> <p>Called every second by Qt timer. Calculates elapsed time from start, gets <abbr title="Estimated Time of Arrival">ETA</abbr> from profiler (if available), and updates window title with current status and progress percentage.</p> <p>The window title shows: [progress%] GOLIAT | Sim X/Y | Status where Status is 'Booting...', 'Running...', or 'Finished'.</p> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a><span class=k>def</span><span class=w> </span><span class=nf>update_clock</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates elapsed time, ETA labels, and window title.</span>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a><span class=sd>    Called every second by Qt timer. Calculates elapsed time from start,</span>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317></a><span class=sd>    gets ETA from profiler (if available), and updates window title with</span>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318></a><span class=sd>    current status and progress percentage.</span>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319></a>
</span><span id=__span-0-320><a id=__codelineno-0-320 name=__codelineno-0-320></a><span class=sd>    The window title shows: [progress%] GOLIAT | Sim X/Y | Status</span>
</span><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a><span class=sd>    where Status is &#39;Booting...&#39;, &#39;Running...&#39;, or &#39;Finished&#39;.</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a>    <span class=n>elapsed_sec</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>start_time</span>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a>    <span class=bp>self</span><span class=o>.</span><span class=n>elapsed_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Elapsed: </span><span class=si>{</span><span class=n>format_time</span><span class=p>(</span><span class=n>elapsed_sec</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326></a>    <span class=n>eta_sec</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>current_phase</span><span class=p>:</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a>        <span class=n>current_stage_progress_ratio</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>stage_progress_bar</span><span class=o>.</span><span class=n>value</span><span class=p>()</span> <span class=o>/</span> <span class=mf>1000.0</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a>        <span class=n>eta_sec</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>get_time_remaining</span><span class=p>(</span><span class=n>current_stage_progress</span><span class=o>=</span><span class=n>current_stage_progress_ratio</span><span class=p>)</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a>        <span class=k>if</span> <span class=n>eta_sec</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332></a>            <span class=n>time_remaining_str</span> <span class=o>=</span> <span class=n>format_time</span><span class=p>(</span><span class=n>eta_sec</span><span class=p>)</span>
</span><span id=__span-0-333><a id=__codelineno-0-333 name=__codelineno-0-333></a>            <span class=bp>self</span><span class=o>.</span><span class=n>eta_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Time Remaining: </span><span class=si>{</span><span class=n>time_remaining_str</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a>            <span class=bp>self</span><span class=o>.</span><span class=n>eta_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=s2>&quot;Time Remaining: N/A&quot;</span><span class=p>)</span>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a>        <span class=bp>self</span><span class=o>.</span><span class=n>eta_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=s2>&quot;Time Remaining: N/A&quot;</span><span class=p>)</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a>    <span class=c1># Update window title with status</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a>    <span class=n>progress_percent</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>overall_progress_bar</span><span class=o>.</span><span class=n>value</span><span class=p>()</span> <span class=o>/</span> <span class=mf>100.0</span><span class=p>)</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a>    <span class=n>title</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>init_window_title</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>    <span class=n>title</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;[</span><span class=si>{</span><span class=n>progress_percent</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>%] GOLIAT&quot;</span>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>        <span class=n>title</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot; | Sim </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>current_simulation_count</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>total_simulations</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a>    <span class=c1># Determine status based on actual activity</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>study_is_finished</span><span class=p>:</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>        <span class=n>status</span> <span class=o>=</span> <span class=s2>&quot;Finished&quot;</span> <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>study_had_errors</span> <span class=k>else</span> <span class=s2>&quot;Finished with Errors&quot;</span>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a>    <span class=k>elif</span> <span class=n>progress_percent</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>current_simulation_count</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a>        <span class=n>status</span> <span class=o>=</span> <span class=s2>&quot;Running...&quot;</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a>        <span class=n>status</span> <span class=o>=</span> <span class=s2>&quot;Booting...&quot;</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a>    <span class=n>title</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot; | </span><span class=si>{</span><span class=n>status</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>    <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=n>title</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.update_graphs class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_graphs</span> <a href=#goliat.gui.progress_gui.ProgressGUI.update_graphs class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_graphs</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates time remaining and overall progress graphs (called every 5 seconds).</p> <p>Gets current <abbr title="Estimated Time of Arrival">ETA</abbr> and progress values, writes them to <abbr title="Comma-Separated Values">CSV</abbr> files (via DataManager), and adds data points to matplotlib plots. The plots show trends over time, helping users see if <abbr title="Estimated Time of Arrival">ETA</abbr> is converging or progress is steady.</p> <p>This runs less frequently than clock updates (5s vs 1s) because plotting is more expensive and the trends don't need millisecond precision.</p> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span>
<span class=normal><a href=#__codelineno-0-388>388</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a><span class=k>def</span><span class=w> </span><span class=nf>update_graphs</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates time remaining and overall progress graphs (called every 5 seconds).</span>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a><span class=sd>    Gets current ETA and progress values, writes them to CSV files (via</span>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a><span class=sd>    DataManager), and adds data points to matplotlib plots. The plots</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a><span class=sd>    show trends over time, helping users see if ETA is converging or</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a><span class=sd>    progress is steady.</span>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a><span class=sd>    This runs less frequently than clock updates (5s vs 1s) because</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a><span class=sd>    plotting is more expensive and the trends don&#39;t need millisecond</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a><span class=sd>    precision.</span>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a>    <span class=c1># Get current ETA</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a>    <span class=n>eta_sec</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>current_phase</span><span class=p>:</span>
</span><span id=__span-0-372><a id=__codelineno-0-372 name=__codelineno-0-372></a>        <span class=n>current_stage_progress_ratio</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>stage_progress_bar</span><span class=o>.</span><span class=n>value</span><span class=p>()</span> <span class=o>/</span> <span class=mf>1000.0</span>
</span><span id=__span-0-373><a id=__codelineno-0-373 name=__codelineno-0-373></a>        <span class=n>eta_sec</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>get_time_remaining</span><span class=p>(</span><span class=n>current_stage_progress</span><span class=o>=</span><span class=n>current_stage_progress_ratio</span><span class=p>)</span>
</span><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a>    <span class=c1># Get current progress</span>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a>    <span class=n>progress_percent</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>overall_progress_bar</span><span class=o>.</span><span class=n>value</span><span class=p>()</span> <span class=o>/</span> <span class=mf>100.0</span><span class=p>)</span>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a>    <span class=c1># Update time remaining data</span>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a>    <span class=k>if</span> <span class=n>eta_sec</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a>        <span class=n>current_time</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a>        <span class=n>hours_remaining</span> <span class=o>=</span> <span class=n>eta_sec</span> <span class=o>/</span> <span class=mf>3600.0</span>
</span><span id=__span-0-382><a id=__codelineno-0-382 name=__codelineno-0-382></a>        <span class=bp>self</span><span class=o>.</span><span class=n>data_manager</span><span class=o>.</span><span class=n>write_time_remaining</span><span class=p>(</span><span class=n>hours_remaining</span><span class=p>)</span>
</span><span id=__span-0-383><a id=__codelineno-0-383 name=__codelineno-0-383></a>        <span class=bp>self</span><span class=o>.</span><span class=n>time_remaining_plot</span><span class=o>.</span><span class=n>add_data_point</span><span class=p>(</span><span class=n>current_time</span><span class=p>,</span> <span class=n>hours_remaining</span><span class=p>)</span>
</span><span id=__span-0-384><a id=__codelineno-0-384 name=__codelineno-0-384></a>
</span><span id=__span-0-385><a id=__codelineno-0-385 name=__codelineno-0-385></a>    <span class=c1># Update overall progress data</span>
</span><span id=__span-0-386><a id=__codelineno-0-386 name=__codelineno-0-386></a>    <span class=n>current_time</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span><span id=__span-0-387><a id=__codelineno-0-387 name=__codelineno-0-387></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data_manager</span><span class=o>.</span><span class=n>write_overall_progress</span><span class=p>(</span><span class=n>progress_percent</span><span class=p>)</span>
</span><span id=__span-0-388><a id=__codelineno-0-388 name=__codelineno-0-388></a>    <span class=bp>self</span><span class=o>.</span><span class=n>overall_progress_plot</span><span class=o>.</span><span class=n>add_data_point</span><span class=p>(</span><span class=n>current_time</span><span class=p>,</span> <span class=n>progress_percent</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.hide_to_tray class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">hide_to_tray</span> <a href=#goliat.gui.progress_gui.ProgressGUI.hide_to_tray class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>hide_to_tray</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Hides main window and shows system tray icon.</p> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-390><a id=__codelineno-0-390 name=__codelineno-0-390></a><span class=k>def</span><span class=w> </span><span class=nf>hide_to_tray</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-391><a id=__codelineno-0-391 name=__codelineno-0-391></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Hides main window and shows system tray icon.&quot;&quot;&quot;</span>
</span><span id=__span-0-392><a id=__codelineno-0-392 name=__codelineno-0-392></a>    <span class=bp>self</span><span class=o>.</span><span class=n>hide</span><span class=p>()</span>
</span><span id=__span-0-393><a id=__codelineno-0-393 name=__codelineno-0-393></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_manager</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.show_from_tray class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">show_from_tray</span> <a href=#goliat.gui.progress_gui.ProgressGUI.show_from_tray class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>show_from_tray</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Shows main window from system tray.</p> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-395><a id=__codelineno-0-395 name=__codelineno-0-395></a><span class=k>def</span><span class=w> </span><span class=nf>show_from_tray</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-396><a id=__codelineno-0-396 name=__codelineno-0-396></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Shows main window from system tray.&quot;&quot;&quot;</span>
</span><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a>    <span class=bp>self</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_manager</span><span class=o>.</span><span class=n>hide</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.stop_study class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">stop_study</span> <a href=#goliat.gui.progress_gui.ProgressGUI.stop_study class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>stop_study</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sends stop signal to worker process.</p> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-400><a id=__codelineno-0-400 name=__codelineno-0-400></a><span class=k>def</span><span class=w> </span><span class=nf>stop_study</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-401><a id=__codelineno-0-401 name=__codelineno-0-401></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sends stop signal to worker process.&quot;&quot;&quot;</span>
</span><span id=__span-0-402><a id=__codelineno-0-402 name=__codelineno-0-402></a>    <span class=n>message</span> <span class=o>=</span> <span class=s2>&quot;--- Sending stop signal to study process ---&quot;</span>
</span><span id=__span-0-403><a id=__codelineno-0-403 name=__codelineno-0-403></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;warning&quot;</span><span class=p>})</span>
</span><span id=__span-0-404><a id=__codelineno-0-404 name=__codelineno-0-404></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;warning&quot;</span><span class=p>})</span>
</span><span id=__span-0-405><a id=__codelineno-0-405 name=__codelineno-0-405></a>    <span class=bp>self</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;warning&quot;</span><span class=p>)</span>
</span><span id=__span-0-406><a id=__codelineno-0-406 name=__codelineno-0-406></a>    <span class=bp>self</span><span class=o>.</span><span class=n>stop_button</span><span class=o>.</span><span class=n>setEnabled</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-407><a id=__codelineno-0-407 name=__codelineno-0-407></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_button</span><span class=o>.</span><span class=n>setEnabled</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-408><a id=__codelineno-0-408 name=__codelineno-0-408></a>    <span class=bp>self</span><span class=o>.</span><span class=n>stop_event</span><span class=o>.</span><span class=n>set</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.study_finished class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">study_finished</span> <a href=#goliat.gui.progress_gui.ProgressGUI.study_finished class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>study_finished</span><span class=p>(</span><span class=n>error</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Handles study completion, stopping timers and updating UI.</p> <p>Called when worker process signals completion. Stops all timers, updates final progress to 100%, sets stage label, and schedules window auto-close after 3 seconds (if no errors).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>error</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Whether study finished with errors (affects UI styling).</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-410><a id=__codelineno-0-410 name=__codelineno-0-410></a><span class=k>def</span><span class=w> </span><span class=nf>study_finished</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>error</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-411><a id=__codelineno-0-411 name=__codelineno-0-411></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Handles study completion, stopping timers and updating UI.</span>
</span><span id=__span-0-412><a id=__codelineno-0-412 name=__codelineno-0-412></a>
</span><span id=__span-0-413><a id=__codelineno-0-413 name=__codelineno-0-413></a><span class=sd>    Called when worker process signals completion. Stops all timers,</span>
</span><span id=__span-0-414><a id=__codelineno-0-414 name=__codelineno-0-414></a><span class=sd>    updates final progress to 100%, sets stage label, and schedules</span>
</span><span id=__span-0-415><a id=__codelineno-0-415 name=__codelineno-0-415></a><span class=sd>    window auto-close after 3 seconds (if no errors).</span>
</span><span id=__span-0-416><a id=__codelineno-0-416 name=__codelineno-0-416></a>
</span><span id=__span-0-417><a id=__codelineno-0-417 name=__codelineno-0-417></a><span class=sd>    Args:</span>
</span><span id=__span-0-418><a id=__codelineno-0-418 name=__codelineno-0-418></a><span class=sd>        error: Whether study finished with errors (affects UI styling).</span>
</span><span id=__span-0-419><a id=__codelineno-0-419 name=__codelineno-0-419></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-420><a id=__codelineno-0-420 name=__codelineno-0-420></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_is_finished</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-421><a id=__codelineno-0-421 name=__codelineno-0-421></a>    <span class=bp>self</span><span class=o>.</span><span class=n>study_had_errors</span> <span class=o>=</span> <span class=n>error</span>
</span><span id=__span-0-422><a id=__codelineno-0-422 name=__codelineno-0-422></a>    <span class=bp>self</span><span class=o>.</span><span class=n>clock_timer</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span><span id=__span-0-423><a id=__codelineno-0-423 name=__codelineno-0-423></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue_timer</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span><span id=__span-0-424><a id=__codelineno-0-424 name=__codelineno-0-424></a>    <span class=bp>self</span><span class=o>.</span><span class=n>graph_timer</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span><span id=__span-0-425><a id=__codelineno-0-425 name=__codelineno-0-425></a>    <span class=bp>self</span><span class=o>.</span><span class=n>utilization_timer</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span><span id=__span-0-426><a id=__codelineno-0-426 name=__codelineno-0-426></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_animation</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span><span id=__span-0-427><a id=__codelineno-0-427 name=__codelineno-0-427></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>error</span><span class=p>:</span>
</span><span id=__span-0-428><a id=__codelineno-0-428 name=__codelineno-0-428></a>        <span class=bp>self</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span><span class=s2>&quot;--- Study Finished ---&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;success&quot;</span><span class=p>)</span>
</span><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a>        <span class=bp>self</span><span class=o>.</span><span class=n>overall_progress_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>overall_progress_bar</span><span class=o>.</span><span class=n>maximum</span><span class=p>())</span>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a>        <span class=bp>self</span><span class=o>.</span><span class=n>stage_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=s2>&quot;Finished&quot;</span><span class=p>)</span>
</span><span id=__span-0-431><a id=__codelineno-0-431 name=__codelineno-0-431></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-432><a id=__codelineno-0-432 name=__codelineno-0-432></a>        <span class=bp>self</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span><span class=s2>&quot;--- Study Finished with Errors ---&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;fatal&quot;</span><span class=p>)</span>
</span><span id=__span-0-433><a id=__codelineno-0-433 name=__codelineno-0-433></a>        <span class=bp>self</span><span class=o>.</span><span class=n>stage_label</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=s2>&quot;Error&quot;</span><span class=p>)</span>
</span><span id=__span-0-434><a id=__codelineno-0-434 name=__codelineno-0-434></a>
</span><span id=__span-0-435><a id=__codelineno-0-435 name=__codelineno-0-435></a>    <span class=bp>self</span><span class=o>.</span><span class=n>stop_button</span><span class=o>.</span><span class=n>setEnabled</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-436><a id=__codelineno-0-436 name=__codelineno-0-436></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_button</span><span class=o>.</span><span class=n>setEnabled</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-437><a id=__codelineno-0-437 name=__codelineno-0-437></a>    <span class=bp>self</span><span class=o>.</span><span class=n>update_clock</span><span class=p>()</span>  <span class=c1># Final title update</span>
</span><span id=__span-0-438><a id=__codelineno-0-438 name=__codelineno-0-438></a>    <span class=kn>from</span><span class=w> </span><span class=nn>PySide6.QtCore</span><span class=w> </span><span class=kn>import</span> <span class=n>QTimer</span> <span class=k>as</span> <span class=n>_QTimer</span>
</span><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a>    <span class=n>_QTimer</span><span class=o>.</span><span class=n>singleShot</span><span class=p>(</span><span class=mi>3000</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>close</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.progress_gui.ProgressGUI.closeEvent class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">closeEvent</span> <a href=#goliat.gui.progress_gui.ProgressGUI.closeEvent class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>closeEvent</span><span class=p>(</span><span class=n>event</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Handles window close event, ensuring worker process termination.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>event</code> </td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>Close event.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/progress_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span>
<span class=normal><a href=#__codelineno-0-453>453</a></span>
<span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-441><a id=__codelineno-0-441 name=__codelineno-0-441></a><span class=k>def</span><span class=w> </span><span class=nf>closeEvent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-442><a id=__codelineno-0-442 name=__codelineno-0-442></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Handles window close event, ensuring worker process termination.</span>
</span><span id=__span-0-443><a id=__codelineno-0-443 name=__codelineno-0-443></a>
</span><span id=__span-0-444><a id=__codelineno-0-444 name=__codelineno-0-444></a><span class=sd>    Args:</span>
</span><span id=__span-0-445><a id=__codelineno-0-445 name=__codelineno-0-445></a><span class=sd>        event: Close event.</span>
</span><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>tray_manager</span><span class=o>.</span><span class=n>is_visible</span><span class=p>():</span>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>        <span class=bp>self</span><span class=o>.</span><span class=n>tray_manager</span><span class=o>.</span><span class=n>hide</span><span class=p>()</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>process</span><span class=o>.</span><span class=n>is_alive</span><span class=p>():</span>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>        <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Terminating study process...&quot;</span><span class=p>,</span> <span class=n>extra</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=s2>&quot;warning&quot;</span><span class=p>})</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>        <span class=bp>self</span><span class=o>.</span><span class=n>process</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</span><span id=__span-0-453><a id=__codelineno-0-453 name=__codelineno-0-453></a>        <span class=bp>self</span><span class=o>.</span><span class=n>process</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</span><span id=__span-0-454><a id=__codelineno-0-454 name=__codelineno-0-454></a>
</span><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a>    <span class=n>shutdown_loggers</span><span class=p>()</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a>    <span class=n>event</span><span class=o>.</span><span class=n>accept</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <h3 id=goliat.gui.progress_gui-functions>Functions<a href=#goliat.gui.progress_gui-functions class=headerlink title="Permanent link">&para;</a></h3> </div> </div> </div><h3 id=gui-communication><abbr title="Graphical User Interface">GUI</abbr> Communication<a class=headerlink href=#gui-communication title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.queue_gui class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.queue_gui</span> <a href=#goliat.gui.queue_gui class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>QueueGUI proxy for worker process communication.</p> <div class="doc doc-children"> <h3 id=goliat.gui.queue_gui-classes>Classes<a href=#goliat.gui.queue_gui-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.queue_gui.QueueGUI class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">QueueGUI</span> <a href=#goliat.gui.queue_gui.QueueGUI class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>QueueGUI</span><span class=p>(</span><span class=n>queue</span><span class=p>:</span> <span class=n>Queue</span><span class=p>,</span> <span class=n>stop_event</span><span class=p>:</span> <span class=n>Event</span><span class=p>,</span> <span class=n>profiler</span><span class=p>:</span> <span class=n>Profiler</span><span class=p>,</span> <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="<code>goliat.logging_manager.LoggingMixin</code>" href=#goliat.logging_manager.LoggingMixin>LoggingMixin</a></code></p> <p>Proxy for ProgressGUI that operates in a separate process.</p> <p>Mimics the ProgressGUI interface but routes all calls through a multiprocessing queue, enabling thread-safe communication between worker and <abbr title="Graphical User Interface">GUI</abbr> processes. All methods serialize their arguments and send them via queue for the <abbr title="Graphical User Interface">GUI</abbr> process to handle.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>queue</code> </td> <td> <code><span title=multiprocessing.Queue>Queue</span></code> </td> <td> <div class=doc-md-description> <p>Multiprocessing queue for IPC.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>stop_event</code> </td> <td> <code><span title=multiprocessing.synchronize.Event>Event</span></code> </td> <td> <div class=doc-md-description> <p>Event flagging user cancellation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>profiler</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.profiler.Profiler</code>" href=#goliat.profiler.Profiler>Profiler</a></code> </td> <td> <div class=doc-md-description> <p>Profiler for <abbr title="Estimated Time of Arrival">ETA</abbr> calculations.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>progress_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for progress-level messages.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>verbose_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for detailed messages.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=n>queue</span><span class=p>:</span> <span class=n>Queue</span><span class=p>,</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>    <span class=n>stop_event</span><span class=p>:</span> <span class=n>Event</span><span class=p>,</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=n>profiler</span><span class=p>:</span> <span class=s2>&quot;Profiler&quot;</span><span class=p>,</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>,</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the queue GUI proxy.</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a><span class=sd>    Args:</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a><span class=sd>        queue: Multiprocessing queue for IPC.</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=sd>        stop_event: Event flagging user cancellation.</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=sd>        profiler: Profiler for ETA calculations.</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=sd>        progress_logger: Logger for progress-level messages.</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>        verbose_logger: Logger for detailed messages.</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue</span><span class=p>:</span> <span class=n>Queue</span> <span class=o>=</span> <span class=n>queue</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=bp>self</span><span class=o>.</span><span class=n>stop_event</span><span class=p>:</span> <span class=n>Event</span> <span class=o>=</span> <span class=n>stop_event</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=p>:</span> <span class=s2>&quot;Profiler&quot;</span> <span class=o>=</span> <span class=n>profiler</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_logger</span><span class=p>:</span> <span class=n>Logger</span> <span class=o>=</span> <span class=n>progress_logger</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span> <span class=o>=</span> <span class=n>verbose_logger</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.queue_gui.QueueGUI-functions>Functions<a href=#goliat.gui.queue_gui.QueueGUI-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.queue_gui.QueueGUI.log class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">log</span> <a href=#goliat.gui.queue_gui.QueueGUI.log class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>log</span><span class=p>(</span><span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>level</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;verbose&#39;</span><span class=p>,</span> <span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;default&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sends a log message to the <abbr title="Graphical User Interface">GUI</abbr> via queue.</p> <p>Only 'progress' level messages are forwarded to reduce queue traffic.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Log message text.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>level</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Log level (only 'progress' forwarded).</p> </div> </td> <td> <code>&#39;verbose&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>log_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Type for color coding in <abbr title="Graphical User Interface">GUI</abbr>.</p> </div> </td> <td> <code>&#39;default&#39;</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=k>def</span><span class=w> </span><span class=nf>log</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>level</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;verbose&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;default&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sends a log message to the GUI via queue.</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a><span class=sd>    Only &#39;progress&#39; level messages are forwarded to reduce queue traffic.</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a><span class=sd>    Args:</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=sd>        message: Log message text.</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a><span class=sd>        level: Log level (only &#39;progress&#39; forwarded).</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a><span class=sd>        log_type: Type for color coding in GUI.</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=k>if</span> <span class=n>level</span> <span class=o>==</span> <span class=s2>&quot;progress&quot;</span><span class=p>:</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>        <span class=bp>self</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>({</span><span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;status&quot;</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=n>message</span><span class=p>,</span> <span class=s2>&quot;log_type&quot;</span><span class=p>:</span> <span class=n>log_type</span><span class=p>})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.queue_gui.QueueGUI.update_simulation_details class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_simulation_details</span> <a href=#goliat.gui.queue_gui.QueueGUI.update_simulation_details class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_simulation_details</span><span class=p>(</span><span class=n>sim_count</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>total_sims</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>details</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sends current simulation case details to <abbr title="Graphical User Interface">GUI</abbr>.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>sim_count</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Current simulation number (1-indexed).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>total_sims</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Total simulations in study.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>details</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Human-readable description of current case.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=k>def</span><span class=w> </span><span class=nf>update_simulation_details</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sim_count</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>total_sims</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>details</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sends current simulation case details to GUI.</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a><span class=sd>    Args:</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a><span class=sd>        sim_count: Current simulation number (1-indexed).</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a><span class=sd>        total_sims: Total simulations in study.</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a><span class=sd>        details: Human-readable description of current case.</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>        <span class=p>{</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>            <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;sim_details&quot;</span><span class=p>,</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>            <span class=s2>&quot;count&quot;</span><span class=p>:</span> <span class=n>sim_count</span><span class=p>,</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>            <span class=s2>&quot;total&quot;</span><span class=p>:</span> <span class=n>total_sims</span><span class=p>,</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>            <span class=s2>&quot;details&quot;</span><span class=p>:</span> <span class=n>details</span><span class=p>,</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>        <span class=p>}</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.queue_gui.QueueGUI.update_overall_progress class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_overall_progress</span> <a href=#goliat.gui.queue_gui.QueueGUI.update_overall_progress class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_overall_progress</span><span class=p>(</span><span class=n>current_step</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>total_steps</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates overall study progress bar.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>current_step</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Current step number or percentage (0-100).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>total_steps</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Total steps in study.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=k>def</span><span class=w> </span><span class=nf>update_overall_progress</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>current_step</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>total_steps</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates overall study progress bar.</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>    Args:</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a><span class=sd>        current_step: Current step number or percentage (0-100).</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=sd>        total_steps: Total steps in study.</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>({</span><span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;overall_progress&quot;</span><span class=p>,</span> <span class=s2>&quot;current&quot;</span><span class=p>:</span> <span class=n>current_step</span><span class=p>,</span> <span class=s2>&quot;total&quot;</span><span class=p>:</span> <span class=n>total_steps</span><span class=p>})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.queue_gui.QueueGUI.update_stage_progress class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_stage_progress</span> <a href=#goliat.gui.queue_gui.QueueGUI.update_stage_progress class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_stage_progress</span><span class=p>(</span><span class=n>stage_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>current_step</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>total_steps</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>sub_stage</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates progress for a specific stage (setup/run/extract).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>stage_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Stage name like 'Setup' or 'Running Simulation'.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>current_step</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Current step within stage.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>total_steps</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Total steps for stage.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>sub_stage</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Optional sub-stage description.</p> </div> </td> <td> <code>&#39;&#39;</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a><span class=k>def</span><span class=w> </span><span class=nf>update_stage_progress</span><span class=p>(</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>stage_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>current_step</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>total_steps</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>sub_stage</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates progress for a specific stage (setup/run/extract).</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=sd>    Args:</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a><span class=sd>        stage_name: Stage name like &#39;Setup&#39; or &#39;Running Simulation&#39;.</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a><span class=sd>        current_step: Current step within stage.</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a><span class=sd>        total_steps: Total steps for stage.</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a><span class=sd>        sub_stage: Optional sub-stage description.</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>(</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>        <span class=p>{</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>            <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;stage_progress&quot;</span><span class=p>,</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>            <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>stage_name</span><span class=p>,</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>            <span class=s2>&quot;current&quot;</span><span class=p>:</span> <span class=n>current_step</span><span class=p>,</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>            <span class=s2>&quot;total&quot;</span><span class=p>:</span> <span class=n>total_steps</span><span class=p>,</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>            <span class=s2>&quot;sub_stage&quot;</span><span class=p>:</span> <span class=n>sub_stage</span><span class=p>,</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>        <span class=p>}</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.queue_gui.QueueGUI.start_stage_animation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">start_stage_animation</span> <a href=#goliat.gui.queue_gui.QueueGUI.start_stage_animation class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>start_stage_animation</span><span class=p>(</span><span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>end_value</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Starts animated progress bar for a stage.</p> <p>Looks up time estimate from profiler and starts animation that progresses toward end_value over that duration.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>task_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Task name ('setup', 'run', 'extract', or subtask name).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>end_value</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Target progress value (typically 100).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a><span class=k>def</span><span class=w> </span><span class=nf>start_stage_animation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>task_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>end_value</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Starts animated progress bar for a stage.</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a><span class=sd>    Looks up time estimate from profiler and starts animation that</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a><span class=sd>    progresses toward end_value over that duration.</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a><span class=sd>    Args:</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a><span class=sd>        task_name: Task name (&#39;setup&#39;, &#39;run&#39;, &#39;extract&#39;, or subtask name).</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a><span class=sd>        end_value: Target progress value (typically 100).</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>    <span class=k>if</span> <span class=n>task_name</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;setup&quot;</span><span class=p>,</span> <span class=s2>&quot;run&quot;</span><span class=p>,</span> <span class=s2>&quot;extract&quot;</span><span class=p>]:</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>        <span class=n>estimate</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>task_name</span><span class=si>}</span><span class=s2>_time&quot;</span><span class=p>,</span> <span class=mi>60</span><span class=p>)</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>        <span class=n>estimate</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>get_subtask_estimate</span><span class=p>(</span><span class=n>task_name</span><span class=p>)</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>({</span><span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;start_animation&quot;</span><span class=p>,</span> <span class=s2>&quot;estimate&quot;</span><span class=p>:</span> <span class=n>estimate</span><span class=p>,</span> <span class=s2>&quot;end_value&quot;</span><span class=p>:</span> <span class=n>end_value</span><span class=p>})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.queue_gui.QueueGUI.end_stage_animation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">end_stage_animation</span> <a href=#goliat.gui.queue_gui.QueueGUI.end_stage_animation class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>end_stage_animation</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Stops the current animated progress bar.</p> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a><span class=k>def</span><span class=w> </span><span class=nf>end_stage_animation</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Stops the current animated progress bar.&quot;&quot;&quot;</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>({</span><span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;end_animation&quot;</span><span class=p>})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.queue_gui.QueueGUI.update_profiler class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_profiler</span> <a href=#goliat.gui.queue_gui.QueueGUI.update_profiler class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_profiler</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Sends profiler state to <abbr title="Graphical User Interface">GUI</abbr> for <abbr title="Estimated Time of Arrival">ETA</abbr> display.</p> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a><span class=k>def</span><span class=w> </span><span class=nf>update_profiler</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sends profiler state to GUI for ETA display.&quot;&quot;&quot;</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>    <span class=bp>self</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>put</span><span class=p>({</span><span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;profiler_update&quot;</span><span class=p>,</span> <span class=s2>&quot;profiler&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiler</span><span class=p>})</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.queue_gui.QueueGUI.process_events class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">process_events</span> <a href=#goliat.gui.queue_gui.QueueGUI.process_events class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>process_events</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>No-op for interface compatibility with ProgressGUI.</p> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a><span class=k>def</span><span class=w> </span><span class=nf>process_events</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;No-op for interface compatibility with ProgressGUI.&quot;&quot;&quot;</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>    <span class=k>pass</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.queue_gui.QueueGUI.is_stopped class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">is_stopped</span> <a href=#goliat.gui.queue_gui.QueueGUI.is_stopped class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>is_stopped</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Checks if user requested cancellation via <abbr title="Graphical User Interface">GUI</abbr>.</p> <details class=quote> <summary>Source code in <code>goliat/gui/queue_gui.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a><span class=k>def</span><span class=w> </span><span class=nf>is_stopped</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Checks if user requested cancellation via GUI.&quot;&quot;&quot;</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>stop_event</span><span class=o>.</span><span class=n>is_set</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><h3 id=gui-components_1><abbr title="Graphical User Interface">GUI</abbr> Components<a class=headerlink href=#gui-components_1 title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.components.data_manager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.components.data_manager</span> <a href=#goliat.gui.components.data_manager class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Data management for <abbr title="Graphical User Interface">GUI</abbr>: <abbr title="Comma-Separated Values">CSV</abbr> file handling and cleanup.</p> <div class="doc doc-children"> <h3 id=goliat.gui.components.data_manager-classes>Classes<a href=#goliat.gui.components.data_manager-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.data_manager.DataManager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">DataManager</span> <a href=#goliat.gui.components.data_manager.DataManager class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>DataManager</span><span class=p>(</span><span class=n>data_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages <abbr title="Comma-Separated Values">CSV</abbr> data files for time remaining and overall progress tracking.</p> <p>Writes timestamped data points to <abbr title="Comma-Separated Values">CSV</abbr> files for plotting and analysis. Automatically cleans up old files (keeps last 50) to prevent disk bloat. Creates unique session files using timestamp and process hash.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data_dir</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Directory where data files will be stored.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>verbose_logger</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger for verbose messages.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/data_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data_dir</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up data manager with session-specific CSV files.</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=sd>    Args:</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=sd>        data_dir: Directory where data files will be stored.</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>        verbose_logger: Logger for verbose messages.</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data_dir</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>data_dir</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=p>:</span> <span class=n>Logger</span> <span class=o>=</span> <span class=n>verbose_logger</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=bp>self</span><span class=o>.</span><span class=n>session_hash</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>hashlib</span><span class=o>.</span><span class=n>md5</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>getpid</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>encode</span><span class=p>())</span><span class=o>.</span><span class=n>hexdigest</span><span class=p>()[:</span><span class=mi>8</span><span class=p>]</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=n>session_timestamp</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;</span><span class=si>%d</span><span class=s2>-%m_%H-%M-%S&quot;</span><span class=p>)</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=c1># Cleanup old CSV files before creating new ones</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_cleanup_old_data_files</span><span class=p>()</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=bp>self</span><span class=o>.</span><span class=n>time_remaining_file</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>        <span class=bp>self</span><span class=o>.</span><span class=n>data_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;time_remaining_</span><span class=si>{</span><span class=n>session_timestamp</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>session_hash</span><span class=si>}</span><span class=s2>.csv&quot;</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=p>)</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=bp>self</span><span class=o>.</span><span class=n>overall_progress_file</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>        <span class=bp>self</span><span class=o>.</span><span class=n>data_dir</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&quot;overall_progress_</span><span class=si>{</span><span class=n>session_timestamp</span><span class=si>}</span><span class=s2>_</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>session_hash</span><span class=si>}</span><span class=s2>.csv&quot;</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=p>)</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=c1># Initialize data files</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_initialize_files</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.components.data_manager.DataManager-functions>Functions<a href=#goliat.gui.components.data_manager.DataManager-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.data_manager.DataManager.write_time_remaining class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">write_time_remaining</span> <a href=#goliat.gui.components.data_manager.DataManager.write_time_remaining class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>write_time_remaining</span><span class=p>(</span><span class=n>hours_remaining</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Appends a time remaining data point to <abbr title="Comma-Separated Values">CSV</abbr>.</p> <p>Writes timestamp and hours remaining to session-specific <abbr title="Comma-Separated Values">CSV</abbr> file. Used for plotting <abbr title="Estimated Time of Arrival">ETA</abbr> trends over time.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>hours_remaining</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Estimated hours remaining as float.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/data_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=k>def</span><span class=w> </span><span class=nf>write_time_remaining</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>hours_remaining</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Appends a time remaining data point to CSV.</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a><span class=sd>    Writes timestamp and hours remaining to session-specific CSV file.</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=sd>    Used for plotting ETA trends over time.</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=sd>    Args:</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a><span class=sd>        hours_remaining: Estimated hours remaining as float.</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>        <span class=n>current_time</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>time_remaining_file</span><span class=p>,</span> <span class=s2>&quot;a&quot;</span><span class=p>,</span> <span class=n>newline</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>            <span class=n>writer</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>writer</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>            <span class=n>writer</span><span class=o>.</span><span class=n>writerow</span><span class=p>([</span><span class=n>current_time</span><span class=o>.</span><span class=n>isoformat</span><span class=p>(),</span> <span class=n>hours_remaining</span><span class=p>])</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Failed to write time remaining data: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.data_manager.DataManager.write_overall_progress class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">write_overall_progress</span> <a href=#goliat.gui.components.data_manager.DataManager.write_overall_progress class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>write_overall_progress</span><span class=p>(</span><span class=n>progress_percent</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Appends an overall progress data point to <abbr title="Comma-Separated Values">CSV</abbr>.</p> <p>Writes timestamp and progress percentage to session-specific <abbr title="Comma-Separated Values">CSV</abbr> file. Used for plotting progress trends over time.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>progress_percent</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Overall progress percentage (0-100).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/data_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span>
<span class=normal><a href=#__codelineno-0-85>85</a></span>
<span class=normal><a href=#__codelineno-0-86>86</a></span>
<span class=normal><a href=#__codelineno-0-87>87</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=k>def</span><span class=w> </span><span class=nf>write_overall_progress</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>progress_percent</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Appends an overall progress data point to CSV.</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a><span class=sd>    Writes timestamp and progress percentage to session-specific CSV file.</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=sd>    Used for plotting progress trends over time.</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=sd>    Args:</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>        progress_percent: Overall progress percentage (0-100).</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>        <span class=n>current_time</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>overall_progress_file</span><span class=p>,</span> <span class=s2>&quot;a&quot;</span><span class=p>,</span> <span class=n>newline</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>            <span class=n>writer</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>writer</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>            <span class=n>writer</span><span class=o>.</span><span class=n>writerow</span><span class=p>([</span><span class=n>current_time</span><span class=o>.</span><span class=n>isoformat</span><span class=p>(),</span> <span class=n>progress_percent</span><span class=p>])</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>        <span class=bp>self</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Failed to write overall progress data: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.components.plots class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.components.plots</span> <a href=#goliat.gui.components.plots class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Plotting components for <abbr title="Graphical User Interface">GUI</abbr>: time remaining, overall progress, and pie charts.</p> <div class="doc doc-children"> <h3 id=goliat.gui.components.plots-classes>Classes<a href=#goliat.gui.components.plots-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.plots.TimeRemainingPlot class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">TimeRemainingPlot</span> <a href=#goliat.gui.components.plots.TimeRemainingPlot class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>TimeRemainingPlot</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages time remaining plot with real-time updates.</p> <p>Creates a matplotlib line plot showing <abbr title="Estimated Time of Arrival">ETA</abbr> trends over time. Updates dynamically as new data points arrive, maintaining dark theme styling consistent with <abbr title="Graphical User Interface">GUI</abbr>. Tracks maximum time seen to set appropriate Y-axis limits.</p> <details class=quote> <summary>Source code in <code>goliat/gui/components/plots.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up matplotlib figure and axes with dark theme.&quot;&quot;&quot;</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>    <span class=k>if</span> <span class=n>Figure</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>FigureCanvas</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>        <span class=k>raise</span> <span class=ne>ImportError</span><span class=p>(</span><span class=s2>&quot;matplotlib is required for plotting&quot;</span><span class=p>)</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=kn>from</span><span class=w> </span><span class=nn>matplotlib.figure</span><span class=w> </span><span class=kn>import</span> <span class=n>Figure</span> <span class=k>as</span> <span class=n>_Figure</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=kn>from</span><span class=w> </span><span class=nn>matplotlib.backends.backend_qtagg</span><span class=w> </span><span class=kn>import</span> <span class=n>FigureCanvasQTAgg</span> <span class=k>as</span> <span class=n>_FigureCanvas</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=kn>from</span><span class=w> </span><span class=nn>matplotlib.axes</span><span class=w> </span><span class=kn>import</span> <span class=n>Axes</span> <span class=k>as</span> <span class=n>_Axes</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=p>:</span> <span class=n>_Figure</span> <span class=o>=</span> <span class=n>_Figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>6</span><span class=p>),</span> <span class=n>facecolor</span><span class=o>=</span><span class=s2>&quot;#2b2b2b&quot;</span><span class=p>)</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>canvas</span><span class=p>:</span> <span class=n>_FigureCanvas</span> <span class=o>=</span> <span class=n>_FigureCanvas</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=p>)</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>ax</span><span class=p>:</span> <span class=n>_Axes</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=mi>111</span><span class=p>)</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Tuple</span><span class=p>[</span><span class=n>datetime</span><span class=p>,</span> <span class=nb>float</span><span class=p>]]</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=bp>self</span><span class=o>.</span><span class=n>max_time_remaining_seen</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_setup</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.components.plots.TimeRemainingPlot-functions>Functions<a href=#goliat.gui.components.plots.TimeRemainingPlot-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.plots.TimeRemainingPlot.add_data_point class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">add_data_point</span> <a href=#goliat.gui.components.plots.TimeRemainingPlot.add_data_point class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>add_data_point</span><span class=p>(</span><span class=n>timestamp</span><span class=p>:</span> <span class=n>datetime</span><span class=p>,</span> <span class=n>hours_remaining</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Adds data point and refreshes plot.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>timestamp</code> </td> <td> <code><span title=datetime.datetime>datetime</span></code> </td> <td> <div class=doc-md-description> <p>Timestamp for the data point.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>hours_remaining</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Hours remaining as float.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/plots.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a><span class=k>def</span><span class=w> </span><span class=nf>add_data_point</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>timestamp</span><span class=p>:</span> <span class=n>datetime</span><span class=p>,</span> <span class=n>hours_remaining</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds data point and refreshes plot.</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=sd>    Args:</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=sd>        timestamp: Timestamp for the data point.</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>        hours_remaining: Hours remaining as float.</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>    <span class=k>if</span> <span class=n>hours_remaining</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_time_remaining_seen</span><span class=p>:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>        <span class=bp>self</span><span class=o>.</span><span class=n>max_time_remaining_seen</span> <span class=o>=</span> <span class=n>hours_remaining</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>timestamp</span><span class=p>,</span> <span class=n>hours_remaining</span><span class=p>))</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_refresh</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.plots.OverallProgressPlot class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">OverallProgressPlot</span> <a href=#goliat.gui.components.plots.OverallProgressPlot class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>OverallProgressPlot</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages overall progress plot with real-time updates.</p> <p>Creates a matplotlib line plot showing progress percentage trends over time. Updates dynamically as new data points arrive. Uses green color scheme to distinguish from time remaining plot. Y-axis fixed at 0-100%.</p> <details class=quote> <summary>Source code in <code>goliat/gui/components/plots.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up matplotlib figure and axes with dark theme.&quot;&quot;&quot;</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>    <span class=k>if</span> <span class=n>Figure</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>FigureCanvas</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>        <span class=k>raise</span> <span class=ne>ImportError</span><span class=p>(</span><span class=s2>&quot;matplotlib is required for plotting&quot;</span><span class=p>)</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>    <span class=kn>from</span><span class=w> </span><span class=nn>matplotlib.figure</span><span class=w> </span><span class=kn>import</span> <span class=n>Figure</span> <span class=k>as</span> <span class=n>_Figure</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>    <span class=kn>from</span><span class=w> </span><span class=nn>matplotlib.backends.backend_qtagg</span><span class=w> </span><span class=kn>import</span> <span class=n>FigureCanvasQTAgg</span> <span class=k>as</span> <span class=n>_FigureCanvas</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>    <span class=kn>from</span><span class=w> </span><span class=nn>matplotlib.axes</span><span class=w> </span><span class=kn>import</span> <span class=n>Axes</span> <span class=k>as</span> <span class=n>_Axes</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>    <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=p>:</span> <span class=n>_Figure</span> <span class=o>=</span> <span class=n>_Figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>6</span><span class=p>),</span> <span class=n>facecolor</span><span class=o>=</span><span class=s2>&quot;#2b2b2b&quot;</span><span class=p>)</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>    <span class=bp>self</span><span class=o>.</span><span class=n>canvas</span><span class=p>:</span> <span class=n>_FigureCanvas</span> <span class=o>=</span> <span class=n>_FigureCanvas</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=p>)</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>    <span class=bp>self</span><span class=o>.</span><span class=n>ax</span><span class=p>:</span> <span class=n>_Axes</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=mi>111</span><span class=p>)</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Tuple</span><span class=p>[</span><span class=n>datetime</span><span class=p>,</span> <span class=nb>float</span><span class=p>]]</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>    <span class=bp>self</span><span class=o>.</span><span class=n>max_progress_seen</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_setup</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.components.plots.OverallProgressPlot-functions>Functions<a href=#goliat.gui.components.plots.OverallProgressPlot-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.plots.OverallProgressPlot.add_data_point class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">add_data_point</span> <a href=#goliat.gui.components.plots.OverallProgressPlot.add_data_point class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>add_data_point</span><span class=p>(</span><span class=n>timestamp</span><span class=p>:</span> <span class=n>datetime</span><span class=p>,</span> <span class=n>progress_percent</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Adds data point and refreshes plot.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>timestamp</code> </td> <td> <code><span title=datetime.datetime>datetime</span></code> </td> <td> <div class=doc-md-description> <p>Timestamp for the data point.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>progress_percent</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Progress percentage as float.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/plots.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a><span class=k>def</span><span class=w> </span><span class=nf>add_data_point</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>timestamp</span><span class=p>:</span> <span class=n>datetime</span><span class=p>,</span> <span class=n>progress_percent</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds data point and refreshes plot.</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a><span class=sd>    Args:</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a><span class=sd>        timestamp: Timestamp for the data point.</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a><span class=sd>        progress_percent: Progress percentage as float.</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>    <span class=k>if</span> <span class=n>progress_percent</span> <span class=o>&gt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>max_progress_seen</span><span class=p>:</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>        <span class=bp>self</span><span class=o>.</span><span class=n>max_progress_seen</span> <span class=o>=</span> <span class=n>progress_percent</span>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>timestamp</span><span class=p>,</span> <span class=n>progress_percent</span><span class=p>))</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_refresh</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.plots.PieChartsManager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">PieChartsManager</span> <a href=#goliat.gui.components.plots.PieChartsManager class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>PieChartsManager</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages four pie charts displaying timing breakdowns by phase and subtask.</p> <p>Shows visual breakdown of execution time: - Top-left: Phase weights (setup/run/extract relative durations) - Top-right: Setup subtasks breakdown - Bottom-left: Run subtasks breakdown - Bottom-right: Extract subtasks breakdown</p> <p>Updates automatically when profiler state changes. Filters out fake aggregated entries. Uses color palette for visual distinction.</p> <details class=quote> <summary>Source code in <code>goliat/gui/components/plots.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up matplotlib figure with 2x2 subplot grid.&quot;&quot;&quot;</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a>    <span class=k>if</span> <span class=n>Figure</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>FigureCanvas</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a>        <span class=k>raise</span> <span class=ne>ImportError</span><span class=p>(</span><span class=s2>&quot;matplotlib is required for plotting&quot;</span><span class=p>)</span>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a>    <span class=kn>from</span><span class=w> </span><span class=nn>matplotlib.figure</span><span class=w> </span><span class=kn>import</span> <span class=n>Figure</span> <span class=k>as</span> <span class=n>_Figure</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a>    <span class=kn>from</span><span class=w> </span><span class=nn>matplotlib.backends.backend_qtagg</span><span class=w> </span><span class=kn>import</span> <span class=n>FigureCanvasQTAgg</span> <span class=k>as</span> <span class=n>_FigureCanvas</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a>    <span class=kn>from</span><span class=w> </span><span class=nn>matplotlib.axes</span><span class=w> </span><span class=kn>import</span> <span class=n>Axes</span> <span class=k>as</span> <span class=n>_Axes</span>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a>    <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=p>:</span> <span class=n>_Figure</span> <span class=o>=</span> <span class=n>_Figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span> <span class=n>facecolor</span><span class=o>=</span><span class=s2>&quot;#2b2b2b&quot;</span><span class=p>)</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a>    <span class=bp>self</span><span class=o>.</span><span class=n>canvas</span><span class=p>:</span> <span class=n>_FigureCanvas</span> <span class=o>=</span> <span class=n>_FigureCanvas</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=p>)</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a>    <span class=bp>self</span><span class=o>.</span><span class=n>axes</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>_Axes</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a>        <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=mi>221</span><span class=p>),</span>  <span class=c1># Top-left: Phase weights</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a>        <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=mi>222</span><span class=p>),</span>  <span class=c1># Top-right: Setup subtasks</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a>        <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=mi>223</span><span class=p>),</span>  <span class=c1># Bottom-left: Run subtasks</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a>        <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>add_subplot</span><span class=p>(</span><span class=mi>224</span><span class=p>),</span>  <span class=c1># Bottom-right: Extract subtasks</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a>    <span class=p>]</span>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_setup</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.components.plots.PieChartsManager-functions>Functions<a href=#goliat.gui.components.plots.PieChartsManager-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.plots.PieChartsManager.update class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update</span> <a href=#goliat.gui.components.plots.PieChartsManager.update class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update</span><span class=p>(</span><span class=n>profiler</span><span class=p>:</span> <span class=n>Profiler</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates pie charts with timing data from profiler.</p> <p>Collects phase weights and subtask timing data, filters out fake aggregated entries, and renders pie charts with percentages. Charts show relative time spent in each phase/subtask, helping identify bottlenecks.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>profiler</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.profiler.Profiler</code>" href=#goliat.profiler.Profiler>Profiler</a></code> </td> <td> <div class=doc-md-description> <p>Profiler instance containing timing data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/plots.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span>
<span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span>
<span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span>
<span class=normal><a href=#__codelineno-0-309>309</a></span>
<span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a><span class=k>def</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>profiler</span><span class=p>:</span> <span class=s2>&quot;Profiler&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates pie charts with timing data from profiler.</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a><span class=sd>    Collects phase weights and subtask timing data, filters out fake</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a><span class=sd>    aggregated entries, and renders pie charts with percentages. Charts</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a><span class=sd>    show relative time spent in each phase/subtask, helping identify</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a><span class=sd>    bottlenecks.</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a><span class=sd>    Args:</span>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a><span class=sd>        profiler: Profiler instance containing timing data.</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profiler</span><span class=p>:</span>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a>        <span class=k>return</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a>    <span class=n>colors</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;#ff6b6b&quot;</span><span class=p>,</span> <span class=s2>&quot;#4ecdc4&quot;</span><span class=p>,</span> <span class=s2>&quot;#45b7d1&quot;</span><span class=p>,</span> <span class=s2>&quot;#f9ca24&quot;</span><span class=p>,</span> <span class=s2>&quot;#6c5ce7&quot;</span><span class=p>,</span> <span class=s2>&quot;#00b894&quot;</span><span class=p>,</span> <span class=s2>&quot;#fdcb6e&quot;</span><span class=p>,</span> <span class=s2>&quot;#e17055&quot;</span><span class=p>]</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a>    <span class=c1># Chart 0 (Top-left): Phase Weights</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a>    <span class=n>ax0</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>axes</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>    <span class=n>ax0</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a>    <span class=n>ax0</span><span class=o>.</span><span class=n>set_facecolor</span><span class=p>(</span><span class=s2>&quot;#2b2b2b&quot;</span><span class=p>)</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a>    <span class=c1># Get phase weights/times</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a>    <span class=n>phase_weights</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a>    <span class=k>for</span> <span class=n>phase</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;setup&quot;</span><span class=p>,</span> <span class=s2>&quot;run&quot;</span><span class=p>,</span> <span class=s2>&quot;extract&quot;</span><span class=p>]:</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a>        <span class=n>avg_time</span> <span class=o>=</span> <span class=n>profiler</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>phase</span><span class=si>}</span><span class=s2>_time&quot;</span><span class=p>)</span>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a>        <span class=k>if</span> <span class=n>avg_time</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a>            <span class=n>phase_weights</span><span class=p>[</span><span class=n>phase</span><span class=o>.</span><span class=n>capitalize</span><span class=p>()]</span> <span class=o>=</span> <span class=n>avg_time</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a>    <span class=k>if</span> <span class=n>phase_weights</span><span class=p>:</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a>        <span class=n>labels</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>phase_weights</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a>        <span class=n>sizes</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>phase_weights</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a>        <span class=n>pie_result</span> <span class=o>=</span> <span class=n>ax0</span><span class=o>.</span><span class=n>pie</span><span class=p>(</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a>            <span class=n>sizes</span><span class=p>,</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>            <span class=n>labels</span><span class=o>=</span><span class=n>labels</span><span class=p>,</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a>            <span class=n>autopct</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%1.1f%%</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294></a>            <span class=n>startangle</span><span class=o>=</span><span class=mi>90</span><span class=p>,</span>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295></a>            <span class=n>colors</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;#ff6b6b&quot;</span><span class=p>,</span> <span class=s2>&quot;#4ecdc4&quot;</span><span class=p>,</span> <span class=s2>&quot;#45b7d1&quot;</span><span class=p>],</span>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296></a>            <span class=n>textprops</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;color&quot;</span><span class=p>:</span> <span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span> <span class=s2>&quot;fontsize&quot;</span><span class=p>:</span> <span class=mi>10</span><span class=p>},</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297></a>        <span class=p>)</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298></a>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299></a>        <span class=n>autotexts</span> <span class=o>=</span> <span class=n>pie_result</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>pie_result</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>2</span> <span class=k>else</span> <span class=p>[]</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a>        <span class=k>for</span> <span class=n>autotext</span> <span class=ow>in</span> <span class=n>autotexts</span><span class=p>:</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>            <span class=n>autotext</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=s2>&quot;#2b2b2b&quot;</span><span class=p>)</span>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>            <span class=n>autotext</span><span class=o>.</span><span class=n>set_fontweight</span><span class=p>(</span><span class=s2>&quot;bold&quot;</span><span class=p>)</span>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303></a>            <span class=n>autotext</span><span class=o>.</span><span class=n>set_fontsize</span><span class=p>(</span><span class=mi>9</span><span class=p>)</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304></a>
</span><span id=__span-0-305><a id=__codelineno-0-305 name=__codelineno-0-305></a>        <span class=n>ax0</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&quot;Phase Weights&quot;</span><span class=p>,</span> <span class=n>fontsize</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span> <span class=n>pad</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
</span><span id=__span-0-306><a id=__codelineno-0-306 name=__codelineno-0-306></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-307><a id=__codelineno-0-307 name=__codelineno-0-307></a>        <span class=n>ax0</span><span class=o>.</span><span class=n>text</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=s2>&quot;No data&quot;</span><span class=p>,</span> <span class=n>ha</span><span class=o>=</span><span class=s2>&quot;center&quot;</span><span class=p>,</span> <span class=n>va</span><span class=o>=</span><span class=s2>&quot;center&quot;</span><span class=p>,</span> <span class=n>fontsize</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span> <span class=n>transform</span><span class=o>=</span><span class=n>ax0</span><span class=o>.</span><span class=n>transAxes</span><span class=p>)</span>
</span><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308></a>        <span class=n>ax0</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=s2>&quot;Phase Weights&quot;</span><span class=p>,</span> <span class=n>fontsize</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span> <span class=n>pad</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
</span><span id=__span-0-309><a id=__codelineno-0-309 name=__codelineno-0-309></a>
</span><span id=__span-0-310><a id=__codelineno-0-310 name=__codelineno-0-310></a>    <span class=c1># Charts 1-3: Subtasks for each phase</span>
</span><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311></a>    <span class=n>phases</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;setup&quot;</span><span class=p>,</span> <span class=s2>&quot;run&quot;</span><span class=p>,</span> <span class=s2>&quot;extract&quot;</span><span class=p>]</span>
</span><span id=__span-0-312><a id=__codelineno-0-312 name=__codelineno-0-312></a>    <span class=n>phase_titles</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;Setup Subtasks&quot;</span><span class=p>,</span> <span class=s2>&quot;Run Subtasks&quot;</span><span class=p>,</span> <span class=s2>&quot;Extract Subtasks&quot;</span><span class=p>]</span>
</span><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=p>(</span><span class=n>phase</span><span class=p>,</span> <span class=n>title</span><span class=p>)</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=nb>zip</span><span class=p>(</span><span class=n>phases</span><span class=p>,</span> <span class=n>phase_titles</span><span class=p>),</span> <span class=n>start</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a>        <span class=n>ax</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>axes</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a>        <span class=n>ax</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317></a>        <span class=n>ax</span><span class=o>.</span><span class=n>set_facecolor</span><span class=p>(</span><span class=s2>&quot;#2b2b2b&quot;</span><span class=p>)</span>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318></a>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319></a>        <span class=c1># Collect subtask data for this phase</span>
</span><span id=__span-0-320><a id=__codelineno-0-320 name=__codelineno-0-320></a>        <span class=c1># Filter out fake aggregated entries</span>
</span><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a>        <span class=n>fake_entries</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;simulation&quot;</span><span class=p>,</span> <span class=s2>&quot;simulation_total&quot;</span><span class=p>,</span> <span class=s2>&quot;results_total&quot;</span><span class=p>]</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a>        <span class=n>subtask_data</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a>        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>profiler</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a>            <span class=k>if</span> <span class=n>key</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>phase</span><span class=si>}</span><span class=s2>_&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=n>key</span> <span class=o>!=</span> <span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>phase</span><span class=si>}</span><span class=s2>_time&quot;</span><span class=p>:</span>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326></a>                <span class=c1># Extract the subtask name (everything after &quot;avg_{phase}_&quot;)</span>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a>                <span class=n>subtask_key</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>phase</span><span class=si>}</span><span class=s2>_&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a>                <span class=c1># Skip fake aggregated entries</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a>                <span class=k>if</span> <span class=n>subtask_key</span> <span class=ow>in</span> <span class=n>fake_entries</span><span class=p>:</span>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a>                    <span class=k>continue</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332></a>
</span><span id=__span-0-333><a id=__codelineno-0-333 name=__codelineno-0-333></a>                <span class=n>task_name</span> <span class=o>=</span> <span class=n>subtask_key</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>,</span> <span class=s2>&quot; &quot;</span><span class=p>)</span><span class=o>.</span><span class=n>capitalize</span><span class=p>()</span>
</span><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a>                <span class=n>subtask_data</span><span class=p>[</span><span class=n>task_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a>        <span class=k>if</span> <span class=n>subtask_data</span><span class=p>:</span>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a>            <span class=n>labels</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>subtask_data</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a>            <span class=n>sizes</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>subtask_data</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a>            <span class=c1># Create pie chart</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a>            <span class=n>pie_result</span> <span class=o>=</span> <span class=n>ax</span><span class=o>.</span><span class=n>pie</span><span class=p>(</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>                <span class=n>sizes</span><span class=p>,</span>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>                <span class=n>labels</span><span class=o>=</span><span class=n>labels</span><span class=p>,</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>                <span class=n>autopct</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>%1.1f%%</span><span class=s2>&quot;</span><span class=p>,</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>                <span class=n>startangle</span><span class=o>=</span><span class=mi>90</span><span class=p>,</span>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a>                <span class=n>colors</span><span class=o>=</span><span class=n>colors</span><span class=p>[:</span> <span class=nb>len</span><span class=p>(</span><span class=n>labels</span><span class=p>)],</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a>                <span class=n>textprops</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;color&quot;</span><span class=p>:</span> <span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span> <span class=s2>&quot;fontsize&quot;</span><span class=p>:</span> <span class=mi>9</span><span class=p>},</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>            <span class=p>)</span>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a>            <span class=c1># Unpack result safely</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>            <span class=n>autotexts</span> <span class=o>=</span> <span class=n>pie_result</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>pie_result</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>2</span> <span class=k>else</span> <span class=p>[]</span>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a>            <span class=c1># Enhance text visibility</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a>            <span class=k>for</span> <span class=n>autotext</span> <span class=ow>in</span> <span class=n>autotexts</span><span class=p>:</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>                <span class=n>autotext</span><span class=o>.</span><span class=n>set_color</span><span class=p>(</span><span class=s2>&quot;#2b2b2b&quot;</span><span class=p>)</span>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a>                <span class=n>autotext</span><span class=o>.</span><span class=n>set_fontweight</span><span class=p>(</span><span class=s2>&quot;bold&quot;</span><span class=p>)</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a>                <span class=n>autotext</span><span class=o>.</span><span class=n>set_fontsize</span><span class=p>(</span><span class=mi>8</span><span class=p>)</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a>            <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=n>title</span><span class=p>,</span> <span class=n>fontsize</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span> <span class=n>pad</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a>            <span class=n>ax</span><span class=o>.</span><span class=n>text</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=s2>&quot;No data&quot;</span><span class=p>,</span> <span class=n>ha</span><span class=o>=</span><span class=s2>&quot;center&quot;</span><span class=p>,</span> <span class=n>va</span><span class=o>=</span><span class=s2>&quot;center&quot;</span><span class=p>,</span> <span class=n>fontsize</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span> <span class=n>transform</span><span class=o>=</span><span class=n>ax</span><span class=o>.</span><span class=n>transAxes</span><span class=p>)</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a>            <span class=n>ax</span><span class=o>.</span><span class=n>set_title</span><span class=p>(</span><span class=n>title</span><span class=p>,</span> <span class=n>fontsize</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span> <span class=n>pad</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a>    <span class=bp>self</span><span class=o>.</span><span class=n>figure</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>()</span>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a>    <span class=bp>self</span><span class=o>.</span><span class=n>canvas</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.components.progress_animation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.components.progress_animation</span> <a href=#goliat.gui.components.progress_animation class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Progress bar animation logic.</p> <div class="doc doc-children"> <h3 id=goliat.gui.components.progress_animation-classes>Classes<a href=#goliat.gui.components.progress_animation-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.progress_animation.ProgressAnimation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ProgressAnimation</span> <a href=#goliat.gui.components.progress_animation.ProgressAnimation class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>ProgressAnimation</span><span class=p>(</span><span class=n>progress_bar</span><span class=p>:</span> <span class=n>QProgressBar</span><span class=p>,</span> <span class=n>timer</span><span class=p>:</span> <span class=n>QTimer</span><span class=p>,</span> <span class=n>debug</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages smooth progress bar animations based on estimated durations.</p> <p>Provides linear interpolation animation for progress bars when explicit progress updates aren't available. Animates from current value to target (100%) over estimated duration, giving visual feedback during long tasks.</p> <p>Updates every 50ms via Qt timer, calculating progress ratio from elapsed time and duration. Stops automatically when target is reached or stopped explicitly.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>progress_bar</code> </td> <td> <code><span title=PySide6.QtWidgets.QProgressBar>QProgressBar</span></code> </td> <td> <div class=doc-md-description> <p>Progress bar widget to animate (0-1000 range).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>timer</code> </td> <td> <code><span title=PySide6.QtCore.QTimer>QTimer</span></code> </td> <td> <div class=doc-md-description> <p>QTimer instance for animation updates (50ms interval).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>debug</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Enable debug logging (currently unused).</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/progress_animation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>progress_bar</span><span class=p>:</span> <span class=s2>&quot;QProgressBar&quot;</span><span class=p>,</span> <span class=n>timer</span><span class=p>:</span> <span class=s2>&quot;QTimer&quot;</span><span class=p>,</span> <span class=n>debug</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the animation handler.</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=sd>    Args:</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=sd>        progress_bar: Progress bar widget to animate (0-1000 range).</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=sd>        timer: QTimer instance for animation updates (50ms interval).</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>        debug: Enable debug logging (currently unused).</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=kn>from</span><span class=w> </span><span class=nn>PySide6.QtWidgets</span><span class=w> </span><span class=kn>import</span> <span class=n>QProgressBar</span> <span class=k>as</span> <span class=n>_QProgressBar</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>    <span class=kn>from</span><span class=w> </span><span class=nn>PySide6.QtCore</span><span class=w> </span><span class=kn>import</span> <span class=n>QTimer</span> <span class=k>as</span> <span class=n>_QTimer</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_bar</span><span class=p>:</span> <span class=n>_QProgressBar</span> <span class=o>=</span> <span class=n>progress_bar</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=bp>self</span><span class=o>.</span><span class=n>timer</span><span class=p>:</span> <span class=n>_QTimer</span> <span class=o>=</span> <span class=n>timer</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=n>debug</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=bp>self</span><span class=o>.</span><span class=n>active</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=bp>self</span><span class=o>.</span><span class=n>start_time</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=o>.</span><span class=n>duration</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=bp>self</span><span class=o>.</span><span class=n>start_value</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=bp>self</span><span class=o>.</span><span class=n>end_value</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.components.progress_animation.ProgressAnimation-functions>Functions<a href=#goliat.gui.components.progress_animation.ProgressAnimation-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.progress_animation.ProgressAnimation.start class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">start</span> <a href=#goliat.gui.components.progress_animation.ProgressAnimation.start class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>start</span><span class=p>(</span><span class=n>estimated_duration</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>end_step</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Starts smooth animation for progress bar.</p> <p>Begins linear interpolation from current value to 100% over estimated duration. If already at 100%, skips animation. Starts Qt timer if not already active.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>estimated_duration</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Estimated task duration in seconds (from profiler).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>end_step</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Target step value (unused, always animates to 100%).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/progress_animation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a><span class=k>def</span><span class=w> </span><span class=nf>start</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>estimated_duration</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>end_step</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Starts smooth animation for progress bar.</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a><span class=sd>    Begins linear interpolation from current value to 100% over estimated</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=sd>    duration. If already at 100%, skips animation. Starts Qt timer if</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=sd>    not already active.</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a><span class=sd>    Args:</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=sd>        estimated_duration: Estimated task duration in seconds (from profiler).</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=sd>        end_step: Target step value (unused, always animates to 100%).</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>:</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;start_animation received: duration=</span><span class=si>{</span><span class=n>estimated_duration</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>s, end_step=</span><span class=si>{</span><span class=n>end_step</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=bp>self</span><span class=o>.</span><span class=n>start_time</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>    <span class=bp>self</span><span class=o>.</span><span class=n>duration</span> <span class=o>=</span> <span class=n>estimated_duration</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>    <span class=bp>self</span><span class=o>.</span><span class=n>start_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>progress_bar</span><span class=o>.</span><span class=n>value</span><span class=p>()</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=bp>self</span><span class=o>.</span><span class=n>end_value</span> <span class=o>=</span> <span class=mi>1000</span>  <span class=c1># Progress bar range is 0-1000</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>start_value</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>end_value</span><span class=p>:</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>:</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Animation skipped, start_value &gt;= end_value.&quot;</span><span class=p>)</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>        <span class=k>return</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=bp>self</span><span class=o>.</span><span class=n>active</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>timer</span><span class=o>.</span><span class=n>isActive</span><span class=p>():</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>        <span class=bp>self</span><span class=o>.</span><span class=n>timer</span><span class=o>.</span><span class=n>start</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>:</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;Animation started.&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.progress_animation.ProgressAnimation.stop class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">stop</span> <a href=#goliat.gui.components.progress_animation.ProgressAnimation.stop class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>stop</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Stops the progress bar animation.</p> <details class=quote> <summary>Source code in <code>goliat/gui/components/progress_animation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span>
<span class=normal><a href=#__codelineno-0-85>85</a></span>
<span class=normal><a href=#__codelineno-0-86>86</a></span>
<span class=normal><a href=#__codelineno-0-87>87</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=k>def</span><span class=w> </span><span class=nf>stop</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Stops the progress bar animation.&quot;&quot;&quot;</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>active</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>debug</span><span class=p>:</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span><span class=p>(</span><span class=s2>&quot;end_animation called.&quot;</span><span class=p>)</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>    <span class=bp>self</span><span class=o>.</span><span class=n>active</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>timer</span><span class=o>.</span><span class=n>isActive</span><span class=p>():</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>        <span class=bp>self</span><span class=o>.</span><span class=n>timer</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.progress_animation.ProgressAnimation.update class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update</span> <a href=#goliat.gui.components.progress_animation.ProgressAnimation.update class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Updates progress bar animation frame by frame.</p> <p>Calculates current progress ratio based on elapsed time and duration, then interpolates between start and end values. Updates progress bar value and format string. Called every 50ms by Qt timer when active.</p> <details class=quote> <summary>Source code in <code>goliat/gui/components/progress_animation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a><span class=k>def</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates progress bar animation frame by frame.</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a><span class=sd>    Calculates current progress ratio based on elapsed time and duration,</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a><span class=sd>    then interpolates between start and end values. Updates progress bar</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a><span class=sd>    value and format string. Called every 50ms by Qt timer when active.</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>active</span><span class=p>:</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>        <span class=k>return</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>    <span class=n>elapsed</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>monotonic</span><span class=p>()</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>start_time</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>duration</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>        <span class=n>progress_ratio</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>elapsed</span> <span class=o>/</span> <span class=bp>self</span><span class=o>.</span><span class=n>duration</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>)</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=n>progress_ratio</span> <span class=o>=</span> <span class=mf>1.0</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>    <span class=n>value_range</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>end_value</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>start_value</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>    <span class=n>current_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>start_value</span> <span class=o>+</span> <span class=nb>int</span><span class=p>(</span><span class=n>value_range</span> <span class=o>*</span> <span class=n>progress_ratio</span><span class=p>)</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>    <span class=n>current_value</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>current_value</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>end_value</span><span class=p>)</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_bar</span><span class=o>.</span><span class=n>setValue</span><span class=p>(</span><span class=n>current_value</span><span class=p>)</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>    <span class=n>percent</span> <span class=o>=</span> <span class=p>(</span><span class=n>current_value</span> <span class=o>/</span> <span class=mi>1000</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=bp>self</span><span class=o>.</span><span class=n>progress_bar</span><span class=o>.</span><span class=n>setFormat</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>percent</span><span class=si>:</span><span class=s2>.0f</span><span class=si>}</span><span class=s2>%&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.components.queue_handler class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.components.queue_handler</span> <a href=#goliat.gui.components.queue_handler class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Queue message handler for processing messages from worker process.</p> <div class="doc doc-children"> <h3 id=goliat.gui.components.queue_handler-classes>Classes<a href=#goliat.gui.components.queue_handler-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.queue_handler.QueueHandler class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">QueueHandler</span> <a href=#goliat.gui.components.queue_handler.QueueHandler class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>QueueHandler</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>:</span> <span class=n>ProgressGUI</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Handles processing of messages from the worker process queue.</p> <p>Polls the multiprocessing queue and dispatches messages to appropriate <abbr title="Graphical User Interface">GUI</abbr> update methods. This decouples message handling from queue polling, making the code cleaner and easier to test.</p> <p>Message types: - 'status': Log message with color coding - 'overall_progress': Update overall progress bar - 'stage_progress': Update stage progress bar - 'start_animation': Start animated progress bar - 'end_animation': Stop animation - 'profiler_update': Update profiler state and refresh timing displays - 'sim_details': Update simulation counter and details - 'finished': Study completed successfully - 'fatal_error': Study failed with fatal error</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>gui_instance</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.gui.progress_gui.ProgressGUI</code>" href=#goliat.gui.progress_gui.ProgressGUI>ProgressGUI</a></code> </td> <td> <div class=doc-md-description> <p>ProgressGUI instance to update with messages.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/queue_handler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>gui_instance</span><span class=p>:</span> <span class=s2>&quot;ProgressGUI&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the queue handler.</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a><span class=sd>    Args:</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a><span class=sd>        gui_instance: ProgressGUI instance to update with messages.</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=p>:</span> <span class=s2>&quot;ProgressGUI&quot;</span> <span class=o>=</span> <span class=n>gui_instance</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.components.queue_handler.QueueHandler-functions>Functions<a href=#goliat.gui.components.queue_handler.QueueHandler-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.queue_handler.QueueHandler.process_queue class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">process_queue</span> <a href=#goliat.gui.components.queue_handler.QueueHandler.process_queue class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>process_queue</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Processes messages from worker process queue and updates UI accordingly.</p> <p>Polls queue non-blockingly and processes all available messages in one call. Handles different message types by calling appropriate <abbr title="Graphical User Interface">GUI</abbr> methods. Catches and logs exceptions to prevent one bad message from crashing <abbr title="Graphical User Interface">GUI</abbr>.</p> <p>This method is called every 100ms by Qt timer to keep UI responsive.</p> <details class=quote> <summary>Source code in <code>goliat/gui/components/queue_handler.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=k>def</span><span class=w> </span><span class=nf>process_queue</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Processes messages from worker process queue and updates UI accordingly.</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>    Polls queue non-blockingly and processes all available messages in one</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>    call. Handles different message types by calling appropriate GUI methods.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>    Catches and logs exceptions to prevent one bad message from crashing GUI.</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=sd>    This method is called every 100ms by Qt timer to keep UI responsive.</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=k>while</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>empty</span><span class=p>():</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>            <span class=n>msg</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>get_nowait</span><span class=p>()</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>            <span class=n>msg_type</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=n>msg</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;type&quot;</span><span class=p>)</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>            <span class=k>if</span> <span class=n>msg_type</span> <span class=o>==</span> <span class=s2>&quot;status&quot;</span><span class=p>:</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span><span class=n>msg</span><span class=p>[</span><span class=s2>&quot;message&quot;</span><span class=p>],</span> <span class=n>msg</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;log_type&quot;</span><span class=p>,</span> <span class=s2>&quot;default&quot;</span><span class=p>))</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>            <span class=k>elif</span> <span class=n>msg_type</span> <span class=o>==</span> <span class=s2>&quot;overall_progress&quot;</span><span class=p>:</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_overall_progress</span><span class=p>(</span><span class=n>msg</span><span class=p>[</span><span class=s2>&quot;current&quot;</span><span class=p>],</span> <span class=n>msg</span><span class=p>[</span><span class=s2>&quot;total&quot;</span><span class=p>])</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>            <span class=k>elif</span> <span class=n>msg_type</span> <span class=o>==</span> <span class=s2>&quot;stage_progress&quot;</span><span class=p>:</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_stage_progress</span><span class=p>(</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>                    <span class=n>msg</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>],</span> <span class=n>msg</span><span class=p>[</span><span class=s2>&quot;current&quot;</span><span class=p>],</span> <span class=n>msg</span><span class=p>[</span><span class=s2>&quot;total&quot;</span><span class=p>],</span> <span class=n>msg</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;sub_stage&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>                <span class=p>)</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>            <span class=k>elif</span> <span class=n>msg_type</span> <span class=o>==</span> <span class=s2>&quot;start_animation&quot;</span><span class=p>:</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>start_stage_animation</span><span class=p>(</span><span class=n>msg</span><span class=p>[</span><span class=s2>&quot;estimate&quot;</span><span class=p>],</span> <span class=n>msg</span><span class=p>[</span><span class=s2>&quot;end_value&quot;</span><span class=p>])</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>            <span class=k>elif</span> <span class=n>msg_type</span> <span class=o>==</span> <span class=s2>&quot;end_animation&quot;</span><span class=p>:</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>end_stage_animation</span><span class=p>()</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>            <span class=k>elif</span> <span class=n>msg_type</span> <span class=o>==</span> <span class=s2>&quot;profiler_update&quot;</span><span class=p>:</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>profiler</span> <span class=o>=</span> <span class=n>msg</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;profiler&quot;</span><span class=p>)</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>profiler</span><span class=p>:</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>profiler_phase</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>profiler</span><span class=o>.</span><span class=n>current_phase</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>timings_table</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>profiler</span><span class=p>)</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>piecharts_manager</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>profiler</span><span class=p>)</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>            <span class=k>elif</span> <span class=n>msg_type</span> <span class=o>==</span> <span class=s2>&quot;sim_details&quot;</span><span class=p>:</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_simulation_details</span><span class=p>(</span><span class=n>msg</span><span class=p>[</span><span class=s2>&quot;count&quot;</span><span class=p>],</span> <span class=n>msg</span><span class=p>[</span><span class=s2>&quot;total&quot;</span><span class=p>],</span> <span class=n>msg</span><span class=p>[</span><span class=s2>&quot;details&quot;</span><span class=p>])</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>            <span class=k>elif</span> <span class=n>msg_type</span> <span class=o>==</span> <span class=s2>&quot;finished&quot;</span><span class=p>:</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>study_finished</span><span class=p>()</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>            <span class=k>elif</span> <span class=n>msg_type</span> <span class=o>==</span> <span class=s2>&quot;fatal_error&quot;</span><span class=p>:</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>update_status</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;FATAL ERROR: </span><span class=si>{</span><span class=n>msg</span><span class=p>[</span><span class=s1>&#39;message&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>log_type</span><span class=o>=</span><span class=s2>&quot;fatal&quot;</span><span class=p>)</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>                <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>study_finished</span><span class=p>(</span><span class=n>error</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>        <span class=k>except</span> <span class=n>Empty</span><span class=p>:</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>            <span class=k>break</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>            <span class=bp>self</span><span class=o>.</span><span class=n>gui</span><span class=o>.</span><span class=n>verbose_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Error processing GUI queue: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=se>\n</span><span class=si>{</span><span class=n>traceback</span><span class=o>.</span><span class=n>format_exc</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.components.status_manager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.components.status_manager</span> <a href=#goliat.gui.components.status_manager class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Status management for <abbr title="Graphical User Interface">GUI</abbr>: colors, counting, and formatting.</p> <div class="doc doc-children"> <h3 id=goliat.gui.components.status_manager-classes>Classes<a href=#goliat.gui.components.status_manager-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.status_manager.StatusManager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">StatusManager</span> <a href=#goliat.gui.components.status_manager.StatusManager class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>StatusManager</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages status colors, counting, and message formatting for <abbr title="Graphical User Interface">GUI</abbr>.</p> <p>Handles color mapping for different log types (info, warning, error, etc.), counts warnings and errors for display in error summary, and formats messages with <abbr title="HyperText Markup Language">HTML</abbr> color styling for the QTextEdit widget.</p> <p>Note: Uses white for 'progress' messages in <abbr title="Graphical User Interface">GUI</abbr> (unlike terminal colors) because all messages shown here are progress updates. This improves readability in the dark-themed <abbr title="Graphical User Interface">GUI</abbr>.</p> <details class=quote> <summary>Source code in <code>goliat/gui/components/status_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initializes status manager with default counters and color map.&quot;&quot;&quot;</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18></a>    <span class=bp>self</span><span class=o>.</span><span class=n>warning_count</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a>    <span class=bp>self</span><span class=o>.</span><span class=n>error_count</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>    <span class=c1># Color mapping - NOTE: Intentionally using white for &quot;progress&quot; in GUI</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a>    <span class=c1># since all messages shown here are progress updates. This deviates from</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a>    <span class=c1># the terminal color scheme defined in goliat/colors.py for better readability.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>    <span class=bp>self</span><span class=o>.</span><span class=n>color_map</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a>        <span class=s2>&quot;default&quot;</span><span class=p>:</span> <span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span>  <span class=c1># WHITE</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a>        <span class=s2>&quot;progress&quot;</span><span class=p>:</span> <span class=s2>&quot;#f0f0f0&quot;</span><span class=p>,</span>  <span class=c1># WHITE (GUI-specific override)</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>        <span class=s2>&quot;info&quot;</span><span class=p>:</span> <span class=s2>&quot;#17a2b8&quot;</span><span class=p>,</span>  <span class=c1># CYAN</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>        <span class=s2>&quot;verbose&quot;</span><span class=p>:</span> <span class=s2>&quot;#007acc&quot;</span><span class=p>,</span>  <span class=c1># BLUE</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>        <span class=s2>&quot;warning&quot;</span><span class=p>:</span> <span class=s2>&quot;#ffc107&quot;</span><span class=p>,</span>  <span class=c1># YELLOW</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>        <span class=s2>&quot;error&quot;</span><span class=p>:</span> <span class=s2>&quot;#dc3545&quot;</span><span class=p>,</span>  <span class=c1># RED</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>        <span class=s2>&quot;fatal&quot;</span><span class=p>:</span> <span class=s2>&quot;#d63384&quot;</span><span class=p>,</span>  <span class=c1># MAGENTA</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>        <span class=s2>&quot;success&quot;</span><span class=p>:</span> <span class=s2>&quot;#5cb85c&quot;</span><span class=p>,</span>  <span class=c1># BRIGHT GREEN</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>        <span class=s2>&quot;header&quot;</span><span class=p>:</span> <span class=s2>&quot;#e83e8c&quot;</span><span class=p>,</span>  <span class=c1># BRIGHT MAGENTA</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>        <span class=s2>&quot;highlight&quot;</span><span class=p>:</span> <span class=s2>&quot;#ffd700&quot;</span><span class=p>,</span>  <span class=c1># BRIGHT YELLOW</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>        <span class=s2>&quot;caller&quot;</span><span class=p>:</span> <span class=s2>&quot;#6c757d&quot;</span><span class=p>,</span>  <span class=c1># DIM (gray)</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=p>}</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.components.status_manager.StatusManager-functions>Functions<a href=#goliat.gui.components.status_manager.StatusManager-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.status_manager.StatusManager.get_color class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_color</span> <a href=#goliat.gui.components.status_manager.StatusManager.get_color class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_color</span><span class=p>(</span><span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets <abbr title="HyperText Markup Language">HTML</abbr> color code for a log type.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>log_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Type of log message.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p><abbr title="HyperText Markup Language">HTML</abbr> color code (hex).</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/status_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=k>def</span><span class=w> </span><span class=nf>get_color</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets HTML color code for a log type.</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>    Args:</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>        log_type: Type of log message.</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=sd>    Returns:</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=sd>        HTML color code (hex).</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>color_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>log_type</span><span class=p>,</span> <span class=s2>&quot;#f0f0f0&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.status_manager.StatusManager.format_message class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">format_message</span> <a href=#goliat.gui.components.status_manager.StatusManager.format_message class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>format_message</span><span class=p>(</span><span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;default&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Formats message with <abbr title="HyperText Markup Language">HTML</abbr> color styling.</p> <p>Preserves leading spaces by converting them to &nbsp; entities, then wraps message in a <span> tag with appropriate color style.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Message text to format.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>log_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Log type for color selection.</p> </div> </td> <td> <code>&#39;default&#39;</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p><abbr title="HyperText Markup Language">HTML</abbr>-formatted message string ready for QTextEdit.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/status_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a><span class=k>def</span><span class=w> </span><span class=nf>format_message</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;default&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Formats message with HTML color styling.</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=sd>    Preserves leading spaces by converting them to &amp;nbsp; entities, then</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a><span class=sd>    wraps message in a &lt;span&gt; tag with appropriate color style.</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=sd>    Args:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=sd>        message: Message text to format.</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a><span class=sd>        log_type: Log type for color selection.</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=sd>    Returns:</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=sd>        HTML-formatted message string ready for QTextEdit.</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=c1># Preserve leading spaces by converting them to &amp;nbsp;</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=n>preserved_message</span> <span class=o>=</span> <span class=n>message</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;&amp;nbsp;&quot;</span><span class=p>)</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=n>color</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_color</span><span class=p>(</span><span class=n>log_type</span><span class=p>)</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;&lt;span style=&quot;color:</span><span class=si>{</span><span class=n>color</span><span class=si>}</span><span class=s1>;&quot;&gt;</span><span class=si>{</span><span class=n>preserved_message</span><span class=si>}</span><span class=s1>&lt;/span&gt;&#39;</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.status_manager.StatusManager.record_log class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">record_log</span> <a href=#goliat.gui.components.status_manager.StatusManager.record_log class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>record_log</span><span class=p>(</span><span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Records log entry and updates warning/error counters.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>log_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Type of log message.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/status_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a><span class=k>def</span><span class=w> </span><span class=nf>record_log</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>log_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Records log entry and updates warning/error counters.</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a><span class=sd>    Args:</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a><span class=sd>        log_type: Type of log message.</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=k>if</span> <span class=n>log_type</span> <span class=o>==</span> <span class=s2>&quot;warning&quot;</span><span class=p>:</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>        <span class=bp>self</span><span class=o>.</span><span class=n>warning_count</span> <span class=o>+=</span> <span class=mi>1</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=k>elif</span> <span class=n>log_type</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;error&quot;</span><span class=p>,</span> <span class=s2>&quot;fatal&quot;</span><span class=p>]:</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>        <span class=bp>self</span><span class=o>.</span><span class=n>error_count</span> <span class=o>+=</span> <span class=mi>1</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.status_manager.StatusManager.get_error_summary class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_error_summary</span> <a href=#goliat.gui.components.status_manager.StatusManager.get_error_summary class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_error_summary</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets formatted summary of warnings and errors.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Formatted string with emoji indicators and counts.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/status_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=k>def</span><span class=w> </span><span class=nf>get_error_summary</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets formatted summary of warnings and errors.</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=sd>    Returns:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=sd>        Formatted string with emoji indicators and counts.</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;⚠️ Warnings: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>warning_count</span><span class=si>}</span><span class=s2> | ❌ Errors: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>error_count</span><span class=si>}</span><span class=s2>&quot;</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.components.timings_table class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.components.timings_table</span> <a href=#goliat.gui.components.timings_table class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Timings table component for displaying profiling statistics.</p> <div class="doc doc-children"> <h3 id=goliat.gui.components.timings_table-classes>Classes<a href=#goliat.gui.components.timings_table-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.timings_table.TimingsTable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">TimingsTable</span> <a href=#goliat.gui.components.timings_table.TimingsTable class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>TimingsTable</span><span class=p>(</span><span class=n>table_widget</span><span class=p>:</span> <span class=n>QTableWidget</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages timings table displaying profiling statistics.</p> <p>Shows execution time statistics (mean, median, min, max, percentiles) for all phases and subtasks. Filters out fake aggregated entries and organizes data by phase for easy inspection. Updates automatically when profiler state changes via queue messages.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>table_widget</code> </td> <td> <code><span title=PySide6.QtWidgets.QTableWidget>QTableWidget</span></code> </td> <td> <div class=doc-md-description> <p>QTableWidget instance to populate with timing data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/timings_table.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>table_widget</span><span class=p>:</span> <span class=n>QTableWidget</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up the timings table widget.</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    Args:</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>        table_widget: QTableWidget instance to populate with timing data.</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=p>:</span> <span class=n>QTableWidget</span> <span class=o>=</span> <span class=n>table_widget</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_setup_table</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.components.timings_table.TimingsTable-functions>Functions<a href=#goliat.gui.components.timings_table.TimingsTable-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.timings_table.TimingsTable.update class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update</span> <a href=#goliat.gui.components.timings_table.TimingsTable.update class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update</span><span class=p>(</span><span class=n>profiler</span><span class=p>:</span> <span class=n>Profiler</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Populates table with timing statistics from profiler.</p> <p>Collects all phase and subtask timing data, computes statistics (mean, median, percentiles), and displays in table. Filters out fake aggregated entries that shouldn't be shown.</p> <p>Statistics computed: - Mean, median, min, max - 10<sup>th</sup>, 25<sup>th</sup>, 75<sup>th</sup>, 90<sup>th</sup> percentiles</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>profiler</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.profiler.Profiler</code>" href=#goliat.profiler.Profiler>Profiler</a></code> </td> <td> <div class=doc-md-description> <p>Profiler instance containing timing data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/timings_table.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-39> 39</a></span>
<span class=normal><a href=#__codelineno-0-40> 40</a></span>
<span class=normal><a href=#__codelineno-0-41> 41</a></span>
<span class=normal><a href=#__codelineno-0-42> 42</a></span>
<span class=normal><a href=#__codelineno-0-43> 43</a></span>
<span class=normal><a href=#__codelineno-0-44> 44</a></span>
<span class=normal><a href=#__codelineno-0-45> 45</a></span>
<span class=normal><a href=#__codelineno-0-46> 46</a></span>
<span class=normal><a href=#__codelineno-0-47> 47</a></span>
<span class=normal><a href=#__codelineno-0-48> 48</a></span>
<span class=normal><a href=#__codelineno-0-49> 49</a></span>
<span class=normal><a href=#__codelineno-0-50> 50</a></span>
<span class=normal><a href=#__codelineno-0-51> 51</a></span>
<span class=normal><a href=#__codelineno-0-52> 52</a></span>
<span class=normal><a href=#__codelineno-0-53> 53</a></span>
<span class=normal><a href=#__codelineno-0-54> 54</a></span>
<span class=normal><a href=#__codelineno-0-55> 55</a></span>
<span class=normal><a href=#__codelineno-0-56> 56</a></span>
<span class=normal><a href=#__codelineno-0-57> 57</a></span>
<span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=k>def</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>profiler</span><span class=p>:</span> <span class=s2>&quot;Profiler&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Populates table with timing statistics from profiler.</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=sd>    Collects all phase and subtask timing data, computes statistics</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>    (mean, median, percentiles), and displays in table. Filters out</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=sd>    fake aggregated entries that shouldn&#39;t be shown.</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>    Statistics computed:</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a><span class=sd>    - Mean, median, min, max</span>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a><span class=sd>    - 10th, 25th, 75th, 90th percentiles</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a><span class=sd>    Args:</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a><span class=sd>        profiler: Profiler instance containing timing data.</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profiler</span><span class=p>:</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>        <span class=k>return</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setRowCount</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>    <span class=c1># Collect all tasks with their raw timing data</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>    <span class=n>all_tasks</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=k>for</span> <span class=n>phase</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;setup&quot;</span><span class=p>,</span> <span class=s2>&quot;run&quot;</span><span class=p>,</span> <span class=s2>&quot;extract&quot;</span><span class=p>]:</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>        <span class=n>avg_time</span> <span class=o>=</span> <span class=n>profiler</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;avg_</span><span class=si>{</span><span class=n>phase</span><span class=si>}</span><span class=s2>_time&quot;</span><span class=p>)</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>        <span class=k>if</span> <span class=n>avg_time</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>            <span class=n>raw_times</span> <span class=o>=</span> <span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>phase</span><span class=p>,</span> <span class=p>[])</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>            <span class=n>all_tasks</span><span class=p>[</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>phase</span><span class=si>}</span><span class=s2>_total&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>                <span class=s2>&quot;phase&quot;</span><span class=p>:</span> <span class=n>phase</span><span class=p>,</span>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a>                <span class=s2>&quot;subtask&quot;</span><span class=p>:</span> <span class=s2>&quot;---&quot;</span><span class=p>,</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>                <span class=s2>&quot;raw_times&quot;</span><span class=p>:</span> <span class=n>raw_times</span> <span class=k>if</span> <span class=n>raw_times</span> <span class=k>else</span> <span class=p>[</span><span class=n>avg_time</span><span class=p>],</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>            <span class=p>}</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>    <span class=c1># Filter out fake aggregated entries that shouldn&#39;t be displayed</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a>    <span class=n>fake_entries</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;setup_simulation&quot;</span><span class=p>,</span> <span class=s2>&quot;run_simulation_total&quot;</span><span class=p>,</span> <span class=s2>&quot;extract_results_total&quot;</span><span class=p>]</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>profiler</span><span class=o>.</span><span class=n>profiling_config</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a>        <span class=k>if</span> <span class=n>key</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;avg_&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=s2>&quot;_time&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>key</span><span class=p>:</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a>            <span class=n>task_name</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;avg_&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>            <span class=c1># Skip fake aggregated entries</span>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a>            <span class=k>if</span> <span class=n>task_name</span> <span class=ow>in</span> <span class=n>fake_entries</span><span class=p>:</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a>                <span class=k>continue</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>            <span class=n>parts</span> <span class=o>=</span> <span class=n>task_name</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>            <span class=n>phase</span> <span class=o>=</span> <span class=n>parts</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>            <span class=n>subtask_name</span> <span class=o>=</span> <span class=n>parts</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>parts</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span> <span class=k>else</span> <span class=n>phase</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>            <span class=n>raw_times</span> <span class=o>=</span> <span class=n>profiler</span><span class=o>.</span><span class=n>subtask_times</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>task_name</span><span class=p>,</span> <span class=p>[])</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>            <span class=n>all_tasks</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a>                <span class=s2>&quot;phase&quot;</span><span class=p>:</span> <span class=n>phase</span><span class=p>,</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>                <span class=s2>&quot;subtask&quot;</span><span class=p>:</span> <span class=n>subtask_name</span><span class=p>,</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a>                <span class=s2>&quot;raw_times&quot;</span><span class=p>:</span> <span class=n>raw_times</span> <span class=k>if</span> <span class=n>raw_times</span> <span class=k>else</span> <span class=p>[</span><span class=n>value</span><span class=p>],</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a>            <span class=p>}</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=c1># Populate table with statistics</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>    <span class=k>for</span> <span class=n>task_info</span> <span class=ow>in</span> <span class=n>all_tasks</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a>        <span class=n>row_position</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>rowCount</span><span class=p>()</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>insertRow</span><span class=p>(</span><span class=n>row_position</span><span class=p>)</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>        <span class=n>times</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=n>task_info</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;raw_times&quot;</span><span class=p>,</span> <span class=p>[])</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>        <span class=k>if</span> <span class=n>times</span><span class=p>:</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>            <span class=n>times_array</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>times</span><span class=p>)</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>            <span class=n>mean_val</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>times_array</span><span class=p>))</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>            <span class=n>median_val</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>median</span><span class=p>(</span><span class=n>times_array</span><span class=p>))</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>            <span class=n>min_val</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>min</span><span class=p>(</span><span class=n>times_array</span><span class=p>))</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>            <span class=n>max_val</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>max</span><span class=p>(</span><span class=n>times_array</span><span class=p>))</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a>            <span class=n>p10</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>percentile</span><span class=p>(</span><span class=n>times_array</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>            <span class=n>p25</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>percentile</span><span class=p>(</span><span class=n>times_array</span><span class=p>,</span> <span class=mi>25</span><span class=p>))</span>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a>            <span class=n>p75</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>percentile</span><span class=p>(</span><span class=n>times_array</span><span class=p>,</span> <span class=mi>75</span><span class=p>))</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a>            <span class=n>p90</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>percentile</span><span class=p>(</span><span class=n>times_array</span><span class=p>,</span> <span class=mi>90</span><span class=p>))</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>            <span class=n>mean_val</span> <span class=o>=</span> <span class=n>median_val</span> <span class=o>=</span> <span class=n>min_val</span> <span class=o>=</span> <span class=n>max_val</span> <span class=o>=</span> <span class=n>p10</span> <span class=o>=</span> <span class=n>p25</span> <span class=o>=</span> <span class=n>p75</span> <span class=o>=</span> <span class=n>p90</span> <span class=o>=</span> <span class=mf>0.0</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>        <span class=c1># Create items and set text color to ensure visibility in both light and dark modes</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>        <span class=n>light_text_color</span> <span class=o>=</span> <span class=n>QColor</span><span class=p>(</span><span class=s2>&quot;#f0f0f0&quot;</span><span class=p>)</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>        <span class=n>items</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=n>task_info</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;phase&quot;</span><span class=p>,</span> <span class=s2>&quot;N/A&quot;</span><span class=p>)),</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=n>task_info</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;subtask&quot;</span><span class=p>,</span> <span class=s2>&quot;---&quot;</span><span class=p>)),</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>mean_val</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>median_val</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>min_val</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>max_val</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>p10</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>p25</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>p75</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a>            <span class=n>QTableWidgetItem</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>p90</span><span class=si>:</span><span class=s2>.2f</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>),</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a>        <span class=p>]</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a>        <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>items</span><span class=p>:</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>            <span class=n>item</span><span class=o>.</span><span class=n>setForeground</span><span class=p>(</span><span class=n>light_text_color</span><span class=p>)</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>4</span><span class=p>])</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>5</span><span class=p>])</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>6</span><span class=p>])</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>7</span><span class=p>])</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>8</span><span class=p>])</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>        <span class=bp>self</span><span class=o>.</span><span class=n>table</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=n>row_position</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=n>items</span><span class=p>[</span><span class=mi>9</span><span class=p>])</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.components.tray_manager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.components.tray_manager</span> <a href=#goliat.gui.components.tray_manager class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>Tray icon management component.</p> <div class="doc doc-children"> <h3 id=goliat.gui.components.tray_manager-classes>Classes<a href=#goliat.gui.components.tray_manager-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.tray_manager.TrayManager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">TrayManager</span> <a href=#goliat.gui.components.tray_manager.TrayManager class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>TrayManager</span><span class=p>(</span><span class=n>parent_widget</span><span class=p>:</span> <span class=n>QWidget</span><span class=p>,</span> <span class=n>show_callback</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[],</span> <span class=kc>None</span><span class=p>],</span> <span class=n>close_callback</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[],</span> <span class=kc>None</span><span class=p>])</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages system tray icon and menu.</p> <p>Handles system tray integration for background operation. Shows tray icon with favicon, provides context menu (Show/Exit), and handles click events to restore window. Allows users to minimize <abbr title="Graphical User Interface">GUI</abbr> to tray and continue monitoring via icon.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>parent_widget</code> </td> <td> <code><span title=PySide6.QtWidgets.QWidget>QWidget</span></code> </td> <td> <div class=doc-md-description> <p>Parent widget (ProgressGUI window).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>show_callback</code> </td> <td> <code><span title=typing.Callable>Callable</span>[[], None]</code> </td> <td> <div class=doc-md-description> <p>Function to call when restoring window.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close_callback</code> </td> <td> <code><span title=typing.Callable>Callable</span>[[], None]</code> </td> <td> <div class=doc-md-description> <p>Function to call when exiting application.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/tray_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent_widget</span><span class=p>:</span> <span class=n>QWidget</span><span class=p>,</span> <span class=n>show_callback</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[],</span> <span class=kc>None</span><span class=p>],</span> <span class=n>close_callback</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[],</span> <span class=kc>None</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets up tray icon with menu.</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a><span class=sd>    Args:</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=sd>        parent_widget: Parent widget (ProgressGUI window).</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=sd>        show_callback: Function to call when restoring window.</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>        close_callback: Function to call when exiting application.</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=p>:</span> <span class=n>QWidget</span> <span class=o>=</span> <span class=n>parent_widget</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_icon</span><span class=p>:</span> <span class=n>QSystemTrayIcon</span> <span class=o>=</span> <span class=n>QSystemTrayIcon</span><span class=p>(</span><span class=n>parent_widget</span><span class=p>)</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=c1># Set icon</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=n>icon_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>        <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)))),</span> <span class=s2>&quot;docs&quot;</span><span class=p>,</span> <span class=s2>&quot;img&quot;</span><span class=p>,</span> <span class=s2>&quot;favicon.svg&quot;</span>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=p>)</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>icon_path</span><span class=p>):</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a>        <span class=bp>self</span><span class=o>.</span><span class=n>tray_icon</span><span class=o>.</span><span class=n>setIcon</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=n>icon_path</span><span class=p>))</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>        <span class=n>style</span> <span class=o>=</span> <span class=n>parent_widget</span><span class=o>.</span><span class=n>style</span><span class=p>()</span>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a>        <span class=n>icon</span> <span class=o>=</span> <span class=n>style</span><span class=o>.</span><span class=n>standardIcon</span><span class=p>(</span><span class=n>style</span><span class=o>.</span><span class=n>StandardPixmap</span><span class=o>.</span><span class=n>SP_ComputerIcon</span><span class=p>)</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a>        <span class=bp>self</span><span class=o>.</span><span class=n>tray_icon</span><span class=o>.</span><span class=n>setIcon</span><span class=p>(</span><span class=n>icon</span><span class=p>)</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_icon</span><span class=o>.</span><span class=n>setToolTip</span><span class=p>(</span><span class=s2>&quot;Simulation is running...&quot;</span><span class=p>)</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=c1># Create menu</span>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=n>tray_menu</span> <span class=o>=</span> <span class=n>QMenu</span><span class=p>(</span><span class=n>parent_widget</span><span class=p>)</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a>    <span class=n>show_action</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=s2>&quot;Show&quot;</span><span class=p>,</span> <span class=n>parent_widget</span><span class=p>)</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a>    <span class=n>show_action</span><span class=o>.</span><span class=n>triggered</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>show_callback</span><span class=p>)</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a>    <span class=n>tray_menu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>show_action</span><span class=p>)</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=n>exit_action</span> <span class=o>=</span> <span class=n>QAction</span><span class=p>(</span><span class=s2>&quot;Exit&quot;</span><span class=p>,</span> <span class=n>parent_widget</span><span class=p>)</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=n>exit_action</span><span class=o>.</span><span class=n>triggered</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>close_callback</span><span class=p>)</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=n>tray_menu</span><span class=o>.</span><span class=n>addAction</span><span class=p>(</span><span class=n>exit_action</span><span class=p>)</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_icon</span><span class=o>.</span><span class=n>setContextMenu</span><span class=p>(</span><span class=n>tray_menu</span><span class=p>)</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_icon</span><span class=o>.</span><span class=n>activated</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=k>lambda</span> <span class=n>reason</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_tray_icon_activated</span><span class=p>(</span><span class=n>reason</span><span class=p>,</span> <span class=n>show_callback</span><span class=p>))</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h5 id=goliat.gui.components.tray_manager.TrayManager-functions>Functions<a href=#goliat.gui.components.tray_manager.TrayManager-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.tray_manager.TrayManager.show class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">show</span> <a href=#goliat.gui.components.tray_manager.TrayManager.show class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>show</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Shows the tray icon.</p> <details class=quote> <summary>Source code in <code>goliat/gui/components/tray_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=k>def</span><span class=w> </span><span class=nf>show</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Shows the tray icon.&quot;&quot;&quot;</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_icon</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.tray_manager.TrayManager.hide class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">hide</span> <a href=#goliat.gui.components.tray_manager.TrayManager.hide class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>hide</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Hides the tray icon.</p> <details class=quote> <summary>Source code in <code>goliat/gui/components/tray_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=k>def</span><span class=w> </span><span class=nf>hide</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Hides the tray icon.&quot;&quot;&quot;</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=bp>self</span><span class=o>.</span><span class=n>tray_icon</span><span class=o>.</span><span class=n>hide</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.tray_manager.TrayManager.is_visible class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">is_visible</span> <a href=#goliat.gui.components.tray_manager.TrayManager.is_visible class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>is_visible</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Checks if tray icon is visible.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>True if visible, False otherwise.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/tray_manager.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a><span class=k>def</span><span class=w> </span><span class=nf>is_visible</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Checks if tray icon is visible.</span>
</span><span id=__span-0-65><a id=__codelineno-0-65 name=__codelineno-0-65></a>
</span><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a><span class=sd>    Returns:</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a><span class=sd>        True if visible, False otherwise.</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>tray_icon</span><span class=o>.</span><span class=n>isVisible</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=goliat.gui.components.ui_builder class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">goliat.gui.components.ui_builder</span> <a href=#goliat.gui.components.ui_builder class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents first"> <p>UI builder component for constructing the ProgressGUI interface.</p> <div class="doc doc-children"> <h3 id=goliat.gui.components.ui_builder-classes>Classes<a href=#goliat.gui.components.ui_builder-classes class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-object doc-class"> <h4 id=goliat.gui.components.ui_builder.UIBuilder class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">UIBuilder</span> <a href=#goliat.gui.components.ui_builder.UIBuilder class=headerlink title="Permanent link">&para;</a></h4> <div class="doc doc-contents "> <p>Builds UI components for ProgressGUI.</p> <p>Provides static methods to construct the complete <abbr title="Graphical User Interface">GUI</abbr> layout, including tabs, progress bars, plots, tables, and buttons. Handles styling via Qt stylesheets for dark theme appearance.</p> <div class="doc doc-children"> <h5 id=goliat.gui.components.ui_builder.UIBuilder-functions>Functions<a href=#goliat.gui.components.ui_builder.UIBuilder-functions class=headerlink title="Permanent link">&para;</a></h5> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.ui_builder.UIBuilder.get_icon_path class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_icon_path</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#goliat.gui.components.ui_builder.UIBuilder.get_icon_path class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_icon_path</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gets path to window icon.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Absolute path to favicon.svg.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/ui_builder.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a><span class=nd>@staticmethod</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a><span class=k>def</span><span class=w> </span><span class=nf>get_icon_path</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets path to window icon.</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a><span class=sd>    Returns:</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a><span class=sd>        Absolute path to favicon.svg.</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>        <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)))),</span> <span class=s2>&quot;docs&quot;</span><span class=p>,</span> <span class=s2>&quot;img&quot;</span><span class=p>,</span> <span class=s2>&quot;favicon.svg&quot;</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h6 id=goliat.gui.components.ui_builder.UIBuilder.build class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">build</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#goliat.gui.components.ui_builder.UIBuilder.build class=headerlink title="Permanent link">&para;</a></h6> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>build</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>:</span> <span class=n>ProgressGUI</span><span class=p>,</span> <span class=n>status_manager</span><span class=p>:</span> <span class=n>StatusManager</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Builds complete UI for the <abbr title="Graphical User Interface">GUI</abbr> instance.</p> <p>Sets up window properties, applies stylesheet, creates tabs (Progress, Timings, Piecharts, Time Remaining, Overall Progress), and adds control buttons. Attaches components to gui_instance for later access.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>gui_instance</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.gui.progress_gui.ProgressGUI</code>" href=#goliat.gui.progress_gui.ProgressGUI>ProgressGUI</a></code> </td> <td> <div class=doc-md-description> <p>ProgressGUI instance to build UI for.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>status_manager</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>goliat.gui.components.status_manager.StatusManager</code>" href=#goliat.gui.components.status_manager.StatusManager>StatusManager</a></code> </td> <td> <div class=doc-md-description> <p>StatusManager instance for error summary display.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>goliat/gui/components/ui_builder.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a><span class=nd>@staticmethod</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a><span class=k>def</span><span class=w> </span><span class=nf>build</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>:</span> <span class=s2>&quot;ProgressGUI&quot;</span><span class=p>,</span> <span class=n>status_manager</span><span class=p>:</span> <span class=s2>&quot;StatusManager&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Builds complete UI for the GUI instance.</span>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183></a>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a><span class=sd>    Sets up window properties, applies stylesheet, creates tabs (Progress,</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a><span class=sd>    Timings, Piecharts, Time Remaining, Overall Progress), and adds</span>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a><span class=sd>    control buttons. Attaches components to gui_instance for later access.</span>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a><span class=sd>    Args:</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a><span class=sd>        gui_instance: ProgressGUI instance to build UI for.</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a><span class=sd>        status_manager: StatusManager instance for error summary display.</span>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a>    <span class=n>gui_instance</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=n>gui_instance</span><span class=o>.</span><span class=n>init_window_title</span><span class=p>)</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a>    <span class=n>gui_instance</span><span class=o>.</span><span class=n>resize</span><span class=p>(</span><span class=mi>800</span><span class=p>,</span> <span class=mi>900</span><span class=p>)</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a>    <span class=c1># Set window icon</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a>    <span class=n>icon_path</span> <span class=o>=</span> <span class=n>UIBuilder</span><span class=o>.</span><span class=n>get_icon_path</span><span class=p>()</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a>    <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>icon_path</span><span class=p>):</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a>        <span class=n>gui_instance</span><span class=o>.</span><span class=n>setWindowIcon</span><span class=p>(</span><span class=n>QIcon</span><span class=p>(</span><span class=n>icon_path</span><span class=p>))</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a>    <span class=n>gui_instance</span><span class=o>.</span><span class=n>setStyleSheet</span><span class=p>(</span><span class=n>UIBuilder</span><span class=o>.</span><span class=n>STYLESHEET</span><span class=p>)</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>    <span class=n>main_layout</span> <span class=o>=</span> <span class=n>QVBoxLayout</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>)</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>    <span class=n>gui_instance</span><span class=o>.</span><span class=n>tabs</span> <span class=o>=</span> <span class=n>QTabWidget</span><span class=p>()</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>    <span class=n>main_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>gui_instance</span><span class=o>.</span><span class=n>tabs</span><span class=p>)</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>    <span class=c1># Build tabs</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>    <span class=n>UIBuilder</span><span class=o>.</span><span class=n>_build_progress_tab</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>,</span> <span class=n>status_manager</span><span class=p>)</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>    <span class=n>UIBuilder</span><span class=o>.</span><span class=n>_build_timings_tab</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>)</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a>    <span class=n>UIBuilder</span><span class=o>.</span><span class=n>_build_piecharts_tab</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>)</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a>    <span class=n>UIBuilder</span><span class=o>.</span><span class=n>_build_time_remaining_tab</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>)</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a>    <span class=n>UIBuilder</span><span class=o>.</span><span class=n>_build_overall_progress_tab</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>)</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a>    <span class=c1># Build buttons</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a>    <span class=n>UIBuilder</span><span class=o>.</span><span class=n>_build_buttons</span><span class=p>(</span><span class=n>gui_instance</span><span class=p>,</span> <span class=n>main_layout</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div><hr> <h2 id=scripts>Scripts<a class=headerlink href=#scripts title="Permanent link">&para;</a></h2> <p>Entry point scripts for running studies and analysis.</p> <div class="admonition note"> <p class=admonition-title>Scripts</p> <p>These are top-level scripts for running studies. They are not part of the core <abbr title="Application Programming Interface">API</abbr> but are included for reference.</p> </div> <ul> <li><code>goliat study</code> - Main entry point for running studies</li> <li><code>goliat analyze</code> - Entry point for post-processing analysis</li> <li><code>goliat parallel</code> - Script for running parallel study batches</li> <li><code>goliat free-space</code> - Script for free-space validation runs</li> <li><code>goliat init</code> - Initialize GOLIAT environment (verify setup, download data files)</li> <li><code>goliat status</code> - Show setup status and environment information</li> <li><code>goliat validate</code> - Validate configuration files</li> <li><code>goliat version</code> - Show GOLIAT version information</li> </ul> <hr> <p>For a complete list of all user-facing features, see the <a href=../full_features_list/ >Full List of Features</a>.</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../full_features_list/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Full List of Features"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Full List of Features </div> </div> </a> <a href=../../project_info/ class="md-footer__link md-footer__link--next" aria-label="Next: Project Info"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Project Info </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> </div> <div class=md-social> <a href=https://github.com/rwydaegh/goliat target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.d7c377c4.min.js></script> <script src=../../javascripts/ansi-to-html.js></script> </body> </html>
{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to GOLIAT","text":"<p>GOLIAT is an automated Python framework for near-field and far-field dosimetric assessments using the Sim4Life simulation platform. It streamlines EMF exposure simulations for research and compliance.</p>"},{"location":"#table-of-contents","title":"Table of Contents","text":"<ul> <li> <p> Quick Start</p> <p>Run your first simulation in minutes. No manual setup required.</p> <p> Get Started</p> </li> <li> <p> User Guide</p> <p>Understand near-field and far-field workflows. Step-by-step explanations with practical insights.</p> <p> Read Guide</p> </li> <li> <p> Tutorials</p> <p>Interactive notebooks from basics to cloud execution. Learn by doing.</p> <p> View Tutorials</p> </li> <li> <p> Technical Guide</p> <p>Architecture, components, and system design. For developers extending or maintaining GOLIAT.</p> <p> Technical Guide</p> </li> <li> <p> Advanced Features</p> <p>GUI architecture, profiling, caching, phantom rotation. Advanced capabilities explained.</p> <p> Advanced Features</p> </li> <li> <p> Configuration</p> <p>All JSON configuration parameters with examples. Flexible and powerful.</p> <p> Configure</p> </li> <li> <p> Cloud Setup</p> <p>Deploy GPU instances and run simulations in the cloud. Automated setup included.</p> <p> Cloud Guide</p> </li> <li> <p> Coloring Rules</p> <p>Terminal output coloring guidelines. Makes logs easier to scan and debug.</p> <p> Coloring Rules</p> </li> <li> <p> UML</p> <p>Class relationships and package structure. Visual overview of the codebase.</p> <p> View UML</p> </li> <li> <p> Troubleshooting</p> <p>Common issues and solutions. Sim4Life setup, execution, and configuration.</p> <p> Troubleshooting</p> </li> <li> <p> Full List of Features</p> <p>Every feature organized by category. See what GOLIAT can do.</p> <p> View Features</p> </li> <li> <p> API Reference</p> <p>All classes, methods, and functions. Generated from code documentation.</p> <p> API Docs</p> </li> <li> <p> Project Info</p> <p>Research project background, funding, partners, and consortium information.</p> <p> Project Info</p> </li> </ul>"},{"location":"#overview","title":"Overview","text":"<p>GOLIAT automates dosimetric assessments for the GOLIAT project, calculating SAR in digital human phantoms from device or environmental EMF exposure. Key features:</p> <ul> <li>Modular scene building (phantoms, antennas, plane waves).</li> <li>Local or cloud execution (iSolve/oSPARC).</li> <li>Results extraction and analysis (SAR metrics, plots).</li> <li>GUI for progress tracking.</li> <li>Automatic disk space management for serial workflows.</li> </ul> <p>Start with the Quick Start to run your first simulation.</p>"},{"location":"#why-goliat","title":"Why GOLIAT?","text":"<ul> <li>Efficiency: Handles setup, runs, and analysis in one tool.</li> <li>Reproducible: Config-driven for consistent results.</li> <li>Scalable: Local parallel or cloud batching for large studies.</li> <li>Accessible: Plain-language docs for newcomers.</li> </ul> <p>For issues, see Troubleshooting. Contribute via Technical Guide.</p> <p>For a complete list of all available features, see the Full List of Features.</p>"},{"location":"project_info/","title":"Project Information","text":""},{"location":"project_info/#about-projectgoliat","title":"About #ProjectGOLIAT","text":"<p>GOLIAT (5G expOsure, causaL effects, and rIsk perception through citizen engAgemenT) is a research project that aims to characterize and monitor RF-EMF exposure, in particular 5G, provide novel insights into potential causal neuropsychological and biological effects, and understand risk perception and communication through citizen engagement using an integrative and transdisciplinary pan-European approach.</p> <p>The primary objectives of the project include:</p> <ul> <li>Automated Dosimetry: Creating a Python-based framework to automate simulations using the Sim4Life platform.</li> <li>Child Phantom Analysis: Performing simulations on detailed child phantoms, such as \"Thelonious\" and \"Eartha,\" to understand age-dependent effects.</li> <li>SAR Analysis: Calculating Specific Absorption Rate (SAR) metrics, including whole-body, head, trunk, and peak spatial-average SAR (psSAR10g) in sensitive tissues like the skin, eyes, and brain.</li> <li>Varied Exposure Scenarios: Investigating numerous exposure conditions, including different frequencies, antenna types, and device positions (e.g., by the cheek, in front of the eyes, near the belly).</li> </ul> <p>Check out the GOLIAT website!</p>"},{"location":"project_info/#funding-and-acknowledgements","title":"Funding and acknowledgements","text":"<p>This work is part of the GOLIAT project, which has received funding from the European Union's Horizon Health program under the call HORIZON-HEALTH-2021-ENVHLTH-02-01 - Exposure to electromagnetic fields (EMF) and health. GOLIAT is part of the CLUE-H consortium with ETAIN, NextGEM and SEAWave.</p> <p>Check out the CLUE-H website!</p>"},{"location":"project_info/#project-partners","title":"Project partners","text":"<p>The GOLIAT consortium consists of 22 partners from across Europe and the United States:</p> <ul> <li>Barcelona Institute for Global Health (ISGlobal), ES (Coordinator)</li> <li>Ghent University (UGent) and IMEC, BE (lead subtask 1.5)</li> <li>Telecom Paris (TP), FR</li> <li>Consiglio Nazionale delle Ricerche (CNR), IT</li> <li>Swiss Tropical and Public Health Institute (SwissTPH), CH</li> <li>Nofer Institute of Occupational Medicine (NIOM), PL</li> <li>University of Bristol (UNIVBRIS), UK</li> <li>Universit\u00e0 degli Studi di Torino (UNITO), IT</li> <li>Academisch Medisch Centrum (AMC), NL</li> <li>Centre National de la Recherche Scientifique (CNRS), FR</li> <li>National Institute of Industrial Environment and Risks (INERIS), FR</li> <li>University La Sapienza (UNIROMA1), IT</li> <li>University of Bologna (UNIBO), IT</li> <li>National Public Health Center (NPHC), HU</li> <li>University of P\u00e9cs (UP), HU</li> <li>University of Exeter Medical School (UNEXE), UK</li> <li>University of Vienna (UNIVIE), AT</li> <li>Science for Change (SfC), ES</li> <li>Norwegian University of Life Sciences (NMBU), NO</li> <li>Massachusetts General Hospital (MGH), US</li> <li>Harvard School of Public Health (HSPH), US</li> <li>University of Michigan (UMich), US</li> </ul>"},{"location":"project_info/#developer-lab","title":"Developer lab","text":"<p>The main developer, Robin Wydaeghe, is from the WAVES Research group at Ghent University and IMEC.</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>This section addresses common issues encountered when using GOLIAT. Issues are grouped by category, with steps to resolve them.</p>"},{"location":"troubleshooting/#sim4life-setup-issues","title":"Sim4life setup issues","text":""},{"location":"troubleshooting/#sim4life-not-found-or-python-path-error","title":"Sim4life not found or python path error","text":"<ul> <li>Symptom: \"iSolve.exe not found\" or import errors for s4l_v1.</li> <li>Cause: Sim4Life Python not in PATH.</li> <li>Solution:</li> <li>Locate Sim4Life installation (default: C:\\Program Files\\Sim4Life_8.2.0).</li> <li> <p>Edit <code>.bashrc</code> in project root with your path:</p> <pre><code>export PATH=\"/path/to/Sim4Life/Python:$PATH\"\n</code></pre> </li> <li> <p>Source: <code>source .bashrc</code>.</p> </li> <li>Verify: <code>python -c \"import s4l_v1; print('OK')\"</code> - should print \"OK\".</li> </ul>"},{"location":"troubleshooting/#linuxcloud-execution-environment","title":"Linux/Cloud execution environment","text":"<ul> <li>Symptom: Sim4Life interpreter check fails in AWS/Linux environments.</li> <li>Cause: Platform detection not recognizing cloud execution environment.</li> <li>Solution:</li> <li>GOLIAT automatically detects AWS/Linux environments and bypasses Windows-specific checks.</li> <li>If issues persist, ensure you're using the Sim4Life Python interpreter provided in the cloud environment.</li> <li>The system automatically adapts file locking mechanisms for cross-platform compatibility.</li> </ul>"},{"location":"troubleshooting/#sim4life-web-sim4lifescience-limitations","title":"Sim4Life Web (sim4life.science) limitations","text":"<ul> <li>Symptom: GUI unavailable, phantom licensing issues, or iSolve.exe not found when running in Sim4Life Web environment (available at sim4life.science, built on the oSPARC platform).</li> <li>Cause: Sim4Life Web (sim4life.science) has different capabilities compared to desktop installations.</li> <li>Limitations:</li> <li>GUI: The graphical interface is not available in JupyterLab environments. Set <code>\"use_gui\": false</code> in your configuration.</li> <li>Phantom Licensing: Most phantoms require licensing through \"The Shop\". The <code>duke_posable</code> phantom is available without additional licensing. Other phantoms may require linking to a license server, which is not supported in this repository.</li> <li> <p>iSolve.exe: The solver executable is not present in the JupyterLab app environment. The solver path points to a non-existent executable.</p> </li> <li> <p>Workaround for setup-only runs:   For proof-of-concept setup-only runs in Sim4Life Web, use a configuration similar to <code>configs/far_field_sim4life_web.json</code>:</p> </li> </ul> <pre><code>{\n  \"extends\": \"far_field_config.json\",\n  \"use_gui\": false,\n  \"execution_control\": {\n    \"do_setup\": true,\n    \"do_run\": false,\n    \"do_extract\": false\n  },\n  \"phantoms\": [\n    \"duke_posable\"\n  ]\n}\n</code></pre> <p>This configuration enables scene setup and project file creation without requiring solver execution or result extraction. To run simulations, use a different Sim4Life app (such as the Framework or Python runner app) or process the generated project files through other means.</p>"},{"location":"troubleshooting/#sim4life-license-or-phantom-download-fails","title":"Sim4life license or phantom download fails","text":"<ul> <li>Symptom: \"License error\" or phantom download prompt fails.</li> <li>Cause: Missing license or invalid email.</li> <li>Solution:</li> <li>Ensure Sim4Life is licensed (check by opening the S4L GUI), or when running from Sim4Life Web (sim4life.science), that you have purchased the license seats.</li> <li>Update <code>download_email</code> in <code>configs/base_config.json</code> to the email of the person acquiring Sim4Life for your org.</li> <li>Rerun study - GOLIAT retries download.</li> <li>Manual alternative: Download phantoms yourself, place in <code>data/</code>.</li> </ul>"},{"location":"troubleshooting/#phantom-download-rate-limit-error","title":"Phantom download rate limit error","text":"<ul> <li>Symptom: <code>gdown</code> package error indicating \"file has been accessed too many times\" when downloading phantoms.</li> <li>Cause: Google Drive rate limiting on frequently accessed files.</li> <li>Solution:</li> <li>Wait a few minutes and try again. The rate limit is temporary.</li> <li>Retry the download: GOLIAT will attempt to download again on the next run.</li> <li>Note: This issue will be fixed in a future release.</li> </ul>"},{"location":"troubleshooting/#project-and-file-issues","title":"Project and file issues","text":""},{"location":"troubleshooting/#lock-files-prevent-access","title":"Lock files prevent access","text":"<ul> <li>Symptom: \"File locked\" or \"Project corruption\" error.</li> <li>Cause: A previous run crashed, leaving a lock file behind. This is a hidden file with a <code>.s4l_lock</code> extension.</li> <li>Solution:</li> <li>Close all Sim4Life instances.</li> <li>Manually delete the lock file. It will be in the same directory as the <code>.smash</code> file.</li> <li>Rerun the simulation. If the issue persists, restarting your machine may be necessary.</li> </ul>"},{"location":"troubleshooting/#corrupted-project-file-smash","title":"Corrupted project file (.smash)","text":"<ul> <li>Symptom: \"HDF5 format error\" or \"Could not open project\".</li> <li>Cause: Incomplete save or disk issue.</li> <li>Solution:</li> <li>Set <code>\"do_setup\": true</code> in your configuration file. GOLIAT will automatically overwrite the corrupted file with a new one.</li> <li>Check disk space/logs for hardware issues.</li> </ul>"},{"location":"troubleshooting/#execution-issues","title":"Execution issues","text":""},{"location":"troubleshooting/#simulation-run-fails-isolveexe","title":"Simulation run fails (iSolve.exe)","text":"<ul> <li>Symptom: \"iSolve.exe failed with return code\" or no output.</li> <li>Cause: Path, kernel (Acceleware/CUDA), or input file issue.</li> <li>Solution:</li> <li>Verify iSolve path in code (goliat/simulation_runner.py).</li> <li>Try <code>\"kernel\": \"Software\"</code> in config for CPU fallback.</li> <li>Check <code>logs/*.log</code> for solver errors (e.g., grid too fine).</li> <li>Ensure <code>manual_isolve: true</code> in config.</li> </ul>"},{"location":"troubleshooting/#parallel-execution-limitations","title":"Parallel execution limitations","text":"<ul> <li>Symptom: Running <code>goliat parallel</code> with multiple splits, but simulations take as long as sequential runs.</li> <li>Cause: iSolve can only run one simulation at a time on a single GPU. When multiple parallel processes try to use iSolve, they queue sequentially.</li> <li>Explanation: </li> <li>Setup and extract phases can run in parallel (CPU-based)</li> <li>Run phase (iSolve) cannot run in parallel on a single GPU machine</li> <li>Multiple processes will queue for GPU access, effectively running one at a time</li> <li>Solution:</li> <li>For true parallel run phases: Use oSPARC batch execution (<code>batch_run: true</code>), where each cloud job gets its own GPU</li> <li>For multiple local machines: Set up GOLIAT on multiple Windows PCs as described in Cloud Setup</li> <li>Accept limitation: Understand that local parallel execution only speeds up setup and extract phases, not the run phase</li> </ul> <p>When parallel execution helps: Setup and extract phases benefit from parallelization even on single-GPU machines. The run phase will still be sequential, but overall time can be reduced if setup/extract phases are significant.</p>"},{"location":"troubleshooting/#osparc-batch-submission-fails","title":"oSPARC batch submission fails","text":"<ul> <li>Symptom: \"Invalid API key\" or \"Job failed\".</li> <li>Cause: .env missing/invalid or quota exceeded.</li> <li>Solution:</li> <li>Verify <code>.env</code> in root (OSPARC_API_KEY etc.; see User Guide).</li> <li>Test keys: Run a single cloud sim first.</li> <li>Check quotas in oSPARC dashboard (max ~61 jobs).</li> <li>For \"RETRYING\": Code auto-retries 3 times; check logs/osparc_submission_logs/.</li> <li>Cancel stuck jobs: <code>python scripts/cancel_all_jobs.py --config your_config.json</code>.</li> </ul>"},{"location":"troubleshooting/#no-results-extracted","title":"No results extracted","text":"<ul> <li>Symptom: Empty JSON/PKL or \"No SAR data\".</li> <li>Cause: <code>do_extract: false</code> or simulation failed.</li> <li>Solution:</li> <li>Set <code>\"do_extract\": true</code> in config.</li> <li>Verify simulation completed and has deliverables (check for warnings in the logs)</li> <li>Rerun extraction: <code>\"do_setup\": false, \"do_run\": false, \"do_extract\": true</code>.</li> </ul>"},{"location":"troubleshooting/#configuration-issues","title":"Configuration issues","text":""},{"location":"troubleshooting/#manual-grid-size-exceeds-3-mm-limit","title":"Manual grid size exceeds 3 mm limit","text":"<ul> <li>Symptom: Error message: \"Manual grid size of X mm exceeds the 3 mm maximum. GOLIAT refuses to continue...\"</li> <li>Cause: Manual gridding configuration specifies a grid size larger than 3 mm.</li> <li>Explanation: GOLIAT enforces a 3 mm maximum for manual grid sizes, even though coarser grids (e.g., 5 mm) may be acceptable from an FDTD standpoint at low frequencies. This restriction exists because:</li> <li>Coarser grids lead to poor voxelization quality, affecting simulation accuracy</li> <li>Downstream GOLIAT features like peak SAR cube computation require adequate voxelization resolution</li> <li>Testing with coarse grids can mask issues that appear later in production runs</li> <li>Solution:</li> <li>Reduce <code>manual_fallback_max_step_mm</code> in your config to 3.0 or smaller</li> <li>If using per-frequency gridding, ensure all values in <code>global_gridding_per_frequency</code> are \u2264 3.0 mm</li> <li>The default fallback value is now 3.0 mm in base configs</li> <li>For now, you could use an Automatic Coarse (or Default at low frequencies) grid since GOLIAT does not yet support checking if the automatic grid is too coarse for its liking</li> </ul>"},{"location":"troubleshooting/#config-loading-error","title":"Config loading error","text":"<ul> <li>Symptom: \"File not found\" or \"Unknown study_type\".</li> <li>Cause: Invalid path or missing <code>study_type</code>.</li> <li>Solution:</li> <li>Use full path: <code>--config near_field_config.json</code>.</li> <li>Ensure <code>study_type</code>: \"near_field\" or \"far_field\".</li> <li>Validate your JSON syntax. For a detailed guide on the configuration options, see the Configuration Documentation.</li> </ul>"},{"location":"troubleshooting/#placement-or-antenna-not-found","title":"Placement or antenna not found","text":"<ul> <li>Symptom: \"Could not find component\" or invalid placement.</li> <li>Cause: Custom config mismatch.</li> <li>Solution:</li> <li>Use default configs first.</li> <li>For custom, match <code>placement_scenarios</code> keys exactly.</li> <li>Antenna: Ensure freq in <code>antenna_config</code> keys.</li> </ul>"},{"location":"troubleshooting/#gui-and-logging-issues","title":"GUI and logging issues","text":""},{"location":"troubleshooting/#gui-freezes-or-no-progress","title":"GUI freezes or no progress","text":"<ul> <li>Symptom: Window unresponsive.</li> <li>Cause: Multiprocessing issue or long computation.</li> <li>Solution:</li> <li>Run headless: Set <code>\"use_gui\": false</code> in your config and run <code>goliat study your_config.json</code>.</li> <li>Check <code>logs/*.progress.log</code> for updates.</li> <li>Reduce grid size for faster tests.</li> </ul>"},{"location":"troubleshooting/#disk-space-issues","title":"Disk space issues","text":""},{"location":"troubleshooting/#running-out-of-disk-space","title":"Running out of disk space","text":"<ul> <li>Symptom: \"No space left on device\" or simulation failures.</li> <li>Cause: Large simulation output files accumulating.</li> <li>Solution:</li> <li> <p>Enable automatic cleanup for serial workflows:</p> <pre><code>\"execution_control\": {\n  \"auto_cleanup_previous_results\": [\"output\"]\n}\n</code></pre> </li> <li> <p>Manually delete old <code>*_Output.h5</code>, <code>*_Input.h5</code> files from <code>results/</code> directories.</p> </li> <li>Archive completed studies to external storage.</li> <li>See Configuration Guide for cleanup options.</li> </ul>"},{"location":"troubleshooting/#general-tips","title":"General tips","text":"<ul> <li>Always check <code>logs/</code> and console for errors.</li> <li>Rerun phases individually using <code>execution_control</code>.</li> <li>For cloud: Monitor oSPARC dashboard for job details.</li> <li>For disk space: Use <code>auto_cleanup_previous_results</code> in serial workflows.</li> <li>Still stuck? Open GitHub Issue with log snippet.</li> </ul> <p>See User Guide for workflows. For a complete reference of all available features, see the Full List of Features.</p>"},{"location":"developer_guide/advanced_features/","title":"Advanced features: a deeper dive","text":"<p>This section details the architecture and workflow of the key operational features of the codebase, focusing on the graphical user interface (GUI), logging, session management, and the profiling/timing system.</p>"},{"location":"developer_guide/advanced_features/#1-high-level-workflow","title":"1. High-level workflow","text":"<p>The application is designed to run scientific studies which can be time-consuming. To provide user feedback and manage complexity, the system employs a multi-process architecture.</p> <ol> <li>Main Process: A lightweight PySide6 GUI (<code>ProgressGUI</code>) is launched. This GUI is responsible for displaying progress, logs, and timing information.</li> <li>Study Process: The actual study (<code>NearFieldStudy</code> or <code>FarFieldStudy</code>) is executed in a separate process using Python's <code>multiprocessing</code> module. This prevents the GUI from freezing during intensive calculations.</li> <li>Communication: The study process communicates with the GUI process through a <code>multiprocessing.Queue</code>. It sends messages containing status updates, progress information, and timing data.</li> </ol> <p>The entry point for the study process is the <code>study_process_wrapper</code> function, which sets up a special <code>QueueGUI</code> object. This object mimics the real GUI's interface but directs all its output to the shared queue.</p> <pre><code>graph TD\n    A[Main Process: ProgressGUI] -- Spawns --&gt; B[Study Process: study_process_wrapper];\n    B -- Instantiates --&gt; Study[NearFieldStudy/FarFieldStudy];\n    Study -- Uses --&gt; QueueGUI[QueueGUI object];\n    QueueGUI -- Puts messages --&gt; C{multiprocessing.Queue};\n    C -- Polled by QTimer --&gt; A;\n    A -- Updates UI --&gt; D[User];\n</code></pre>"},{"location":"developer_guide/advanced_features/#2-gui-and-profiling-system","title":"2. GUI and profiling system","text":"<p>The user interface, progress estimation, and timing systems are tightly integrated to provide a responsive and informative experience. The GUI architecture is modular, with specialized components handling different aspects of the interface. The core components are the <code>ProgressGUI</code> and the <code>Profiler</code>.</p>"},{"location":"developer_guide/advanced_features/#the-progressgui","title":"The <code>ProgressGUI</code>","text":"<p>The GUI runs in the main process. It uses a <code>QTimer</code> to poll a <code>multiprocessing.Queue</code> for messages sent from the study process. This design keeps the UI responsive. The GUI is responsible for two primary progress indicators:</p> <ul> <li>Overall Progress: Tracks the progress of the entire study (e.g., 5 out of 108 simulations complete).</li> <li>Stage Progress: Tracks the progress of the current major phase (<code>setup</code>, <code>run</code>, or <code>extract</code>) for the current simulation.</li> </ul> <p>The GUI is built using modular components located in <code>goliat/gui/components/</code>:</p> <ul> <li><code>StatusManager</code>: Manages status messages and log display with color-coding.</li> <li><code>DataManager</code>: Handles CSV data files for progress tracking and time series visualization.</li> <li><code>TimingsTable</code>: Displays execution statistics in a table format.</li> <li><code>PieChartsManager</code>: Generates pie charts showing time breakdown by phase and subtask.</li> <li><code>ProgressAnimation</code>: Manages smooth animations for progress bars during long-running phases.</li> <li><code>TrayManager</code>: Provides system tray integration for background operation.</li> <li><code>QueueHandler</code>: Processes messages from the study process queue.</li> <li><code>UIBuilder</code>: Constructs the window layout and manages UI components.</li> </ul>"},{"location":"developer_guide/advanced_features/#the-profiler","title":"The <code>Profiler</code>","text":"<p>The <code>Profiler</code> class is the engine for all timing and estimation.</p> <ul> <li>Session-Based Timing: The profiler maintains a session-specific timing configuration file in the <code>data/</code> folder (e.g., <code>profiling_config_31-10_14-15-30_a1b2c3d4.json</code>). The filename includes a timestamp prefix followed by a unique hash. This file stores the average time taken for each major phase (<code>avg_setup_time</code>, <code>avg_run_time</code>, etc.) and for granular subtasks. The session-specific approach means each study run tracks its own timing data, allowing for cleaner session management and avoiding conflicts between concurrent runs.</li> <li>ETA Calculation: The <code>get_time_remaining</code> method provides the core ETA logic. It calculates the total estimated time for all simulations based on the current session's timing averages and subtracts the time that has already elapsed. This elapsed time is a combination of the total time for already completed simulations and the real-time duration of the current, in-progress simulation.</li> <li>Weighted Progress: The <code>Profiler</code> calculates the progress within a single simulation by using phase weights. These weights are derived from the average time of each phase in the current session, normalized to sum to 1. This makes a longer phase, like <code>run</code>, contribute more to the intra-simulation progress than a shorter one, like <code>extract</code>.</li> </ul>"},{"location":"developer_guide/advanced_features/#the-animation-system","title":"The animation system","text":"<p>For long-running phases where the underlying process provides no feedback (like <code>iSolve.exe</code>), the GUI employs a smooth animation for the Stage Progress bar.</p> <p>How it works:</p> <ol> <li> <p>Initiation: When a major phase (e.g., <code>setup</code>) begins, the <code>profile</code> context manager in the study process retrieves the estimated duration for that entire phase from the <code>Profiler</code> (e.g., <code>avg_setup_time</code>). It sends a <code>start_animation</code> message to the GUI with this duration.</p> </li> <li> <p>Animation Execution: The <code>ProgressGUI</code> receives the message. It resets the stage progress bar to 0% and starts a <code>QTimer</code> that fires every 50ms.</p> </li> <li> <p>Frame-by-Frame Update: With each tick of the timer, the <code>update_animation</code> method calculates the percentage of the estimated duration that has elapsed and updates the stage progress bar to that value. This creates a smooth animation from 0% to 100% over the expected duration of the phase.</p> </li> <li> <p>Synchronization: The <code>update_animation</code> method is also responsible for updating the Overall Progress bar. On each tick, it asks the <code>Profiler</code> for the current weighted progress of the entire study and updates the overall bar accordingly. This keeps both bars synchronized.</p> </li> <li> <p>Termination: When the actual phase completes in the study process, an <code>end_animation</code> message is sent. The GUI stops the timer and sets the stage progress bar to its final value of 100%, correcting for any deviation between the estimate and the actual time taken.</p> </li> </ol> <p>This system presents the user with a constantly updating and reasonably accurate view of the system's progress, even without direct feedback from the core simulation.</p>"},{"location":"developer_guide/advanced_features/#3-logging-logging_managerpy","title":"3. Logging (<code>logging_manager.py</code>)","text":"<p>The system uses Python's standard <code>logging</code> module, configured to provide two distinct streams of information.</p>"},{"location":"developer_guide/advanced_features/#loggers","title":"Loggers:","text":"<ol> <li><code>progress</code> logger: For high-level, user-facing messages. These are shown in the GUI and saved to <code>*.progress.log</code>.</li> <li><code>verbose</code> logger: For detailed, internal messages. These are saved to the main <code>*.log</code> file.</li> </ol>"},{"location":"developer_guide/advanced_features/#implementation-details","title":"Implementation details:","text":"<ul> <li>Log Rotation: The <code>setup_loggers</code> function checks the number of log files in the <code>logs</code> directory. If it exceeds a limit (15 pairs), it deletes the oldest pair (<code>.log</code> and <code>.progress.log</code>) to prevent the directory from growing indefinitely.</li> <li>Data File Cleanup: Similarly, the system automatically manages CSV and JSON files in the <code>data/</code> directory (progress tracking and profiling files). When more than 50 such files exist, the oldest files are automatically deleted to prevent excessive disk usage. These files follow the naming pattern <code>time_remaining_DD-MM_HH-MM-SS_hash.csv</code>, <code>overall_progress_DD-MM_HH-MM-SS_hash.csv</code>, and <code>profiling_config_DD-MM_HH-MM-SS_hash.json</code>, where the timestamp allows easy identification of when each session was run.</li> <li>Handler Configuration: The function creates file handlers and stream (console) handlers for each logger, routing messages to the right places. <code>propagate = False</code> is used to prevent messages from being handled by parent loggers, avoiding duplicate output.</li> </ul>"},{"location":"developer_guide/advanced_features/#4-configuration-configpy","title":"4. Configuration (<code>config.py</code>)","text":"<p>The <code>Config</code> class uses a powerful inheritance mechanism to avoid duplicating settings.</p> <ul> <li> <p>Inheritance: A config can \"extend\" a base config. The <code>_load_config_with_inheritance</code> method recursively loads the base config and merges it with the child config. The child's values override the parent's.</p> <p>For example, <code>near_field_config.json</code> might only specify the settings that differ from the main <code>base_config.json</code>.</p> </li> </ul>"},{"location":"developer_guide/advanced_features/#5-project-management","title":"5. Project management","text":"<ul> <li><code>project_manager.py</code>: This class is critical for reliability. The underlying <code>.smash</code> project files can become corrupted or locked. The <code>_is_valid_smash_file</code> method is a key defensive measure. It first attempts to rename the file to itself (a trick to check for file locks on Windows) and then uses <code>h5py</code> to ensure the file is a valid HDF5 container before attempting to open it in the simulation software. This prevents the application from crashing on a corrupted file.</li> </ul>"},{"location":"developer_guide/advanced_features/#6-phantom-rotation-for-by_cheek-placement","title":"6. Phantom rotation for <code>by_cheek</code> placement","text":"<p>A specialized feature for the <code>by_cheek</code> placement scenario is the ability to rotate the phantom to meet the phone, rather than the other way around. This is controlled by a specific dictionary format in the configuration and uses an automatic angle detection algorithm to ensure precise placement.</p>"},{"location":"developer_guide/advanced_features/#configuration","title":"Configuration","text":"<p>To enable this feature, the orientation in <code>placement_scenarios</code> is defined as a dictionary:</p> <pre><code>\"orientations\": {\n  \"cheek_base\": {\n    \"rotate_phantom_to_cheek\": true,\n    \"angle_offset_deg\": 0\n  }\n}\n</code></pre> <ul> <li><code>rotate_phantom_to_cheek</code>: A boolean that enables or disables the phantom rotation.</li> <li><code>angle_offset_deg</code>: An integer that specifies an additional rotation away from the cheek (0 being the default).</li> </ul>"},{"location":"developer_guide/advanced_features/#automatic-angle-detection","title":"Automatic angle detection","text":"<p>The system uses a binary search algorithm to find the exact angle at which the phantom's \"Skin\" entity touches the phone's ground plane. This is handled by the <code>_find_touching_angle</code> method in <code>goliat/setups/near_field_setup.py</code>. The search is performed between 0 and 30 degrees with a precision of 0.5 degrees.</p>"},{"location":"developer_guide/advanced_features/#workflow-integration","title":"Workflow integration","text":"<p>The phantom rotation is handled in the <code>NearFieldSetup.run_full_setup</code> method, occurring after the antenna is placed but before the final scene alignment. This keeps the phone positioned correctly relative to the un-rotated phantom, after which the phantom is rotated into the final position. When phantom rotation is enabled, the rotation instruction is removed from the antenna's orientation list to prevent the antenna from being rotated along with the phantom.</p>"},{"location":"developer_guide/advanced_features/#65-scene-alignment-for-by_cheek-placements","title":"6.5. Scene alignment for <code>by_cheek</code> placements","text":"<p>For <code>by_cheek</code> placements, GOLIAT automatically aligns the entire simulation scene with the phone's upright orientation. This optimization aligns the computational grid with the phone's orientation, which can reduce simulation time.</p>"},{"location":"developer_guide/advanced_features/#how-it-works","title":"How it works","text":"<p>The alignment process occurs after antenna placement and phantom rotation (if enabled). It identifies reference entities on the phone that define its orientation:</p> <ul> <li>For PIFA antennas: Uses <code>component1:Substrate</code> and <code>component1:Battery</code> as reference points.</li> <li>For IFA antennas: Uses <code>Ground</code> and <code>Battery</code> as reference points.</li> </ul> <p>The system calculates a transformation matrix that makes the phone upright and applies this transformation to all scene entities:</p> <ul> <li>Phantom group</li> <li>Antenna group</li> <li>Simulation bounding box</li> <li>Antenna bounding box</li> <li>Head and trunk bounding boxes</li> <li>Point sensors</li> </ul> <p>Only parent groups and bounding boxes are transformed, not individual tissue entities, to avoid double transformation. This keeps the entire scene's relative geometry correct while optimizing grid alignment.</p>"},{"location":"developer_guide/advanced_features/#configuration_1","title":"Configuration","text":"<p>No configuration is required. The alignment is automatically applied for <code>by_cheek</code> placements.</p>"},{"location":"developer_guide/advanced_features/#7-the-verify-and-resume-caching-system","title":"7. The <code>Verify and Resume</code> caching system","text":"<p>GOLIAT integrates a <code>Verify and Resume</code> feature to prevent redundant computations by caching simulation results. The system intelligently determines whether a simulation with an identical configuration has already been successfully completed, skipping re-runs and saving significant time.</p>"},{"location":"developer_guide/advanced_features/#verification-workflow","title":"Verification workflow","text":"<p>The verification logic is multi-tiered, prioritizing the integrity of the final result files (\"deliverables\") over simple metadata flags. This maintains robustness against interrupted runs or manual file deletions.</p> <ol> <li> <p>Configuration hashing: Before verification, a \"surgical\" configuration is created. This is a snapshot containing only the parameters relevant to a single, specific simulation run (e.g., one phantom, one frequency, one placement). This configuration is then serialized and hashed (SHA256), producing a unique fingerprint that represents the exact setup.</p> </li> <li> <p>Metadata and deliverable validation: The core logic resides in <code>ProjectManager.create_or_open_project</code>, which is called at the start of each simulation. It performs a sequence of checks:</p> <ul> <li>Hash comparison: The hash of the current surgical configuration is compared against the <code>config_hash</code> stored in the <code>config.json</code> metadata file within the simulation's results directory. A mismatch signifies that the configuration has changed, rendering the cached results invalid and triggering a full re-run.</li> <li><code>.smash</code> file integrity: If the hashes match, the system validates the <code>.smash</code> project file itself. This is a critical step for stability, as these files can become locked or corrupted. The validation involves checking for <code>.s4l_lock</code> files and verifying the HDF5 structure with <code>h5py</code>. A missing or corrupt <code>.smash</code> file indicates that the setup phase is incomplete.</li> <li>Deliverable verification: This is the definitive check. The system looks for the actual output files generated by the <code>run</code> and <code>extract</code> phases. It verifies their existence and that their modification timestamps are newer than the <code>setup_timestamp</code> recorded in the metadata.<ul> <li>Run phase deliverables: A valid <code>*_Output.h5</code> file.</li> <li>Extract phase deliverables: <code>sar_results.json</code>, <code>sar_stats_all_tissues.pkl</code>, and <code>sar_stats_all_tissues.html</code>.</li> </ul> </li> </ul> </li> <li> <p>Status reporting and phase skipping: The verification process returns a detailed status dictionary, such as <code>{'setup_done': True, 'run_done': True, 'extract_done': False}</code>. The study orchestrator (<code>NearFieldStudy</code> or <code>FarFieldStudy</code>) uses this status to dynamically skip phases that are already complete. For instance, if <code>run_done</code> is <code>True</code>, the <code>do_run</code> flag for that specific simulation is internally set to <code>False</code>, and the run phase is skipped.</p> </li> <li> <p>Metadata update: Upon the successful completion of the <code>run</code> and <code>extract</code> phases, the <code>BaseStudy._verify_and_update_metadata</code> method is triggered. It re-confirms that the deliverables exist on the file system and then updates the <code>run_done</code> or <code>extract_done</code> flags in the <code>config.json</code> file to <code>true</code>. This keeps the metadata accurately reflecting the state of the deliverables for future runs.</p> </li> </ol> <p>This deliverable-first approach is a key design choice. It guarantees that the system is resilient; even if the metadata file claims a phase is complete, the absence of the actual result files will correctly force the system to re-run the necessary steps.</p>"},{"location":"developer_guide/advanced_features/#overriding-the-cache","title":"Overriding the cache","text":"<p>The entire caching and verification mechanism can be bypassed using the <code>--no-cache</code> command-line flag.</p> <pre><code>goliat study my_study.json --no-cache\n</code></pre> <p>When this flag is active, GOLIAT will ignore any existing project files or metadata. It skips the verification process, deletes any existing <code>.smash</code> file for the target simulation, and executes all phases (setup, run, extract) from a clean state. This is useful for debugging configuration issues, validating code changes, or when a fresh run is explicitly required.</p> <p>The <code>--no-cache</code> flag can also be used when you need to ensure that cached results from a previous configuration are not reused, even if the current configuration appears identical.</p> <p>For a complete reference of all features mentioned here and more, see the Full List of Features.</p>"},{"location":"developer_guide/cloud_setup/","title":"Cloud GPU Setup","text":"<p>Don't have a GPU or sufficient resources on your local machine? For approximately \u20ac0.17-1.80 per hour (depending on GPU model), you can rent GPU instances from cloud providers to run GOLIAT simulations. This guide walks you through setting up a cloud Windows VM with GPU support.</p>"},{"location":"developer_guide/cloud_setup/#overview","title":"Overview","text":"<p>This setup allows you to:</p> <ol> <li>Deploy a Windows VM with GPU support (from RTX 4090 to H100) via cloud providers</li> <li>RDP into the machine remotely</li> <li>Automatically install and configure everything needed to run GOLIAT</li> <li>Launch simulations with minimal manual intervention</li> </ol> <p>The entire setup process takes approximately 10 minutes and is fully automated once you copy the setup script to the VM.</p>"},{"location":"developer_guide/cloud_setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>A cloud provider account (this guide uses TensorDock as an example, but the process is similar for other providers)</li> <li>Basic familiarity with Remote Desktop Protocol (RDP)</li> <li>Access to Sim4Life installer and license (these are downloaded automatically or can be provided manually)</li> </ul>"},{"location":"developer_guide/cloud_setup/#step-1-deploy-a-gpu-instance","title":"Step 1: Deploy a GPU instance","text":""},{"location":"developer_guide/cloud_setup/#option-a-using-the-web-interface","title":"Option A: Using the web interface","text":"<ol> <li>Visit TensorDock Dashboard</li> <li>Select your GPU model (e.g., RTX 4090)</li> <li>Configure resources:</li> <li>CPU: 8+ cores recommended</li> <li>RAM: 32 GB+ recommended</li> <li>Storage: 250 GB+ recommended</li> <li>OS: Windows 10 or Windows 11</li> <li>Prefer Dedicated IP if available</li> <li>Set a secure password for the VM</li> <li>Deploy the instance</li> </ol>"},{"location":"developer_guide/cloud_setup/#option-b-using-the-python-script","title":"Option B: Using the Python script","text":"<p>A Python script is provided in <code>cloud_setup/deploy_windows_vm.py</code> to automate VM deployment via the TensorDock API:</p> <pre><code># Edit deploy_windows_vm.py and set your credentials:\nAPI_TOKEN = \"YOUR_TENSORDOCK_API_TOKEN\"\n# ... other configuration ...\n\n# Then run:\npython deploy_windows_vm.py\n</code></pre> <p>Note: The template script (<code>deploy_windows_vm.py</code>) contains placeholders. Copy it to <code>my_deploy_windows_vm.py</code> and fill in your actual credentials. The <code>my_*.py</code> files are gitignored.</p>"},{"location":"developer_guide/cloud_setup/#step-2-connect-via-rdp","title":"Step 2: Connect via RDP","text":"<p>Once your VM is deployed:</p> <ol> <li>Find the public IP address in your provider's dashboard</li> <li>Use Windows Remote Desktop Connection (or any RDP client)</li> <li>Connect using:</li> <li>IP: The public IP from the dashboard</li> <li>Username: Usually <code>Administrator</code> or <code>user</code> (check provider docs)</li> <li>Password: The password you set during deployment</li> </ol>"},{"location":"developer_guide/cloud_setup/#step-3-run-the-setup-script","title":"Step 3: Run the setup script","text":"<p>The <code>cloud_setup/</code> directory contains an automated setup script that installs everything needed:</p>"},{"location":"developer_guide/cloud_setup/#what-the-script-does","title":"What the script does","text":"<p>The <code>setup_and_run.bat</code> script automates the following steps:</p> <ol> <li>Installs OpenVPN client</li> <li>Downloads and installs Python 3.11</li> <li>Installs gdown utility for Google Drive downloads</li> <li>Downloads and installs Sim4Life</li> <li>Downloads VPN configuration files (if needed)</li> <li>Connects to VPN (if required for Sim4Life license access)</li> <li>Installs Sim4Life license (prompts for manual GUI installation)</li> <li>Installs Git</li> <li>Clones the GOLIAT repository</li> <li>Launches a study automatically</li> </ol>"},{"location":"developer_guide/cloud_setup/#running-the-script","title":"Running the Script","text":"<ol> <li> <p>Copy the setup script to your VM (you can use RDP file transfer or download it)</p> </li> <li> <p>Edit the script if needed:</p> </li> <li>Replace <code>YOUR_PRIVATE_GDRIVE_FOLDER_ID</code> with your Google Drive folder ID which should contain your <code>.ovpn</code> and <code>.crt</code> files.</li> <li>Replace <code>YOUR_PRIVATE_GDRIVE_FILE_ID</code> with your Sim4Life <code>.exe</code> installer (for private use only with the express intent to only transfer this to the remote machine).</li> <li>Replace <code>YOUR_VPN_USERNAME</code> and <code>YOUR_VPN_PASSWORD</code> if using VPN</li> <li> <p>Replace <code>YOUR_USERNAME</code> with your GitHub username</p> </li> <li> <p>Run as Administrator:</p> <pre><code>```cmd\nRight-click setup_and_run.bat \u2192 Run as administrator\n```\n</code></pre> </li> <li> <p>Wait ~10 minutes while the script installs everything</p> </li> <li> <p>Install the Sim4Life license when prompted:</p> </li> <li>The script will open the license installer GUI</li> <li>Follow the on-screen instructions</li> <li> <p>Press any key to continue after installation</p> </li> <li> <p>The study will launch automatically in a Git Bash window</p> </li> </ol>"},{"location":"developer_guide/cloud_setup/#vpn-reconnection","title":"VPN Reconnection","text":"<p>If you need to reconnect to VPN later without rerunning the full setup, use <code>connect_vpn.bat</code>:</p> <pre><code>Right-click connect_vpn.bat \u2192 Run as administrator\n</code></pre> <p>This assumes OpenVPN is already installed.</p>"},{"location":"developer_guide/cloud_setup/#file-structure","title":"File structure","text":"<p>The <code>cloud_setup/</code> directory contains:</p> <ul> <li><code>setup_and_run.bat</code>: Complete automated setup (template with placeholders)</li> <li><code>connect_vpn.bat</code>: VPN reconnection script</li> <li><code>deploy_windows_vm.py</code>: Python script for API-based VM deployment</li> <li><code>my_*.bat</code> and <code>my_*.py</code>: Personal copies with real credentials (gitignored)</li> </ul>"},{"location":"developer_guide/cloud_setup/#cost-estimation","title":"Cost estimation","text":"<p>TensorDock pricing varies by GPU model and location, ranging from approximately \u20ac0.17-1.80/hour:</p> <p>Enterprise GPUs: H100 (~\u20ac1.80/hr), A100 (~\u20ac0.78/hr), L40S (~\u20ac0.60/hr), Tesla V100 (~\u20ac0.19-0.27/hr)</p> <p>Workstation RTX GPUs: RTX PRO 6000 (~\u20ac0.91/hr), RTX 6000 ADA (~\u20ac0.64/hr), RTX 5090 (~\u20ac0.45/hr), RTX A6000 (~\u20ac0.36/hr), RTX 4090 (~\u20ac0.32/hr), RTX 3090 (~\u20ac0.18/hr)</p> <p>Notable features:</p> <ul> <li>High-memory configurations available (up to 512 GB RAM)</li> <li>Per-second billing with no minimum commitment</li> <li>Instances can be stopped when not in use to minimize costs</li> </ul> <p>Monthly estimate (assuming 730 hours): ~\u20ac15-130/month for running instances, plus storage costs when stopped.</p> <p>For current pricing and availability, consult TensorDock's dashboard directly.</p>"},{"location":"developer_guide/cloud_setup/#provider-comparison","title":"Provider comparison","text":"<p>Hyperscalers (GCP, Azure, AWS): Can create VM images/snapshots and duplicate them to new instances, but quota requests for GPU instances can take days or weeks to be approved. Generally higher pricing.</p> <p>Specialized GPU providers (e.g., TensorDock): No quota requests - instant GPU access. Lower pricing (typically 20-40% cheaper than hyperscalers). Image duplication feature may be available depending on provider.</p>"},{"location":"developer_guide/cloud_setup/#alternative-providers","title":"Alternative providers","text":"<p>While this guide focuses on TensorDock, similar setups work with AWS EC2 (G4/G5 instances with Windows Server), Google Cloud Platform (GPU-enabled Windows VMs), and Azure (NV-series VMs with Windows). The setup script may need minor modifications for different providers (e.g., different default usernames, network configurations).</p>"},{"location":"developer_guide/coloring_rules/","title":"Coloring Rules for Terminal Output","text":"<p>This document outlines the rules for colorizing terminal output using the <code>colorama</code> library. The goal is to improve readability and draw the user's attention to the most critical information. All colors are defined in the <code>COLOR_MAP</code> dictionary in <code>goliat/colors.py</code> to ensure consistency and ease of maintenance.</p>"},{"location":"developer_guide/coloring_rules/#how-to-use","title":"How to use","text":"<p>To apply a color, use the <code>_log</code> method from the <code>LoggingMixin</code> and specify the <code>log_type</code>.</p> <pre><code># Example usage:\nself._log(\"This is a warning message.\", log_type='warning')\nself._log(\"File saved successfully.\", level='progress', log_type='success')\n</code></pre> <p>Important: When adding a <code>log_type</code>, do not change the existing <code>level</code> parameter (e.g., <code>level='progress'</code>). The <code>level</code> controls which log file the message goes to, while <code>log_type</code> only controls the terminal color.</p>"},{"location":"developer_guide/coloring_rules/#color-to-type-mapping","title":"Color-to-type mapping","text":"<p>This table defines the intended use for each <code>log_type</code> and its corresponding color.</p> <code>log_type</code> Color Description &amp; Use Cases Example <code>default</code> White Standard, neutral output. Used for messages that don't fit any other category. <code>Running full simulation setup...</code> <code>header</code> Bright Magenta For major section headers that announce the start of a significant phase of the study. <code>--- Starting Far-Field Study: My Study ---</code> <code>progress</code> Green High-level progress updates that indicate a specific, positive step forward in the process. <code>--- Processing Frequency 1/5: 700MHz ---</code> <code>success</code> Bright Green Indicates the successful completion of a major operation or the entire study. <code>--- Study Finished ---</code> or <code>All required packages are already installed.</code> <code>info</code> Cyan Important, non-critical information that provides context, such as file paths or key configuration settings. <code>Project path set to: D:\\...</code> or <code>Solver kernel set to: Acceleware</code> <code>highlight</code> Bright Yellow Used to draw attention to a specific value or result within a block of text, such as a key performance metric. <code>Final Balance: 99.87%</code> <code>warning</code> Yellow For non-critical issues or potential problems that the user should be aware of, but that don't stop the process. <code>WARNING: Could not extract power balance.</code> or <code>GetPower() not available, falling back to manual extraction.</code> <code>error</code> Red For recoverable errors or failures within a specific part of the process. The overall study may continue. <code>ERROR: An error occurred during placement 'by_cheek': ...</code> <code>fatal</code> Magenta For critical, non-recoverable errors that will terminate the study. <code>FATAL ERROR: Could not find simulation bounding box.</code> <code>verbose</code> Blue Detailed, low-level debugging information intended for the <code>verbose</code> log stream. Not typically for progress updates. <code>- Activating line profiler for subtask: setup_simulation</code> <p>By following these rules, we can create a more intuitive and effective user experience.</p>"},{"location":"developer_guide/configuration/","title":"GOLIAT Configuration Guide","text":"<p>GOLIAT uses a hierarchical JSON configuration system to define all aspects of a simulation study. This modular approach allows for flexibility and reproducibility. A study-specific configuration file (e.g., <code>near_field_config.json</code>) inherits settings from a <code>base_config.json</code> file, allowing you to override only the parameters you need for a specific study.</p> <p>This guide provides a reference for all available configuration parameters, their purpose, and valid values.</p>"},{"location":"developer_guide/configuration/#configuration-hierarchy","title":"Configuration hierarchy","text":"<p>The system is designed to avoid repetition by allowing configurations to \"extend\" a base file. The child's values will always override the parent's.</p> <pre><code>graph TD\n    base[base_config.jsonShared settings]\n    nf[near_field_config.jsonNear-field specifics]\n    ff[far_field_config.jsonFar-field specifics]\n\n    base --&gt;|extends| nf\n    base --&gt;|extends| ff\n\n    style base fill:#4CAF50\n    style nf fill:#2196F3\n    style ff fill:#2196F3\n</code></pre> <p>To create a custom study, you can copy an existing configuration and modify it. For example, to create <code>my_study.json</code>:</p> <pre><code>{\n  \"extends\": \"near_field_config.json\",\n  \"phantoms\": [\"thelonious\"],\n  \"frequencies_mhz\": [900]\n}\n</code></pre>"},{"location":"developer_guide/configuration/#1-core-settings-base_configjson","title":"1. Core Settings (<code>base_config.json</code>)","text":"<p>These are the foundational settings shared across all study types.</p> Parameter Type Example Value Description <code>extends</code> string <code>\"base_config.json\"</code> (Optional) Specifies the parent configuration file to inherit from. This is typically used in study-specific configs. <code>study_type</code> string <code>\"near_field\"</code> (Required) The type of study to run. Valid options are <code>\"near_field\"</code> or <code>\"far_field\"</code>. <code>use_gui</code> boolean <code>true</code> If <code>true</code>, the graphical user interface (GUI) will be launched to monitor progress. If <code>false</code>, the study runs in headless mode, printing logs to the console. <code>phantoms</code> array <code>[\"thelonious\", \"eartha\"]</code> A list of the virtual human phantom models to be used in the study. For near-field studies, you can also include <code>\"freespace\"</code> to run a simulation of the antenna in isolation. <code>verbose</code> boolean <code>false</code> If <code>true</code>, enables detailed verbose logging to the console, in addition to the standard progress logs. <p></p>"},{"location":"developer_guide/configuration/#2-execution-control-execution_control","title":"2. Execution Control (<code>execution_control</code>)","text":"<p>This object controls which phases of the workflow are executed. This is useful for re-running specific parts of a study, such as only extracting results from an already completed simulation.</p> Parameter Type Default Description <code>do_setup</code> boolean <code>true</code> If <code>true</code>, the simulation scene will be built (phantoms loaded, materials assigned, etc.). <code>do_run</code> boolean <code>true</code> If <code>true</code>, the simulation solver will be executed. <code>do_extract</code> boolean <code>true</code> If <code>true</code>, the results will be extracted from the simulation output and processed. <code>only_write_input_file</code> boolean <code>false</code> If <code>true</code>, the <code>run</code> phase will only generate the solver input file (<code>.h5</code>) and then stop, without actually running the simulation. This is useful for debugging the setup or for preparing files for a manual cloud submission. Note: This flag modifies the behavior of the run phase, so <code>do_run</code> must be <code>true</code> for this to have any effect. <code>batch_run</code> boolean <code>false</code> If <code>true</code>, enables the oSPARC batch submission workflow. This is an advanced feature for running many simulations in parallel on the cloud. <code>auto_cleanup_previous_results</code> array <code>[]</code> A list of file types to automatically delete after a simulation's results have been successfully extracted. This helps to preserve disk space in serial workflows. Valid values are: <code>\"output\"</code> (<code>*_Output.h5</code>), <code>\"input\"</code> (<code>*_Input.h5</code>), and <code>\"smash\"</code> (<code>*.smash</code>). Warning: This feature is incompatible with parallel or batch runs and should only be used when <code>do_setup</code>, <code>do_run</code>, and <code>do_extract</code> are all <code>true</code>. <p>The <code>do_setup</code> flag directly controls the project file (<code>.smash</code>) handling. Its behavior is summarized below:</p> <code>do_setup</code> Value File Exists? Action <code>true</code> Yes Delete and Override with a new project. <code>true</code> No Create a new project. <code>false</code> Yes Open and Use the existing project. <code>false</code> No Error and terminate the program. <p>Example: Write input file without running solver <pre><code>\"execution_control\": {\n  \"do_setup\": true,\n  \"do_run\": true,\n  \"do_extract\": false,\n  \"only_write_input_file\": true\n}\n</code></pre></p> <p>Common mistake</p> <p>Setting <code>only_write_input_file: true</code> with <code>do_run: false</code> will skip the run phase entirely. The flag only affects the behavior of the run phase, not whether it executes. You must set <code>do_run: true</code> for the input file to be written.</p> <p>Example: Extraction-only workflow <pre><code>\"execution_control\": {\n  \"do_setup\": false,\n  \"do_run\": false,\n  \"do_extract\": true\n}\n</code></pre></p> <p>Example: Aggressive Cleanup in a Serial Workflow <pre><code>\"execution_control\": {\n  \"do_setup\": true,\n  \"do_run\": true,\n  \"do_extract\": true,\n  \"auto_cleanup_previous_results\": [\"output\", \"input\"]\n}\n</code></pre></p> <p></p>"},{"location":"developer_guide/configuration/#3-simulation-parameters-simulation_parameters","title":"3. Simulation Parameters (<code>simulation_parameters</code>)","text":"<p>These settings control the core behavior of the FDTD solver.</p> Parameter Type Example Value Description <code>global_auto_termination</code> string <code>\"GlobalAutoTerminationUserDefined\"</code> The solver's termination criteria. <code>\"GlobalAutoTerminationWeak\"</code> is a common default, while <code>\"GlobalAutoTerminationUserDefined\"</code> allows for a custom convergence level. <code>convergence_level_dB</code> number <code>-15</code> The convergence threshold in decibels (dB) when using user-defined termination. The simulation stops when the energy in the system decays below this level. <code>simulation_time_multiplier</code> number <code>3.5</code> A multiplier used to determine the total simulation time. The time is calculated as the duration it takes for a wave to traverse the simulation bounding box diagonal, multiplied by this value. <code>number_of_point_sensors</code> number <code>8</code> The number of point sensors to place at the corners of the simulation bounding box. These sensors monitor the electric field over time. <code>point_source_order</code> array <code>[\"lower_left_bottom\", ...]</code> Defines the specific order and location of the point sensors at the 8 corners of the bounding box. <code>excitation_type</code> string <code>\"Harmonic\"</code> The type of excitation source. <code>\"Harmonic\"</code> is used for single-frequency simulations (standard for SAR). <code>\"Gaussian\"</code> is used for a frequency sweep, typically for antenna characterization in free-space. <code>bandwidth_mhz</code> number <code>50.0</code> The bandwidth in MHz for a Gaussian excitation. <code>bbox_padding_mm</code> number <code>50</code> (Far-Field) Padding in millimeters to add around the phantom's bounding box to define the simulation domain. <code>freespace_antenna_bbox_expansion_mm</code> array <code>[20, 20, 20]</code> (Near-Field) Padding in [x, y, z] millimeters to add around the antenna for free-space simulations. <p></p>"},{"location":"developer_guide/configuration/#4-gridding-parameters-gridding_parameters","title":"4. Gridding Parameters (<code>gridding_parameters</code>)","text":"<p>These settings define the spatial discretization of the simulation domain.</p> Parameter Type Example Value Description <code>global_gridding.grid_mode</code> string <code>\"automatic\"</code> The global gridding strategy. Can be <code>\"automatic\"</code> or <code>\"manual\"</code>. <code>global_gridding.refinement</code> string <code>\"AutoRefinementDefault\"</code> For automatic gridding, this sets the refinement level. Options: <code>\"VeryFine\"</code>, <code>\"Fine\"</code>, <code>\"Default\"</code>, <code>\"Coarse\"</code>, <code>\"VeryCoarse\"</code>. <code>global_gridding.manual_fallback_max_step_mm</code> number <code>3.0</code> For manual gridding, this is the maximum grid step size in millimeters used as a fallback. Note: GOLIAT enforces a hard limit of 3.0 mm for manual grids. Values larger than 3.0 mm will cause an error. See Troubleshooting for details. <code>global_gridding_per_frequency</code> object <code>{\"700\": 3.0}</code> (Far-Field) A mapping of frequency (in MHz) to a specific manual grid step size in millimeters. This allows for finer grids at higher frequencies. Note: All values must be \u2264 3.0 mm (GOLIAT enforces a hard limit). <code>padding.padding_mode</code> string <code>\"automatic\"</code> Defines how padding is applied around the simulation domain. Can be <code>\"automatic\"</code> or <code>\"manual\"</code>. <code>padding.manual_bottom_padding_mm</code> array <code>[0, 0, 0]</code> For manual padding, the [x, y, z] padding in millimeters at the bottom of the domain. <code>padding.manual_top_padding_mm</code> array <code>[0, 0, 0]</code> For manual padding, the [x, y, z] padding in millimeters at the top of the domain. <p></p>"},{"location":"developer_guide/configuration/#5-solver-and-miscellaneous-settings","title":"5. Solver and Miscellaneous Settings","text":"Parameter Type Example Value Description <code>solver_settings.kernel</code> string <code>\"Acceleware\"</code> The solver kernel to use. <code>\"Software\"</code> (CPU), <code>\"Acceleware\"</code> (GPU, required for near-field due to SIBC support), or <code>\"CUDA\"</code> (GPU). <code>solver_settings.boundary_conditions.type</code> string <code>\"UpmlCpml\"</code> The type of Perfectly Matched Layer (PML) boundary conditions. <code>solver_settings.boundary_conditions.strength</code> string <code>\"Medium\"</code> The strength of the PML boundary conditions. Options: <code>\"Weak\"</code>, <code>\"Medium\"</code>, <code>\"Strong\"</code>. <code>manual_isolve</code> boolean <code>true</code> If <code>true</code>, runs the <code>iSolve.exe</code> solver directly. This is the recommended setting to avoid a known bug with the Ares scheduler. <code>export_material_properties</code> boolean <code>false</code> (Advanced) If <code>true</code>, the framework will extract and save material properties from the simulation to a <code>.pkl</code> file. <code>line_profiling</code> object See below (Advanced) Enables detailed line-by-line code profiling for specific functions to debug performance. <p>Example: Line Profiling <pre><code>\"line_profiling\": {\n  \"enabled\": true,\n  \"subtasks\": {\n    \"setup_simulation\": [\"goliat.setups.base_setup.BaseSetup._finalize_setup\"]\n  }\n}\n</code></pre></p>"},{"location":"developer_guide/configuration/#6-far-field-specifics-far_field_configjson","title":"6. Far-Field Specifics (<code>far_field_config.json</code>)","text":"<p>These settings are unique to far-field (environmental exposure) studies.</p> Parameter Type Example Value Description <code>frequencies_mhz</code> array <code>[450, 700, 900]</code> An array of frequencies in MHz to simulate. Each frequency will generate a separate <code>.smash</code> project file containing simulations for all directions and polarizations. <code>far_field_setup.type</code> string <code>\"environmental\"</code> The far-field scenario type. Currently, only <code>\"environmental\"</code> (plane waves) is fully implemented. <code>far_field_setup.environmental.incident_directions</code> array <code>[\"x_pos\", \"y_neg\"]</code> A list of plane wave incident directions. Supported values are single-axis directions: <code>\"x_pos\"</code>, <code>\"x_neg\"</code>, <code>\"y_pos\"</code>, <code>\"y_neg\"</code>, <code>\"z_pos\"</code>, <code>\"z_neg\"</code>. <code>far_field_setup.environmental.polarizations</code> array <code>[\"theta\", \"phi\"]</code> A list of polarizations to simulate for each incident direction. <code>\"theta\"</code> corresponds to vertical polarization and <code>\"phi\"</code> to horizontal. <p></p>"},{"location":"developer_guide/configuration/#7-near-field-specifics-near_field_configjson","title":"7. Near-Field Specifics (<code>near_field_config.json</code>)","text":"<p>These settings are unique to near-field (device exposure) studies.</p>"},{"location":"developer_guide/configuration/#antenna-configuration-antenna_config","title":"Antenna configuration (<code>antenna_config</code>)","text":"<p>This object defines all antenna-specific information, with a separate entry for each frequency.</p> Parameter Type Example Value Description <code>antenna_config.{freq}.model_type</code> string <code>\"PIFA\"</code> The type of antenna model, used to select specific setup logic. Options: <code>\"PIFA\"</code>, <code>\"IFA\"</code>. <code>antenna_config.{freq}.source_name</code> string <code>\"Lines 1\"</code> The name of the source entity within the antenna's CAD model. <code>antenna_config.{freq}.materials</code> object <code>{ \"Extrude 1\": \"Copper\", ...}</code> Maps component names in the antenna's CAD model to Sim4Life material names. <code>antenna_config.{freq}.gridding</code> object <code>{ \"automatic\": [...], \"manual\": {...} }</code> Defines gridding strategies (automatic or manual with specific step sizes) for different parts of the antenna model. <code>antenna_config.{freq}.gridding.subgridding</code> object <code>{ \"components\": [...], ...}</code> (Optional) Enables subgridding for a list of components, which overrides any manual gridding settings for those components. This is useful for finely detailed parts that require a much higher resolution than the rest of the model. See below for subgridding configuration details."},{"location":"developer_guide/configuration/#placement-scenarios-placement_scenarios","title":"Placement scenarios (<code>placement_scenarios</code>)","text":"<p>This object defines the different device placements to be simulated.</p> Parameter Type Example Value Description <code>placement_scenarios.{name}.positions</code> object <code>{ \"center\": [0,0,0], ...}</code> A set of named relative positions (as [x, y, z] offsets) for the placement scenario. <code>placement_scenarios.{name}.orientations</code> object <code>{ \"vertical\": [], ...}</code> A set of named orientations to be applied at each position. Each orientation is a list of rotation steps. See below for an alternative dictionary format for <code>by_cheek</code> phantom rotation. <code>placement_scenarios.{name}.bounding_box</code> string <code>\"default\"</code> Determines which part of the phantom to include in the simulation bounding box. Options: <code>\"default\"</code>, <code>\"head\"</code>, <code>\"trunk\"</code>, <code>\"whole_body\"</code>. The <code>\"default\"</code> option intelligently chooses \"head\" for eye/cheek placements and \"trunk\" for belly placements. <code>placement_scenarios.{name}.phantom_reference</code> string <code>\"tragus\"</code> (Optional) Specifies an anatomical reference point used for placement calculations. The reference point coordinates are defined in <code>phantom_definitions.{phantom_name}</code>. Common values: <code>\"nasion\"</code> (for <code>front_of_eyes</code>), <code>\"tragus\"</code> (for <code>by_cheek</code>), <code>\"belly_button\"</code> (for <code>by_belly</code>). If not specified, the default placement center is used. <code>placement_scenarios.{name}.antenna_reference</code> object <code>{ \"distance_from_top\": 10 }</code> (Optional) Defines antenna positioning relative to a reference point on the antenna model. <p></p> <p>Alternative orientation format for <code>by_cheek</code> phantom rotation</p> <p>For the <code>by_cheek</code> scenario, an alternative dictionary format can be used to enable automatic phantom rotation towards the phone. This is useful for precise placement based on contact.</p> <pre><code>\"orientations\": {\n  \"cheek_base\": {\n    \"rotate_phantom_to_cheek\": true,\n    \"angle_offset_deg\": 0\n  }\n}\n</code></pre> <ul> <li><code>rotate_phantom_to_cheek</code>: (boolean) If <code>true</code>, the phantom rotates on its Z-axis to touch the phone.</li> <li><code>angle_offset_deg</code>: (number) An additional angle in degrees to rotate the phantom away from the phone after contact is detected.</li> </ul> <p>Subgridding configuration</p> <p>Subgridding allows specific antenna components to use a finer grid resolution than the global grid. This is configured in the <code>antenna_config.{freq}.gridding.subgridding</code> object:</p> <pre><code>{\n  \"antenna_config\": {\n    \"700\": {\n      \"gridding\": {\n        \"subgridding\": {\n          \"components\": [\"component1:Battery\", \"component1:Patch\", \"Extrude 1\", \"component1:ShortingPin\"],\n          \"SubGridMode\": \"Box\",\n          \"SubGridLevel\": \"x9\",\n          \"AutoRefinement\": \"AutoRefinementVeryFine\"\n        }\n      }\n    }\n  }\n}\n</code></pre> <ul> <li><code>components</code>: (array of strings) List of component names to apply subgridding to. These components will use the subgrid resolution instead of the global or manual grid settings.</li> <li><code>SubGridMode</code>: (string) The subgrid mode, typically <code>\"Box\"</code>.</li> <li><code>SubGridLevel</code>: (string) The subgrid level multiplier relative to the global grid. Common values: <code>\"x9\"</code> (9x finer), <code>\"x3\"</code> (3x finer). Higher values provide finer resolution but increase computation time.</li> <li><code>AutoRefinement</code>: (string) The refinement level for subgridded components. Options: <code>\"AutoRefinementVeryFine\"</code>, <code>\"AutoRefinementFine\"</code>, <code>\"AutoRefinementDefault\"</code>.</li> </ul> <p>Subgridding overrides any manual gridding settings for the specified components. Components not listed in the <code>components</code> array use the global gridding strategy (automatic or manual) as configured.</p>"},{"location":"developer_guide/configuration/#phantom-definitions-phantom_definitions","title":"Phantom definitions (<code>phantom_definitions</code>)","text":"<p>This object contains phantom-specific settings, such as which placements to run and the separation distances.</p> Parameter Type Example Value Description <code>phantom_definitions.{name}.placements</code> object <code>{ \"do_by_cheek\": true, ...}</code> A set of booleans to enable or disable specific placement scenarios for a given phantom. The key must match a scenario name from <code>placement_scenarios</code>. <code>phantom_definitions.{name}.distance_from_cheek</code> number <code>8</code> The separation distance in millimeters for the \"by_cheek\" placement. <code>phantom_definitions.{name}.distance_from_eye</code> number <code>200</code> The separation distance in millimeters for the \"front_of_eyes\" placement. <code>phantom_definitions.{name}.distance_from_belly</code> number <code>100</code> The separation distance in millimeters for the \"by_belly\" placement. <code>phantom_definitions.{name}.lips</code> array <code>[0, 122, 31]</code> The [x, y, z] coordinates of the center of the lips, used for the 'cheek' placement calculation. <code>phantom_definitions.{name}.nasion</code> array <code>[-1, 0, 0]</code> (Optional) Relative [x, y, z] offset coordinates for the nasion landmark, used as a reference point for <code>front_of_eyes</code> placement when <code>phantom_reference: \"nasion\"</code> is specified. These coordinates are offsets from the geometrically calculated eye center (derived from eye entity bounding boxes). The coordinate system: X (inside head to right ear out), Y (out of face), Z (up head and out). <code>phantom_definitions.{name}.tragus</code> array <code>[0, 7, -5]</code> (Optional) Relative [x, y, z] offset coordinates for the tragus landmark, used as a reference point for <code>by_cheek</code> placement when <code>phantom_reference: \"tragus\"</code> is specified. These coordinates are offsets from the geometrically calculated ear center (derived from Ear_skin entity bounding box). The coordinate system: X (inside head to right ear out), Y (out of face), Z (up head and out). <code>phantom_definitions.{name}.belly_button</code> array <code>[-5, 0, -140]</code> (Optional) Relative [x, y, z] offset coordinates for the belly button landmark, used as a reference point for <code>by_belly</code> placement when <code>phantom_reference: \"belly_button\"</code> is specified. These coordinates are offsets from the geometrically calculated trunk center (derived from trunk bounding box). The coordinate system: X (inside head to right ear out), Y (out of face), Z (up head and out). <p>How reference point coordinates are derived:</p> <p>The reference point coordinates (nasion, tragus, belly_button) are relative offsets, not absolute positions. They are calculated as offsets from geometrically derived centers:</p> <ul> <li><code>nasion</code>: Offset from the center of the eye bounding box (calculated from Eye/Cornea entities)</li> <li><code>tragus</code>: Offset from the center of the ear bounding box (calculated from Ear_skin entity)</li> <li><code>belly_button</code>: Offset from the center of the trunk bounding box (calculated from Trunk_BBox entity)</li> </ul> <p>These offsets are determined through anatomical landmark identification techniques and are added to the calculated geometric centers during placement. The coordinate system is consistent across all phantoms: X-axis extends from inside the head toward the right ear, Y-axis extends outward from the face, and Z-axis extends upward along the head.</p>"},{"location":"developer_guide/configuration/#8-credentials-and-data","title":"8. Credentials and Data","text":"<p>For security and portability, certain information is handled outside the main configuration files.</p>"},{"location":"developer_guide/configuration/#osparc-credentials","title":"oSPARC Credentials","text":"<p>oSPARC API credentials should be stored in a <code>.env</code> file in the project root directory.</p> <pre><code># .env file\nOSPARC_API_KEY=your_osparc_api_key\nOSPARC_API_SECRET=your_osparc_api_secret\n</code></pre>"},{"location":"developer_guide/configuration/#phantom-downloads","title":"Phantom downloads","text":"<p>Some phantom models require an email address for download, which can also be set in the <code>.env</code> file. This should be the email associated with your institution's Sim4Life license.</p> <pre><code># .env file\nDOWNLOAD_EMAIL=your_email@example.com\n</code></pre> <p>This structure makes every aspect of a GOLIAT simulation controllable, reproducible, and easy to manage. For more workflow-oriented information, please see the User Guide. For a complete list of all GOLIAT features, see the Full List of Features.</p>"},{"location":"developer_guide/developer_guide/","title":"Developer Guide","text":"<p>This guide is for developers extending or maintaining GOLIAT. It covers the codebase structure, testing, and contribution process. GOLIAT is modular Python code interfacing with Sim4Life for EMF simulations.</p>"},{"location":"developer_guide/developer_guide/#codebase-structure","title":"Codebase structure","text":"<p>GOLIAT's architecture separates concerns:</p> <ul> <li>goliat/config.py: Loads JSON configs with inheritance (e.g., base + study-specific).</li> <li>goliat/studies/: Orchestrates workflows (NearFieldStudy, FarFieldStudy inherit from BaseStudy).</li> <li>goliat/setups/: Builds Sim4Life scenes (PhantomSetup, PlacementSetup, MaterialSetup, etc.).</li> <li>goliat/project_manager.py: Handles .smash files (create/open/save/close), including a \"Verify and Resume\" feature to avoid re-running simulations with unchanged configurations.</li> <li>goliat/simulation_runner.py: Executes simulations (local iSolve or oSPARC cloud).</li> <li>goliat/results_extractor.py: Extracts SAR/power data post-simulation.</li> <li>goliat/analysis/: Aggregates results (Analyzer with strategies for near/far-field).</li> <li>goliat/gui_manager.py: Multiprocessing GUI for progress/ETA.</li> <li>goliat/logging_manager.py: Dual loggers (progress/verbose) with colors.</li> <li>goliat/profiler.py: Tracks phases (setup/run/extract) for ETAs.</li> <li>goliat/utils.py: Helpers (format_time, non_blocking_sleep, simple Profiler).</li> </ul> <p>Key flow: Config \u2192 BaseStudy.run() \u2192 Setups \u2192 Runner \u2192 Extractor \u2192 Analyzer. For more details on the high-level architecture, see the Technical Guide.</p>"},{"location":"developer_guide/developer_guide/#installation","title":"Installation","text":"<p>GOLIAT uses an editable package installation (<code>python -m pip install -e .</code>). This is the only supported installation method.</p> <p>First-time setup:</p> <ol> <li> <p>Set up Sim4Life Python environment:    <pre><code>source .bashrc\n</code></pre></p> </li> <li> <p>Install GOLIAT package in editable mode:    <pre><code>python -m pip install -e .\n</code></pre></p> </li> </ol> <p>Always use <code>python -m pip</code>: Always use <code>python -m pip</code> instead of <code>pip</code> directly. This ensures you're using the pip associated with Sim4Life's Python interpreter. The same applies to other Python commands: use <code>python -m &lt;module&gt;</code> when possible.</p> <ol> <li>Run the initialization command:    <pre><code>goliat init\n</code></pre></li> </ol> <p>This will: - Verify Sim4Life Python interpreter is being used - Prepare data files (phantoms, antennas)</p> <p>Alternative: Commands like <code>goliat study</code> will automatically prompt you to install if needed when first run.</p> <p>Benefits of editable install: - Code modifications are immediately reflected (no reinstall needed) - Better IDE support and autocomplete - Standard Python package structure - Scripts can be run from any directory</p> <p>Note: If you need to reinstall (e.g., after pulling updates), you can manually run: <pre><code>python -m pip install -r requirements.txt\npython -m pip install -e .\n</code></pre></p> <p>GOLIAT uses <code>pytest</code> for testing, with tests located in the <code>tests/</code> directory.</p>"},{"location":"developer_guide/developer_guide/#handling-the-s4l_v1-dependency","title":"Handling the <code>s4l_v1</code> dependency","text":"<p>Much of the codebase requires <code>s4l_v1</code>, a proprietary library available only within the Sim4Life Python environment on Windows. This prevents tests that rely on it from running in the Linux-based CI environment.</p> <p>To manage this, tests requiring <code>s4l_v1</code> are marked with <code>@pytest.mark.skip_on_ci</code>. The CI pipeline is configured to exclude these marked tests, allowing it to validate platform-independent code while avoiding environment-specific failures.</p> <pre><code># Command used in .github/workflows/test.yml\npytest -m \"not skip_on_ci\" tests/\n</code></pre>"},{"location":"developer_guide/developer_guide/#local-testing-setup","title":"Local testing setup","text":"<p>To run the complete test suite, your local development environment must use the Sim4Life Python interpreter.</p>"},{"location":"developer_guide/developer_guide/#vs-code-configuration","title":"VS Code Configuration","text":"<ol> <li>Open the Command Palette (<code>Ctrl+Shift+P</code>).</li> <li>Run the <code>Python: Select Interpreter</code> command.</li> <li>Select <code>+ Enter interpreter path...</code> and find the <code>python.exe</code> in your Sim4Life installation directory (e.g., <code>C:\\Program Files\\Sim4Life_8.2.0.16876\\Python\\python.exe</code>). This configures VS Code to use the correct interpreter, which includes the <code>s4l_v1</code> library.</li> </ol>"},{"location":"developer_guide/developer_guide/#running-tests-locally","title":"Running tests locally","text":"<p>With the interpreter set, run the full test suite from the terminal.</p> <ol> <li>First-time Setup: Run <code>goliat init</code> to install dependencies and set up the environment. Alternatively, run any command (e.g., <code>goliat --help</code>) and accept the dependency installation prompt when asked.</li> <li>Run Pytest:     <pre><code># This executes all tests, including those skipped by CI\npytest tests/ -v\n</code></pre></li> </ol>"},{"location":"developer_guide/developer_guide/#adding-new-tests","title":"Adding new tests","text":"<ul> <li>If a new test depends on <code>s4l_v1</code> (or imports a module that does), it must be decorated with <code>@pytest.mark.skip_on_ci</code>.</li> <li>If a test is self-contained and has no Sim4Life dependencies, it does not need the marker.</li> </ul> <pre><code>import pytest\nfrom goliat.utils import format_time # This module has s4l_v1 dependencies\n\n# This test requires the Sim4Life environment and will be skipped on CI.\n@pytest.mark.skip_on_ci\ndef test_a_function_that_needs_s4l():\n    # ... test logic ...\n    pass\n\n# This test is self-contained and will run everywhere.\ndef test_a_self_contained_function():\n    assert 2 + 2 == 4\n</code></pre>"},{"location":"developer_guide/developer_guide/#extending-the-framework","title":"Extending the framework","text":""},{"location":"developer_guide/developer_guide/#adding-a-new-setup","title":"Adding a new setup","text":"<p>To add a custom source (e.g., dipole):</p> <ol> <li>Create <code>goliat/setups/dipole_setup.py</code> inheriting BaseSetup.</li> <li>Implement <code>run_full_setup()</code>: Load dipole CAD, position.</li> <li>Update NearFieldStudy/FarFieldStudy to use it (e.g., if \"study_type\": \"dipole\").</li> <li>Add to config schema in config.py.</li> </ol> <p>Example in dipole_setup.py:</p> <pre><code>class DipoleSetup(BaseSetup):\n    def run_full_setup(self, project_manager):\n        # Custom logic\n        pass\n</code></pre>"},{"location":"developer_guide/developer_guide/#contribution-workflow","title":"Contribution workflow","text":"<ol> <li>Fork the repo.</li> <li>Create branch: <code>git checkout -b feature/new-setup</code>.</li> <li>Code: Follow style (Ruff-formatted, type hints).</li> <li>Test locally: <code>pytest</code>.</li> <li>Commit: <code>git commit -m \"Add dipole setup\"</code>.</li> <li>PR to main: Describe changes, reference issues.</li> </ol> <p>PR requirements: - Run pre-commit: <code>pre-commit run --all-files</code>. - Tests: Add for new features. - Docs: Update user_guide.md if user-facing.</p>"},{"location":"developer_guide/developer_guide/#building-docs","title":"Building docs","text":"<p>To build the documentation, you first need to install the documentation-specific dependencies.</p> <pre><code># Install docs dependencies\npython -m pip install -r requirements-docs.txt\n</code></pre> <p>Then, you can use MkDocs to serve the documentation locally or build the static site.</p> <pre><code># Serve the docs locally\nmkdocs serve  # Local server at http://127.0.0.1:8000\n\n# Build the static site\nmkdocs build  # Outputs to site/\n</code></pre> <p>For UML (classes.puml and packages_GOLIAT.puml): Use PlantUML viewer or VS Code extension.</p>"},{"location":"developer_guide/developer_guide/#code-style","title":"Code style","text":"<ul> <li>Formatting &amp; Linting: Ruff (replaces Black, flake8, isort).</li> <li>Type Checking: Pyright.</li> <li>Types: Use typing (e.g., <code>Dict[str, Any]</code>).</li> <li>Docs: Google-style docstrings.</li> </ul> <p>Pre-commit hook (install: <code>pre-commit install</code>):</p> <pre><code># .pre-commit-config.yaml\nrepos:\n  - repo: https://github.com/astral-sh/ruff-pre-commit\n    rev: v0.14.2 # Or newer\n    hooks:\n      - id: ruff-format\n      - id: ruff\n        args: [--fix]\n  - repo: https://github.com/RobertCraigie/pyright-python\n    rev: v1.1.407 # Or newer\n    hooks:\n      - id: pyright\n</code></pre> <p>Run: <code>pre-commit run</code>.</p>"},{"location":"developer_guide/developer_guide/#other-notes","title":"Other notes","text":"<ul> <li>Dependencies: requirements.txt (no Poetry).</li> <li>Gitignore: Ignore logs/, results/, .env.</li> <li>License: Apache-2.0 - see LICENSE.</li> <li>Changelog: Update CHANGELOG.md for releases.</li> <li>Version management: Version is stored in <code>pyproject.toml</code> (<code>[project] version</code>) as the single source of truth. The package reads it via <code>importlib.metadata</code> when installed, or from <code>pyproject.toml</code> directly when running from source.</li> </ul> <p>For more, see Contributing. For a deep dive into all available parameters, refer to the Configuration Guide. For a complete reference of all features, see the Full List of Features.</p>"},{"location":"developer_guide/technical_guide/","title":"GOLIAT technical guide","text":"<p>This document provides an overview of the GOLIAT project's architecture, key components, and core functionalities. It is intended for developers who want to understand, extend, or maintain the codebase.</p>"},{"location":"developer_guide/technical_guide/#core-philosophy","title":"Core philosophy","text":"<p>GOLIAT is designed with a modular, configuration-driven architecture. The primary goal is to automate the entire EMF dosimetry simulation workflow\u2014scene setup, execution, and results analysis\u2014while maintaining reproducibility and scalability. The system is orchestrated by Study classes, which manage the simulation lifecycle based on parameters defined in JSON configuration files. This approach allows for easy modification of simulation parameters without changing the underlying code, and it allows simulations to be repeated with the exact same settings.</p>"},{"location":"developer_guide/technical_guide/#system-architecture","title":"System architecture","text":"<p>The application is structured in several distinct layers, each with a specific responsibility. This separation of concerns makes the system easier to understand, maintain, and extend.</p> <pre><code>graph TB\n    subgraph \"User Interface Layer\"\n        GUI[GUI ManagerPySide6]\n        CLI[Command Line]\n    end\n\n    subgraph \"Orchestration Layer\"\n        Study[Study ClassesNearFieldStudy / FarFieldStudy]\n        Config[Configuration Manager]\n        Profiler[Profiler &amp; Progress Tracking]\n    end\n\n    subgraph \"Core Processing Layer\"\n        PM[Project Manager]\n        Setup[Setup ClassesScene Building]\n        Runner[Simulation Runner]\n        Extractor[Results Extractor]\n    end\n\n    subgraph \"Analysis Layer\"\n        Analyzer[Analyzer]\n        Plotter[Plotter]\n    end\n\n    subgraph \"External Services\"\n        S4L[Sim4Life Engine]\n        oSPARC[oSPARC Cloud]\n    end\n\n    GUI --&gt; Study\n    CLI --&gt; Study\n    Study --&gt; Config\n    Study --&gt; Profiler\n    Study --&gt; PM\n    Study --&gt; Setup\n    Study --&gt; Runner\n    Study --&gt; Extractor\n    Extractor --&gt; Analyzer\n    Analyzer --&gt; Plotter\n    Runner --&gt; S4L\n    Runner --&gt; oSPARC\n    Setup --&gt; S4L\n    Extractor --&gt; S4L\n\n    style GUI fill:#E1BEE7\n    style Study fill:#BBDEFB\n    style Setup fill:#C5E1A5\n    style Runner fill:#FFE082\n    style Extractor fill:#FFCCBC\n    style Analyzer fill:#D1C4E9\n    style Plotter fill:#D1C4E9\n</code></pre>"},{"location":"developer_guide/technical_guide/#workflow-and-component-interactions","title":"Workflow and component interactions","text":"<p>The simulation process follows a clear, sequential workflow, orchestrated by the <code>NearFieldStudy</code> or <code>FarFieldStudy</code> classes. This workflow completes each step successfully before the next one begins, and it provides a clear structure for the entire simulation process.</p> <pre><code>sequenceDiagram\n    participant User\n    participant GUI\n    participant Study\n    participant Setup\n    participant Runner\n    participant Extractor\n    participant Files\n\n    User-&gt;&gt;GUI: Start Study\n    GUI-&gt;&gt;Study: Initialize\n    Study-&gt;&gt;Setup: Configure Scene\n    Setup-&gt;&gt;Files: Create .smash\n    Study-&gt;&gt;Runner: Execute Simulation\n    Runner-&gt;&gt;Files: Generate Input (.h5)\n    Runner-&gt;&gt;Runner: Run Solver\n    Runner-&gt;&gt;Files: Write Results\n    Study-&gt;&gt;Extractor: Process Results\n    Extractor-&gt;&gt;Files: Read Output\n    Extractor-&gt;&gt;Files: Save Reports\n    Study-&gt;&gt;GUI: Update Progress\n    GUI-&gt;&gt;User: Show Completion\n</code></pre>"},{"location":"developer_guide/technical_guide/#core-components","title":"Core components","text":"<p>This section details GOLIAT's core classes and their roles within the framework. For a complete API reference, please see the Full API Reference.</p>"},{"location":"developer_guide/technical_guide/#orchestration-layer","title":"Orchestration layer","text":""},{"location":"developer_guide/technical_guide/#config","title":"<code>Config</code>","text":"<ul> <li>Function: Loads and manages hierarchical JSON configurations. A study-specific config (e.g., <code>near_field_config.json</code>) extends a <code>base_config.json</code>, allowing for a clean override system. This design minimizes duplication and makes it easy to manage different simulation scenarios. The <code>Config</code> class is responsible for loading the <code>base_config.json</code> and then recursively merging the study-specific configuration over it.</li> <li> <p>Some interesting methods:</p> <ul> <li><code>get_setting(path, default)</code>: Retrieves nested settings using a dot-separated path.</li> <li><code>get_antenna_config()</code>: Returns antenna-specific settings.</li> <li><code>get_phantom_config(phantom_name)</code>: Returns settings for a specific phantom.</li> <li><code>_load_config_with_inheritance(path)</code>: The core method that handles the hierarchical loading of configuration files.</li> </ul> </li> <li> <p>API Reference: goliat.config.Config</p> </li> </ul>"},{"location":"developer_guide/technical_guide/#basestudy-nearfieldstudy-farfieldstudy","title":"<code>BaseStudy</code>, <code>NearFieldStudy</code>, <code>FarFieldStudy</code>","text":"<ul> <li>Function: Orchestrates the entire simulation workflow. <code>BaseStudy</code> provides the core structure, including the main <code>run()</code> method, logging, and profiling. <code>NearFieldStudy</code> and <code>FarFieldStudy</code> inherit from <code>BaseStudy</code> and implement the <code>_run_study()</code> method, which contains the specific logic for each study type. This inheritance-based design allows for code reuse and a clear separation of concerns.</li> <li> <p>Some interesting methods:</p> <ul> <li><code>run()</code>: The main entry point to execute the study. It handles top-level error handling and checks that the necessary Sim4Life environment is running. It then calls the <code>_run_study</code> method.</li> <li><code>_run_study()</code>: This is the core of each study. It loops through phantoms, frequencies, and placements, coordinating the setup, run, and extraction phases for each simulation.</li> </ul> </li> <li> <p>API Reference:</p> <ul> <li>goliat.studies.base_study.BaseStudy</li> <li>goliat.studies.near_field_study.NearFieldStudy</li> <li>goliat.studies.far_field_study.FarFieldStudy</li> </ul> </li> </ul>"},{"location":"developer_guide/technical_guide/#core-processing-layer","title":"Core processing layer","text":""},{"location":"developer_guide/technical_guide/#projectmanager","title":"<code>ProjectManager</code>","text":"<ul> <li>Function: Manages Sim4Life project files (<code>.smash</code>). It handles file creation, opening, saving, and validation to prevent issues with file locks or corruption. This is a component for maintaining the stability of the simulation process. It includes a <code>_is_valid_smash_file()</code> method that checks for file locks and verifies the HDF5 structure of the project file before attempting to open it.</li> <li> <p>Some interesting methods:</p> <ul> <li><code>create_or_open_project(...)</code>: Creates a new project or opens an existing one based on the configuration.</li> </ul> </li> <li> <p>API Reference: goliat.project_manager.ProjectManager</p> </li> </ul>"},{"location":"developer_guide/technical_guide/#setup-modules-goliatsetups","title":"Setup modules (<code>goliat/setups/</code>)","text":"<ul> <li>Function: A collection of specialized classes, each responsible for a specific part of the scene setup in Sim4Life. All setup classes inherit from <code>BaseSetup</code>, which provides common functionalities like logging and access to the Sim4Life API. The <code>NearFieldSetup</code> and <code>FarFieldSetup</code> classes coordinate the execution of the other setup modules. This modular design makes it easy to add new setup steps or modify existing ones.</li> <li> <p>Some components:</p> <ul> <li><code>PhantomSetup</code>: Loads and validates phantom models.</li> <li><code>PlacementSetup</code>: Positions the antenna relative to the phantom.</li> <li><code>MaterialSetup</code>: Assigns material properties to all entities.</li> <li><code>GriddingSetup</code>: Configures the spatial grid for the simulation.</li> <li><code>BoundarySetup</code>: Sets up the boundary conditions (e.g., PML).</li> <li><code>SourceSetup</code>: Configures the EMF sources and sensors.</li> </ul> </li> <li> <p>API Reference: goliat.setups</p> </li> </ul>"},{"location":"developer_guide/technical_guide/#simulationrunner","title":"<code>SimulationRunner</code>","text":"<ul> <li>Function: Executes a single simulation, either locally using <code>iSolve.exe</code> or by submitting it to the oSPARC cloud platform. It also handles real-time logging of the solver output. A key feature is the <code>_run_isolve_manual</code> method, which runs the solver in a separate process and uses a non-blocking reader thread to capture and log its output in real-time.</li> <li> <p>Some interesting methods:</p> <ul> <li><code>run()</code>: Executes a single simulation as defined by its configuration.</li> </ul> </li> <li> <p>API Reference: goliat.simulation_runner.SimulationRunner</p> </li> </ul>"},{"location":"developer_guide/technical_guide/#resultsextractor","title":"<code>ResultsExtractor</code>","text":"<ul> <li>Function: Post-processes the simulation output. It uses a set of specialized extractor modules in the <code>goliat/extraction/</code> directory to pull key metrics. This modular approach makes it easy to add new extraction capabilities.</li> <li> <p>Extractor modules:</p> <ul> <li><code>PowerExtractor</code>: Extracts input power and power balance.</li> <li><code>SarExtractor</code>: Extracts detailed SAR statistics for all tissues.</li> <li><code>SensorExtractor</code>: Extracts data from point sensors.</li> <li><code>Reporter</code>: Generates detailed reports in Pickle and HTML formats.</li> <li><code>Cleaner</code>: Handles cleanup of simulation files to save disk space.</li> <li> <p>Some interesting methods:</p> </li> <li> <p><code>extract()</code>: Orchestrates the entire extraction process.</p> </li> </ul> </li> <li> <p>API Reference: goliat.results_extractor.ResultsExtractor</p> </li> </ul>"},{"location":"developer_guide/technical_guide/#analysis-layer","title":"Analysis layer","text":""},{"location":"developer_guide/technical_guide/#analyzer-strategies","title":"<code>Analyzer</code> &amp; Strategies","text":"<ul> <li>Function: The <code>Analyzer</code> class orchestrates the analysis of extracted results. It uses a strategy pattern, delegating the specifics of the analysis to a <code>BaseAnalysisStrategy</code> subclass (<code>NearFieldAnalysisStrategy</code> or <code>FarFieldAnalysisStrategy</code>). This design allows for different analysis workflows to be implemented without changing the core <code>Analyzer</code> logic. The strategy is responsible for loading the correct data, calculating summary statistics, and generating the appropriate plots.</li> <li> <p>Some interesting methods:</p> <ul> <li><code>run_analysis()</code>: Loads results, applies the strategy, and generates reports and plots.</li> </ul> </li> <li> <p>API Reference:</p> <ul> <li>goliat.analysis.analyzer.Analyzer</li> <li>goliat.analysis.base_strategy.BaseAnalysisStrategy</li> </ul> </li> </ul>"},{"location":"developer_guide/technical_guide/#plotter","title":"<code>Plotter</code>","text":"<ul> <li>Function: Generates a variety of plots from the analyzed data. It is designed to be a flexible component that can be easily extended to create new types of visualizations.</li> <li> <p>Some interesting methods:</p> <ul> <li><code>plot_sar_heatmap(...)</code>: Creates a heatmap of SAR distribution by tissue.</li> <li><code>plot_average_sar_bar(...)</code>: Generates a bar chart of average SAR values.</li> <li><code>plot_pssar_line(...)</code>: Creates a line plot of peak spatial-average SAR.</li> <li><code>plot_sar_distribution_boxplots(...)</code>: Generates boxplots to show the distribution of SAR values.</li> </ul> </li> <li> <p>API Reference: goliat.analysis.plotter.Plotter</p> </li> </ul>"},{"location":"developer_guide/technical_guide/#advanced-features","title":"Advanced features","text":""},{"location":"developer_guide/technical_guide/#gui-profiling-and-logging","title":"GUI, profiling, and logging","text":"<p>The application uses a multi-process architecture to provide a responsive GUI. The <code>Profiler</code> class manages time estimation and progress tracking, using historical data from <code>profiling_config.json</code> to improve its accuracy over time. The logging system is split into a user-facing <code>progress</code> stream and a detailed <code>verbose</code> stream.</p> <p>For a deep dive into the architecture of these systems, refer to the Advanced Features Guide.</p> <p>For a complete and detailed API reference, please refer to the Full API Reference. For a comprehensive list of all user-facing features, see the Full List of Features.</p>"},{"location":"developer_guide/uml/","title":"UML Diagrams","text":"<p>These diagrams are generated from the Python sources under <code>goliat/</code> using Pyreverse (from Pylint). The generator script is <code>scripts/generate_uml.py</code>.</p> Class Diagram Could not retrieve image data, got: Forbidden [403]<p></p><pre><code>@startuml classes_GOLIAT\nset namespaceSeparator none\nclass \"Analyzer\" as goliat.analysis.analyzer.Analyzer {\n  all_organ_results : list\n  all_results : list\n  base_dir\n  config : str\n  phantom_name : str\n  plotter\n  results_base_dir\n  strategy : str\n  tissue_group_definitions : dict\n  __init__(config: 'Config', phantom_name: str, strategy: 'BaseAnalysisStrategy')\n  _convert_units_and_cache(results_df: pd.DataFrame, organ_results_df: pd.DataFrame) -&gt; pd.DataFrame\n  _export_reports(results_df: pd.DataFrame, all_organ_results_df: pd.DataFrame)\n  _generate_plots(results_df: pd.DataFrame, all_organ_results_df: pd.DataFrame)\n  _process_single_result(frequency_mhz: int, scenario_name: str, pos_name: str, orient_name: str)\n  run_analysis()\n}\nclass \"Antenna\" as goliat.antenna.Antenna {\n  antenna_config\n  config : str\n  frequency_mhz : int\n  __init__(config: 'Config', frequency_mhz: int)\n  get_centered_antenna_path(centered_antennas_dir: str) -&gt; str\n  get_config_for_frequency() -&gt; dict\n  get_model_type() -&gt; str\n  get_source_entity_name() -&gt; str\n}\nclass \"BaseAnalysisStrategy\" as goliat.analysis.base_strategy.BaseAnalysisStrategy {\n  base_dir\n  config : str\n  phantom_name : str\n  __init__(config: 'Config', phantom_name: str)\n  {abstract}apply_bug_fixes(result_entry: dict) -&gt; dict\n  {abstract}calculate_summary_stats(results_df: pd.DataFrame) -&gt; pd.DataFrame\n  {abstract}extract_data(pickle_data: dict, frequency_mhz: int, placement_name: str, scenario_name: str, sim_power: float, norm_factor: float) -&gt; tuple[dict, list]\n  {abstract}generate_plots(analyzer: 'Analyzer', plotter: 'Plotter', results_df: pd.DataFrame, all_organ_results_df: pd.DataFrame)\n  {abstract}get_normalization_factor(frequency_mhz: int, simulated_power_w: float) -&gt; float\n  {abstract}get_plots_dir() -&gt; str\n  {abstract}get_results_base_dir() -&gt; str\n  {abstract}load_and_process_results(analyzer: 'Analyzer')\n}\nclass \"BaseSetup\" as goliat.setups.base_setup.BaseSetup {\n  config : str\n  emfdtd\n  model\n  progress_logger : str\n  s4l_v1\n  verbose_logger : str\n  __init__(config: 'Config', verbose_logger: 'Logger', progress_logger: 'Logger')\n  _add_point_sensors(simulation: 'emfdtd.Simulation', sim_bbox_entity_name: str)\n  _apply_simulation_time_and_termination(simulation: 'emfdtd.Simulation', sim_bbox_entity: 'model.Entity', frequency_mhz: int)\n  _finalize_setup(project_manager: 'ProjectManager', simulation: 'emfdtd.Simulation', all_simulation_parts: list, frequency_mhz: int)\n  _setup_solver_settings(simulation: 'emfdtd.Simulation')\n  {abstract}run_full_setup(project_manager: 'ProjectManager')\n}\nclass \"BaseStudy\" as goliat.studies.base_study.BaseStudy {\n  base_dir\n  config\n  gui : Optional['QueueGUI']\n  line_profiler : NoneType\n  no_cache : bool\n  profiler\n  progress_logger : NoneType, RootLogger\n  project_manager\n  study_type : str\n  verbose_logger : NoneType, RootLogger\n  __init__(study_type: str, config_filename: Optional[str], gui: Optional['QueueGUI'], profiler, no_cache: bool)\n  _check_for_stop_signal()\n  _execute_run_phase(simulation)\n  _log_line_profiler_stats(task_name: str, lp: LineProfiler)\n  {abstract}_run_study()\n  _setup_line_profiler_if_needed(subtask_name: str, instance) -&gt; tuple\n  _verify_and_update_metadata(stage: str)\n  end_stage_animation()\n  run()\n  start_stage_animation(task_name: str, end_value: int)\n  subtask(task_name: str, instance_to_profile)\n}\nclass \"BatchGUI\" as goliat.osparc_batch.gui.BatchGUI {\n  button_layout\n  cancel_jobs_requested\n  force_stop_button\n  print_progress_requested\n  progress_button\n  stop_and_cancel_button\n  stop_run_requested\n  tray_button\n  tray_icon\n  __init__()\n  closeEvent(event)\n  force_stop_run()\n  hide_to_tray()\n  init_ui()\n  show_from_tray()\n  stop_and_cancel_jobs()\n  tray_icon_activated(reason)\n}\nclass \"BoundarySetup\" as goliat.setups.boundary_setup.BoundarySetup {\n  simulation : str\n  __init__(config: 'Config', simulation: 'emfdtd.Simulation', verbose_logger: 'Logger', progress_logger: 'Logger')\n  setup_boundary_conditions()\n}\nclass \"Cleaner\" as goliat.extraction.cleaner.Cleaner {\n  parent : str\n  __init__(parent: 'ResultsExtractor')\n  _delete_files(cleanup_types: list, file_patterns: dict) -&gt; int\n  _delete_single_file(file_path: str) -&gt; bool\n  cleanup_simulation_files()\n}\nclass \"ColorFormatter\" as goliat.logging_manager.ColorFormatter {\n  format(record: logging.LogRecord) -&gt; str\n}\nclass \"Config\" as goliat.config.Config {\n  base_dir : str\n  config\n  config_path\n  material_mapping\n  material_mapping_path\n  profiling_config\n  profiling_config_path\n  __init__(base_dir: str, config_filename: str, no_cache: bool)\n  _cleanup_old_data_files(data_dir: str)\n  _load_config_with_inheritance(path: str) -&gt; dict\n  _load_json(path: str) -&gt; dict\n  _load_or_create_profiling_config() -&gt; dict\n  _resolve_config_path(config_filename: str, base_path: str) -&gt; str\n  build_simulation_config(phantom_name: str, frequency_mhz: int, scenario_name: Optional[str], position_name: Optional[str], orientation_name: Optional[str], direction_name: Optional[str], polarization_name: Optional[str]) -&gt; dict\n  get_antenna_component_names(antenna_model_type: str) -&gt; list\n  get_antenna_config() -&gt; dict\n  get_auto_cleanup_previous_results() -&gt; list\n  get_bandwidth() -&gt; float\n  get_download_email() -&gt; str\n  get_excitation_type() -&gt; str\n  get_freespace_expansion() -&gt; list\n  get_gridding_parameters() -&gt; dict\n  get_line_profiling_config() -&gt; dict\n  get_manual_isolve() -&gt; bool\n  get_material_mapping(phantom_name: str) -&gt; dict\n  get_only_write_input_file() -&gt; bool\n  get_osparc_credentials() -&gt; dict\n  get_phantom_definition(phantom_name: str) -&gt; dict\n  get_placement_scenario(scenario_name: str) -&gt; dict\n  get_profiling_config(study_type: str) -&gt; dict\n  get_setting(path: str, default)\n  get_simulation_parameters() -&gt; dict\n  get_solver_settings() -&gt; dict\n}\nclass \"CustomFormatter\" as goliat.logging_manager.CustomFormatter {\n  format(record: logging.LogRecord) -&gt; str\n}\nclass \"DataManager\" as goliat.gui.components.data_manager.DataManager {\n  data_dir : str\n  overall_progress_file : str\n  session_hash : str\n  time_remaining_file : str\n  verbose_logger : Logger\n  __init__(data_dir: str, verbose_logger: Logger) -&gt; None\n  _cleanup_old_data_files() -&gt; None\n  _initialize_files() -&gt; None\n  write_overall_progress(progress_percent: float) -&gt; None\n  write_time_remaining(hours_remaining: float) -&gt; None\n}\nclass \"FarFieldAnalysisStrategy\" as goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy {\n  apply_bug_fixes(result_entry: dict) -&gt; dict\n  calculate_summary_stats(results_df: pd.DataFrame) -&gt; pd.DataFrame\n  extract_data(pickle_data: dict, frequency_mhz: int, placement_name: str, scenario_name: str, sim_power: float, norm_factor: float) -&gt; tuple[dict, list]\n  generate_plots(analyzer: 'Analyzer', plotter: 'Plotter', results_df: pd.DataFrame, all_organ_results_df: pd.DataFrame)\n  get_normalization_factor(frequency_mhz: int, simulated_power_w: float) -&gt; float\n  get_plots_dir() -&gt; str\n  get_results_base_dir() -&gt; str\n  load_and_process_results(analyzer: 'Analyzer')\n}\nclass \"FarFieldSetup\" as goliat.setups.far_field_setup.FarFieldSetup {\n  direction_name : str\n  document\n  frequency_mhz : int\n  gui : NoneType\n  phantom_name : str\n  polarization_name : str\n  profiler : str\n  project_manager : str\n  simulation_type\n  __init__(config: 'Config', phantom_name: str, frequency_mhz: int, direction_name: str, polarization_name: str, project_manager: 'ProjectManager', verbose_logger: 'Logger', progress_logger: 'Logger', profiler: 'Profiler', gui)\n  _create_or_get_simulation_bbox() -&gt; 'model.Entity'\n  _create_simulation_entity(bbox_entity: 'model.Entity') -&gt; 'emfdtd.Simulation'\n  run_full_setup(project_manager: 'ProjectManager') -&gt; 'emfdtd.Simulation'\n}\nclass \"FarFieldStudy\" as goliat.studies.far_field_study.FarFieldStudy {\n  _run_single_simulation(phantom_name: str, freq: int, direction_name: str, polarization_name: str, do_setup: bool, do_run: bool, do_extract: bool)\n  _run_study()\n  _validate_auto_cleanup_config(do_setup: bool, do_run: bool, do_extract: bool, auto_cleanup: list)\n}\nclass \"GriddingSetup\" as goliat.setups.gridding_setup.GriddingSetup {\n  _setup_main_grid()\n  _setup_subgrids(antenna_components: dict)\n  setup_gridding(antenna_components: dict | None)\n}\nclass \"LoggingMixin\" as goliat.logging_manager.LoggingMixin {\n  gui : Optional['QueueGUI']\n  progress_logger : Logger\n  verbose_logger : Logger\n  _log(message: str, level: str, log_type: str)\n}\nclass \"MaterialSetup\" as goliat.setups.material_setup.MaterialSetup {\n  _assign_antenna_materials(antenna_components: dict)\n  _assign_phantom_materials()\n  assign_materials(antenna_components: dict | None, phantom_only: bool)\n}\nclass \"NearFieldAnalysisStrategy\" as goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy {\n  calculate_summary_stats(results_df: pd.DataFrame) -&gt; pd.DataFrame\n  extract_data(pickle_data: dict, frequency_mhz: int, placement_name: str, scenario_name: str, sim_power: float, norm_factor: float) -&gt; tuple[dict, list]\n  generate_plots(analyzer: 'Analyzer', plotter: 'Plotter', results_df: pd.DataFrame, all_organ_results_df: pd.DataFrame)\n  get_normalization_factor(frequency_mhz: int, simulated_power_w: float) -&gt; float\n  get_plots_dir() -&gt; str\n  get_results_base_dir() -&gt; str\n  load_and_process_results(analyzer: 'Analyzer')\n}\nclass \"NearFieldSetup\" as goliat.setups.near_field_setup.NearFieldSetup {\n  XCoreModeling\n  antenna : str\n  base_placement_name : str\n  document\n  free_space : bool\n  frequency_mhz : int\n  gui : NoneType\n  orientation_name : str\n  phantom_name : str\n  placement_name : str\n  position_name : str\n  profiler : str\n  __init__(config: 'Config', phantom_name: str, frequency_mhz: int, scenario_name: str, position_name: str, orientation_name: str, antenna: 'Antenna', verbose_logger: 'Logger', progress_logger: 'Logger', profiler: 'Profiler', gui, free_space: bool)\n  _align_simulation_with_phone()\n  _create_simulation_bbox()\n  _find_touching_angle() -&gt; float\n  _get_antenna_components() -&gt; dict\n  _handle_phantom_rotation(placement_setup: 'PlacementSetup')\n  _setup_bounding_boxes()\n  _setup_simulation_entity() -&gt; 'emfdtd.Simulation'\n  run_full_setup(project_manager: 'ProjectManager', lock) -&gt; 'emfdtd.Simulation'\n}\nclass \"NearFieldStudy\" as goliat.studies.near_field_study.NearFieldStudy {\n  _run_placement(phantom_name: str, freq: int, scenario_name: str, position_name: str, orientation_name: str, do_setup: bool, do_run: bool, do_extract: bool)\n  _run_study()\n  _validate_auto_cleanup_config(do_setup: bool, do_run: bool, do_extract: bool, auto_cleanup: list)\n}\nclass \"NumpyArrayEncoder\" as goliat.extraction.json_encoder.NumpyArrayEncoder {\n  default(o: Any) -&gt; Any\n}\nclass \"OverallProgressPlot\" as goliat.gui.components.plots.OverallProgressPlot {\n  ax : Axes\n  canvas : FigureCanvasQTAgg\n  data : List[Tuple[datetime, float]]\n  figure : Figure\n  max_progress_seen : float\n  __init__() -&gt; None\n  _refresh() -&gt; None\n  _setup() -&gt; None\n  add_data_point(timestamp: datetime, progress_percent: float) -&gt; None\n}\nclass \"PhantomSetup\" as goliat.setups.phantom_setup.PhantomSetup {\n  XCoreModeling\n  data\n  model\n  phantom_name : str\n  __init__(config: 'Config', phantom_name: str, verbose_logger: 'Logger', progress_logger: 'Logger')\n  _log(message: str, level: str, log_type: str)\n  ensure_phantom_is_loaded() -&gt; bool\n}\nclass \"PieChartsManager\" as goliat.gui.components.plots.PieChartsManager {\n  axes : List[_Axes]\n  canvas : FigureCanvasQTAgg\n  figure : Figure\n  __init__() -&gt; None\n  _setup() -&gt; None\n  update(profiler: 'Profiler') -&gt; None\n}\nclass \"PlacementSetup\" as goliat.setups.placement_setup.PlacementSetup {\n  orientation_rotations : list\n  _get_placement_details() -&gt; tuple\n  _get_speaker_reference(ground_entities, upright_transform)\n  place_antenna()\n}\nclass \"Plotter\" as goliat.analysis.plotter.Plotter {\n  plots_dir : str\n  __init__(plots_dir: str)\n  _plot_heatmap(fig, ax, data: pd.DataFrame, title: str, cbar: bool, cbar_ax)\n  plot_average_sar_bar(scenario_name: str, avg_results: pd.DataFrame, progress_info: pd.Series)\n  plot_far_field_distribution_boxplot(results_df: pd.DataFrame, metric: str)\n  plot_peak_sar_heatmap(organ_df: pd.DataFrame, group_df: pd.DataFrame, tissue_groups: dict, value_col: str, title: str)\n  plot_peak_sar_line(summary_stats: pd.DataFrame)\n  plot_pssar_line(scenario_name: str, avg_results: pd.DataFrame)\n  plot_sar_distribution_boxplots(scenario_name: str, scenario_results_df: pd.DataFrame)\n  plot_sar_heatmap(organ_df: pd.DataFrame, group_df: pd.DataFrame, tissue_groups: dict)\n  plot_whole_body_sar_bar(avg_results: pd.DataFrame)\n}\nclass \"PowerExtractor\" as goliat.extraction.power_extractor.PowerExtractor {\n  config\n  document\n  frequency_mhz\n  gui\n  parent : str\n  placement_name\n  progress_logger\n  results_data : dict\n  simulation\n  study_type\n  verbose_logger\n  __init__(parent: 'ResultsExtractor', results_data: dict)\n  _extract_far_field_power()\n  _extract_near_field_power(simulation_extractor: 'analysis.Extractor')\n  extract_input_power(simulation_extractor: 'analysis.Extractor')\n  extract_power_balance(simulation_extractor: 'analysis.Extractor')\n}\nclass \"Profiler\" as goliat.profiler.Profiler {\n  completed_phases : set\n  completed_simulations : int\n  completed_stages_in_phase : int\n  config_path : str\n  current_phase : NoneType, str\n  current_project : int\n  execution_control : dict\n  phase_start_time : NoneType\n  phase_weights : dict\n  profiling_config : dict\n  run_phase_total_duration : int\n  start_time\n  study_type : str\n  subtask_stack : list\n  subtask_times : defaultdict\n  total_projects : int\n  total_simulations : int\n  total_stages_in_phase : int\n  __init__(execution_control: dict, profiling_config: dict, study_type: str, config_path: str)\n  _calculate_phase_weights() -&gt; dict\n  complete_run_phase()\n  end_stage()\n  get_phase_subtasks(phase_name: str) -&gt; list\n  get_subtask_estimate(task_name: str) -&gt; float\n  get_time_remaining(current_stage_progress: float) -&gt; float\n  get_weighted_progress(phase_name: str, phase_progress_ratio: float) -&gt; float\n  save_estimates()\n  set_current_project(project_index: int)\n  set_project_scope(total_projects: int)\n  set_total_simulations(total: int)\n  simulation_completed()\n  start_stage(phase_name: str, total_stages: int)\n  subtask(task_name: str)\n  update_and_save_estimates()\n}\nclass \"Profiler\" as goliat.utils.Profiler {\n  completed_runs : int\n  config_path : str\n  current_run_start_time : NoneType\n  profiling_config\n  run_times : list\n  start_time\n  study_type : str\n  total_runs : int\n  __init__(config_path: str, study_type: str)\n  _load_config() -&gt; dict\n  end_run()\n  get_average_run_time() -&gt; float\n  get_elapsed() -&gt; float\n  get_time_remaining() -&gt; float\n  save_estimates()\n  start_run()\n  start_study(total_runs: int)\n  subtask(name: str)\n}\nclass \"ProgressAnimation\" as goliat.gui.components.progress_animation.ProgressAnimation {\n  active : bool\n  debug : bool\n  duration : float\n  end_value : int\n  progress_bar\n  start_time : float\n  start_value : int\n  timer\n  __init__(progress_bar: 'QProgressBar', timer: 'QTimer', debug: bool) -&gt; None\n  {abstract}_log(message: str) -&gt; None\n  start(estimated_duration: float, end_step: int) -&gt; None\n  stop() -&gt; None\n  update() -&gt; None\n}\nclass \"ProgressGUI\" as goliat.gui.progress_gui.ProgressGUI {\n  DEBUG : bool\n  animation_timer\n  clock_timer\n  current_simulation_count : int\n  data_manager\n  graph_timer\n  init_window_title : str\n  process : Process\n  profiler : Optional['Profiler']\n  profiler_phase : Optional[str]\n  progress_animation\n  progress_logger : Logger\n  queue\n  queue_handler\n  queue_timer\n  start_time : float\n  status_manager\n  stop_event : Event\n  study_had_errors : bool\n  study_is_finished : bool\n  total_simulations : int\n  total_steps_for_stage : int\n  tray_manager\n  verbose_logger : Logger\n  __init__(queue: Queue, stop_event: Event, process: Process, init_window_title: str) -&gt; None\n  closeEvent(event: Any) -&gt; None\n  end_stage_animation() -&gt; None\n  hide_to_tray() -&gt; None\n  show_from_tray() -&gt; None\n  start_stage_animation(estimated_duration: float, end_step: int) -&gt; None\n  stop_study() -&gt; None\n  study_finished(error: bool) -&gt; None\n  update_animation() -&gt; None\n  update_clock() -&gt; None\n  update_graphs() -&gt; None\n  update_overall_progress(current_step: int, total_steps: int) -&gt; None\n  update_simulation_details(sim_count: int, total_sims: int, details: str) -&gt; None\n  update_stage_progress(stage_name: str, current_step: int, total_steps: int, sub_stage: str) -&gt; None\n  update_status(message: str, log_type: str) -&gt; None\n}\nclass \"ProjectCorruptionError\" as goliat.project_manager.ProjectCorruptionError {\n}\nclass \"ProjectManager\" as goliat.project_manager.ProjectManager {\n  config : str\n  document\n  execution_control : dict\n  gui : Optional['QueueGUI']\n  no_cache : bool\n  progress_logger : str\n  project_path : NoneType, Optional[str]\n  verbose_logger : str\n  __init__(config: 'Config', verbose_logger: 'Logger', progress_logger: 'Logger', gui: Optional['QueueGUI'], no_cache: bool)\n  _generate_config_hash(config_dict: dict) -&gt; str\n  _get_deliverables_status(project_dir: str, project_filename: str, setup_timestamp: float) -&gt; dict\n  _is_valid_smash_file() -&gt; bool\n  cleanup()\n  close()\n  create_new()\n  create_or_open_project(phantom_name: str, frequency_mhz: int, scenario_name: Optional[str], position_name: Optional[str], orientation_name: Optional[str]) -&gt; dict\n  open()\n  reload_project()\n  save()\n  update_simulation_metadata(meta_path: str, run_done: Optional[bool], extract_done: Optional[bool])\n  verify_simulation_metadata(meta_path: str, surgical_config: dict, smash_path: Optional[str]) -&gt; dict\n  write_simulation_metadata(meta_path: str, surgical_config: dict)\n}\nclass \"QueueGUI\" as goliat.gui.queue_gui.QueueGUI {\n  profiler : str\n  progress_logger : Logger\n  queue\n  stop_event : Event\n  verbose_logger : Logger\n  __init__(queue: Queue, stop_event: Event, profiler: 'Profiler', progress_logger: Logger, verbose_logger: Logger) -&gt; None\n  end_stage_animation() -&gt; None\n  is_stopped() -&gt; bool\n  log(message: str, level: str, log_type: str) -&gt; None\n  {abstract}process_events() -&gt; None\n  start_stage_animation(task_name: str, end_value: int) -&gt; None\n  update_overall_progress(current_step: int, total_steps: int) -&gt; None\n  update_profiler() -&gt; None\n  update_simulation_details(sim_count: int, total_sims: int, details: str) -&gt; None\n  update_stage_progress(stage_name: str, current_step: int, total_steps: int, sub_stage: str) -&gt; None\n}\nclass \"QueueHandler\" as goliat.gui.components.queue_handler.QueueHandler {\n  gui : str\n  __init__(gui_instance: 'ProgressGUI') -&gt; None\n  process_queue() -&gt; None\n}\nclass \"Reporter\" as goliat.extraction.reporter.Reporter {\n  parent : str\n  __init__(parent: 'ResultsExtractor')\n  _build_html_content(df: pd.DataFrame, tissue_groups: dict, group_sar_stats: dict, results_data: dict) -&gt; str\n  _get_results_dir() -&gt; str\n  _save_html_report(results_dir: str, df: pd.DataFrame, tissue_groups: dict, group_sar_stats: dict, results_data: dict)\n  _save_pickle_report(results_dir: str, df: pd.DataFrame, tissue_groups: dict, group_sar_stats: dict, results_data: dict)\n  save_reports(df: pd.DataFrame, tissue_groups: dict, group_sar_stats: dict, results_data: dict)\n}\nclass \"ResultsExtractor\" as goliat.results_extractor.ResultsExtractor {\n  analysis\n  config : str\n  document\n  free_space : bool\n  frequency_mhz : int\n  gui : str\n  orientation_name : str\n  phantom_name : str\n  placement_name : str\n  progress_logger : str\n  simulation : str\n  study : str\n  study_type : str\n  units\n  verbose_logger : str\n  __init__(config: 'Config', simulation: 's4l_v1.simulation.emfdtd.Simulation', phantom_name: str, frequency_mhz: int, scenario_name: str, position_name: str, orientation_name: str, study_type: str, verbose_logger: 'Logger', progress_logger: 'Logger', free_space: bool, gui: 'Optional[QueueGUI]', study: 'Optional[BaseStudy]')\n  _save_json_results(results_data: dict)\n  extract()\n  get_deliverable_filenames() -&gt; dict\n}\nclass \"SarExtractor\" as goliat.extraction.sar_extractor.SarExtractor {\n  analysis\n  config\n  document\n  gui\n  parent : str\n  phantom_name\n  placement_name\n  progress_logger\n  results_data : dict\n  simulation\n  units\n  verbose_logger\n  __init__(parent: 'ResultsExtractor', results_data: dict)\n  _calculate_group_sar(df: pd.DataFrame, tissue_groups: dict) -&gt; dict\n  _define_tissue_groups(available_tissues: list) -&gt; dict\n  extract_peak_sar_details(em_sensor_extractor: 'analysis.Extractor')\n  extract_sar_statistics(simulation_extractor: 'analysis.Extractor')\n}\nclass \"SensorExtractor\" as goliat.extraction.sensor_extractor.SensorExtractor {\n  parent : str\n  progress_logger\n  results_data : dict\n  verbose_logger\n  __init__(parent: 'ResultsExtractor', results_data: dict)\n  _save_plot(fig, ax)\n  extract_point_sensor_data(simulation_extractor: 'analysis.Extractor')\n}\nclass \"SimulationRunner\" as goliat.simulation_runner.SimulationRunner {\n  config : str\n  document\n  gui : str\n  profiler : str\n  progress_logger : str\n  project_path : str\n  simulation : str\n  verbose_logger : str\n  __init__(config: 'Config', project_path: str, simulation: 's4l_v1.simulation.emfdtd.Simulation', profiler: 'Profiler', verbose_logger: 'Logger', progress_logger: 'Logger', gui: 'Optional[QueueGUI]')\n  _get_server_id(server_name: str) -&gt; Optional[str]\n  _run_isolve_manual(simulation: 's4l_v1.simulation.emfdtd.Simulation')\n  _run_osparc_direct(simulation: 's4l_v1.simulation.emfdtd.Simulation', server_name: str)\n  run()\n}\nclass \"SourceSetup\" as goliat.setups.source_setup.SourceSetup {\n  antenna : str\n  free_space : bool\n  frequency_mhz : int\n  simulation : str\n  units\n  __init__(config: 'Config', simulation: 'emfdtd.Simulation', frequency_mhz: int, antenna: 'Antenna', verbose_logger: 'Logger', progress_logger: 'Logger', free_space: bool)\n  setup_source_and_sensors(antenna_components: dict)\n}\nclass \"StatusManager\" as goliat.gui.components.status_manager.StatusManager {\n  color_map : dict[str, str]\n  error_count : int\n  warning_count : int\n  __init__() -&gt; None\n  format_message(message: str, log_type: str) -&gt; str\n  get_color(log_type: str) -&gt; str\n  get_error_summary() -&gt; str\n  record_log(log_type: str) -&gt; None\n}\nclass \"StudyCancelledError\" as goliat.utils.StudyCancelledError {\n}\nclass \"TimeRemainingPlot\" as goliat.gui.components.plots.TimeRemainingPlot {\n  ax : Axes\n  canvas : FigureCanvasQTAgg\n  data : List[Tuple[datetime, float]]\n  figure : Figure\n  max_time_remaining_seen : float\n  __init__() -&gt; None\n  _refresh() -&gt; None\n  _setup() -&gt; None\n  add_data_point(timestamp: datetime, hours_remaining: float) -&gt; None\n}\nclass \"TimingsTable\" as goliat.gui.components.timings_table.TimingsTable {\n  table\n  __init__(table_widget: QTableWidget) -&gt; None\n  _setup_table() -&gt; None\n  update(profiler: 'Profiler') -&gt; None\n}\nclass \"TrayManager\" as goliat.gui.components.tray_manager.TrayManager {\n  parent\n  tray_icon\n  __init__(parent_widget: QWidget, show_callback: Callable[[], None], close_callback: Callable[[], None]) -&gt; None\n  _tray_icon_activated(reason: QSystemTrayIcon.ActivationReason, show_callback: Callable[[], None]) -&gt; None\n  hide() -&gt; None\n  is_visible() -&gt; bool\n  show() -&gt; None\n}\nclass \"UIBuilder\" as goliat.gui.components.ui_builder.UIBuilder {\n  STYLESHEET : str\n  _build_buttons(gui_instance: 'ProgressGUI', main_layout: QVBoxLayout) -&gt; None\n  _build_overall_progress_tab(gui_instance: 'ProgressGUI') -&gt; None\n  _build_piecharts_tab(gui_instance: 'ProgressGUI') -&gt; None\n  _build_progress_tab(gui_instance: 'ProgressGUI', status_manager: 'StatusManager') -&gt; None\n  _build_time_remaining_tab(gui_instance: 'ProgressGUI') -&gt; None\n  _build_timings_tab(gui_instance: 'ProgressGUI') -&gt; None\n  build(gui_instance: 'ProgressGUI', status_manager: 'StatusManager') -&gt; None\n  get_icon_path() -&gt; str\n}\nclass \"Worker\" as goliat.osparc_batch.worker.Worker {\n  client_cfg : NoneType\n  config : NoneType\n  config_path : str\n  download_and_process_results : Callable[..., Any]\n  download_executor : ThreadPoolExecutor\n  downloaded_jobs : set\n  file_retries : dict\n  file_to_job_id : dict\n  finished\n  get_osparc_client_config : Callable[..., Any]\n  get_progress_report : Callable[..., str]\n  input_files : list\n  job_statuses : dict\n  jobs_being_downloaded : set\n  logger : Logger\n  main_process_logic : Callable[..., Any]\n  progress\n  running_jobs : dict\n  status_update_requested\n  stop_requested : bool\n  timer\n  __init__(config_path: str, logger: logging.Logger, get_osparc_client_config_func: Callable[..., Any], download_and_process_results_func: Callable[..., Any], get_progress_report_func: Callable[..., str], main_process_logic_func: Callable[..., Any])\n  _check_jobs_status()\n  _download_job_in_thread(job, solver, file_path: Path)\n  _resubmit_job(file_path: Path)\n  _update_job_status(job_id: str, status: str)\n  cancel_jobs()\n  request_progress_report()\n  run()\n  stop()\n}\ngoliat.analysis.far_field_strategy.FarFieldAnalysisStrategy --|&gt; goliat.analysis.base_strategy.BaseAnalysisStrategy\ngoliat.analysis.near_field_strategy.NearFieldAnalysisStrategy --|&gt; goliat.analysis.base_strategy.BaseAnalysisStrategy\ngoliat.extraction.power_extractor.PowerExtractor --|&gt; goliat.logging_manager.LoggingMixin\ngoliat.extraction.sar_extractor.SarExtractor --|&gt; goliat.logging_manager.LoggingMixin\ngoliat.gui.queue_gui.QueueGUI --|&gt; goliat.logging_manager.LoggingMixin\ngoliat.project_manager.ProjectManager --|&gt; goliat.logging_manager.LoggingMixin\ngoliat.results_extractor.ResultsExtractor --|&gt; goliat.logging_manager.LoggingMixin\ngoliat.setups.base_setup.BaseSetup --|&gt; goliat.logging_manager.LoggingMixin\ngoliat.setups.boundary_setup.BoundarySetup --|&gt; goliat.setups.base_setup.BaseSetup\ngoliat.setups.far_field_setup.FarFieldSetup --|&gt; goliat.setups.base_setup.BaseSetup\ngoliat.setups.gridding_setup.GriddingSetup --|&gt; goliat.setups.base_setup.BaseSetup\ngoliat.setups.material_setup.MaterialSetup --|&gt; goliat.setups.base_setup.BaseSetup\ngoliat.setups.near_field_setup.NearFieldSetup --|&gt; goliat.setups.base_setup.BaseSetup\ngoliat.setups.phantom_setup.PhantomSetup --|&gt; goliat.setups.base_setup.BaseSetup\ngoliat.setups.placement_setup.PlacementSetup --|&gt; goliat.setups.base_setup.BaseSetup\ngoliat.setups.source_setup.SourceSetup --|&gt; goliat.setups.base_setup.BaseSetup\ngoliat.simulation_runner.SimulationRunner --|&gt; goliat.logging_manager.LoggingMixin\ngoliat.studies.base_study.BaseStudy --|&gt; goliat.logging_manager.LoggingMixin\ngoliat.studies.far_field_study.FarFieldStudy --|&gt; goliat.studies.base_study.BaseStudy\ngoliat.studies.near_field_study.NearFieldStudy --|&gt; goliat.studies.base_study.BaseStudy\ngoliat.analysis.plotter.Plotter --* goliat.analysis.analyzer.Analyzer : plotter\ngoliat.config.Config --* goliat.studies.base_study.BaseStudy : config\ngoliat.gui.components.data_manager.DataManager --* goliat.gui.progress_gui.ProgressGUI : data_manager\ngoliat.gui.components.progress_animation.ProgressAnimation --* goliat.gui.progress_gui.ProgressGUI : progress_animation\ngoliat.gui.components.queue_handler.QueueHandler --* goliat.gui.progress_gui.ProgressGUI : queue_handler\ngoliat.gui.components.status_manager.StatusManager --* goliat.gui.progress_gui.ProgressGUI : status_manager\ngoliat.gui.components.tray_manager.TrayManager --* goliat.gui.progress_gui.ProgressGUI : tray_manager\ngoliat.profiler.Profiler --* goliat.studies.base_study.BaseStudy : profiler\ngoliat.project_manager.ProjectManager --* goliat.studies.base_study.BaseStudy : project_manager\ngoliat.config.Config --o goliat.osparc_batch.worker.Worker : config\n@enduml\n\n\n\n\n\nPackages Diagram\n\nCould not retrieve image data, got: Forbidden [403]<p></p><pre><code>@startuml packages_GOLIAT\nset namespaceSeparator none\npackage \"goliat\" as goliat {\n}\npackage \"goliat.analysis\" as goliat.analysis {\n}\npackage \"goliat.analysis.analyzer\" as goliat.analysis.analyzer {\n}\npackage \"goliat.analysis.base_strategy\" as goliat.analysis.base_strategy {\n}\npackage \"goliat.analysis.far_field_strategy\" as goliat.analysis.far_field_strategy {\n}\npackage \"goliat.analysis.near_field_strategy\" as goliat.analysis.near_field_strategy {\n}\npackage \"goliat.analysis.plotter\" as goliat.analysis.plotter {\n}\npackage \"goliat.antenna\" as goliat.antenna {\n}\npackage \"goliat.colors\" as goliat.colors {\n}\npackage \"goliat.config\" as goliat.config {\n}\npackage \"goliat.data_extractor\" as goliat.data_extractor {\n}\npackage \"goliat.extraction\" as goliat.extraction {\n}\npackage \"goliat.extraction.cleaner\" as goliat.extraction.cleaner {\n}\npackage \"goliat.extraction.json_encoder\" as goliat.extraction.json_encoder {\n}\npackage \"goliat.extraction.power_extractor\" as goliat.extraction.power_extractor {\n}\npackage \"goliat.extraction.reporter\" as goliat.extraction.reporter {\n}\npackage \"goliat.extraction.sar_extractor\" as goliat.extraction.sar_extractor {\n}\npackage \"goliat.extraction.sensor_extractor\" as goliat.extraction.sensor_extractor {\n}\npackage \"goliat.gui\" as goliat.gui {\n}\npackage \"goliat.gui.components\" as goliat.gui.components {\n}\npackage \"goliat.gui.components.data_manager\" as goliat.gui.components.data_manager {\n}\npackage \"goliat.gui.components.plots\" as goliat.gui.components.plots {\n}\npackage \"goliat.gui.components.progress_animation\" as goliat.gui.components.progress_animation {\n}\npackage \"goliat.gui.components.queue_handler\" as goliat.gui.components.queue_handler {\n}\npackage \"goliat.gui.components.status_manager\" as goliat.gui.components.status_manager {\n}\npackage \"goliat.gui.components.timings_table\" as goliat.gui.components.timings_table {\n}\npackage \"goliat.gui.components.tray_manager\" as goliat.gui.components.tray_manager {\n}\npackage \"goliat.gui.components.ui_builder\" as goliat.gui.components.ui_builder {\n}\npackage \"goliat.gui.progress_gui\" as goliat.gui.progress_gui {\n}\npackage \"goliat.gui.queue_gui\" as goliat.gui.queue_gui {\n}\npackage \"goliat.gui_manager\" as goliat.gui_manager {\n}\npackage \"goliat.logging_manager\" as goliat.logging_manager {\n}\npackage \"goliat.osparc_batch\" as goliat.osparc_batch {\n}\npackage \"goliat.osparc_batch.cleanup\" as goliat.osparc_batch.cleanup {\n}\npackage \"goliat.osparc_batch.file_finder\" as goliat.osparc_batch.file_finder {\n}\npackage \"goliat.osparc_batch.gui\" as goliat.osparc_batch.gui {\n}\npackage \"goliat.osparc_batch.logging_utils\" as goliat.osparc_batch.logging_utils {\n}\npackage \"goliat.osparc_batch.main_logic\" as goliat.osparc_batch.main_logic {\n}\npackage \"goliat.osparc_batch.osparc_client\" as goliat.osparc_batch.osparc_client {\n}\npackage \"goliat.osparc_batch.progress\" as goliat.osparc_batch.progress {\n}\npackage \"goliat.osparc_batch.runner\" as goliat.osparc_batch.runner {\n}\npackage \"goliat.osparc_batch.worker\" as goliat.osparc_batch.worker {\n}\npackage \"goliat.profiler\" as goliat.profiler {\n}\npackage \"goliat.project_manager\" as goliat.project_manager {\n}\npackage \"goliat.results_extractor\" as goliat.results_extractor {\n}\npackage \"goliat.setups\" as goliat.setups {\n}\npackage \"goliat.setups.base_setup\" as goliat.setups.base_setup {\n}\npackage \"goliat.setups.boundary_setup\" as goliat.setups.boundary_setup {\n}\npackage \"goliat.setups.far_field_setup\" as goliat.setups.far_field_setup {\n}\npackage \"goliat.setups.gridding_setup\" as goliat.setups.gridding_setup {\n}\npackage \"goliat.setups.material_setup\" as goliat.setups.material_setup {\n}\npackage \"goliat.setups.near_field_setup\" as goliat.setups.near_field_setup {\n}\npackage \"goliat.setups.phantom_setup\" as goliat.setups.phantom_setup {\n}\npackage \"goliat.setups.placement_setup\" as goliat.setups.placement_setup {\n}\npackage \"goliat.setups.source_setup\" as goliat.setups.source_setup {\n}\npackage \"goliat.simulation_runner\" as goliat.simulation_runner {\n}\npackage \"goliat.studies\" as goliat.studies {\n}\npackage \"goliat.studies.base_study\" as goliat.studies.base_study {\n}\npackage \"goliat.studies.far_field_study\" as goliat.studies.far_field_study {\n}\npackage \"goliat.studies.near_field_study\" as goliat.studies.near_field_study {\n}\npackage \"goliat.utils\" as goliat.utils {\n}\ngoliat.analysis.analyzer --&gt; goliat.analysis.plotter\ngoliat.analysis.far_field_strategy --&gt; goliat.analysis.base_strategy\ngoliat.analysis.near_field_strategy --&gt; goliat.analysis.base_strategy\ngoliat.extraction --&gt; goliat.extraction.cleaner\ngoliat.extraction --&gt; goliat.extraction.power_extractor\ngoliat.extraction --&gt; goliat.extraction.reporter\ngoliat.extraction --&gt; goliat.extraction.sar_extractor\ngoliat.extraction --&gt; goliat.extraction.sensor_extractor\ngoliat.gui --&gt; goliat.gui.components.data_manager\ngoliat.gui --&gt; goliat.gui.components.plots\ngoliat.gui --&gt; goliat.gui.components.progress_animation\ngoliat.gui --&gt; goliat.gui.components.status_manager\ngoliat.gui.components.ui_builder --&gt; goliat.gui.components.plots\ngoliat.gui.components.ui_builder --&gt; goliat.gui.components.timings_table\ngoliat.gui.progress_gui --&gt; goliat.gui.components.data_manager\ngoliat.gui.progress_gui --&gt; goliat.gui.components.plots\ngoliat.gui.progress_gui --&gt; goliat.gui.components.progress_animation\ngoliat.gui.progress_gui --&gt; goliat.gui.components.queue_handler\ngoliat.gui.progress_gui --&gt; goliat.gui.components.status_manager\ngoliat.gui.progress_gui --&gt; goliat.gui.components.timings_table\ngoliat.gui.progress_gui --&gt; goliat.gui.components.tray_manager\ngoliat.gui.progress_gui --&gt; goliat.gui.components.ui_builder\ngoliat.gui.progress_gui --&gt; goliat.logging_manager\ngoliat.gui.progress_gui --&gt; goliat.utils\ngoliat.gui.queue_gui --&gt; goliat.logging_manager\ngoliat.gui_manager --&gt; goliat.gui.progress_gui\ngoliat.gui_manager --&gt; goliat.gui.queue_gui\ngoliat.logging_manager --&gt; goliat.colors\ngoliat.osparc_batch.cleanup --&gt; goliat.osparc_batch.logging_utils\ngoliat.osparc_batch.file_finder --&gt; goliat.osparc_batch.logging_utils\ngoliat.osparc_batch.main_logic --&gt; goliat.osparc_batch.logging_utils\ngoliat.osparc_batch.main_logic --&gt; goliat.osparc_batch.osparc_client\ngoliat.osparc_batch.osparc_client --&gt; goliat.osparc_batch.logging_utils\ngoliat.osparc_batch.progress --&gt; goliat.osparc_batch.logging_utils\ngoliat.osparc_batch.runner --&gt; goliat.config\ngoliat.osparc_batch.runner --&gt; goliat.osparc_batch.cleanup\ngoliat.osparc_batch.runner --&gt; goliat.osparc_batch.file_finder\ngoliat.osparc_batch.runner --&gt; goliat.osparc_batch.gui\ngoliat.osparc_batch.runner --&gt; goliat.osparc_batch.logging_utils\ngoliat.osparc_batch.runner --&gt; goliat.osparc_batch.main_logic\ngoliat.osparc_batch.runner --&gt; goliat.osparc_batch.osparc_client\ngoliat.osparc_batch.runner --&gt; goliat.osparc_batch.progress\ngoliat.osparc_batch.runner --&gt; goliat.osparc_batch.worker\ngoliat.osparc_batch.worker --&gt; goliat.osparc_batch.logging_utils\ngoliat.osparc_batch.worker --&gt; goliat.osparc_batch.osparc_client\ngoliat.project_manager --&gt; goliat.logging_manager\ngoliat.project_manager --&gt; goliat.results_extractor\ngoliat.project_manager --&gt; goliat.utils\ngoliat.results_extractor --&gt; goliat.extraction.cleaner\ngoliat.results_extractor --&gt; goliat.extraction.json_encoder\ngoliat.results_extractor --&gt; goliat.extraction.power_extractor\ngoliat.results_extractor --&gt; goliat.extraction.reporter\ngoliat.results_extractor --&gt; goliat.extraction.sar_extractor\ngoliat.results_extractor --&gt; goliat.extraction.sensor_extractor\ngoliat.results_extractor --&gt; goliat.logging_manager\ngoliat.setups.base_setup --&gt; goliat.logging_manager\ngoliat.setups.boundary_setup --&gt; goliat.setups.base_setup\ngoliat.setups.far_field_setup --&gt; goliat.setups.base_setup\ngoliat.setups.far_field_setup --&gt; goliat.setups.boundary_setup\ngoliat.setups.far_field_setup --&gt; goliat.setups.gridding_setup\ngoliat.setups.far_field_setup --&gt; goliat.setups.material_setup\ngoliat.setups.far_field_setup --&gt; goliat.setups.phantom_setup\ngoliat.setups.gridding_setup --&gt; goliat.setups.base_setup\ngoliat.setups.material_setup --&gt; goliat.setups.base_setup\ngoliat.setups.near_field_setup --&gt; goliat.setups.base_setup\ngoliat.setups.near_field_setup --&gt; goliat.setups.boundary_setup\ngoliat.setups.near_field_setup --&gt; goliat.setups.gridding_setup\ngoliat.setups.near_field_setup --&gt; goliat.setups.material_setup\ngoliat.setups.near_field_setup --&gt; goliat.setups.phantom_setup\ngoliat.setups.near_field_setup --&gt; goliat.setups.placement_setup\ngoliat.setups.near_field_setup --&gt; goliat.setups.source_setup\ngoliat.setups.phantom_setup --&gt; goliat.setups.base_setup\ngoliat.setups.placement_setup --&gt; goliat.setups.base_setup\ngoliat.setups.source_setup --&gt; goliat.setups.base_setup\ngoliat.simulation_runner --&gt; goliat.logging_manager\ngoliat.simulation_runner --&gt; goliat.utils\ngoliat.studies.base_study --&gt; goliat.config\ngoliat.studies.base_study --&gt; goliat.logging_manager\ngoliat.studies.base_study --&gt; goliat.profiler\ngoliat.studies.base_study --&gt; goliat.project_manager\ngoliat.studies.base_study --&gt; goliat.simulation_runner\ngoliat.studies.base_study --&gt; goliat.utils\ngoliat.studies.far_field_study --&gt; goliat.studies.base_study\ngoliat.studies.near_field_study --&gt; goliat.studies.base_study\ngoliat.analysis.analyzer ..&gt; goliat.analysis.base_strategy\ngoliat.analysis.base_strategy ..&gt; goliat.analysis.analyzer\ngoliat.analysis.base_strategy ..&gt; goliat.analysis.plotter\ngoliat.analysis.far_field_strategy ..&gt; goliat.analysis.analyzer\ngoliat.analysis.far_field_strategy ..&gt; goliat.analysis.plotter\ngoliat.analysis.near_field_strategy ..&gt; goliat.analysis.analyzer\ngoliat.analysis.near_field_strategy ..&gt; goliat.analysis.plotter\ngoliat.antenna ..&gt; goliat.config\ngoliat.gui.components.plots ..&gt; goliat.profiler\ngoliat.gui.components.queue_handler ..&gt; goliat.gui.progress_gui\ngoliat.gui.components.timings_table ..&gt; goliat.profiler\ngoliat.gui.components.ui_builder ..&gt; goliat.gui.components.status_manager\ngoliat.gui.components.ui_builder ..&gt; goliat.gui.progress_gui\ngoliat.gui.progress_gui ..&gt; goliat.profiler\ngoliat.gui.queue_gui ..&gt; goliat.profiler\ngoliat.logging_manager ..&gt; goliat.gui_manager\ngoliat.osparc_batch.file_finder ..&gt; goliat.config\ngoliat.osparc_batch.main_logic ..&gt; goliat.osparc_batch.worker\ngoliat.osparc_batch.osparc_client ..&gt; goliat.config\ngoliat.project_manager ..&gt; goliat.config\ngoliat.project_manager ..&gt; goliat.gui_manager\ngoliat.results_extractor ..&gt; goliat.config\ngoliat.results_extractor ..&gt; goliat.gui_manager\ngoliat.results_extractor ..&gt; goliat.studies.base_study\ngoliat.simulation_runner ..&gt; goliat.config\ngoliat.simulation_runner ..&gt; goliat.gui_manager\ngoliat.simulation_runner ..&gt; goliat.profiler\ngoliat.utils ..&gt; goliat.studies.base_study\n@enduml\n</code></pre>\n\n\n\n<p>How to view\n- Right click the above image and open in a new tab. Zoom in and pan around.\n- Alternatively, use any PlantUML viewer (e.g., VS Code PlantUML extension, IntelliJ PlantUML plugin, or https://www.plantuml.com/plantuml).</p>"},{"location":"reference/api_reference/","title":"API Reference","text":"<p>Complete API documentation for GOLIAT, organized by module category.</p>"},{"location":"reference/api_reference/#core-modules","title":"Core Modules","text":"<p>Core functionality for configuration, logging, and utilities.</p>"},{"location":"reference/api_reference/#antenna","title":"Antenna","text":""},{"location":"reference/api_reference/#goliat.antenna.Antenna","title":"goliat.antenna.Antenna","text":"<pre><code>Antenna(config: Config, frequency_mhz: int)\n</code></pre> <p>Manages antenna-specific properties and configurations.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>Config</code> <p>The configuration object containing antenna settings.</p> required <code>frequency_mhz</code> <code>int</code> <p>The operating frequency in MHz.</p> required Source code in <code>goliat/antenna.py</code> <pre><code>def __init__(self, config: \"Config\", frequency_mhz: int):\n    \"\"\"Initializes the Antenna object.\n\n    Args:\n        config: The configuration object containing antenna settings.\n        frequency_mhz: The operating frequency in MHz.\n    \"\"\"\n    self.config = config\n    self.frequency_mhz = frequency_mhz\n    self.antenna_config = self.config.get_antenna_config()\n</code></pre>"},{"location":"reference/api_reference/#goliat.antenna.Antenna-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.antenna.Antenna.get_config_for_frequency","title":"get_config_for_frequency","text":"<pre><code>get_config_for_frequency() -&gt; dict\n</code></pre> <p>Gets the antenna configuration for the current frequency.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If no configuration is defined for the frequency.</p> <p>Returns:</p> Type Description <code>dict</code> <p>The antenna configuration dictionary.</p> Source code in <code>goliat/antenna.py</code> <pre><code>def get_config_for_frequency(self) -&gt; dict:\n    \"\"\"Gets the antenna configuration for the current frequency.\n\n    Raises:\n        ValueError: If no configuration is defined for the frequency.\n\n    Returns:\n        The antenna configuration dictionary.\n    \"\"\"\n    freq_str = str(self.frequency_mhz)\n    if freq_str not in self.antenna_config:\n        raise ValueError(f\"Antenna configuration not defined for frequency: {self.frequency_mhz} MHz\")\n    return self.antenna_config[freq_str]\n</code></pre>"},{"location":"reference/api_reference/#goliat.antenna.Antenna.get_model_type","title":"get_model_type","text":"<pre><code>get_model_type() -&gt; str\n</code></pre> <p>Returns the antenna model type string.</p> Source code in <code>goliat/antenna.py</code> <pre><code>def get_model_type(self) -&gt; str:\n    \"\"\"Returns the antenna model type string.\"\"\"\n    return str(self.get_config_for_frequency().get(\"model_type\"))\n</code></pre>"},{"location":"reference/api_reference/#goliat.antenna.Antenna.get_source_entity_name","title":"get_source_entity_name","text":"<pre><code>get_source_entity_name() -&gt; str\n</code></pre> <p>Returns the source entity name from the antenna config.</p> Source code in <code>goliat/antenna.py</code> <pre><code>def get_source_entity_name(self) -&gt; str:\n    \"\"\"Returns the source entity name from the antenna config.\"\"\"\n    return str(self.get_config_for_frequency().get(\"source_name\"))\n</code></pre>"},{"location":"reference/api_reference/#goliat.antenna.Antenna.get_centered_antenna_path","title":"get_centered_antenna_path","text":"<pre><code>get_centered_antenna_path(centered_antennas_dir: str) -&gt; str\n</code></pre> <p>Constructs the path to the centered .sab antenna file.</p> <p>Parameters:</p> Name Type Description Default <code>centered_antennas_dir</code> <code>str</code> <p>The directory for centered antenna files.</p> required <p>Returns:</p> Type Description <code>str</code> <p>The absolute path to the centered antenna model file.</p> Source code in <code>goliat/antenna.py</code> <pre><code>def get_centered_antenna_path(self, centered_antennas_dir: str) -&gt; str:\n    \"\"\"Constructs the path to the centered .sab antenna file.\n\n    Args:\n        centered_antennas_dir: The directory for centered antenna files.\n\n    Returns:\n        The absolute path to the centered antenna model file.\n    \"\"\"\n    antenna_filename = f\"{self.frequency_mhz}MHz_centered.sab\"\n    return os.path.join(centered_antennas_dir, antenna_filename)\n</code></pre>"},{"location":"reference/api_reference/#colors","title":"Colors","text":""},{"location":"reference/api_reference/#goliat.colors","title":"goliat.colors","text":""},{"location":"reference/api_reference/#goliat.colors-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.colors.init_colorama","title":"init_colorama","text":"<pre><code>init_colorama()\n</code></pre> <p>Initialize colorama with appropriate settings for the current environment.</p> <p>Preserves ANSI codes when stdout is piped (e.g., in Jupyter notebooks) by checking for JUPYTER_NOTEBOOK or COLORAMA_STRIP environment variables.</p> Source code in <code>goliat/colors.py</code> <pre><code>def init_colorama():\n    \"\"\"Initialize colorama with appropriate settings for the current environment.\n\n    Preserves ANSI codes when stdout is piped (e.g., in Jupyter notebooks)\n    by checking for JUPYTER_NOTEBOOK or COLORAMA_STRIP environment variables.\n    \"\"\"\n    # Preserve ANSI codes when stdout is piped (e.g., in Jupyter notebooks)\n    strip_codes = os.environ.get(\"COLORAMA_STRIP\", \"\").lower() == \"0\" or os.environ.get(\"JUPYTER_NOTEBOOK\", \"\").lower() == \"1\"\n    init(autoreset=True, strip=not strip_codes, convert=False if strip_codes else True)\n</code></pre>"},{"location":"reference/api_reference/#goliat.colors.get_color","title":"get_color","text":"<pre><code>get_color(log_type: str) -&gt; str\n</code></pre> <p>Returns the colorama color code for a log type, or white if not found.</p> <p>Parameters:</p> Name Type Description Default <code>log_type</code> <code>str</code> <p>Log type key (e.g., 'info', 'warning', 'error').</p> required <p>Returns:</p> Type Description <code>str</code> <p>Colorama color code string.</p> Source code in <code>goliat/colors.py</code> <pre><code>def get_color(log_type: str) -&gt; str:\n    \"\"\"Returns the colorama color code for a log type, or white if not found.\n\n    Args:\n        log_type: Log type key (e.g., 'info', 'warning', 'error').\n\n    Returns:\n        Colorama color code string.\n    \"\"\"\n    return COLOR_MAP.get(log_type, Fore.WHITE)\n</code></pre>"},{"location":"reference/api_reference/#configuration","title":"Configuration","text":""},{"location":"reference/api_reference/#goliat.config.Config","title":"goliat.config.Config","text":"<pre><code>Config(base_dir: str, config_filename: str = 'near_field_config.json', no_cache: bool = False)\n</code></pre> <p>Manages loading and access of hierarchical JSON configurations.</p> <p>Parameters:</p> Name Type Description Default <code>base_dir</code> <code>str</code> <p>The base directory of the project.</p> required <code>config_filename</code> <code>str</code> <p>The name of the main configuration file to load.</p> <code>'near_field_config.json'</code> <code>no_cache</code> <code>bool</code> <p>This parameter is accepted but not used directly by the Config class.       It's used by other managers to control caching behavior.</p> <code>False</code> Source code in <code>goliat/config.py</code> <pre><code>def __init__(self, base_dir: str, config_filename: str = \"near_field_config.json\", no_cache: bool = False):\n    \"\"\"Initializes the Config object by loading all relevant configuration files.\n\n    Args:\n        base_dir: The base directory of the project.\n        config_filename: The name of the main configuration file to load.\n        no_cache: This parameter is accepted but not used directly by the Config class.\n                  It's used by other managers to control caching behavior.\n    \"\"\"\n    self.base_dir = base_dir\n    self.config_path = self._resolve_config_path(config_filename, self.base_dir)\n    self.material_mapping_path = os.path.join(self.base_dir, \"data\", \"material_name_mapping.json\")\n\n    # Generate session hash for profiling config (similar to GUI session tracking)\n    session_hash = hashlib.md5(f\"{time.time()}_{os.getpid()}\".encode()).hexdigest()[:8]\n    data_dir = os.path.join(self.base_dir, \"data\")\n    os.makedirs(data_dir, exist_ok=True)\n\n    # Generate timestamp for filename\n    session_timestamp = datetime.now().strftime(\"%d-%m_%H-%M-%S\")\n\n    # Cleanup old JSON files before creating new one\n    self._cleanup_old_data_files(data_dir)\n\n    self.profiling_config_path = os.path.join(data_dir, f\"profiling_config_{session_timestamp}_{session_hash}.json\")\n\n    self.config = self._load_config_with_inheritance(self.config_path)\n    self.material_mapping = self._load_json(self.material_mapping_path)\n\n    # Load or initialize profiling config\n    self.profiling_config = self._load_or_create_profiling_config()\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.config.Config.get_setting","title":"get_setting","text":"<pre><code>get_setting(path: str, default=None)\n</code></pre> <p>Retrieves a nested setting using a dot-separated path.</p> Example <p><code>get_setting(\"simulation_parameters.number_of_point_sensors\")</code></p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>The dot-separated path to the setting.</p> required <code>default</code> <p>The default value to return if the setting is not found.</p> <code>None</code> <p>Returns:</p> Type Description <p>The value of the setting, or the default value.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_setting(self, path: str, default=None):\n    \"\"\"Retrieves a nested setting using a dot-separated path.\n\n    Example:\n        `get_setting(\"simulation_parameters.number_of_point_sensors\")`\n\n    Args:\n        path: The dot-separated path to the setting.\n        default: The default value to return if the setting is not found.\n\n    Returns:\n        The value of the setting, or the default value.\n    \"\"\"\n    keys = path.split(\".\")\n    current_config = self.config\n    for key in keys:\n        if isinstance(current_config, dict) and key in current_config:\n            current_config = current_config[key]\n        else:\n            return default\n    return current_config\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_simulation_parameters","title":"get_simulation_parameters","text":"<pre><code>get_simulation_parameters() -&gt; dict\n</code></pre> <p>Returns the simulation_parameters config section.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_simulation_parameters(self) -&gt; dict:\n    \"\"\"Returns the simulation_parameters config section.\"\"\"\n    return self.config.get(\"simulation_parameters\", {})\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_antenna_config","title":"get_antenna_config","text":"<pre><code>get_antenna_config() -&gt; dict\n</code></pre> <p>Returns the antenna_config section.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_antenna_config(self) -&gt; dict:\n    \"\"\"Returns the antenna_config section.\"\"\"\n    return self.config.get(\"antenna_config\", {})\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_gridding_parameters","title":"get_gridding_parameters","text":"<pre><code>get_gridding_parameters() -&gt; dict\n</code></pre> <p>Returns the gridding_parameters config section.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_gridding_parameters(self) -&gt; dict:\n    \"\"\"Returns the gridding_parameters config section.\"\"\"\n    return self.config.get(\"gridding_parameters\", {})\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_phantom_definition","title":"get_phantom_definition","text":"<pre><code>get_phantom_definition(phantom_name: str) -&gt; dict\n</code></pre> <p>Gets the configuration for a specific phantom.</p> <p>Parameters:</p> Name Type Description Default <code>phantom_name</code> <code>str</code> <p>The name of the phantom.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>The configuration for the specified phantom, or an empty dict if not found.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_phantom_definition(self, phantom_name: str) -&gt; dict:\n    \"\"\"Gets the configuration for a specific phantom.\n\n    Args:\n        phantom_name: The name of the phantom.\n\n    Returns:\n        The configuration for the specified phantom, or an empty dict if not found.\n    \"\"\"\n    return self.config.get(\"phantom_definitions\", {}).get(phantom_name, {})\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_material_mapping","title":"get_material_mapping","text":"<pre><code>get_material_mapping(phantom_name: str) -&gt; dict\n</code></pre> <p>Gets the material name mapping for a specific phantom.</p> <p>Parameters:</p> Name Type Description Default <code>phantom_name</code> <code>str</code> <p>The name of the phantom.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>The material mapping dictionary.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_material_mapping(self, phantom_name: str) -&gt; dict:\n    \"\"\"Gets the material name mapping for a specific phantom.\n\n    Args:\n        phantom_name: The name of the phantom.\n\n    Returns:\n        The material mapping dictionary.\n    \"\"\"\n    if phantom_name in self.material_mapping:\n        return self.material_mapping[phantom_name]\n    else:\n        return self.material_mapping\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_solver_settings","title":"get_solver_settings","text":"<pre><code>get_solver_settings() -&gt; dict\n</code></pre> <p>Returns the solver_settings config section.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_solver_settings(self) -&gt; dict:\n    \"\"\"Returns the solver_settings config section.\"\"\"\n    return self.config.get(\"solver_settings\", {})\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_antenna_component_names","title":"get_antenna_component_names","text":"<pre><code>get_antenna_component_names(antenna_model_type: str) -&gt; list\n</code></pre> <p>Gets component names for a specific antenna model type.</p> <p>Parameters:</p> Name Type Description Default <code>antenna_model_type</code> <code>str</code> <p>The type of the antenna model (e.g., 'PIFA').</p> required <p>Returns:</p> Type Description <code>list</code> <p>A list of component names.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_antenna_component_names(self, antenna_model_type: str) -&gt; list:\n    \"\"\"Gets component names for a specific antenna model type.\n\n    Args:\n        antenna_model_type: The type of the antenna model (e.g., 'PIFA').\n\n    Returns:\n        A list of component names.\n    \"\"\"\n    return self.config.get(\"antenna_config\", {}).get(\"components\", {}).get(antenna_model_type)\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_manual_isolve","title":"get_manual_isolve","text":"<pre><code>get_manual_isolve() -&gt; bool\n</code></pre> <p>Returns whether manual iSolve execution is enabled.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_manual_isolve(self) -&gt; bool:\n    \"\"\"Returns whether manual iSolve execution is enabled.\"\"\"\n    return self.config.get(\"manual_isolve\", False)\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_freespace_expansion","title":"get_freespace_expansion","text":"<pre><code>get_freespace_expansion() -&gt; list\n</code></pre> <p>Returns the freespace antenna bbox expansion in mm [x, y, z].</p> Source code in <code>goliat/config.py</code> <pre><code>def get_freespace_expansion(self) -&gt; list:\n    \"\"\"Returns the freespace antenna bbox expansion in mm [x, y, z].\"\"\"\n    return self.get_simulation_parameters().get(\"freespace_antenna_bbox_expansion_mm\", [10, 10, 10])\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_excitation_type","title":"get_excitation_type","text":"<pre><code>get_excitation_type() -&gt; str\n</code></pre> <p>Returns the excitation type string, defaults to 'Harmonic'.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_excitation_type(self) -&gt; str:\n    \"\"\"Returns the excitation type string, defaults to 'Harmonic'.\"\"\"\n    return self.get_simulation_parameters().get(\"excitation_type\", \"Harmonic\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_bandwidth","title":"get_bandwidth","text":"<pre><code>get_bandwidth() -&gt; float\n</code></pre> <p>Returns the bandwidth in MHz for Gaussian excitation.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_bandwidth(self) -&gt; float:\n    \"\"\"Returns the bandwidth in MHz for Gaussian excitation.\"\"\"\n    return self.get_simulation_parameters().get(\"bandwidth_mhz\", 50.0)\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_placement_scenario","title":"get_placement_scenario","text":"<pre><code>get_placement_scenario(scenario_name: str) -&gt; dict\n</code></pre> <p>Gets the definition for a specific placement scenario.</p> <p>Parameters:</p> Name Type Description Default <code>scenario_name</code> <code>str</code> <p>The name of the placement scenario.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>The configuration for the placement scenario.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_placement_scenario(self, scenario_name: str) -&gt; dict:\n    \"\"\"Gets the definition for a specific placement scenario.\n\n    Args:\n        scenario_name: The name of the placement scenario.\n\n    Returns:\n        The configuration for the placement scenario.\n    \"\"\"\n    return self.config.get(\"placement_scenarios\", {}).get(scenario_name)\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_profiling_config","title":"get_profiling_config","text":"<pre><code>get_profiling_config(study_type: str) -&gt; dict\n</code></pre> <p>Gets the profiling configuration for a given study type.</p> <p>Parameters:</p> Name Type Description Default <code>study_type</code> <code>str</code> <p>The type of the study (e.g., 'near_field').</p> required <p>Returns:</p> Type Description <code>dict</code> <p>The profiling configuration for the study type.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_profiling_config(self, study_type: str) -&gt; dict:\n    \"\"\"Gets the profiling configuration for a given study type.\n\n    Args:\n        study_type: The type of the study (e.g., 'near_field').\n\n    Returns:\n        The profiling configuration for the study type.\n    \"\"\"\n    if study_type not in self.profiling_config:\n        import logging\n\n        logging.warning(f\"Profiling configuration not defined for study type: {study_type}. Returning empty configuration.\")\n        return {}\n    return self.profiling_config[study_type]\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_line_profiling_config","title":"get_line_profiling_config","text":"<pre><code>get_line_profiling_config() -&gt; dict\n</code></pre> <p>Returns the line_profiling config section.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_line_profiling_config(self) -&gt; dict:\n    \"\"\"Returns the line_profiling config section.\"\"\"\n    return self.get_setting(\"line_profiling\", {}) or {}\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_download_email","title":"get_download_email","text":"<pre><code>get_download_email() -&gt; str\n</code></pre> <p>Returns the download email from environment variables.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If DOWNLOAD_EMAIL is not set in the environment.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_download_email(self) -&gt; str:\n    \"\"\"Returns the download email from environment variables.\n\n    Raises:\n        ValueError: If DOWNLOAD_EMAIL is not set in the environment.\n    \"\"\"\n    email = os.getenv(\"DOWNLOAD_EMAIL\")\n    if not email:\n        raise ValueError(\"Missing DOWNLOAD_EMAIL. Please set this in your .env file.\")\n    return email\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_osparc_credentials","title":"get_osparc_credentials","text":"<pre><code>get_osparc_credentials() -&gt; dict\n</code></pre> <p>Gets oSPARC credentials from environment variables.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If required oSPARC credentials are not set.</p> <p>Returns:</p> Type Description <code>dict</code> <p>A dictionary containing oSPARC API credentials.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_osparc_credentials(self) -&gt; dict:\n    \"\"\"Gets oSPARC credentials from environment variables.\n\n    Raises:\n        ValueError: If required oSPARC credentials are not set.\n\n    Returns:\n        A dictionary containing oSPARC API credentials.\n    \"\"\"\n    credentials = {\n        \"api_key\": os.getenv(\"OSPARC_API_KEY\"),\n        \"api_secret\": os.getenv(\"OSPARC_API_SECRET\"),\n        \"api_server\": \"https://api.sim4life.science\",\n        \"api_version\": \"v0\",\n    }\n\n    missing = [key for key, value in credentials.items() if value is None and key != \"api_version\"]\n    if missing:\n        raise ValueError(\n            f\"Missing oSPARC credentials: {', '.join(missing)}. \"\n            \"Please create a .env file in the project root with your oSPARC API credentials. \"\n            \"See README.md for setup instructions.\"\n        )\n\n    return credentials\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_only_write_input_file","title":"get_only_write_input_file","text":"<pre><code>get_only_write_input_file() -&gt; bool\n</code></pre> <p>Returns whether to only write input files without running simulations.</p> Source code in <code>goliat/config.py</code> <pre><code>def get_only_write_input_file(self) -&gt; bool:\n    \"\"\"Returns whether to only write input files without running simulations.\"\"\"\n    result = self.get_setting(\"execution_control.only_write_input_file\", False)\n    assert isinstance(result, bool)\n    return result\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.get_auto_cleanup_previous_results","title":"get_auto_cleanup_previous_results","text":"<pre><code>get_auto_cleanup_previous_results() -&gt; list\n</code></pre> <p>Gets the 'auto_cleanup_previous_results' setting from 'execution_control'.</p> <p>This setting determines which previous simulation files to automatically delete to preserve disk space. It should only be used in serial workflows.</p> <p>Returns:</p> Type Description <code>list</code> <p>A list of file types to clean up (e.g., [\"output\", \"input\"]).</p> Source code in <code>goliat/config.py</code> <pre><code>def get_auto_cleanup_previous_results(self) -&gt; list:\n    \"\"\"Gets the 'auto_cleanup_previous_results' setting from 'execution_control'.\n\n    This setting determines which previous simulation files to automatically delete\n    to preserve disk space. It should only be used in serial workflows.\n\n    Returns:\n        A list of file types to clean up (e.g., [\"output\", \"input\"]).\n    \"\"\"\n    cleanup_setting = self.get_setting(\"execution_control.auto_cleanup_previous_results\", [])\n\n    # Handle legacy boolean format for backwards compatibility\n    if isinstance(cleanup_setting, bool):\n        if cleanup_setting:\n            # Legacy behavior: only clean output files\n            return [\"output\"]\n        else:\n            return []\n\n    # Validate that it's a list\n    if not isinstance(cleanup_setting, list):\n        import logging\n\n        logging.warning(f\"'auto_cleanup_previous_results' should be a list, got {type(cleanup_setting)}. Disabling cleanup for safety.\")\n        return []\n\n    # Validate file types\n    valid_types = {\"output\", \"input\", \"smash\"}\n    invalid_types = [t for t in cleanup_setting if t not in valid_types]\n    if invalid_types:\n        import logging\n\n        logging.warning(f\"Invalid file types in 'auto_cleanup_previous_results': {invalid_types}. Valid types are: {valid_types}\")\n\n    return [t for t in cleanup_setting if t in valid_types]\n</code></pre>"},{"location":"reference/api_reference/#goliat.config.Config.build_simulation_config","title":"build_simulation_config","text":"<pre><code>build_simulation_config(phantom_name: str, frequency_mhz: int, scenario_name: Optional[str] = None, position_name: Optional[str] = None, orientation_name: Optional[str] = None, direction_name: Optional[str] = None, polarization_name: Optional[str] = None) -&gt; dict\n</code></pre> <p>Constructs a minimal, simulation-specific configuration dictionary.</p> <p>This method is the core of the \"Verify and Resume\" feature. It creates a \"surgical\" snapshot of the configuration that is unique to a single simulation run. This snapshot is then hashed to determine if a valid, reusable simulation already exists.</p> <p>The key principle is to only include parameters that directly affect the outcome of the specific simulation. For example, instead of including the entire 'gridding_parameters' block, it surgically extracts only the gridding value for the specific 'frequency_mhz' being used. This ensures that a change to one frequency's gridding in the main config does not invalidate the hashes for other, unaffected frequencies.</p> <p>Parameters:</p> Name Type Description Default <code>phantom_name</code> <code>str</code> <p>The name of the phantom model.</p> required <code>frequency_mhz</code> <code>int</code> <p>The simulation frequency in MHz.</p> required <code>scenario_name</code> <code>Optional[str]</code> <p>(Near-Field) The base name of the placement scenario.</p> <code>None</code> <code>position_name</code> <code>Optional[str]</code> <p>(Near-Field) The name of the position within the scenario.</p> <code>None</code> <code>orientation_name</code> <code>Optional[str]</code> <p>(Near-Field) The name of the orientation.</p> <code>None</code> <code>direction_name</code> <code>Optional[str]</code> <p>(Far-Field) The incident direction of the plane wave.</p> <code>None</code> <code>polarization_name</code> <code>Optional[str]</code> <p>(Far-Field) The polarization of the plane wave.</p> <code>None</code> <p>Returns:</p> Type Description <code>dict</code> <p>A dictionary containing the minimal, surgical configuration snapshot.</p> Source code in <code>goliat/config.py</code> <pre><code>def build_simulation_config(\n    self,\n    phantom_name: str,\n    frequency_mhz: int,\n    scenario_name: Optional[str] = None,\n    position_name: Optional[str] = None,\n    orientation_name: Optional[str] = None,\n    direction_name: Optional[str] = None,\n    polarization_name: Optional[str] = None,\n) -&gt; dict:\n    \"\"\"Constructs a minimal, simulation-specific configuration dictionary.\n\n    This method is the core of the \"Verify and Resume\" feature. It creates a\n    \"surgical\" snapshot of the configuration that is unique to a single\n    simulation run. This snapshot is then hashed to determine if a valid,\n    reusable simulation already exists.\n\n    The key principle is to only include parameters that directly affect the\n    outcome of the specific simulation. For example, instead of including the\n    entire 'gridding_parameters' block, it surgically extracts only the\n    gridding value for the specific 'frequency_mhz' being used. This ensures\n    that a change to one frequency's gridding in the main config does not\n    invalidate the hashes for other, unaffected frequencies.\n\n    Args:\n        phantom_name: The name of the phantom model.\n        frequency_mhz: The simulation frequency in MHz.\n        scenario_name: (Near-Field) The base name of the placement scenario.\n        position_name: (Near-Field) The name of the position within the scenario.\n        orientation_name: (Near-Field) The name of the orientation.\n        direction_name: (Far-Field) The incident direction of the plane wave.\n        polarization_name: (Far-Field) The polarization of the plane wave.\n\n    Returns:\n        A dictionary containing the minimal, surgical configuration snapshot.\n    \"\"\"\n    surgical_config = {}\n\n    # 1. Copy global parameters\n    global_keys = [\n        \"study_type\",\n        \"simulation_parameters\",\n        \"solver_settings\",\n        \"manual_isolve\",\n        \"export_material_properties\",\n    ]\n    for key in global_keys:\n        if key in self.config:\n            surgical_config[key] = self.config[key]\n\n    # 4. Surgically handle gridding parameters\n    gridding_params = self.get_gridding_parameters()\n    surgical_gridding = {}\n    # Copy non-frequency specific gridding params\n    for key, value in gridding_params.items():\n        if key != \"global_gridding_per_frequency\":\n            surgical_gridding[key] = value\n\n    # Extract only the relevant frequency's gridding value\n    if \"global_gridding_per_frequency\" in gridding_params:\n        freq_str = str(frequency_mhz)\n        if freq_str in gridding_params[\"global_gridding_per_frequency\"]:\n            surgical_gridding[\"global_gridding_per_frequency\"] = {freq_str: gridding_params[\"global_gridding_per_frequency\"][freq_str]}\n\n    surgical_config[\"gridding_parameters\"] = surgical_gridding\n\n    # 2. Add simulation-specific identifiers\n    surgical_config[\"phantom\"] = phantom_name\n    surgical_config[\"frequency_mhz\"] = frequency_mhz\n\n    # 3. Surgically select study-specific parameters\n    study_type = self.get_setting(\"study_type\")\n    if study_type == \"near_field\":\n        # Select the specific antenna config for the given frequency\n        surgical_config[\"antenna_config\"] = self.get_setting(f\"antenna_config.{frequency_mhz}\")\n\n        # Reconstruct placement_scenarios for the specific placement\n        if scenario_name:\n            original_scenario = self.get_placement_scenario(scenario_name)\n            if original_scenario and position_name and orientation_name:\n                surgical_config[\"placement_scenarios\"] = {\n                    scenario_name: {\n                        \"positions\": {position_name: original_scenario[\"positions\"][position_name]},\n                        \"orientations\": {orientation_name: original_scenario[\"orientations\"][orientation_name]},\n                        \"bounding_box\": original_scenario.get(\"bounding_box\", \"default\"),\n                    }\n                }\n\n        # Select the specific phantom definition\n        surgical_config[\"phantom_definitions\"] = {phantom_name: self.get_phantom_definition(phantom_name)}\n\n    elif study_type == \"far_field\":\n        # Surgically build the far_field_setup to be robust against future changes\n        original_ff_setup = self.get_setting(\"far_field_setup\", {})\n        if original_ff_setup:\n            surgical_config[\"far_field_setup\"] = {\n                \"type\": original_ff_setup.get(\"type\"),\n                \"environmental\": {\n                    \"incident_directions\": [direction_name],\n                    \"polarizations\": [polarization_name],\n                },\n            }\n        # Also include the specific phantom definition, if it's not empty\n        phantom_def = self.get_phantom_definition(phantom_name)\n        if phantom_def:\n            surgical_config[\"phantom_definitions\"] = {phantom_name: phantom_def}\n\n    return surgical_config\n</code></pre>"},{"location":"reference/api_reference/#data-management","title":"Data Management","text":""},{"location":"reference/api_reference/#goliat.data_extractor","title":"goliat.data_extractor","text":""},{"location":"reference/api_reference/#goliat.data_extractor-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.data_extractor.get_parameter_from_json","title":"get_parameter_from_json","text":"<pre><code>get_parameter_from_json(file_path: str, json_path: str) -&gt; Any\n</code></pre> <p>Extracts a nested value from a JSON file using dot notation.</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>str</code> <p>Path to the JSON file.</p> required <code>json_path</code> <code>str</code> <p>Dot-separated path like 'section.subsection.key'.</p> required <p>Returns:</p> Type Description <code>Any</code> <p>The value at the path, or None if not found.</p> Source code in <code>goliat/data_extractor.py</code> <pre><code>def get_parameter_from_json(file_path: str, json_path: str) -&gt; Any:\n    \"\"\"Extracts a nested value from a JSON file using dot notation.\n\n    Args:\n        file_path: Path to the JSON file.\n        json_path: Dot-separated path like 'section.subsection.key'.\n\n    Returns:\n        The value at the path, or None if not found.\n    \"\"\"\n    if not os.path.exists(file_path):\n        return None\n\n    try:\n        with open(file_path, \"r\") as f:\n            data = json.load(f)\n    except (json.JSONDecodeError, ValueError):\n        return None\n\n    keys = json_path.split(\".\")\n    value = data\n    for key in keys:\n        if isinstance(value, dict) and key in value:\n            value = value[key]\n        else:\n            return None\n    return value\n</code></pre>"},{"location":"reference/api_reference/#goliat.data_extractor.get_parameter","title":"get_parameter","text":"<pre><code>get_parameter(source_config: Dict[str, Any], context: Dict[str, Any]) -&gt; Any\n</code></pre> <p>Retrieves a parameter from a data source using a config-driven approach.</p> <p>Supports JSON sources currently. The source_config defines where to look, and context provides values for formatting paths (e.g., project_root).</p> <p>Parameters:</p> Name Type Description Default <code>source_config</code> <code>Dict[str, Any]</code> <p>Dict with 'source_type', 'file_path_template', 'json_path'.</p> required <code>context</code> <code>Dict[str, Any]</code> <p>Values for formatting file paths.</p> required <p>Returns:</p> Type Description <code>Any</code> <p>The retrieved value, or None on error.</p> Source code in <code>goliat/data_extractor.py</code> <pre><code>def get_parameter(source_config: Dict[str, Any], context: Dict[str, Any]) -&gt; Any:\n    \"\"\"Retrieves a parameter from a data source using a config-driven approach.\n\n    Supports JSON sources currently. The source_config defines where to look,\n    and context provides values for formatting paths (e.g., project_root).\n\n    Args:\n        source_config: Dict with 'source_type', 'file_path_template', 'json_path'.\n        context: Values for formatting file paths.\n\n    Returns:\n        The retrieved value, or None on error.\n    \"\"\"\n    source_type = source_config.get(\"source_type\")\n\n    if source_type == \"json\":\n        file_path_template = source_config.get(\"file_path_template\")\n        if not file_path_template:\n            return None\n\n        try:\n            file_path = file_path_template.format(**context)\n        except KeyError as e:\n            import logging\n\n            logging.getLogger(\"verbose\").error(f\"Error: Missing context for placeholder in file_path_template: {e}\")\n            return None\n\n        json_path = source_config.get(\"json_path\")\n        if not json_path:\n            return None\n\n        project_root = context.get(\"project_root\", \"\")\n        full_path = os.path.join(project_root, file_path)\n\n        return get_parameter_from_json(full_path, json_path)\n\n    # Future extension for other data source types\n    # elif source_type == 'simulation':\n    #     # ... implementation for extracting from simulation results ...\n    #     pass\n\n    else:\n        import logging\n\n        logging.getLogger(\"verbose\").error(f\"Error: Unsupported source type '{source_type}'\")\n        return None\n</code></pre>"},{"location":"reference/api_reference/#logging","title":"Logging","text":""},{"location":"reference/api_reference/#goliat.logging_manager","title":"goliat.logging_manager","text":""},{"location":"reference/api_reference/#goliat.logging_manager-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.logging_manager.ColorFormatter","title":"ColorFormatter","text":"<p>               Bases: <code>Formatter</code></p> <p>Custom formatter that colorizes log messages based on log_type.</p> <p>Applies colorama color codes to messages and caller info based on the log_type attribute (info, warning, error, success, etc.).</p>"},{"location":"reference/api_reference/#goliat.logging_manager.ColorFormatter-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.logging_manager.ColorFormatter.format","title":"format","text":"<pre><code>format(record: LogRecord) -&gt; str\n</code></pre> <p>Adds color codes to log messages based on log_type.</p> Source code in <code>goliat/logging_manager.py</code> <pre><code>def format(self, record: logging.LogRecord) -&gt; str:\n    \"\"\"Adds color codes to log messages based on log_type.\"\"\"\n    log_type = getattr(record, \"log_type\", \"default\")\n    message_color = get_color(log_type)\n    caller_color = get_color(\"caller\")\n    message = record.getMessage()\n    caller_info = getattr(record, \"caller_info\", \"\")\n    return f\"{message_color}{message}{Style.RESET_ALL} {caller_color}{caller_info}{Style.RESET_ALL}\"\n</code></pre>"},{"location":"reference/api_reference/#goliat.logging_manager.CustomFormatter","title":"CustomFormatter","text":"<p>               Bases: <code>Formatter</code></p> <p>Formatter that safely handles optional caller_info attribute.</p>"},{"location":"reference/api_reference/#goliat.logging_manager.CustomFormatter-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.logging_manager.CustomFormatter.format","title":"format","text":"<pre><code>format(record: LogRecord) -&gt; str\n</code></pre> <p>Formats the record, safely handling the 'caller_info' attribute.</p> Source code in <code>goliat/logging_manager.py</code> <pre><code>def format(self, record: logging.LogRecord) -&gt; str:\n    \"\"\"Formats the record, safely handling the 'caller_info' attribute.\"\"\"\n    base_message = super().format(record)\n    caller_info = getattr(record, \"caller_info\", \"\")\n    if caller_info:\n        return f\"{base_message} {caller_info}\"\n    return base_message\n</code></pre>"},{"location":"reference/api_reference/#goliat.logging_manager.LoggingMixin","title":"LoggingMixin","text":"<p>A mixin class that provides a standardized logging interface.</p> <p>Provides a <code>_log</code> method that directs messages to the appropriate logger ('progress' or 'verbose') and, if available, to the GUI.</p>"},{"location":"reference/api_reference/#goliat.logging_manager-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.logging_manager.setup_loggers","title":"setup_loggers","text":"<pre><code>setup_loggers(process_id: Optional[str] = None) -&gt; tuple[logging.Logger, logging.Logger, str]\n</code></pre> <p>Sets up dual logging system with rotation.</p> <p>Creates 'progress' and 'verbose' loggers with file and console handlers. Rotates old logs when more than 30 exist. Uses lock file for thread-safe rotation.</p> <p>Parameters:</p> Name Type Description Default <code>process_id</code> <code>Optional[str]</code> <p>Optional ID to make log filenames unique for parallel runs.</p> <code>None</code> <p>Returns:</p> Type Description <code>tuple[Logger, Logger, str]</code> <p>Tuple of (progress_logger, verbose_logger, session_timestamp).</p> Source code in <code>goliat/logging_manager.py</code> <pre><code>def setup_loggers(process_id: Optional[str] = None) -&gt; tuple[logging.Logger, logging.Logger, str]:\n    \"\"\"Sets up dual logging system with rotation.\n\n    Creates 'progress' and 'verbose' loggers with file and console handlers.\n    Rotates old logs when more than 30 exist. Uses lock file for thread-safe\n    rotation.\n\n    Args:\n        process_id: Optional ID to make log filenames unique for parallel runs.\n\n    Returns:\n        Tuple of (progress_logger, verbose_logger, session_timestamp).\n    \"\"\"\n    # Initialize colorama with appropriate settings for current environment\n    init_colorama()\n    log_dir = \"logs\"\n    if not os.path.exists(log_dir):\n        os.makedirs(log_dir)\n\n    session_timestamp = datetime.now().strftime(\"%d-%m_%H-%M-%S\")\n    if process_id:\n        session_timestamp = f\"{session_timestamp}_{process_id}\"\n\n    lock_file_path = os.path.join(log_dir, \"log_rotation.lock\")\n\n    while True:\n        try:\n            with open(lock_file_path, \"x\"):\n                break\n        except FileExistsError:\n            time.sleep(0.1)\n\n    try:\n        log_files = [os.path.join(log_dir, f) for f in os.listdir(log_dir) if f.endswith(\".log\")]\n        log_files.sort(key=os.path.getctime)\n        while len(log_files) &gt;= 30:\n            try:\n                old_log = log_files.pop(0)\n                base, _ = os.path.splitext(old_log)\n                progress_log = base + \".progress.log\"\n\n                if os.path.exists(old_log):\n                    os.remove(old_log)\n                if os.path.exists(progress_log):\n                    os.remove(progress_log)\n            except OSError:\n                pass\n    finally:\n        if os.path.exists(lock_file_path):\n            os.remove(lock_file_path)\n\n    progress_log_filename = os.path.join(log_dir, f\"{session_timestamp}.progress.log\")\n    main_log_filename = os.path.join(log_dir, f\"{session_timestamp}.log\")\n\n    file_formatter = CustomFormatter(\"%(asctime)s - %(levelname)s - %(message)s\")\n    console_formatter = ColorFormatter()\n\n    main_file_handler = logging.FileHandler(main_log_filename, mode=\"a\")\n    main_file_handler.setFormatter(file_formatter)\n\n    progress_logger = logging.getLogger(\"progress\")\n    progress_logger.setLevel(logging.INFO)\n    for handler in progress_logger.handlers[:]:\n        progress_logger.removeHandler(handler)\n\n    progress_file_handler = logging.FileHandler(progress_log_filename, mode=\"a\")\n    progress_file_handler.setFormatter(file_formatter)\n    progress_logger.addHandler(progress_file_handler)\n\n    progress_logger.addHandler(main_file_handler)\n\n    progress_stream_handler = logging.StreamHandler()\n    progress_stream_handler.setFormatter(console_formatter)\n    progress_logger.addHandler(progress_stream_handler)\n    progress_logger.propagate = False\n\n    verbose_logger = logging.getLogger(\"verbose\")\n    verbose_logger.setLevel(logging.INFO)\n    for handler in verbose_logger.handlers[:]:\n        verbose_logger.removeHandler(handler)\n\n    verbose_logger.addHandler(main_file_handler)\n\n    verbose_stream_handler = logging.StreamHandler()\n    verbose_stream_handler.setFormatter(console_formatter)\n    verbose_logger.addHandler(verbose_stream_handler)\n    verbose_logger.propagate = False\n\n    progress_logger.info(f\"--- Progress logging started for file: {os.path.abspath(progress_log_filename)} ---\")\n    verbose_logger.info(f\"--- Main logging started for file: {os.path.abspath(main_log_filename)} ---\")\n\n    return progress_logger, verbose_logger, session_timestamp\n</code></pre>"},{"location":"reference/api_reference/#goliat.logging_manager.shutdown_loggers","title":"shutdown_loggers","text":"<pre><code>shutdown_loggers()\n</code></pre> <p>Safely shuts down all logging handlers to release file locks.</p> Source code in <code>goliat/logging_manager.py</code> <pre><code>def shutdown_loggers():\n    \"\"\"Safely shuts down all logging handlers to release file locks.\"\"\"\n    for name in [\"progress\", \"verbose\"]:\n        logger = logging.getLogger(name)\n        logger.info(\"--- Logging shutdown ---\")\n        for handler in logger.handlers[:]:\n            handler.close()\n            logger.removeHandler(handler)\n</code></pre>"},{"location":"reference/api_reference/#goliat.logging_manager.add_simulation_log_handlers","title":"add_simulation_log_handlers","text":"<pre><code>add_simulation_log_handlers(simulation_dir: str) -&gt; list[logging.Handler]\n</code></pre> <p>Adds file handlers for progress and verbose logs to a simulation-specific directory.</p> <p>Creates log files in the simulation directory while keeping the main logs/ directory handlers intact. Both progress and verbose logs are written to the simulation directory.</p> <p>Parameters:</p> Name Type Description Default <code>simulation_dir</code> <code>str</code> <p>Directory path where simulation-specific logs should be written.</p> required <p>Returns:</p> Type Description <code>list[Handler]</code> <p>List of handlers that were added (for later removal via remove_simulation_log_handlers).</p> Source code in <code>goliat/logging_manager.py</code> <pre><code>def add_simulation_log_handlers(simulation_dir: str) -&gt; list[logging.Handler]:\n    \"\"\"Adds file handlers for progress and verbose logs to a simulation-specific directory.\n\n    Creates log files in the simulation directory while keeping the main logs/ directory\n    handlers intact. Both progress and verbose logs are written to the simulation directory.\n\n    Args:\n        simulation_dir: Directory path where simulation-specific logs should be written.\n\n    Returns:\n        List of handlers that were added (for later removal via remove_simulation_log_handlers).\n    \"\"\"\n    if not os.path.exists(simulation_dir):\n        os.makedirs(simulation_dir)\n\n    file_formatter = CustomFormatter(\"%(asctime)s - %(levelname)s - %(message)s\")\n\n    # Create log file paths in the simulation directory\n    progress_log_path = os.path.join(simulation_dir, \"progress.log\")\n    verbose_log_path = os.path.join(simulation_dir, \"verbose.log\")\n\n    # Create handlers\n    progress_file_handler = logging.FileHandler(progress_log_path, mode=\"a\")\n    progress_file_handler.setFormatter(file_formatter)\n    setattr(progress_file_handler, \"_is_simulation_handler\", True)  # Mark for later removal\n\n    verbose_file_handler = logging.FileHandler(verbose_log_path, mode=\"a\")\n    verbose_file_handler.setFormatter(file_formatter)\n    setattr(verbose_file_handler, \"_is_simulation_handler\", True)  # Mark for later removal\n\n    # Add handlers to loggers\n    progress_logger = logging.getLogger(\"progress\")\n    verbose_logger = logging.getLogger(\"verbose\")\n\n    progress_logger.addHandler(progress_file_handler)\n    verbose_logger.addHandler(verbose_file_handler)\n\n    # Log that simulation-specific logging has started\n    progress_logger.info(f\"--- Simulation-specific progress logging started: {progress_log_path} ---\")\n    verbose_logger.info(f\"--- Simulation-specific verbose logging started: {verbose_log_path} ---\")\n\n    return [progress_file_handler, verbose_file_handler]\n</code></pre>"},{"location":"reference/api_reference/#goliat.logging_manager.remove_simulation_log_handlers","title":"remove_simulation_log_handlers","text":"<pre><code>remove_simulation_log_handlers(handlers: list[Handler])\n</code></pre> <p>Removes simulation-specific log handlers and closes their files.</p> <p>Parameters:</p> Name Type Description Default <code>handlers</code> <code>list[Handler]</code> <p>List of handlers to remove (typically returned from add_simulation_log_handlers).</p> required Source code in <code>goliat/logging_manager.py</code> <pre><code>def remove_simulation_log_handlers(handlers: list[logging.Handler]):\n    \"\"\"Removes simulation-specific log handlers and closes their files.\n\n    Args:\n        handlers: List of handlers to remove (typically returned from add_simulation_log_handlers).\n    \"\"\"\n    for handler in handlers:\n        if hasattr(handler, \"_is_simulation_handler\") and getattr(handler, \"_is_simulation_handler\", False):\n            # Find and remove from appropriate logger\n            progress_logger = logging.getLogger(\"progress\")\n            verbose_logger = logging.getLogger(\"verbose\")\n\n            if handler in progress_logger.handlers:\n                progress_logger.removeHandler(handler)\n            if handler in verbose_logger.handlers:\n                verbose_logger.removeHandler(handler)\n\n            handler.close()\n</code></pre>"},{"location":"reference/api_reference/#profiling","title":"Profiling","text":""},{"location":"reference/api_reference/#goliat.profiler.Profiler","title":"goliat.profiler.Profiler","text":"<pre><code>Profiler(execution_control: dict, profiling_config: dict, study_type: str, config_path: str)\n</code></pre> <p>Manages execution time tracking, ETA estimation, and study phase management.</p> <p>This class divides a study into phases (setup, run, extract), calculates weighted progress, and estimates the time remaining. It also saves updated time estimates to a configuration file after each run, making it self-improving.</p> <p>Parameters:</p> Name Type Description Default <code>execution_control</code> <code>dict</code> <p>Dict indicating which phases are enabled.</p> required <code>profiling_config</code> <code>dict</code> <p>Historical timing data for estimates.</p> required <code>study_type</code> <code>str</code> <p>Study type ('near_field' or 'far_field').</p> required <code>config_path</code> <code>str</code> <p>Path where profiling config is saved.</p> required Source code in <code>goliat/profiler.py</code> <pre><code>def __init__(\n    self,\n    execution_control: dict,\n    profiling_config: dict,\n    study_type: str,\n    config_path: str,\n):\n    \"\"\"Sets up the profiler with phase tracking and ETA estimation.\n\n    Args:\n        execution_control: Dict indicating which phases are enabled.\n        profiling_config: Historical timing data for estimates.\n        study_type: Study type ('near_field' or 'far_field').\n        config_path: Path where profiling config is saved.\n    \"\"\"\n    self.execution_control = execution_control\n    self.profiling_config = profiling_config\n    self.study_type = study_type\n    self.config_path = config_path\n\n    self.phase_weights = self._calculate_phase_weights()\n    self.subtask_times = defaultdict(list)\n    self.subtask_stack = []\n\n    self.total_simulations = 0\n    self.completed_simulations = 0\n    self.total_projects = 0\n    self.current_project = 0\n    self.completed_phases = set()\n\n    self.start_time = time.monotonic()\n    self.current_phase = None\n    self.phase_start_time = None\n    self.run_phase_total_duration = 0\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.profiler.Profiler.set_total_simulations","title":"set_total_simulations","text":"<pre><code>set_total_simulations(total: int)\n</code></pre> <p>Sets total simulation count for progress tracking.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def set_total_simulations(self, total: int):\n    \"\"\"Sets total simulation count for progress tracking.\"\"\"\n    self.total_simulations = total\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.set_project_scope","title":"set_project_scope","text":"<pre><code>set_project_scope(total_projects: int)\n</code></pre> <p>Sets total project count for progress tracking.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def set_project_scope(self, total_projects: int):\n    \"\"\"Sets total project count for progress tracking.\"\"\"\n    self.total_projects = total_projects\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.set_current_project","title":"set_current_project","text":"<pre><code>set_current_project(project_index: int)\n</code></pre> <p>Sets the current project index.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def set_current_project(self, project_index: int):\n    \"\"\"Sets the current project index.\"\"\"\n    self.current_project = project_index\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.simulation_completed","title":"simulation_completed","text":"<pre><code>simulation_completed()\n</code></pre> <p>Marks one simulation as completed.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def simulation_completed(self):\n    \"\"\"Marks one simulation as completed.\"\"\"\n    self.completed_simulations += 1\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.start_stage","title":"start_stage","text":"<pre><code>start_stage(phase_name: str, total_stages: int = 1)\n</code></pre> <p>Starts tracking a new phase (setup/run/extract).</p> <p>Parameters:</p> Name Type Description Default <code>phase_name</code> <code>str</code> <p>Phase name like 'setup', 'run', or 'extract'.</p> required <code>total_stages</code> <code>int</code> <p>Number of stages within this phase.</p> <code>1</code> Source code in <code>goliat/profiler.py</code> <pre><code>def start_stage(self, phase_name: str, total_stages: int = 1):\n    \"\"\"Starts tracking a new phase (setup/run/extract).\n\n    Args:\n        phase_name: Phase name like 'setup', 'run', or 'extract'.\n        total_stages: Number of stages within this phase.\n    \"\"\"\n    self.current_phase = phase_name\n    self.phase_start_time = time.monotonic()\n    self.completed_stages_in_phase = 0\n    self.total_stages_in_phase = total_stages\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.end_stage","title":"end_stage","text":"<pre><code>end_stage()\n</code></pre> <p>Ends current phase and records its duration for future estimates.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def end_stage(self):\n    \"\"\"Ends current phase and records its duration for future estimates.\"\"\"\n    if self.phase_start_time:\n        elapsed = time.monotonic() - self.phase_start_time\n        self.profiling_config[f\"avg_{self.current_phase}_time\"] = elapsed\n    self.current_phase = None\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.complete_run_phase","title":"complete_run_phase","text":"<pre><code>complete_run_phase()\n</code></pre> <p>Stores the total duration of the 'run' phase from its subtasks.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def complete_run_phase(self):\n    \"\"\"Stores the total duration of the 'run' phase from its subtasks.\"\"\"\n    self.run_phase_total_duration = sum(self.subtask_times.get(\"run_simulation_total\", [0]))\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.get_weighted_progress","title":"get_weighted_progress","text":"<pre><code>get_weighted_progress(phase_name: str, phase_progress_ratio: float) -&gt; float\n</code></pre> <p>Calculates overall study progress using phase weights and simulation count.</p> <p>This method handles the complexity that different phases (setup, run, extract) take different amounts of time. For example, if setup takes 10 minutes, run takes 2 hours, and extract takes 5 minutes, then the run phase should account for roughly 85% of the progress bar, not 33%.</p> <p>The calculation works in two parts: 1. Progress within current simulation: Sums weights of completed phases,    plus partial weight for the current phase based on its progress ratio. 2. Overall progress: Divides (completed_simulations + current_sim_progress)    by total_simulations to get the overall percentage.</p> <p>Parameters:</p> Name Type Description Default <code>phase_name</code> <code>str</code> <p>The name of the current phase ('setup', 'run', or 'extract').</p> required <code>phase_progress_ratio</code> <code>float</code> <p>Progress within current phase (0.0 = not started,                  1.0 = fully complete).</p> required <p>Returns:</p> Type Description <code>float</code> <p>Overall progress percentage (0.0 to 100.0).</p> Source code in <code>goliat/profiler.py</code> <pre><code>def get_weighted_progress(self, phase_name: str, phase_progress_ratio: float) -&gt; float:\n    \"\"\"Calculates overall study progress using phase weights and simulation count.\n\n    This method handles the complexity that different phases (setup, run, extract)\n    take different amounts of time. For example, if setup takes 10 minutes, run takes\n    2 hours, and extract takes 5 minutes, then the run phase should account for\n    roughly 85% of the progress bar, not 33%.\n\n    The calculation works in two parts:\n    1. Progress within current simulation: Sums weights of completed phases,\n       plus partial weight for the current phase based on its progress ratio.\n    2. Overall progress: Divides (completed_simulations + current_sim_progress)\n       by total_simulations to get the overall percentage.\n\n    Args:\n        phase_name: The name of the current phase ('setup', 'run', or 'extract').\n        phase_progress_ratio: Progress within current phase (0.0 = not started,\n                             1.0 = fully complete).\n\n    Returns:\n        Overall progress percentage (0.0 to 100.0).\n    \"\"\"\n    if self.total_simulations == 0:\n        return 0.0\n\n    # Progress within the current simulation\n    progress_current_sim = 0\n    for p, w in self.phase_weights.items():\n        if p == phase_name:\n            progress_current_sim += w * phase_progress_ratio\n            break\n        progress_current_sim += w\n\n    # Overall progress\n    overall_progress = (self.completed_simulations + progress_current_sim) / self.total_simulations\n    # print(f\"DEBUG: get_weighted_progress: phase={phase_name}, ratio={phase_progress_ratio:.2f}, completed={self.completed_simulations}, total={self.total_simulations}, progress={overall_progress * 100:.1f}%\")\n    return overall_progress * 100\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.get_subtask_estimate","title":"get_subtask_estimate","text":"<pre><code>get_subtask_estimate(task_name: str) -&gt; float\n</code></pre> <p>Retrieves the estimated time for a specific subtask. Args:     task_name: The name of the subtask. Returns:     The estimated duration in seconds.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def get_subtask_estimate(self, task_name: str) -&gt; float:\n    \"\"\"Retrieves the estimated time for a specific subtask.\n    Args:\n        task_name: The name of the subtask.\n    Returns:\n        The estimated duration in seconds.\n    \"\"\"\n    return self.profiling_config.get(f\"avg_{task_name}\", 1.0)\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.get_phase_subtasks","title":"get_phase_subtasks","text":"<pre><code>get_phase_subtasks(phase_name: str) -&gt; list\n</code></pre> <p>Gets a list of subtasks for a given phase. Args:     phase_name: The name of the phase. Returns:     A list of subtask names.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def get_phase_subtasks(self, phase_name: str) -&gt; list:\n    \"\"\"Gets a list of subtasks for a given phase.\n    Args:\n        phase_name: The name of the phase.\n    Returns:\n        A list of subtask names.\n    \"\"\"\n    subtasks = []\n    for key in self.profiling_config.keys():\n        if key.startswith(f\"avg_{phase_name}_\"):\n            subtasks.append(key.replace(\"avg_\", \"\"))\n    return subtasks\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.get_time_remaining","title":"get_time_remaining","text":"<pre><code>get_time_remaining(current_stage_progress: float = 0.0) -&gt; float\n</code></pre> <p>Estimates total time remaining for the entire study.</p> <p>Uses historical timing data to predict how long each phase will take, then calculates remaining time by subtracting elapsed time from total estimated time. This gives a realistic ETA that accounts for the fact that different phases take different amounts of time.</p> <p>The calculation considers: - Time already spent on fully completed simulations - Time spent on phases within the current simulation that are done - Estimated time remaining in the current phase (based on progress ratio) - Estimated time for all future simulations</p> <p>Parameters:</p> Name Type Description Default <code>current_stage_progress</code> <code>float</code> <p>Progress within current stage (0.0 to 1.0).</p> <code>0.0</code> <p>Returns:</p> Type Description <code>float</code> <p>Estimated time remaining in seconds.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def get_time_remaining(self, current_stage_progress: float = 0.0) -&gt; float:\n    \"\"\"Estimates total time remaining for the entire study.\n\n    Uses historical timing data to predict how long each phase will take,\n    then calculates remaining time by subtracting elapsed time from total\n    estimated time. This gives a realistic ETA that accounts for the fact\n    that different phases take different amounts of time.\n\n    The calculation considers:\n    - Time already spent on fully completed simulations\n    - Time spent on phases within the current simulation that are done\n    - Estimated time remaining in the current phase (based on progress ratio)\n    - Estimated time for all future simulations\n\n    Args:\n        current_stage_progress: Progress within current stage (0.0 to 1.0).\n\n    Returns:\n        Estimated time remaining in seconds.\n    \"\"\"\n    if not self.current_phase or self.total_simulations == 0:\n        return 0.0\n\n    # Calculate the total estimated time for one simulation\n    total_time_per_sim = 0\n    for phase in [\"setup\", \"run\", \"extract\"]:\n        if self.execution_control.get(f\"do_{phase}\", False):\n            total_time_per_sim += self.profiling_config.get(f\"avg_{phase}_time\", 60)\n\n    # Calculate the time already spent on completed simulations\n    time_for_completed_sims = self.completed_simulations * total_time_per_sim\n\n    # Calculate the time spent on the current simulation so far\n    time_spent_on_current_sim = 0\n    ordered_phases = [p for p in [\"setup\", \"run\", \"extract\"] if self.execution_control.get(f\"do_{p}\", False)]\n    try:\n        current_phase_index = ordered_phases.index(self.current_phase)\n    except ValueError:\n        current_phase_index = 0\n\n    for i in range(current_phase_index):\n        phase = ordered_phases[i]\n        time_spent_on_current_sim += self.profiling_config.get(f\"avg_{phase}_time\", 60)\n\n    current_phase_time = self.profiling_config.get(f\"avg_{self.current_phase}_time\", 60)\n    time_spent_on_current_sim += current_phase_time * current_stage_progress\n\n    # Time elapsed in the current phase\n    if self.phase_start_time:\n        time_spent_on_current_sim += time.monotonic() - self.phase_start_time\n\n    # Total time elapsed is the sum of time for completed sims and time spent on the current one\n    total_elapsed_time = time_for_completed_sims + time_spent_on_current_sim\n\n    # Total estimated time for all simulations\n    total_estimated_time = self.total_simulations * total_time_per_sim\n\n    # Estimated time remaining\n    eta = total_estimated_time - total_elapsed_time\n    return max(0, eta)\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.subtask","title":"subtask","text":"<pre><code>subtask(task_name: str)\n</code></pre> <p>A context manager to time a subtask.</p> Source code in <code>goliat/profiler.py</code> <pre><code>@contextlib.contextmanager\ndef subtask(self, task_name: str):\n    \"\"\"A context manager to time a subtask.\"\"\"\n    self.subtask_stack.append({\"name\": task_name, \"start_time\": time.monotonic()})\n    try:\n        yield\n    finally:\n        subtask = self.subtask_stack.pop()\n        elapsed = time.monotonic() - subtask[\"start_time\"]\n        self.subtask_times[subtask[\"name\"]].append(elapsed)\n        self.update_and_save_estimates()\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.update_and_save_estimates","title":"update_and_save_estimates","text":"<pre><code>update_and_save_estimates()\n</code></pre> <p>Updates the profiling configuration with the latest average times and saves it.</p> <p>This makes the profiler's estimates self-improving over time.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def update_and_save_estimates(self):\n    \"\"\"Updates the profiling configuration with the latest average times and saves it.\n\n    This makes the profiler's estimates self-improving over time.\n    \"\"\"\n    try:\n        with open(self.config_path, \"r\") as f:\n            full_config = json.load(f)\n    except (FileNotFoundError, json.JSONDecodeError):\n        full_config = {}\n\n    if self.study_type not in full_config:\n        full_config[self.study_type] = {}\n\n    for key, value in self.profiling_config.items():\n        if key.startswith(\"avg_\"):\n            full_config[self.study_type][key] = round(value, 2)\n\n    for task_name, times in self.subtask_times.items():\n        if times:\n            avg_task_time = sum(times) / len(times)\n            avg_key = f\"avg_{task_name}\"\n            full_config[self.study_type][avg_key] = round(avg_task_time, 2)\n            # Also update the in-memory profiling_config so it's available when sent to GUI\n            self.profiling_config[avg_key] = round(avg_task_time, 2)\n\n    with open(self.config_path, \"w\") as f:\n        json.dump(full_config, f, indent=4)\n</code></pre>"},{"location":"reference/api_reference/#goliat.profiler.Profiler.save_estimates","title":"save_estimates","text":"<pre><code>save_estimates()\n</code></pre> <p>Saves the final profiling estimates at the end of the study.</p> Source code in <code>goliat/profiler.py</code> <pre><code>def save_estimates(self):\n    \"\"\"Saves the final profiling estimates at the end of the study.\"\"\"\n    self.update_and_save_estimates()\n</code></pre>"},{"location":"reference/api_reference/#project-management","title":"Project Management","text":""},{"location":"reference/api_reference/#goliat.project_manager","title":"goliat.project_manager","text":""},{"location":"reference/api_reference/#goliat.project_manager-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.project_manager.ProjectCorruptionError","title":"ProjectCorruptionError","text":"<p>               Bases: <code>Exception</code></p> <p>Raised when a project file is corrupted, locked, or inaccessible.</p>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager","title":"ProjectManager","text":"<pre><code>ProjectManager(config: Config, verbose_logger: Logger, progress_logger: Logger, gui: Optional[QueueGUI] = None, no_cache: bool = False)\n</code></pre> <p>               Bases: <code>LoggingMixin</code></p> <p>Manages the lifecycle of Sim4Life (.smash) project files.</p> <p>Handles creation, opening, saving, and validation of project files, ensuring robustness against file corruption and locks.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>Config</code> <p>The main configuration object.</p> required <code>verbose_logger</code> <code>Logger</code> <p>Logger for detailed output.</p> required <code>progress_logger</code> <code>Logger</code> <p>Logger for high-level progress updates.</p> required <code>gui</code> <code>Optional[QueueGUI]</code> <p>The GUI proxy for inter-process communication.</p> <code>None</code> <code>no_cache</code> <code>bool</code> <p>If True, bypasses metadata verification.</p> <code>False</code> Source code in <code>goliat/project_manager.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n    gui: Optional[\"QueueGUI\"] = None,\n    no_cache: bool = False,\n):\n    \"\"\"Initializes the ProjectManager.\n\n    Args:\n        config: The main configuration object.\n        verbose_logger: Logger for detailed output.\n        progress_logger: Logger for high-level progress updates.\n        gui: The GUI proxy for inter-process communication.\n        no_cache: If True, bypasses metadata verification.\n    \"\"\"\n    self.config = config\n    self.verbose_logger = verbose_logger\n    self.progress_logger = progress_logger\n    self.gui = gui\n    self.no_cache = no_cache\n    import s4l_v1.document\n\n    self.document = s4l_v1.document\n    self.project_path: Optional[str] = None\n    self.execution_control = self.config.get_setting(\"execution_control\", {\"do_setup\": True, \"do_run\": True, \"do_extract\": True})\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.write_simulation_metadata","title":"write_simulation_metadata","text":"<pre><code>write_simulation_metadata(meta_path: str, surgical_config: dict)\n</code></pre> <p>Writes config metadata and hash to disk for verification/resume.</p> <p>Creates a metadata file that tracks the config hash and completion status of each phase (setup/run/extract). Used by the verify-and-resume feature.</p> <p>Parameters:</p> Name Type Description Default <code>meta_path</code> <code>str</code> <p>Full path where metadata should be saved.</p> required <code>surgical_config</code> <code>dict</code> <p>The minimal config snapshot for this simulation.</p> required Source code in <code>goliat/project_manager.py</code> <pre><code>def write_simulation_metadata(self, meta_path: str, surgical_config: dict):\n    \"\"\"Writes config metadata and hash to disk for verification/resume.\n\n    Creates a metadata file that tracks the config hash and completion status\n    of each phase (setup/run/extract). Used by the verify-and-resume feature.\n\n    Args:\n        meta_path: Full path where metadata should be saved.\n        surgical_config: The minimal config snapshot for this simulation.\n    \"\"\"\n    config_hash = self._generate_config_hash(surgical_config)\n    metadata = {\n        \"config_hash\": config_hash,\n        \"config_snapshot\": surgical_config,\n        \"setup_timestamp\": datetime.now().isoformat(),\n        \"run_done\": False,\n        \"extract_done\": False,\n    }\n\n    os.makedirs(os.path.dirname(meta_path), exist_ok=True)\n    with open(meta_path, \"w\") as f:\n        json.dump(metadata, f, indent=4)\n    self._log(\n        f\"  - Saved configuration metadata to {os.path.basename(meta_path)}\",\n        log_type=\"info\",\n    )\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.update_simulation_metadata","title":"update_simulation_metadata","text":"<pre><code>update_simulation_metadata(meta_path: str, run_done: Optional[bool] = None, extract_done: Optional[bool] = None)\n</code></pre> <p>Updates phase completion flags in the metadata file.</p> <p>Parameters:</p> Name Type Description Default <code>meta_path</code> <code>str</code> <p>Path to the metadata file.</p> required <code>run_done</code> <code>Optional[bool]</code> <p>New run phase status.</p> <code>None</code> <code>extract_done</code> <code>Optional[bool]</code> <p>New extract phase status.</p> <code>None</code> Source code in <code>goliat/project_manager.py</code> <pre><code>def update_simulation_metadata(self, meta_path: str, run_done: Optional[bool] = None, extract_done: Optional[bool] = None):\n    \"\"\"Updates phase completion flags in the metadata file.\n\n    Args:\n        meta_path: Path to the metadata file.\n        run_done: New run phase status.\n        extract_done: New extract phase status.\n    \"\"\"\n    if not os.path.exists(meta_path):\n        self._log(f\"Cannot update metadata, file not found: {meta_path}\", log_type=\"warning\")\n        return\n\n    with open(meta_path, \"r+\") as f:\n        metadata = json.load(f)\n        if run_done is not None:\n            metadata[\"run_done\"] = run_done\n        if extract_done is not None:\n            metadata[\"extract_done\"] = extract_done\n        f.seek(0)\n        json.dump(metadata, f, indent=4)\n        f.truncate()\n    self._log(f\"Updated metadata in {os.path.basename(meta_path)}\", log_type=\"info\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.verify_simulation_metadata","title":"verify_simulation_metadata","text":"<pre><code>verify_simulation_metadata(meta_path: str, surgical_config: dict, smash_path: Optional[str] = None) -&gt; dict\n</code></pre> <p>Verifies if an existing simulation can be reused to skip completed phases.</p> <p>This method implements a three-step verification process to determine if a previously run simulation can be reused:</p> <ol> <li> <p>Config hash check: Compares the stored config hash with the current config.    If they don't match, the simulation is outdated and must be rerun.</p> </li> <li> <p>Project file validation: Checks if the .smash file exists, is not locked,    and has valid HDF5 structure. If invalid, setup must be rerun.</p> </li> <li> <p>Deliverable freshness check: Verifies that output files (H5 results) and    extracted files (JSON/PKL/HTML) exist and are newer than the setup timestamp.    This ensures we don't skip phases if files are missing or outdated.</p> </li> </ol> <p>The method returns a dict indicating which phases are complete, allowing the study to skip setup/run/extract as appropriate. Note that extract completion always requires run completion - if extract is done but run isn't, both are marked incomplete to prevent inconsistent states.</p> <p>Parameters:</p> Name Type Description Default <code>meta_path</code> <code>str</code> <p>Path to the metadata file containing config hash and timestamps.</p> required <code>surgical_config</code> <code>dict</code> <p>Current config snapshot to compare against stored hash.</p> required <code>smash_path</code> <code>Optional[str]</code> <p>Optional override for project file path (used for verification).</p> <code>None</code> <p>Returns:</p> Type Description <code>dict</code> <p>Dict with boolean flags: 'setup_done', 'run_done', 'extract_done'.</p> <code>dict</code> <p>All False if verification fails at any step.</p> Source code in <code>goliat/project_manager.py</code> <pre><code>def verify_simulation_metadata(self, meta_path: str, surgical_config: dict, smash_path: Optional[str] = None) -&gt; dict:\n    \"\"\"Verifies if an existing simulation can be reused to skip completed phases.\n\n    This method implements a three-step verification process to determine if a\n    previously run simulation can be reused:\n\n    1. Config hash check: Compares the stored config hash with the current config.\n       If they don't match, the simulation is outdated and must be rerun.\n\n    2. Project file validation: Checks if the .smash file exists, is not locked,\n       and has valid HDF5 structure. If invalid, setup must be rerun.\n\n    3. Deliverable freshness check: Verifies that output files (H5 results) and\n       extracted files (JSON/PKL/HTML) exist and are newer than the setup timestamp.\n       This ensures we don't skip phases if files are missing or outdated.\n\n    The method returns a dict indicating which phases are complete, allowing the\n    study to skip setup/run/extract as appropriate. Note that extract completion\n    always requires run completion - if extract is done but run isn't, both are\n    marked incomplete to prevent inconsistent states.\n\n    Args:\n        meta_path: Path to the metadata file containing config hash and timestamps.\n        surgical_config: Current config snapshot to compare against stored hash.\n        smash_path: Optional override for project file path (used for verification).\n\n    Returns:\n        Dict with boolean flags: 'setup_done', 'run_done', 'extract_done'.\n        All False if verification fails at any step.\n    \"\"\"\n    status = {\"setup_done\": False, \"run_done\": False, \"extract_done\": False}\n    if not os.path.exists(meta_path):\n        self._log(f\"No metadata file found at {os.path.basename(meta_path)}.\", log_type=\"info\")\n        return status\n\n    try:\n        with open(meta_path, \"r\") as f:\n            metadata = json.load(f)\n\n        stored_hash = metadata.get(\"config_hash\")\n        current_hash = self._generate_config_hash(surgical_config)\n\n        if stored_hash != current_hash:\n            self._log(f\"Config hash mismatch for {os.path.basename(meta_path)}. Simulation is outdated.\", log_type=\"warning\")\n            return status\n\n        path_to_check = smash_path or self.project_path\n        if not path_to_check:\n            self._log(\"Project path not set, cannot verify .smash file.\", log_type=\"error\")\n            return status\n\n        original_path = self.project_path\n        self.project_path = path_to_check\n        is_valid = self._is_valid_smash_file()\n        self.project_path = original_path\n\n        if not is_valid:\n            self._log(f\"Project file '{os.path.basename(path_to_check)}' is missing or corrupted.\", log_type=\"warning\")\n            return status\n\n        status[\"setup_done\"] = True\n\n        setup_timestamp_str = metadata.get(\"setup_timestamp\")\n        if not setup_timestamp_str:\n            self._log(\"No setup_timestamp in metadata, cannot verify deliverables.\", log_type=\"warning\")\n            return status  # Returns all False\n\n        # Convert ISO 8601 string to timestamp\n        if isinstance(setup_timestamp_str, str):\n            setup_timestamp = datetime.fromisoformat(setup_timestamp_str).timestamp()\n        else:\n            setup_timestamp = float(setup_timestamp_str)  # Backward compatibility\n\n        project_dir = os.path.dirname(path_to_check)\n        project_filename = os.path.basename(path_to_check)\n        deliverables_status = self._get_deliverables_status(project_dir, project_filename, setup_timestamp)\n\n        # The final status is determined *only* by the presence of deliverables on the file system.\n        # This prevents a situation where metadata claims completion but files are missing.\n        status[\"run_done\"] = deliverables_status[\"run_done\"]\n        status[\"extract_done\"] = deliverables_status[\"extract_done\"]\n\n        # Extract cannot possible be done if the corresponding run is not done or invalid\n        if status[\"extract_done\"] and not status[\"run_done\"]:\n            self._log(\"Extraction was done, but run not. Rerunning both.\", log_type=\"warning\")\n            status[\"extract_done\"] = False\n\n        status_parts = []\n        for key, value in status.items():\n            name = key.replace(\"_done\", \"\").replace(\"_\", \" \").title()\n            status_text = \"done\" if value else \"NOT done\"\n            status_parts.append(f\"{name} {status_text}\")\n        status_msg = \", \".join(status_parts)\n        self._log(f\"Verified existing project. Status: {status_msg}\", log_type=\"success\")\n        if status[\"run_done\"] and status[\"extract_done\"]:\n            self._log(\"Project already done, skipping.\", level=\"progress\", log_type=\"success\")\n        return status\n\n    except (json.JSONDecodeError, KeyError):\n        self._log(f\"Metadata file {os.path.basename(meta_path)} is corrupted.\", log_type=\"error\")\n        return status\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.get_setup_timestamp_from_metadata","title":"get_setup_timestamp_from_metadata","text":"<pre><code>get_setup_timestamp_from_metadata(meta_path: str) -&gt; Optional[float]\n</code></pre> <p>Retrieves the setup timestamp from the metadata file.</p> <p>Parameters:</p> Name Type Description Default <code>meta_path</code> <code>str</code> <p>Path to the metadata file.</p> required <p>Returns:</p> Type Description <code>Optional[float]</code> <p>Setup timestamp as a float (seconds since epoch), or None if not found or file doesn't exist.</p> Source code in <code>goliat/project_manager.py</code> <pre><code>def get_setup_timestamp_from_metadata(self, meta_path: str) -&gt; Optional[float]:\n    \"\"\"Retrieves the setup timestamp from the metadata file.\n\n    Args:\n        meta_path: Path to the metadata file.\n\n    Returns:\n        Setup timestamp as a float (seconds since epoch), or None if not found or file doesn't exist.\n    \"\"\"\n    if not os.path.exists(meta_path):\n        return None\n\n    try:\n        with open(meta_path, \"r\") as f:\n            metadata = json.load(f)\n\n        setup_timestamp_str = metadata.get(\"setup_timestamp\")\n        if not setup_timestamp_str:\n            return None\n\n        # Convert ISO 8601 string to timestamp\n        if isinstance(setup_timestamp_str, str):\n            return datetime.fromisoformat(setup_timestamp_str).timestamp()\n        else:\n            return float(setup_timestamp_str)  # Backward compatibility\n    except (json.JSONDecodeError, KeyError, ValueError):\n        return None\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.create_or_open_project","title":"create_or_open_project","text":"<pre><code>create_or_open_project(phantom_name: str, frequency_mhz: int, scenario_name: Optional[str] = None, position_name: Optional[str] = None, orientation_name: Optional[str] = None, **kwargs) -&gt; dict\n</code></pre> <p>Creates a new project or opens an existing one based on the 'do_setup' flag.</p> <p>Parameters:</p> Name Type Description Default <code>phantom_name</code> <code>str</code> <p>The name of the phantom model.</p> required <code>frequency_mhz</code> <code>int</code> <p>The simulation frequency in MHz.</p> required <code>scenario_name</code> <code>Optional[str]</code> <p>The base name of the placement scenario.</p> <code>None</code> <code>position_name</code> <code>Optional[str]</code> <p>The name of the position within the scenario.</p> <code>None</code> <code>orientation_name</code> <code>Optional[str]</code> <p>The name of the orientation within the scenario.</p> <code>None</code> <p>Raises:</p> Type Description <code>ValueError</code> <p>If required parameters are missing or <code>study_type</code> is unknown.</p> <code>FileNotFoundError</code> <p>If <code>do_setup</code> is false and the project file does not exist.</p> <code>ProjectCorruptionError</code> <p>If the project file is corrupted.</p> Source code in <code>goliat/project_manager.py</code> <pre><code>def create_or_open_project(\n    self,\n    phantom_name: str,\n    frequency_mhz: int,\n    scenario_name: Optional[str] = None,\n    position_name: Optional[str] = None,\n    orientation_name: Optional[str] = None,\n    **kwargs,\n) -&gt; dict:\n    \"\"\"Creates a new project or opens an existing one based on the 'do_setup' flag.\n\n    Args:\n        phantom_name: The name of the phantom model.\n        frequency_mhz: The simulation frequency in MHz.\n        scenario_name: The base name of the placement scenario.\n        position_name: The name of the position within the scenario.\n        orientation_name: The name of the orientation within the scenario.\n\n    Raises:\n        ValueError: If required parameters are missing or `study_type` is unknown.\n        FileNotFoundError: If `do_setup` is false and the project file does not exist.\n        ProjectCorruptionError: If the project file is corrupted.\n    \"\"\"\n    study_type = self.config.get_setting(\"study_type\")\n    if not study_type:\n        raise ValueError(\"'study_type' not found in the configuration file.\")\n\n    if study_type == \"near_field\":\n        if not all(\n            [\n                phantom_name,\n                frequency_mhz,\n                scenario_name,\n                position_name,\n                orientation_name,\n            ]\n        ):\n            raise ValueError(\"For near-field studies, all placement parameters are required.\")\n        placement_name = f\"{scenario_name}_{position_name}_{orientation_name}\"\n        project_dir = os.path.join(\n            self.config.base_dir,\n            \"results\",\n            \"near_field\",\n            phantom_name.lower(),\n            f\"{frequency_mhz}MHz\",\n            placement_name,\n        )\n        project_filename = f\"near_field_{phantom_name.lower()}_{frequency_mhz}MHz_{placement_name}.smash\"\n\n    elif study_type == \"far_field\":\n        if not all(\n            [\n                phantom_name,\n                frequency_mhz,\n                scenario_name,\n                position_name,\n                orientation_name,\n            ]\n        ):\n            raise ValueError(\"For far-field studies, all placement parameters are required.\")\n\n        placement_name = f\"{scenario_name}_{position_name}_{orientation_name}\"\n        project_dir = os.path.join(\n            self.config.base_dir,\n            \"results\",\n            \"far_field\",\n            phantom_name.lower(),\n            f\"{frequency_mhz}MHz\",\n            placement_name,\n        )\n        project_filename = f\"far_field_{phantom_name.lower()}_{frequency_mhz}MHz_{placement_name}.smash\"\n    else:\n        raise ValueError(f\"Unknown study_type '{study_type}' in config.\")\n\n    os.makedirs(project_dir, exist_ok=True)\n    self.project_path = os.path.join(project_dir, project_filename).replace(\"\\\\\", \"/\")\n    self._log(f\"Project path set to: {self.project_path}\", log_type=\"info\")\n\n    if self.execution_control is None:\n        self.execution_control = {}\n    do_setup = self.execution_control.get(\"do_setup\", True)\n\n    # For far-field, direction and polarization are part of the unique signature,\n    # but they are not used in the file path, so we retrieve them from the setup logic if needed.\n    # This is a bit of a workaround but keeps the project manager's interface clean.\n    direction_name = None\n    polarization_name = None\n    if study_type == \"far_field\":\n        # For far-field, the orientation and position names map to direction and polarization\n        direction_name = orientation_name\n        polarization_name = position_name\n\n    surgical_config = self.config.build_simulation_config(\n        phantom_name=phantom_name,\n        frequency_mhz=frequency_mhz,\n        scenario_name=scenario_name,\n        position_name=position_name,\n        orientation_name=orientation_name,\n        direction_name=direction_name,\n        polarization_name=polarization_name,\n    )\n\n    if not do_setup:\n        self._log(\n            \"Execution control: 'do_setup' is false. Opening existing project without verification.\",\n            log_type=\"info\",\n        )\n        if not self.project_path or not os.path.exists(self.project_path):\n            error_msg = f\"ERROR: 'do_setup' is false, but project file not found at {self.project_path}. Cannot proceed.\"\n            self._log(error_msg, log_type=\"fatal\")\n            raise FileNotFoundError(error_msg)\n        self.open()\n        # Return a status dict indicating setup is done, but we don't know about the other phases.\n        return {\"setup_done\": True, \"run_done\": False, \"extract_done\": False}\n\n    # If do_setup is true, we verify the project unless --no-cache is used.\n    if self.no_cache:\n        self._log(\"`--no-cache` flag is active. Forcing a new setup by skipping verification.\", log_type=\"warning\")\n        return {\"setup_done\": False, \"run_done\": False, \"extract_done\": False}\n\n    verification_status = self.verify_simulation_metadata(os.path.join(project_dir, \"config.json\"), surgical_config)\n\n    if verification_status[\"setup_done\"]:\n        self._log(\"Verified existing project. Opening.\", log_type=\"info\")\n        self.open()\n        return verification_status\n\n    if os.path.exists(project_dir):\n        self._log(\"Existing project is invalid or out of date. A new setup is required.\", log_type=\"info\")\n    return {\"setup_done\": False, \"run_done\": False, \"extract_done\": False}\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.create_new","title":"create_new","text":"<pre><code>create_new()\n</code></pre> <p>Creates a new empty project in memory.</p> <p>Closes any open document, deletes existing project file and cache files, then creates a fresh unsaved project. Also initializes the model by creating/deleting a dummy block to ensure Sim4Life is ready.</p> Source code in <code>goliat/project_manager.py</code> <pre><code>def create_new(self):\n    \"\"\"Creates a new empty project in memory.\n\n    Closes any open document, deletes existing project file and cache files,\n    then creates a fresh unsaved project. Also initializes the model by\n    creating/deleting a dummy block to ensure Sim4Life is ready.\n    \"\"\"\n    if self.document and hasattr(self.document, \"IsOpen\") and self.document.IsOpen():  # type: ignore\n        self._log(\n            \"Closing existing document before creating a new one to release file lock.\",\n            log_type=\"info\",\n        )\n        self.document.Close()\n\n    if self.project_path and os.path.exists(self.project_path):\n        self._log(\n            f\"Deleting existing project file at {self.project_path}\",\n            log_type=\"warning\",\n        )\n        os.remove(self.project_path)\n\n        project_dir = os.path.dirname(self.project_path)\n        project_filename_base = os.path.basename(self.project_path)\n        for item in os.listdir(project_dir):\n            is_cache_file = item.startswith(f\".{project_filename_base}\") or (\n                item.startswith(project_filename_base) and item != project_filename_base\n            )\n\n            if is_cache_file:\n                item_path = os.path.join(project_dir, item)\n                if os.path.isfile(item_path):\n                    self._log(f\"Deleting cache file: {item_path}\", log_type=\"info\")\n                    try:\n                        os.remove(item_path)\n                    except OSError as e:\n                        self._log(\n                            f\"Error deleting cache file {item_path}: {e}\",\n                            log_type=\"error\",\n                        )\n\n    self._log(\"Creating a new empty project in memory.\", log_type=\"info\")\n    self.document.New()\n\n    self._log(\n        \"Initializing model by creating and deleting a dummy block...\",\n        log_type=\"verbose\",\n    )\n    import s4l_v1.model as s4l_model\n\n    dummy_block = s4l_model.CreateSolidBlock(s4l_model.Vec3(0, 0, 0), s4l_model.Vec3(1, 1, 1))\n    dummy_block.Delete()\n    self._log(\"Model initialized, ready for population.\", log_type=\"verbose\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.open","title":"open","text":"<pre><code>open()\n</code></pre> <p>Opens an existing project after validation checks.</p> <p>Raises:</p> Type Description <code>ProjectCorruptionError</code> <p>If project file is invalid, locked, or                     Sim4Life can't open it.</p> Source code in <code>goliat/project_manager.py</code> <pre><code>def open(self):\n    \"\"\"Opens an existing project after validation checks.\n\n    Raises:\n        ProjectCorruptionError: If project file is invalid, locked, or\n                                Sim4Life can't open it.\n    \"\"\"\n    self._log(f\"Validating project file: {self.project_path}\", log_type=\"info\")\n    if not self._is_valid_smash_file():\n        self._log(\n            f\"ERROR: Project file {self.project_path} is corrupted or locked.\",\n            log_type=\"fatal\",\n        )\n        raise ProjectCorruptionError(f\"File is not a valid or accessible HDF5 file: {self.project_path}\")\n\n    self._log(f\"Opening project with Sim4Life: {self.project_path}\", log_type=\"info\")\n    try:\n        if self.project_path:\n            open_project(self.project_path)\n    except Exception as e:\n        self._log(\n            f\"ERROR: Sim4Life failed to open project file, it is likely corrupted: {e}\",\n            log_type=\"fatal\",\n        )\n        if self.document and hasattr(self.document, \"IsOpen\") and self.document.IsOpen():  # type: ignore\n            self.document.Close()\n        raise ProjectCorruptionError(f\"Sim4Life could not open corrupted file: {self.project_path}\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.save","title":"save","text":"<pre><code>save()\n</code></pre> <p>Saves the current project to its file path.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If project_path hasn't been set.</p> Source code in <code>goliat/project_manager.py</code> <pre><code>def save(self):\n    \"\"\"Saves the current project to its file path.\n\n    Raises:\n        ValueError: If project_path hasn't been set.\n    \"\"\"\n    if not self.project_path:\n        raise ValueError(\"Project path is not set. Cannot save.\")\n\n    self._log(f\"Saving project to {self.project_path}...\", log_type=\"info\")\n    self.document.SaveAs(self.project_path)\n    self._log(\"Project saved.\", log_type=\"success\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.close","title":"close","text":"<pre><code>close()\n</code></pre> <p>Closes the active Sim4Life document.</p> Source code in <code>goliat/project_manager.py</code> <pre><code>def close(self):\n    \"\"\"Closes the active Sim4Life document.\"\"\"\n    self._log(\"Closing project document...\", log_type=\"info\")\n    self.document.Close()\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.cleanup","title":"cleanup","text":"<pre><code>cleanup()\n</code></pre> <p>Closes any open project.</p> Source code in <code>goliat/project_manager.py</code> <pre><code>def cleanup(self):\n    \"\"\"Closes any open project.\"\"\"\n    if self.document and hasattr(self.document, \"IsOpen\") and self.document.IsOpen():  # type: ignore\n        self.close()\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager.ProjectManager.reload_project","title":"reload_project","text":"<pre><code>reload_project()\n</code></pre> <p>Saves, closes, and reopens the project to load simulation results.</p> <p>Needed because Sim4Life sometimes requires a reload to see new results files. This ensures results are available for extraction.</p> Source code in <code>goliat/project_manager.py</code> <pre><code>def reload_project(self):\n    \"\"\"Saves, closes, and reopens the project to load simulation results.\n\n    Needed because Sim4Life sometimes requires a reload to see new results\n    files. This ensures results are available for extraction.\n    \"\"\"\n    if self.document and hasattr(self.document, \"IsOpen\") and self.document.IsOpen():  # type: ignore\n        self._log(\"Saving and reloading project to load results...\", log_type=\"info\")\n        self.save()\n        self.close()\n\n    self.open()\n    self._log(\"Project reloaded.\", log_type=\"success\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.project_manager-functions","title":"Functions","text":""},{"location":"reference/api_reference/#utilities","title":"Utilities","text":""},{"location":"reference/api_reference/#goliat.utils","title":"goliat.utils","text":"<p>Utility functions for GOLIAT.</p> <p>This module re-exports commonly used utilities from submodules for backward compatibility. All existing imports from <code>goliat.utils</code> will continue to work.</p>"},{"location":"reference/api_reference/#goliat.utils-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.utils.StudyCancelledError","title":"StudyCancelledError","text":"<p>               Bases: <code>Exception</code></p> <p>Raised when the user cancels a study via the GUI.</p>"},{"location":"reference/api_reference/#goliat.utils.Profiler","title":"Profiler","text":"<pre><code>Profiler(config_path: str, study_type: str = 'sensitivity_analysis')\n</code></pre> <p>Tracks execution times and estimates remaining time for a study.</p> <p>This is a lightweight profiler used for simpler scenarios. For the main study profiler with phase tracking and weighted progress, see goliat.profiler.Profiler.</p> <p>Parameters:</p> Name Type Description Default <code>config_path</code> <code>str</code> <p>Path to the JSON config file with timing data.</p> required <code>study_type</code> <code>str</code> <p>Key in the config for this study's timing data.</p> <code>'sensitivity_analysis'</code> Source code in <code>goliat/utils/core.py</code> <pre><code>def __init__(self, config_path: str, study_type: str = \"sensitivity_analysis\"):\n    \"\"\"Sets up the profiler with a config file.\n\n    Args:\n        config_path: Path to the JSON config file with timing data.\n        study_type: Key in the config for this study's timing data.\n    \"\"\"\n    self.config_path = config_path\n    self.study_type = study_type\n    self.profiling_config = self._load_config()\n\n    self.start_time = time.monotonic()\n    self.run_times = []\n    self.total_runs = 0\n    self.completed_runs = 0\n    self.current_run_start_time = None\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.Profiler-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.utils.Profiler.start_study","title":"start_study","text":"<pre><code>start_study(total_runs: int)\n</code></pre> <p>Resets counters for a new study.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def start_study(self, total_runs: int):\n    \"\"\"Resets counters for a new study.\"\"\"\n    self.total_runs = total_runs\n    self.completed_runs = 0\n    self.run_times = []\n    self.start_time = time.monotonic()\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.Profiler.start_run","title":"start_run","text":"<pre><code>start_run()\n</code></pre> <p>Marks the start of a run.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def start_run(self):\n    \"\"\"Marks the start of a run.\"\"\"\n    self.current_run_start_time = time.monotonic()\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.Profiler.end_run","title":"end_run","text":"<pre><code>end_run()\n</code></pre> <p>Records the duration of the current run.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def end_run(self):\n    \"\"\"Records the duration of the current run.\"\"\"\n    if self.current_run_start_time:\n        duration = time.monotonic() - self.current_run_start_time\n        self.run_times.append(duration)\n        self.completed_runs += 1\n        self.current_run_start_time = None\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.Profiler.get_average_run_time","title":"get_average_run_time","text":"<pre><code>get_average_run_time() -&gt; float\n</code></pre> <p>Returns average run time from measurements, or falls back to config.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def get_average_run_time(self) -&gt; float:\n    \"\"\"Returns average run time from measurements, or falls back to config.\"\"\"\n    if self.run_times:\n        return sum(self.run_times) / len(self.run_times)\n    return self.profiling_config.get(\"average_run_time\", 60.0)\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.Profiler.get_time_remaining","title":"get_time_remaining","text":"<pre><code>get_time_remaining() -&gt; float\n</code></pre> <p>Estimates seconds remaining based on completed runs and average time.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def get_time_remaining(self) -&gt; float:\n    \"\"\"Estimates seconds remaining based on completed runs and average time.\"\"\"\n    if self.total_runs == 0:\n        return 0\n\n    avg_time = self.get_average_run_time()\n    remaining_runs = self.total_runs - self.completed_runs\n    return remaining_runs * avg_time\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.Profiler.save_estimates","title":"save_estimates","text":"<pre><code>save_estimates()\n</code></pre> <p>Writes updated average run time to the config file.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def save_estimates(self):\n    \"\"\"Writes updated average run time to the config file.\"\"\"\n    if not self.run_times:\n        return\n\n    new_avg = self.get_average_run_time()\n\n    try:\n        with open(self.config_path, \"r\") as f:\n            full_config = json.load(f)\n    except (FileNotFoundError, json.JSONDecodeError):\n        full_config = {}\n\n    if self.study_type not in full_config:\n        full_config[self.study_type] = {}\n\n    full_config[self.study_type][\"average_run_time\"] = new_avg\n\n    with open(self.config_path, \"w\") as f:\n        json.dump(full_config, f, indent=4)\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.Profiler.get_elapsed","title":"get_elapsed","text":"<pre><code>get_elapsed() -&gt; float\n</code></pre> <p>Returns elapsed seconds since study start.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def get_elapsed(self) -&gt; float:\n    \"\"\"Returns elapsed seconds since study start.\"\"\"\n    return time.monotonic() - self.start_time\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.Profiler.subtask","title":"subtask","text":"<pre><code>subtask(name: str)\n</code></pre> <p>Context manager that times a subtask and logs the duration.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>@contextlib.contextmanager\ndef subtask(self, name: str):\n    \"\"\"Context manager that times a subtask and logs the duration.\"\"\"\n    start_time = time.monotonic()\n    try:\n        yield\n    finally:\n        elapsed = time.monotonic() - start_time\n        logging.getLogger(\"verbose\").info(f\"Subtask '{name}' took {elapsed:.2f}s\", extra={\"log_type\": \"verbose\"})\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.utils.format_time","title":"format_time","text":"<pre><code>format_time(seconds: float) -&gt; str\n</code></pre> <p>Formats seconds into a readable string like '1h 23m 45s' or '2m 30s'.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def format_time(seconds: float) -&gt; str:\n    \"\"\"Formats seconds into a readable string like '1h 23m 45s' or '2m 30s'.\"\"\"\n    seconds = int(seconds)\n    if seconds &lt; 60:\n        return f\"{seconds}s\"\n    minutes, seconds = divmod(seconds, 60)\n    if minutes &lt; 60:\n        return f\"{minutes}m {seconds}s\"\n    hours, minutes = divmod(minutes, 60)\n    return f\"{hours}h {minutes}m {seconds}s\"\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.non_blocking_sleep","title":"non_blocking_sleep","text":"<pre><code>non_blocking_sleep(seconds: int)\n</code></pre> <p>Sleeps while processing Qt GUI events to keep the UI responsive.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def non_blocking_sleep(seconds: int):\n    \"\"\"Sleeps while processing Qt GUI events to keep the UI responsive.\"\"\"\n    from PySide6.QtCore import QCoreApplication, QEventLoop, QTime\n\n    end_time = QTime.currentTime().addSecs(int(seconds))\n    while QTime.currentTime() &lt; end_time:  # type: ignore\n        QCoreApplication.processEvents(QEventLoop.AllEvents, 50)  # type: ignore\n        time.sleep(0.05)\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.profile","title":"profile","text":"<pre><code>profile(study: BaseStudy, phase_name: str)\n</code></pre> <p>Context manager that profiles a study phase and updates the GUI.</p> <p>Tracks timing, logs start/end messages, and syncs progress bars. Use this around major phases like setup, run, or extract.</p> <p>Parameters:</p> Name Type Description Default <code>study</code> <code>BaseStudy</code> <p>The study instance to profile.</p> required <code>phase_name</code> <code>str</code> <p>Name of the phase (e.g., 'setup', 'run', 'extract').</p> required Source code in <code>goliat/utils/core.py</code> <pre><code>@contextlib.contextmanager\ndef profile(study: \"BaseStudy\", phase_name: str):\n    \"\"\"Context manager that profiles a study phase and updates the GUI.\n\n    Tracks timing, logs start/end messages, and syncs progress bars. Use this\n    around major phases like setup, run, or extract.\n\n    Args:\n        study: The study instance to profile.\n        phase_name: Name of the phase (e.g., 'setup', 'run', 'extract').\n    \"\"\"\n    study.profiler.start_stage(phase_name)\n    if study.gui:\n        study.gui.update_profiler()\n        study.gui.update_stage_progress(phase_name.capitalize(), 0, 1)\n        study.start_stage_animation(phase_name, 100)\n\n    study._log(f\"--- Starting: {phase_name} ---\", log_type=\"header\")\n    start_time = time.monotonic()\n    try:\n        yield\n    finally:\n        elapsed = time.monotonic() - start_time\n        study._log(f\"--- Finished: {phase_name} (took {elapsed:.2f}s) ---\", log_type=\"header\")\n\n        study.profiler.end_stage()\n        if study.gui:\n            study.end_stage_animation()\n            study.gui.update_profiler()\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.ensure_s4l_running","title":"ensure_s4l_running","text":"<pre><code>ensure_s4l_running()\n</code></pre> <p>Starts Sim4Life if it's not already running.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def ensure_s4l_running():\n    \"\"\"Starts Sim4Life if it's not already running.\"\"\"\n    from s4l_v1._api import application\n\n    if application.get_app_safe() is None:\n        logging.getLogger(\"verbose\").info(\"Starting Sim4Life application...\", extra={\"log_type\": \"info\"})\n        application.run_application(disable_ui_plugins=True)\n        logging.getLogger(\"verbose\").info(\"Sim4Life application started.\", extra={\"log_type\": \"success\"})\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.open_project","title":"open_project","text":"<pre><code>open_project(project_path: str)\n</code></pre> <p>Opens a Sim4Life project file, or creates a new project if missing.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def open_project(project_path: str):\n    \"\"\"Opens a Sim4Life project file, or creates a new project if missing.\"\"\"\n    import s4l_v1.document\n\n    if not os.path.exists(project_path):\n        logging.getLogger(\"verbose\").info(\n            f\"Project file not found at {project_path}, creating a new one.\",\n            extra={\"log_type\": \"warning\"},\n        )\n        s4l_v1.document.New()\n    else:\n        logging.getLogger(\"verbose\").info(f\"Opening project: {project_path}\", extra={\"log_type\": \"info\"})\n        s4l_v1.document.Open(project_path)\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.delete_project_file","title":"delete_project_file","text":"<pre><code>delete_project_file(project_path: str)\n</code></pre> <p>Deletes a project file if it exists.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>def delete_project_file(project_path: str):\n    \"\"\"Deletes a project file if it exists.\"\"\"\n    if os.path.exists(project_path):\n        logging.getLogger(\"verbose\").info(\n            f\"Deleting existing project file: {project_path}\",\n            extra={\"log_type\": \"warning\"},\n        )\n        os.remove(project_path)\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.suppress_stdout_stderr","title":"suppress_stdout_stderr","text":"<pre><code>suppress_stdout_stderr()\n</code></pre> <p>Context manager that suppresses stdout and stderr output.</p> Source code in <code>goliat/utils/core.py</code> <pre><code>@contextlib.contextmanager\ndef suppress_stdout_stderr():\n    \"\"\"Context manager that suppresses stdout and stderr output.\"\"\"\n    with open(os.devnull, \"w\") as fnull:\n        saved_stdout, saved_stderr = sys.stdout, sys.stderr\n        sys.stdout, sys.stderr = fnull, fnull\n        try:\n            yield\n        finally:\n            sys.stdout, sys.stderr = saved_stdout, saved_stderr\n</code></pre>"},{"location":"reference/api_reference/#goliat.utils.initial_setup","title":"initial_setup","text":"<pre><code>initial_setup()\n</code></pre> <p>Performs all initial checks and setup procedures. - Ensures correct python interpreter is used. - Prompts user before installing dependencies. - Installs package in editable mode if not already installed. - Prepares data files.</p> Source code in <code>goliat/utils/setup.py</code> <pre><code>def initial_setup():\n    \"\"\"\n    Performs all initial checks and setup procedures.\n    - Ensures correct python interpreter is used.\n    - Prompts user before installing dependencies.\n    - Installs package in editable mode if not already installed.\n    - Prepares data files.\n    \"\"\"\n    # Skip everything in CI/test environment\n    if os.environ.get(\"CI\") or os.environ.get(\"PYTEST_CURRENT_TEST\"):\n        return\n\n    base_dir = os.path.abspath(os.path.join(os.path.dirname(__file__), \"../..\"))\n\n    # Check if goliat is installed as a package\n    package_installed = check_package_installed()\n\n    if not package_installed:\n        # Prompt user for permission to install\n        print(\"=\" * 80)\n        print(\"GOLIAT Package Installation\")\n        print(\"=\" * 80)\n        print(\"GOLIAT needs to be installed as a Python package to work properly.\")\n        print(\"This will install:\")\n        print(\"  - Python dependencies from requirements.txt\")\n        print(\"  - GOLIAT package in editable mode (allows code modifications)\")\n        print()\n        print(\"This is a one-time setup. You can modify the code and changes will\")\n        print(\"be reflected immediately without reinstalling.\")\n        print()\n        response = input(\"Do you want to install dependencies and GOLIAT package? [Y/n]: \").strip().lower()\n\n        if response and response != \"y\" and response != \"yes\":\n            print(\"Installation cancelled. GOLIAT cannot run without installation.\")\n            sys.exit(1)\n\n        # Install requirements.txt first\n        print(\"\\nInstalling Python dependencies...\")\n        install_requirements(os.path.join(base_dir, \"requirements.txt\"))\n\n        # Install editable package\n        print(\"\\nInstalling GOLIAT package in editable mode...\")\n        try:\n            subprocess.check_call([sys.executable, \"-m\", \"pip\", \"install\", \"-e\", base_dir])\n            print(\"\u2713 GOLIAT package installed successfully!\")\n        except subprocess.CalledProcessError as e:\n            logging.error(f\"Failed to install GOLIAT package: {e}\")\n            sys.exit(1)\n\n    # Verify package is importable\n    try:\n        import importlib.util\n\n        spec = importlib.util.find_spec(\"goliat\")\n        if spec is None:\n            raise ImportError(\"goliat module not found\")\n    except ImportError:\n        logging.error(\"GOLIAT package could not be imported. Please ensure installation completed successfully.\")\n        sys.exit(1)\n\n    # Rest of setup (data preparation, etc.)\n    data_dir = os.path.join(base_dir, \"data\")\n    os.makedirs(data_dir, exist_ok=True)\n    lock_file = os.path.join(data_dir, \".setup_done\")\n\n    if not os.path.exists(lock_file):\n        check_repo_root()\n        # Skip interpreter check in CI/test environment\n        if not os.environ.get(\"CI\") and not os.environ.get(\"PYTEST_CURRENT_TEST\"):\n            check_python_interpreter()  # This function now handles AWS detection internally\n        prepare_data(base_dir)\n        with open(lock_file, \"w\") as f:\n            f.write(\"Setup complete.\")\n    else:\n        # Skip interpreter check in CI/test environment\n        if not os.environ.get(\"CI\") and not os.environ.get(\"PYTEST_CURRENT_TEST\"):\n            check_python_interpreter()  # This function now handles AWS detection internally\n</code></pre>"},{"location":"reference/api_reference/#study-orchestration","title":"Study Orchestration","text":"<p>Study classes that orchestrate simulation workflows.</p>"},{"location":"reference/api_reference/#base-study","title":"Base Study","text":""},{"location":"reference/api_reference/#goliat.studies.base_study","title":"goliat.studies.base_study","text":""},{"location":"reference/api_reference/#goliat.studies.base_study-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.studies.base_study.BaseStudy","title":"BaseStudy","text":"<pre><code>BaseStudy(study_type: str, config_filename: Optional[str] = None, gui: Optional[QueueGUI] = None, profiler=None, no_cache: bool = False)\n</code></pre> <p>               Bases: <code>LoggingMixin</code></p> <p>Base class for simulation studies.</p> <p>Handles common setup like config loading, profiling, project management, and GUI coordination. Subclasses implement _run_study() for specific logic.</p> Source code in <code>goliat/studies/base_study.py</code> <pre><code>def __init__(\n    self,\n    study_type: str,\n    config_filename: Optional[str] = None,\n    gui: Optional[\"QueueGUI\"] = None,\n    profiler=None,\n    no_cache: bool = False,\n):\n    self.study_type = study_type\n    self.gui = gui\n    self.verbose_logger = logging.getLogger(\"verbose\")\n    self.progress_logger = logging.getLogger(\"progress\")\n    self.no_cache = no_cache\n\n    self.base_dir = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))\n\n    self.config = Config(\n        self.base_dir,\n        config_filename if config_filename else f\"{self.study_type}_config.json\",\n    )\n\n    # Get study-specific profiling config\n    profiling_config = self.config.get_profiling_config(self.study_type)\n    execution_control = self.config.get_setting(\"execution_control\", {\"do_setup\": True, \"do_run\": True, \"do_extract\": True})\n\n    self.profiler = Profiler(\n        execution_control,  # type: ignore\n        profiling_config,\n        self.study_type,\n        self.config.profiling_config_path,\n    )\n    self.line_profiler = None\n\n    self.project_manager = ProjectManager(\n        self.config,\n        self.verbose_logger,\n        self.progress_logger,\n        self.gui,\n        no_cache=self.no_cache,\n    )\n</code></pre>"},{"location":"reference/api_reference/#goliat.studies.base_study.BaseStudy-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.studies.base_study.BaseStudy.subtask","title":"subtask","text":"<pre><code>subtask(task_name: str, instance_to_profile=None)\n</code></pre> <p>A context manager for a 'subtask' within a phase.</p> Source code in <code>goliat/studies/base_study.py</code> <pre><code>@contextlib.contextmanager\ndef subtask(self, task_name: str, instance_to_profile=None):\n    \"\"\"A context manager for a 'subtask' within a phase.\"\"\"\n    is_top_level_subtask = not self.profiler.subtask_stack\n    sub_stage_display_name = task_name.replace(\"_\", \" \").capitalize()\n\n    if is_top_level_subtask:\n        self._log(f\"  - {sub_stage_display_name}...\", level=\"progress\", log_type=\"progress\")\n        if self.gui and self.profiler.current_phase:\n            self.gui.update_stage_progress(self.profiler.current_phase.capitalize(), 0, 1, sub_stage=sub_stage_display_name)\n            self.start_stage_animation(task_name, 100)\n\n    lp, wrapper = self._setup_line_profiler_if_needed(task_name, instance_to_profile)\n\n    try:\n        with self.profiler.subtask(task_name):\n            if lp and wrapper:\n                yield wrapper\n            else:\n                yield\n    finally:\n        elapsed = self.profiler.subtask_times[task_name][-1]\n        self._log(f\"    - Subtask '{task_name}' done in {elapsed:.2f}s\", log_type=\"verbose\")\n\n        if is_top_level_subtask:\n            self._log(f\"    - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n            if self.gui:\n                self.end_stage_animation()\n                if self.profiler.current_phase:\n                    self.gui.update_stage_progress(self.profiler.current_phase.capitalize(), 1, 1)\n\n        if lp:\n            self._log_line_profiler_stats(task_name, lp)\n</code></pre>"},{"location":"reference/api_reference/#goliat.studies.base_study.BaseStudy.start_stage_animation","title":"start_stage_animation","text":"<pre><code>start_stage_animation(task_name: str, end_value: int)\n</code></pre> <p>Starts progress bar animation for the current stage.</p> Source code in <code>goliat/studies/base_study.py</code> <pre><code>def start_stage_animation(self, task_name: str, end_value: int):\n    \"\"\"Starts progress bar animation for the current stage.\"\"\"\n    if self.gui:\n        self.gui.start_stage_animation(task_name, end_value)\n</code></pre>"},{"location":"reference/api_reference/#goliat.studies.base_study.BaseStudy.end_stage_animation","title":"end_stage_animation","text":"<pre><code>end_stage_animation()\n</code></pre> <p>Stops the current stage animation.</p> Source code in <code>goliat/studies/base_study.py</code> <pre><code>def end_stage_animation(self):\n    \"\"\"Stops the current stage animation.\"\"\"\n    if self.gui:\n        self.gui.end_stage_animation()\n</code></pre>"},{"location":"reference/api_reference/#goliat.studies.base_study.BaseStudy.run","title":"run","text":"<pre><code>run()\n</code></pre> <p>Main entry point to run the study.</p> <p>Ensures Sim4Life is running, calls _run_study(), and handles cleanup and error reporting. Catches StudyCancelledError for graceful shutdown.</p> Source code in <code>goliat/studies/base_study.py</code> <pre><code>def run(self):\n    \"\"\"Main entry point to run the study.\n\n    Ensures Sim4Life is running, calls _run_study(), and handles cleanup\n    and error reporting. Catches StudyCancelledError for graceful shutdown.\n    \"\"\"\n    ensure_s4l_running()\n    try:\n        self._run_study()\n    except StudyCancelledError:\n        self._log(\n            \"--- Study execution cancelled by user. ---\",\n            level=\"progress\",\n            log_type=\"warning\",\n        )\n    except Exception as e:\n        self._log(f\"--- FATAL ERROR in study: {e} ---\", level=\"progress\", log_type=\"fatal\")\n        self.verbose_logger.error(traceback.format_exc())\n    finally:\n        self._log(\n            f\"\\n--- {self.__class__.__name__} Finished ---\",\n            level=\"progress\",\n            log_type=\"success\",\n        )\n        self.profiler.save_estimates()\n        self.project_manager.cleanup()\n        if self.gui:\n            self.gui.update_profiler()  # Send final profiler state\n</code></pre>"},{"location":"reference/api_reference/#goliat.studies.base_study-functions","title":"Functions","text":""},{"location":"reference/api_reference/#far-field-study","title":"Far-Field Study","text":""},{"location":"reference/api_reference/#goliat.studies.far_field_study","title":"goliat.studies.far_field_study","text":""},{"location":"reference/api_reference/#goliat.studies.far_field_study-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.studies.far_field_study.FarFieldStudy","title":"FarFieldStudy","text":"<pre><code>FarFieldStudy(study_type: str, config_filename: Optional[str] = None, gui: Optional[QueueGUI] = None, profiler=None, no_cache: bool = False)\n</code></pre> <p>               Bases: <code>BaseStudy</code></p> <p>Manages far-field simulation campaigns.</p> <p>Runs plane wave simulations across phantoms, frequencies, directions, and polarizations. Handles setup, run, and extraction phases with progress tracking.</p> Source code in <code>goliat/studies/base_study.py</code> <pre><code>def __init__(\n    self,\n    study_type: str,\n    config_filename: Optional[str] = None,\n    gui: Optional[\"QueueGUI\"] = None,\n    profiler=None,\n    no_cache: bool = False,\n):\n    self.study_type = study_type\n    self.gui = gui\n    self.verbose_logger = logging.getLogger(\"verbose\")\n    self.progress_logger = logging.getLogger(\"progress\")\n    self.no_cache = no_cache\n\n    self.base_dir = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))\n\n    self.config = Config(\n        self.base_dir,\n        config_filename if config_filename else f\"{self.study_type}_config.json\",\n    )\n\n    # Get study-specific profiling config\n    profiling_config = self.config.get_profiling_config(self.study_type)\n    execution_control = self.config.get_setting(\"execution_control\", {\"do_setup\": True, \"do_run\": True, \"do_extract\": True})\n\n    self.profiler = Profiler(\n        execution_control,  # type: ignore\n        profiling_config,\n        self.study_type,\n        self.config.profiling_config_path,\n    )\n    self.line_profiler = None\n\n    self.project_manager = ProjectManager(\n        self.config,\n        self.verbose_logger,\n        self.progress_logger,\n        self.gui,\n        no_cache=self.no_cache,\n    )\n</code></pre>"},{"location":"reference/api_reference/#goliat.studies.far_field_study-functions","title":"Functions","text":""},{"location":"reference/api_reference/#near-field-study","title":"Near-Field Study","text":""},{"location":"reference/api_reference/#goliat.studies.near_field_study","title":"goliat.studies.near_field_study","text":""},{"location":"reference/api_reference/#goliat.studies.near_field_study-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.studies.near_field_study.NearFieldStudy","title":"NearFieldStudy","text":"<pre><code>NearFieldStudy(study_type: str, config_filename: Optional[str] = None, gui: Optional[QueueGUI] = None, profiler=None, no_cache: bool = False)\n</code></pre> <p>               Bases: <code>BaseStudy</code></p> <p>Manages near-field simulation campaigns.</p> <p>Runs simulations across phantoms, frequencies, placements, positions, and orientations. Handles setup, run, and extraction phases with progress tracking and metadata verification.</p> Source code in <code>goliat/studies/base_study.py</code> <pre><code>def __init__(\n    self,\n    study_type: str,\n    config_filename: Optional[str] = None,\n    gui: Optional[\"QueueGUI\"] = None,\n    profiler=None,\n    no_cache: bool = False,\n):\n    self.study_type = study_type\n    self.gui = gui\n    self.verbose_logger = logging.getLogger(\"verbose\")\n    self.progress_logger = logging.getLogger(\"progress\")\n    self.no_cache = no_cache\n\n    self.base_dir = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))\n\n    self.config = Config(\n        self.base_dir,\n        config_filename if config_filename else f\"{self.study_type}_config.json\",\n    )\n\n    # Get study-specific profiling config\n    profiling_config = self.config.get_profiling_config(self.study_type)\n    execution_control = self.config.get_setting(\"execution_control\", {\"do_setup\": True, \"do_run\": True, \"do_extract\": True})\n\n    self.profiler = Profiler(\n        execution_control,  # type: ignore\n        profiling_config,\n        self.study_type,\n        self.config.profiling_config_path,\n    )\n    self.line_profiler = None\n\n    self.project_manager = ProjectManager(\n        self.config,\n        self.verbose_logger,\n        self.progress_logger,\n        self.gui,\n        no_cache=self.no_cache,\n    )\n</code></pre>"},{"location":"reference/api_reference/#goliat.studies.near_field_study-functions","title":"Functions","text":""},{"location":"reference/api_reference/#setup-modules","title":"Setup Modules","text":"<p>Classes responsible for building the Sim4Life simulation scene.</p>"},{"location":"reference/api_reference/#base-setup","title":"Base Setup","text":""},{"location":"reference/api_reference/#goliat.setups.base_setup","title":"goliat.setups.base_setup","text":""},{"location":"reference/api_reference/#goliat.setups.base_setup-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.setups.base_setup.BaseSetup","title":"BaseSetup","text":"<pre><code>BaseSetup(config: Config, verbose_logger: Logger, progress_logger: Logger)\n</code></pre> <p>               Bases: <code>LoggingMixin</code></p> <p>Base class for simulation setup modules.</p> <p>Provides common functionality like solver configuration, time/termination setup, point sensor creation, and final voxelization. Subclasses implement run_full_setup() for specific setup logic.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>Config</code> <p>Configuration object.</p> required <code>verbose_logger</code> <code>Logger</code> <p>Logger for detailed output.</p> required <code>progress_logger</code> <code>Logger</code> <p>Logger for progress updates.</p> required Source code in <code>goliat/setups/base_setup.py</code> <pre><code>def __init__(self, config: \"Config\", verbose_logger: \"Logger\", progress_logger: \"Logger\"):\n    \"\"\"Sets up the base setup.\n\n    Args:\n        config: Configuration object.\n        verbose_logger: Logger for detailed output.\n        progress_logger: Logger for progress updates.\n    \"\"\"\n    self.config = config\n    self.verbose_logger = verbose_logger\n    self.progress_logger = progress_logger\n    import s4l_v1\n\n    self.s4l_v1 = s4l_v1\n    self.emfdtd = self.s4l_v1.simulation.emfdtd\n    self.model = self.s4l_v1.model\n</code></pre>"},{"location":"reference/api_reference/#goliat.setups.base_setup.BaseSetup-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.setups.base_setup.BaseSetup.run_full_setup","title":"run_full_setup","text":"<pre><code>run_full_setup(project_manager: ProjectManager)\n</code></pre> <p>Prepares the simulation scene. Must be implemented by subclasses.</p> <p>Returns:</p> Type Description <p>The configured simulation object.</p> <p>Raises:</p> Type Description <code>NotImplementedError</code> <p>If not overridden by subclass.</p> Source code in <code>goliat/setups/base_setup.py</code> <pre><code>def run_full_setup(self, project_manager: \"ProjectManager\"):\n    \"\"\"Prepares the simulation scene. Must be implemented by subclasses.\n\n    Returns:\n        The configured simulation object.\n\n    Raises:\n        NotImplementedError: If not overridden by subclass.\n    \"\"\"\n    raise NotImplementedError(\"The 'run_full_setup' method must be implemented by a subclass.\")\n</code></pre>"},{"location":"reference/api_reference/#boundary-setup","title":"Boundary Setup","text":""},{"location":"reference/api_reference/#goliat.setups.boundary_setup","title":"goliat.setups.boundary_setup","text":""},{"location":"reference/api_reference/#goliat.setups.boundary_setup-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.setups.boundary_setup.BoundarySetup","title":"BoundarySetup","text":"<pre><code>BoundarySetup(config: Config, simulation: Simulation, verbose_logger: Logger, progress_logger: Logger)\n</code></pre> <p>               Bases: <code>BaseSetup</code></p> <p>Configures the boundary conditions for the simulation.</p> Source code in <code>goliat/setups/boundary_setup.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    simulation: \"emfdtd.Simulation\",\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n):\n    super().__init__(config, verbose_logger, progress_logger)\n    self.simulation = simulation\n</code></pre>"},{"location":"reference/api_reference/#goliat.setups.boundary_setup.BoundarySetup-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.setups.boundary_setup.BoundarySetup.setup_boundary_conditions","title":"setup_boundary_conditions","text":"<pre><code>setup_boundary_conditions()\n</code></pre> <p>Configures PML boundary conditions from the solver settings.</p> <p>Sets the global boundary type (e.g., UPML/CPML) and PML strength (Low/Medium/High) based on the config.</p> Source code in <code>goliat/setups/boundary_setup.py</code> <pre><code>def setup_boundary_conditions(self):\n    \"\"\"Configures PML boundary conditions from the solver settings.\n\n    Sets the global boundary type (e.g., UPML/CPML) and PML strength\n    (Low/Medium/High) based on the config.\n    \"\"\"\n    self._log(\"Setting up boundary conditions...\", log_type=\"progress\")\n    solver_settings = self.config.get_solver_settings()\n    boundary_config = solver_settings.get(\"boundary_conditions\", {})\n\n    # Set Boundary Type (e.g., UpmlCpml)\n    bc_type = boundary_config.get(\"type\", \"UpmlCpml\")\n    self._log(f\"  - Setting global boundary conditions to: {bc_type}\", log_type=\"info\")\n\n    global_boundaries = self.simulation.GlobalBoundarySettings\n    if global_boundaries:\n        bc_enum = global_boundaries.GlobalBoundaryType.enum\n        if hasattr(bc_enum, bc_type):\n            global_boundaries.GlobalBoundaryType = getattr(bc_enum, bc_type)\n            self._log(\n                f\"    - Successfully set GlobalBoundaryType to {bc_type}\",\n                log_type=\"verbose\",\n            )\n        else:\n            self._log(\n                f\"    - Warning: Invalid boundary condition type '{bc_type}'. Using default.\",\n                log_type=\"warning\",\n            )\n    else:\n        self._log(\n            \"    - Warning: 'GlobalBoundarySettings' not found on simulation object.\",\n            log_type=\"warning\",\n        )\n\n    # Set PML Strength\n    strength = boundary_config.get(\"strength\", \"Medium\").capitalize()\n    self._log(f\"  - Setting PML strength to: {strength}\", log_type=\"info\")\n\n    boundary_settings_list = [x for x in self.simulation.AllSettings if isinstance(x, self.emfdtd.BoundarySettings)]\n    if not boundary_settings_list:\n        self._log(\n            \"  - No BoundarySettings found in simulation. Cannot set PML strength.\",\n            log_type=\"warning\",\n        )\n        return\n\n    boundary_settings = boundary_settings_list[0]\n\n    strength_enum = boundary_settings.PmlStrength.enum\n    if hasattr(strength_enum, strength):\n        boundary_settings.PmlStrength = getattr(strength_enum, strength)\n        self._log(f\"    - Successfully set PmlStrength to {strength}\", log_type=\"verbose\")\n    else:\n        self._log(\n            f\"    - Warning: Invalid PML strength '{strength}'. Using default (Medium).\",\n            log_type=\"warning\",\n        )\n        boundary_settings.PmlStrength = strength_enum.Medium\n</code></pre>"},{"location":"reference/api_reference/#far-field-setup","title":"Far-Field Setup","text":""},{"location":"reference/api_reference/#goliat.setups.far_field_setup","title":"goliat.setups.far_field_setup","text":""},{"location":"reference/api_reference/#goliat.setups.far_field_setup-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.setups.far_field_setup.FarFieldSetup","title":"FarFieldSetup","text":"<pre><code>FarFieldSetup(config: Config, phantom_name: str, frequency_mhz: int, direction_name: str, polarization_name: str, project_manager: ProjectManager, verbose_logger: Logger, progress_logger: Logger, profiler: Profiler, gui=None)\n</code></pre> <p>               Bases: <code>BaseSetup</code></p> <p>Configures a far-field simulation for a specific direction and polarization.</p> Source code in <code>goliat/setups/far_field_setup.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    phantom_name: str,\n    frequency_mhz: int,\n    direction_name: str,\n    polarization_name: str,\n    project_manager: \"ProjectManager\",\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n    profiler: \"Profiler\",\n    gui=None,\n):\n    super().__init__(config, verbose_logger, progress_logger)\n    self.phantom_name = phantom_name\n    self.frequency_mhz = frequency_mhz\n    self.direction_name = direction_name\n    self.polarization_name = polarization_name\n    self.project_manager = project_manager\n    self.profiler = profiler\n    self.gui = gui\n    self.simulation_type = self.config.get_setting(\"far_field_setup/type\", \"environmental\")\n    self.document = self.s4l_v1.document\n</code></pre>"},{"location":"reference/api_reference/#goliat.setups.far_field_setup.FarFieldSetup-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.setups.far_field_setup.FarFieldSetup.run_full_setup","title":"run_full_setup","text":"<pre><code>run_full_setup(project_manager: ProjectManager) -&gt; emfdtd.Simulation\n</code></pre> <p>Executes the full setup sequence for a single far-field simulation with granular timing.</p> Source code in <code>goliat/setups/far_field_setup.py</code> <pre><code>def run_full_setup(self, project_manager: \"ProjectManager\") -&gt; \"emfdtd.Simulation\":\n    \"\"\"Executes the full setup sequence for a single far-field simulation with granular timing.\"\"\"\n    self._log(\"--- Setting up single Far-Field sim ---\", log_type=\"header\")\n\n    # Subtask 1: Load phantom\n    self._log(\"    - Load phantom...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_load_phantom\"):\n        phantom_setup = PhantomSetup(\n            self.config,\n            self.phantom_name,\n            self.verbose_logger,\n            self.progress_logger,\n        )\n        phantom_setup.ensure_phantom_is_loaded()\n    elapsed = self.profiler.subtask_times[\"setup_load_phantom\"][-1]\n    self._log(f\"      - Subtask 'setup_load_phantom' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 2: Configure scene\n    self._log(\"    - Configure scene (bbox, plane wave)...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_configure_scene\"):\n        bbox_entity = self._create_or_get_simulation_bbox()\n        simulation = self._create_simulation_entity(bbox_entity)\n    elapsed = self.profiler.subtask_times[\"setup_configure_scene\"][-1]\n    self._log(f\"      - Subtask 'setup_configure_scene' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 3: Assign materials\n    self._log(\"    - Assign materials...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_materials\"):\n        material_setup = MaterialSetup(\n            self.config,\n            simulation,\n            None,  # type: ignore\n            self.phantom_name,\n            self.verbose_logger,\n            self.progress_logger,\n            free_space=False,\n        )\n        material_setup.assign_materials(phantom_only=True)\n    elapsed = self.profiler.subtask_times[\"setup_materials\"][-1]\n    self._log(f\"      - Subtask 'setup_materials' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 4: Configure solver\n    self._log(\"    - Configure solver (gridding, boundaries, sensors)...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_solver\"):\n        gridding_setup = GriddingSetup(\n            self.config,\n            simulation,\n            None,  # type: ignore\n            None,  # type: ignore\n            self.verbose_logger,\n            self.progress_logger,\n            frequency_mhz=self.frequency_mhz,\n        )\n        gridding_setup.setup_gridding()\n\n        boundary_setup = BoundarySetup(self.config, simulation, self.verbose_logger, self.progress_logger)\n        boundary_setup.setup_boundary_conditions()\n\n        self._add_point_sensors(simulation, \"far_field_simulation_bbox\")\n        self._setup_solver_settings(simulation)\n    elapsed = self.profiler.subtask_times[\"setup_solver\"][-1]\n    self._log(f\"      - Subtask 'setup_solver' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 5: Voxelize\n    self._log(\"    - Voxelize simulation...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_voxelize\"):\n        bbox_entity = next(\n            (e for e in self.model.AllEntities() if hasattr(e, \"Name\") and e.Name == \"far_field_simulation_bbox\"),\n            None,\n        )\n        if not bbox_entity:\n            raise RuntimeError(\"Could not find 'far_field_simulation_bbox' for voxelization.\")\n\n        import XCoreModeling\n\n        phantom_entities = [e for e in self.model.AllEntities() if isinstance(e, XCoreModeling.TriangleMesh)]\n        point_sensor_entities = [e for e in self.model.AllEntities() if \"Point Sensor Entity\" in e.Name]\n\n        all_simulation_parts = phantom_entities + [bbox_entity] + point_sensor_entities\n\n        super()._finalize_setup(self.project_manager, simulation, all_simulation_parts, self.frequency_mhz)\n    elapsed = self.profiler.subtask_times[\"setup_voxelize\"][-1]\n    self._log(f\"      - Subtask 'setup_voxelize' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 6: Save project\n    self._log(\"    - Save project...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_save_project\"):\n        project_manager.save()\n    elapsed = self.profiler.subtask_times[\"setup_save_project\"][-1]\n    self._log(f\"      - Subtask 'setup_save_project' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    self._log(\"Common settings applied.\", log_type=\"success\")\n    return simulation\n</code></pre>"},{"location":"reference/api_reference/#gridding-setup","title":"Gridding Setup","text":""},{"location":"reference/api_reference/#goliat.setups.gridding_setup","title":"goliat.setups.gridding_setup","text":""},{"location":"reference/api_reference/#goliat.setups.gridding_setup-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.setups.gridding_setup.GriddingSetup","title":"GriddingSetup","text":"<pre><code>GriddingSetup(config: Config, simulation: Simulation, placement_name: str, antenna: Antenna, verbose_logger: Logger, progress_logger: Logger, frequency_mhz: int | None = None)\n</code></pre> <p>               Bases: <code>BaseSetup</code></p> <p>Configures simulation grid resolution and subgridding.</p> <p>Sets up main grid (automatic or manual) with padding, and optional antenna-specific subgrids for fine details.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>Config</code> <p>Configuration object.</p> required <code>simulation</code> <code>Simulation</code> <p>The simulation object to configure gridding for.</p> required <code>placement_name</code> <code>str</code> <p>Name of the placement scenario.</p> required <code>antenna</code> <code>Antenna</code> <p>Antenna object.</p> required <code>verbose_logger</code> <code>Logger</code> <p>Logger for detailed output.</p> required <code>progress_logger</code> <code>Logger</code> <p>Logger for progress updates.</p> required <code>frequency_mhz</code> <code>int | None</code> <p>Simulation frequency in MHz (optional).</p> <code>None</code> Source code in <code>goliat/setups/gridding_setup.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    simulation: \"emfdtd.Simulation\",\n    placement_name: str,\n    antenna: \"Antenna\",\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n    frequency_mhz: int | None = None,\n):\n    \"\"\"Initializes the GriddingSetup.\n\n    Args:\n        config: Configuration object.\n        simulation: The simulation object to configure gridding for.\n        placement_name: Name of the placement scenario.\n        antenna: Antenna object.\n        verbose_logger: Logger for detailed output.\n        progress_logger: Logger for progress updates.\n        frequency_mhz: Simulation frequency in MHz (optional).\n    \"\"\"\n    super().__init__(config, verbose_logger, progress_logger)\n    self.simulation = simulation\n    self.placement_name = placement_name\n    self.antenna = antenna\n    self.frequency_mhz = frequency_mhz\n\n    import s4l_v1.units\n\n    self.units = s4l_v1.units\n</code></pre>"},{"location":"reference/api_reference/#goliat.setups.gridding_setup.GriddingSetup-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.setups.gridding_setup.GriddingSetup.setup_gridding","title":"setup_gridding","text":"<pre><code>setup_gridding(antenna_components: dict | None = None)\n</code></pre> <p>Sets up main grid and optional antenna subgrids.</p> <p>Parameters:</p> Name Type Description Default <code>antenna_components</code> <code>dict | None</code> <p>Dict mapping component names to entities.</p> <code>None</code> Source code in <code>goliat/setups/gridding_setup.py</code> <pre><code>def setup_gridding(self, antenna_components: dict | None = None):\n    \"\"\"Sets up main grid and optional antenna subgrids.\n\n    Args:\n        antenna_components: Dict mapping component names to entities.\n    \"\"\"\n    self._log(\"Setting up gridding...\", log_type=\"progress\")\n    self._setup_main_grid()\n    if antenna_components:\n        self._setup_subgrids(antenna_components)\n    else:\n        self._log(\n            \"  - No antenna components provided, skipping subgridding.\",\n            log_type=\"info\",\n        )\n</code></pre>"},{"location":"reference/api_reference/#material-setup","title":"Material Setup","text":""},{"location":"reference/api_reference/#goliat.setups.material_setup","title":"goliat.setups.material_setup","text":""},{"location":"reference/api_reference/#goliat.setups.material_setup-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.setups.material_setup.MaterialSetup","title":"MaterialSetup","text":"<pre><code>MaterialSetup(config: Config, simulation: Simulation, antenna: Antenna, phantom_name: str, verbose_logger: Logger, progress_logger: Logger, free_space: bool = False)\n</code></pre> <p>               Bases: <code>BaseSetup</code></p> <p>Assigns materials to phantom tissues and antenna components.</p> <p>Maps tissue names to IT'IS database materials and assigns antenna materials from config. Uses file locking for thread-safe database access.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>Config</code> <p>Configuration object.</p> required <code>simulation</code> <code>Simulation</code> <p>The simulation object to assign materials to.</p> required <code>antenna</code> <code>Antenna</code> <p>Antenna object.</p> required <code>phantom_name</code> <code>str</code> <p>Name of the phantom model.</p> required <code>verbose_logger</code> <code>Logger</code> <p>Logger for detailed output.</p> required <code>progress_logger</code> <code>Logger</code> <p>Logger for progress updates.</p> required <code>free_space</code> <code>bool</code> <p>Whether this is a free-space simulation.</p> <code>False</code> Source code in <code>goliat/setups/material_setup.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    simulation: \"emfdtd.Simulation\",\n    antenna: \"Antenna\",\n    phantom_name: str,\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n    free_space: bool = False,\n):\n    \"\"\"Initializes the MaterialSetup.\n\n    Args:\n        config: Configuration object.\n        simulation: The simulation object to assign materials to.\n        antenna: Antenna object.\n        phantom_name: Name of the phantom model.\n        verbose_logger: Logger for detailed output.\n        progress_logger: Logger for progress updates.\n        free_space: Whether this is a free-space simulation.\n    \"\"\"\n    super().__init__(config, verbose_logger, progress_logger)\n    self.simulation = simulation\n    self.antenna = antenna\n    self.phantom_name = phantom_name\n    self.free_space = free_space\n\n    # Import required modules\n    import s4l_v1.materials.database\n    import XCoreModeling\n\n    # Access material database - use s4l_v1.materials.database\n    self.database = s4l_v1.materials.database\n    self.XCoreModeling = XCoreModeling\n</code></pre>"},{"location":"reference/api_reference/#goliat.setups.material_setup.MaterialSetup-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.setups.material_setup.MaterialSetup.assign_materials","title":"assign_materials","text":"<pre><code>assign_materials(antenna_components: dict | None = None, phantom_only: bool = False)\n</code></pre> <p>Assigns materials to simulation entities.</p> <p>Sets background to Air, then assigns phantom materials if not free-space, and antenna materials if not phantom_only mode.</p> <p>Parameters:</p> Name Type Description Default <code>antenna_components</code> <code>dict | None</code> <p>Dict mapping component names to entities.</p> <code>None</code> <code>phantom_only</code> <code>bool</code> <p>If True, skips antenna material assignment.</p> <code>False</code> Source code in <code>goliat/setups/material_setup.py</code> <pre><code>def assign_materials(self, antenna_components: dict | None = None, phantom_only: bool = False):\n    \"\"\"Assigns materials to simulation entities.\n\n    Sets background to Air, then assigns phantom materials if not free-space,\n    and antenna materials if not phantom_only mode.\n\n    Args:\n        antenna_components: Dict mapping component names to entities.\n        phantom_only: If True, skips antenna material assignment.\n    \"\"\"\n    self._log(\"Assigning materials...\", log_type=\"progress\")\n\n    # Background material\n    background_settings = self.simulation.raw.BackgroundMaterialSettings()  # type: ignore\n    air_material = self.database[\"Generic 1.1\"][\"Air\"]  # type: ignore\n    self.simulation.raw.AssignMaterial(background_settings, air_material)  # type: ignore\n\n    # Phantom materials\n    if not self.free_space:\n        self._assign_phantom_materials()\n\n    # Antenna materials\n    if not phantom_only:\n        if not antenna_components:\n            raise ValueError(\"antenna_components must be provided when not in phantom_only mode.\")\n        self._assign_antenna_materials(antenna_components)\n</code></pre>"},{"location":"reference/api_reference/#near-field-setup","title":"Near-Field Setup","text":""},{"location":"reference/api_reference/#goliat.setups.near_field_setup","title":"goliat.setups.near_field_setup","text":""},{"location":"reference/api_reference/#goliat.setups.near_field_setup-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.setups.near_field_setup.NearFieldSetup","title":"NearFieldSetup","text":"<pre><code>NearFieldSetup(config: Config, phantom_name: str, frequency_mhz: int, scenario_name: str, position_name: str, orientation_name: str, antenna: Antenna, verbose_logger: Logger, progress_logger: Logger, profiler: Profiler, gui=None, free_space: bool = False)\n</code></pre> <p>               Bases: <code>BaseSetup</code></p> <p>Configures the simulation environment by coordinating setup modules.</p> Source code in <code>goliat/setups/near_field_setup.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    phantom_name: str,\n    frequency_mhz: int,\n    scenario_name: str,\n    position_name: str,\n    orientation_name: str,\n    antenna: \"Antenna\",\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n    profiler: \"Profiler\",\n    gui=None,\n    free_space: bool = False,\n):\n    super().__init__(config, verbose_logger, progress_logger)\n    self.phantom_name = phantom_name\n    self.frequency_mhz = frequency_mhz\n    self.base_placement_name = scenario_name\n    self.position_name = position_name\n    self.orientation_name = orientation_name\n    self.placement_name = f\"{scenario_name}_{position_name}_{orientation_name}\"\n    self.antenna = antenna\n    self.profiler = profiler\n    self.gui = gui\n    self.free_space = free_space\n\n    # S4L modules\n    import XCoreModeling\n\n    self.document = self.s4l_v1.document\n    self.XCoreModeling = XCoreModeling\n</code></pre>"},{"location":"reference/api_reference/#goliat.setups.near_field_setup.NearFieldSetup-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.setups.near_field_setup.NearFieldSetup.run_full_setup","title":"run_full_setup","text":"<pre><code>run_full_setup(project_manager: ProjectManager, lock=None) -&gt; emfdtd.Simulation\n</code></pre> <p>Executes complete setup sequence with detailed timing.</p> <p>Orchestrates the entire simulation setup process in 6 major subtasks:</p> <ol> <li> <p>Load phantom: Imports phantom model from disk or downloads if missing.    Creates head/trunk bounding boxes if needed.</p> </li> <li> <p>Configure scene: Imports antenna, places it relative to phantom, creates    simulation bounding box, sets up simulation entity, adds point sensors.    Handles special cases like phantom rotation and phone alignment.</p> </li> <li> <p>Assign materials: Maps tissue names to IT'IS database materials, assigns    antenna component materials from config. Uses file locking for thread safety.</p> </li> <li> <p>Configure solver: Sets up gridding (automatic or manual with subgrids),    configures boundary conditions (PML), and sets up excitation sources.</p> </li> <li> <p>Voxelize: Runs automatic voxelization on all simulation entities, updates    materials and grid, optionally exports material properties.</p> </li> <li> <p>Save project: Saves the .smash file to disk.</p> </li> </ol> <p>Each subtask is profiled individually for accurate timing estimates. The method returns a fully configured simulation object ready to run.</p> <p>Parameters:</p> Name Type Description Default <code>project_manager</code> <code>ProjectManager</code> <p>Project manager for saving operations.</p> required <code>lock</code> <p>Optional lock (currently unused, reserved for future use).</p> <code>None</code> <p>Returns:</p> Type Description <code>Simulation</code> <p>Fully configured simulation object ready for execution.</p> Source code in <code>goliat/setups/near_field_setup.py</code> <pre><code>def run_full_setup(self, project_manager: \"ProjectManager\", lock=None) -&gt; \"emfdtd.Simulation\":\n    \"\"\"Executes complete setup sequence with detailed timing.\n\n    Orchestrates the entire simulation setup process in 6 major subtasks:\n\n    1. Load phantom: Imports phantom model from disk or downloads if missing.\n       Creates head/trunk bounding boxes if needed.\n\n    2. Configure scene: Imports antenna, places it relative to phantom, creates\n       simulation bounding box, sets up simulation entity, adds point sensors.\n       Handles special cases like phantom rotation and phone alignment.\n\n    3. Assign materials: Maps tissue names to IT'IS database materials, assigns\n       antenna component materials from config. Uses file locking for thread safety.\n\n    4. Configure solver: Sets up gridding (automatic or manual with subgrids),\n       configures boundary conditions (PML), and sets up excitation sources.\n\n    5. Voxelize: Runs automatic voxelization on all simulation entities, updates\n       materials and grid, optionally exports material properties.\n\n    6. Save project: Saves the .smash file to disk.\n\n    Each subtask is profiled individually for accurate timing estimates. The method\n    returns a fully configured simulation object ready to run.\n\n    Args:\n        project_manager: Project manager for saving operations.\n        lock: Optional lock (currently unused, reserved for future use).\n\n    Returns:\n        Fully configured simulation object ready for execution.\n    \"\"\"\n    self._log(\"Running full simulation setup...\", log_type=\"progress\")\n\n    # Subtask 1: Load phantom\n    if not self.free_space:\n        self._log(\"    - Load phantom...\", level=\"progress\", log_type=\"progress\")\n        with self.profiler.subtask(\"setup_load_phantom\"):\n            phantom_setup = PhantomSetup(\n                self.config,\n                self.phantom_name,\n                self.verbose_logger,\n                self.progress_logger,\n            )\n            phantom_setup.ensure_phantom_is_loaded()\n        elapsed = self.profiler.subtask_times[\"setup_load_phantom\"][-1]\n        self._log(f\"      - Subtask 'setup_load_phantom' done in {elapsed:.2f}s\", log_type=\"verbose\")\n        self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 2: Configure scene\n    self._log(\"    - Configure scene (bboxes, placement, simulation, sensors)...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_configure_scene\"):\n        if not self.free_space:\n            self._setup_bounding_boxes()\n\n        placement_setup = PlacementSetup(\n            self.config,\n            self.phantom_name,\n            self.frequency_mhz,\n            self.base_placement_name,\n            self.position_name,\n            self.orientation_name,\n            self.antenna,\n            self.verbose_logger,\n            self.progress_logger,\n            self.free_space,\n        )\n        placement_setup.place_antenna()\n\n        antenna_components = self._get_antenna_components()\n        self._create_simulation_bbox()\n        simulation = self._setup_simulation_entity()\n\n        sim_bbox_name = f\"{self.placement_name.lower()}_simulation_bbox\"\n        self._add_point_sensors(simulation, sim_bbox_name)\n\n        self._handle_phantom_rotation(placement_setup)\n        self._align_simulation_with_phone()\n\n    elapsed = self.profiler.subtask_times[\"setup_configure_scene\"][-1]\n    self._log(f\"      - Subtask 'setup_configure_scene' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 3: Assign materials\n    self._log(\"    - Assign materials...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_materials\"):\n        material_setup = MaterialSetup(\n            self.config,\n            simulation,\n            self.antenna,\n            self.phantom_name,\n            self.verbose_logger,\n            self.progress_logger,\n            self.free_space,\n        )\n        material_setup.assign_materials(antenna_components)\n\n    elapsed = self.profiler.subtask_times[\"setup_materials\"][-1]\n    self._log(f\"      - Subtask 'setup_materials' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 4: Configure solver\n    self._log(\"    - Configure solver (gridding, boundaries, sources)...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_solver\"):\n        gridding_setup = GriddingSetup(\n            self.config,\n            simulation,\n            self.placement_name,\n            self.antenna,\n            self.verbose_logger,\n            self.progress_logger,\n            frequency_mhz=self.frequency_mhz,\n        )\n        gridding_setup.setup_gridding(antenna_components)\n\n        boundary_setup = BoundarySetup(self.config, simulation, self.verbose_logger, self.progress_logger)\n        boundary_setup.setup_boundary_conditions()\n\n        source_setup = SourceSetup(\n            self.config,\n            simulation,\n            self.frequency_mhz,\n            self.antenna,\n            self.verbose_logger,\n            self.progress_logger,\n            self.free_space,\n        )\n        source_setup.setup_source_and_sensors(antenna_components)\n\n    elapsed = self.profiler.subtask_times[\"setup_solver\"][-1]\n    self._log(f\"      - Subtask 'setup_solver' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 5: Voxelize\n    self._log(\"    - Voxelize simulation...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_voxelize\"):\n        all_antenna_parts = list(antenna_components.values())\n        point_sensor_entities = [e for e in self.model.AllEntities() if \"Point Sensor Entity\" in e.Name]\n\n        if self.free_space:\n            sim_bbox_name = \"freespace_simulation_bbox\"\n        else:\n            sim_bbox_name = f\"{self.placement_name.lower()}_simulation_bbox\"\n\n        sim_bbox_entity = next(\n            (e for e in self.model.AllEntities() if hasattr(e, \"Name\") and e.Name == sim_bbox_name),\n            None,\n        )\n        if not sim_bbox_entity:\n            raise RuntimeError(f\"Could not find simulation bounding box: '{sim_bbox_name}' for voxelization.\")\n\n        phantom_entities = [e for e in self.model.AllEntities() if isinstance(e, self.XCoreModeling.TriangleMesh)]\n        all_simulation_parts = phantom_entities + all_antenna_parts + point_sensor_entities + [sim_bbox_entity]\n\n        super()._finalize_setup(project_manager, simulation, all_simulation_parts, self.frequency_mhz)\n\n    elapsed = self.profiler.subtask_times[\"setup_voxelize\"][-1]\n    self._log(f\"      - Subtask 'setup_voxelize' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    # Subtask 6: Save project\n    self._log(\"    - Save project...\", level=\"progress\", log_type=\"progress\")\n    with self.profiler.subtask(\"setup_save_project\"):\n        project_manager.save()\n    elapsed = self.profiler.subtask_times[\"setup_save_project\"][-1]\n    self._log(f\"      - Subtask 'setup_save_project' done in {elapsed:.2f}s\", log_type=\"verbose\")\n    self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    self._log(\"Full simulation setup complete.\", log_type=\"success\")\n    return simulation\n</code></pre>"},{"location":"reference/api_reference/#phantom-setup","title":"Phantom Setup","text":""},{"location":"reference/api_reference/#goliat.setups.phantom_setup","title":"goliat.setups.phantom_setup","text":""},{"location":"reference/api_reference/#goliat.setups.phantom_setup-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.setups.phantom_setup.PhantomSetup","title":"PhantomSetup","text":"<pre><code>PhantomSetup(config: Config, phantom_name: str, verbose_logger: Logger, progress_logger: Logger)\n</code></pre> <p>               Bases: <code>BaseSetup</code></p> <p>Handles loading and importing phantom models into Sim4Life.</p> Source code in <code>goliat/setups/phantom_setup.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    phantom_name: str,\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n):\n    super().__init__(config, verbose_logger, progress_logger)\n    self.phantom_name = phantom_name\n\n    import s4l_v1.data\n    import s4l_v1.model\n    import XCoreModeling\n\n    self.model = s4l_v1.model\n    self.data = s4l_v1.data\n    self.XCoreModeling = XCoreModeling\n</code></pre>"},{"location":"reference/api_reference/#goliat.setups.phantom_setup.PhantomSetup-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.setups.phantom_setup.PhantomSetup.ensure_phantom_is_loaded","title":"ensure_phantom_is_loaded","text":"<pre><code>ensure_phantom_is_loaded() -&gt; bool\n</code></pre> <p>Checks if phantom is loaded, imports from disk if available, or downloads if missing.</p> <p>Returns:</p> Type Description <code>bool</code> <p>True if phantom is now loaded, False if download was initiated (requires re-run).</p> Source code in <code>goliat/setups/phantom_setup.py</code> <pre><code>def ensure_phantom_is_loaded(self) -&gt; bool:\n    \"\"\"Checks if phantom is loaded, imports from disk if available, or downloads if missing.\n\n    Returns:\n        True if phantom is now loaded, False if download was initiated (requires re-run).\n    \"\"\"\n    self._log(\"--- Running Phantom Check ---\", log_type=\"header\")\n    all_entities = self.model.AllEntities()\n    self._log(f\"Found {len(all_entities)} total entities in the project.\", log_type=\"info\")\n\n    is_loaded = False\n    for i, entity in enumerate(all_entities):\n        if hasattr(entity, \"Name\"):\n            entity_name_lower = entity.Name.lower()\n            phantom_name_lower = self.phantom_name.lower()\n            if phantom_name_lower in entity_name_lower:\n                is_loaded = True\n                break\n        else:\n            self._log(f\"  - Entity {i}: (No 'Name' attribute)\", log_type=\"verbose\")\n\n    if is_loaded:\n        self._log(\n            \"--- Phantom Check Result: Phantom model is already present. ---\",\n            log_type=\"success\",\n        )\n        return True\n    else:\n        self._log(\n            \"--- Phantom Check Result: Phantom not found in project. ---\",\n            log_type=\"warning\",\n        )\n\n    study_type = self.config.get_setting(\"study_type\")\n    if study_type == \"near_field\" or study_type == \"far_field\":\n        sab_path = os.path.join(self.config.base_dir, \"data\", \"phantoms\", f\"{self.phantom_name}.sab\")\n        if os.path.exists(sab_path):\n            self._log(\n                f\"Phantom not found in document. Importing from '{sab_path}'...\",\n                log_type=\"info\",\n            )\n            self.XCoreModeling.Import(sab_path)\n            self._log(\"Phantom imported successfully.\", log_type=\"success\")\n            return True\n\n        self._log(\n            f\"Local .sab file not found. Attempting to download '{self.phantom_name}'...\",\n            log_type=\"info\",\n        )\n        available_downloads = self.data.GetAvailableDownloads()\n        phantom_to_download = next(\n            (item for item in available_downloads if self.phantom_name.lower() in item.Name.lower()),\n            None,\n        )\n\n        if not phantom_to_download:\n            raise FileNotFoundError(f\"Phantom '{self.phantom_name}' not found for download or in local files.\")\n\n        self._log(f\"Found '{phantom_to_download.Name}'. Downloading...\", log_type=\"info\")\n        download_email = self.config.get_setting(\"download_email\", \"example@example.com\")\n        self.data.DownloadModel(\n            phantom_to_download,\n            email=download_email,  # type: ignore\n            directory=os.path.join(self.config.base_dir, \"data\", \"phantoms\"),\n        )\n        self._log(\n            \"Phantom downloaded successfully. Please re-run the script to import the new .sab file.\",\n            log_type=\"success\",\n        )\n        return False\n    else:\n        raise ValueError(f\"Unknown study type: {study_type}\")\n</code></pre>"},{"location":"reference/api_reference/#placement-setup","title":"Placement Setup","text":""},{"location":"reference/api_reference/#goliat.setups.placement_setup","title":"goliat.setups.placement_setup","text":""},{"location":"reference/api_reference/#goliat.setups.placement_setup-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.setups.placement_setup.PlacementSetup","title":"PlacementSetup","text":"<pre><code>PlacementSetup(config: Config, phantom_name: str, frequency_mhz: int, base_placement_name: str, position_name: str, orientation_name: str, antenna: Antenna, verbose_logger: Logger, progress_logger: Logger, free_space: bool = False)\n</code></pre> <p>               Bases: <code>BaseSetup</code></p> <p>Handles antenna placement and orientation relative to phantom.</p> <p>Imports antenna model, calculates target position based on placement scenario, and applies composed transformation (stand-up rotation, translation, orientation twists) to position antenna correctly.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>Config</code> <p>Configuration object.</p> required <code>phantom_name</code> <code>str</code> <p>Name of the phantom model.</p> required <code>frequency_mhz</code> <code>int</code> <p>Simulation frequency in MHz.</p> required <code>base_placement_name</code> <code>str</code> <p>Base name of the placement scenario.</p> required <code>position_name</code> <code>str</code> <p>Name of the position within the scenario.</p> required <code>orientation_name</code> <code>str</code> <p>Name of the orientation within the scenario.</p> required <code>antenna</code> <code>Antenna</code> <p>Antenna object to place.</p> required <code>verbose_logger</code> <code>Logger</code> <p>Logger for detailed output.</p> required <code>progress_logger</code> <code>Logger</code> <p>Logger for progress updates.</p> required <code>free_space</code> <code>bool</code> <p>Whether this is a free-space simulation.</p> <code>False</code> Source code in <code>goliat/setups/placement_setup.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    phantom_name: str,\n    frequency_mhz: int,\n    base_placement_name: str,\n    position_name: str,\n    orientation_name: str,\n    antenna: \"Antenna\",\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n    free_space: bool = False,\n):\n    \"\"\"Initializes the PlacementSetup.\n\n    Args:\n        config: Configuration object.\n        phantom_name: Name of the phantom model.\n        frequency_mhz: Simulation frequency in MHz.\n        base_placement_name: Base name of the placement scenario.\n        position_name: Name of the position within the scenario.\n        orientation_name: Name of the orientation within the scenario.\n        antenna: Antenna object to place.\n        verbose_logger: Logger for detailed output.\n        progress_logger: Logger for progress updates.\n        free_space: Whether this is a free-space simulation.\n    \"\"\"\n    super().__init__(config, verbose_logger, progress_logger)\n    self.phantom_name = phantom_name\n    self.frequency_mhz = frequency_mhz\n    self.base_placement_name = base_placement_name\n    self.position_name = position_name\n    self.orientation_name = orientation_name\n    self.placement_name = f\"{base_placement_name}_{position_name}_{orientation_name}\"\n    self.antenna = antenna\n    self.free_space = free_space\n\n    # Import XCoreMath for transformations\n    import XCoreMath\n\n    self.XCoreMath = XCoreMath\n</code></pre>"},{"location":"reference/api_reference/#goliat.setups.placement_setup.PlacementSetup-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.setups.placement_setup.PlacementSetup.place_antenna","title":"place_antenna","text":"<pre><code>place_antenna()\n</code></pre> <p>Places and orients antenna using a single composed transformation.</p> <p>This method implements a key optimization: instead of applying multiple transforms sequentially (which causes precision loss and can accumulate errors), it composes all transformations into a single matrix and applies it once.</p> <p>The transformation sequence is: 1. Stand-up rotation: Rotates antenna 90\u00b0 around X-axis to make it upright 2. Base translation: Moves antenna to a reference point (speaker location) 3. Special rotation: For 'by_cheek', applies -90\u00b0 Z-rotation to align with YZ plane 4. Orientation twists: Applies any rotations specified in orientation config 5. Final translation: Moves antenna to its target position relative to phantom</p> <p>The order matters because matrix multiplication is not commutative. Each step builds on the previous transform, so the antenna ends up correctly positioned and oriented relative to the phantom regardless of how many rotations are needed.</p> <p>Parameters:</p> Name Type Description Default <code>None (uses instance attributes</code> <p>antenna, placement_name, etc.)</p> required <p>Raises:</p> Type Description <code>RuntimeError</code> <p>If antenna import fails or required entities aren't found.</p> Source code in <code>goliat/setups/placement_setup.py</code> <pre><code>def place_antenna(self):\n    \"\"\"Places and orients antenna using a single composed transformation.\n\n    This method implements a key optimization: instead of applying multiple\n    transforms sequentially (which causes precision loss and can accumulate errors),\n    it composes all transformations into a single matrix and applies it once.\n\n    The transformation sequence is:\n    1. Stand-up rotation: Rotates antenna 90\u00b0 around X-axis to make it upright\n    2. Base translation: Moves antenna to a reference point (speaker location)\n    3. Special rotation: For 'by_cheek', applies -90\u00b0 Z-rotation to align with YZ plane\n    4. Orientation twists: Applies any rotations specified in orientation config\n    5. Final translation: Moves antenna to its target position relative to phantom\n\n    The order matters because matrix multiplication is not commutative. Each step\n    builds on the previous transform, so the antenna ends up correctly positioned\n    and oriented relative to the phantom regardless of how many rotations are needed.\n\n    Args:\n        None (uses instance attributes: antenna, placement_name, etc.)\n\n    Raises:\n        RuntimeError: If antenna import fails or required entities aren't found.\n    \"\"\"\n    self._log(\n        f\"--- Starting Placement: {self.base_placement_name} - {self.position_name} - {self.orientation_name} ---\",\n        log_type=\"header\",\n    )\n\n    phantom_definition = self.config.get_phantom_definition(self.phantom_name.lower())\n    if not self.free_space and not phantom_definition.get(\"placements\", {}).get(f\"do_{self.base_placement_name}\"):\n        self._log(\n            f\"Placement '{self.base_placement_name}' is disabled in the configuration.\",\n            log_type=\"info\",\n        )\n        return\n\n    base_target_point, position_offset = self._get_placement_details()\n\n    # Import antenna model\n    antenna_path = self.antenna.get_centered_antenna_path(os.path.join(self.config.base_dir, \"data\", \"antennas\", \"centered\"))\n    imported_entities = list(self.model.Import(antenna_path))\n\n    antenna_group = next(\n        (e for e in imported_entities if \"Antenna\" in e.Name and \"bounding box\" not in e.Name),\n        None,\n    )\n    bbox_entity = next((e for e in imported_entities if \"bounding box\" in e.Name), None)\n\n    if not antenna_group:\n        raise RuntimeError(\"Could not find imported antenna group.\")\n\n    # Find the \"Ground\" entity/entities (\"PCB\" of the phone excl. IFA antenna)\n    ground_entities = [e for e in antenna_group.Entities if \"Ground\" in e.Name or \"Substrate\" in e.Name]  # type: ignore\n\n    # Rename the entities to include the placement name for uniqueness\n    antenna_group.Name = f\"{antenna_group.Name} ({self.placement_name})\"\n    if bbox_entity:\n        bbox_entity.Name = f\"{bbox_entity.Name} ({self.placement_name})\"\n\n    entities_to_transform = [antenna_group, bbox_entity] if bbox_entity else [antenna_group]\n\n    # --- Transformation Composition ---\n    self._log(\"Composing final transformation...\", log_type=\"progress\")\n\n    # Start with an identity transform\n    final_transform = self.XCoreMath.Transform()\n\n    # 1. Stand-up Rotation\n    rot_stand_up = self.XCoreMath.Rotation(self.XCoreMath.Vec3(1, 0, 0), np.deg2rad(90))\n    final_transform = rot_stand_up * final_transform\n\n    # 2. Base translation to antenna reference point (speaker output of the mock-up phone)\n    reference_target_point = self._get_speaker_reference(ground_entities, upright_transform=final_transform)\n    base_translation = self.XCoreMath.Translation(reference_target_point)\n    final_transform = base_translation * final_transform\n\n    # Special rotation for 'by_cheek' to align with YZ plane\n    if self.base_placement_name.startswith(\"by_cheek\"):\n        self._log(\"Applying 'by_cheek' specific Z-rotation.\", log_type=\"info\")\n        rot_z_cheek = self.XCoreMath.Rotation(self.XCoreMath.Vec3(0, 0, 1), np.deg2rad(-90))\n        final_transform = rot_z_cheek * final_transform\n\n    # 3. Orientation Twist\n    if self.orientation_rotations:\n        for rot in self.orientation_rotations:\n            axis_map = {\n                \"X\": self.XCoreMath.Vec3(1, 0, 0),\n                \"Y\": self.XCoreMath.Vec3(0, 1, 0),\n                \"Z\": self.XCoreMath.Vec3(0, 0, 1),\n            }\n            rot_twist = self.XCoreMath.Rotation(axis_map[rot[\"axis\"].upper()], np.deg2rad(rot[\"angle_deg\"]))\n            final_transform = rot_twist * final_transform\n\n    # 4. Final Translation\n    final_target_point = self.model.Vec3(\n        base_target_point[0] + position_offset[0],\n        base_target_point[1] + position_offset[1],\n        base_target_point[2] + position_offset[2],\n    )\n    translation_transform = self.XCoreMath.Translation(final_target_point)\n    final_transform = translation_transform * final_transform\n\n    # --- Apply the single, composed transform ---\n    self._log(\"Applying final composed transform.\", log_type=\"progress\")\n    for entity in entities_to_transform:\n        entity.ApplyTransform(final_transform)\n\n    self._log(\"--- Transformation Sequence Complete ---\", log_type=\"success\")\n</code></pre>"},{"location":"reference/api_reference/#source-setup","title":"Source Setup","text":""},{"location":"reference/api_reference/#goliat.setups.source_setup","title":"goliat.setups.source_setup","text":""},{"location":"reference/api_reference/#goliat.setups.source_setup-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.setups.source_setup.SourceSetup","title":"SourceSetup","text":"<pre><code>SourceSetup(config: Config, simulation: Simulation, frequency_mhz: int, antenna: Antenna, verbose_logger: Logger, progress_logger: Logger, free_space: bool = False)\n</code></pre> <p>               Bases: <code>BaseSetup</code></p> <p>Configures excitation sources and sensors for the simulation.</p> Source code in <code>goliat/setups/source_setup.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    simulation: \"emfdtd.Simulation\",\n    frequency_mhz: int,\n    antenna: \"Antenna\",\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n    free_space: bool = False,\n):\n    super().__init__(config, verbose_logger, progress_logger)\n    self.simulation = simulation\n    self.frequency_mhz = frequency_mhz\n    self.antenna = antenna\n    self.free_space = free_space\n\n    import s4l_v1.units\n\n    self.units = s4l_v1.units\n</code></pre>"},{"location":"reference/api_reference/#goliat.setups.source_setup.SourceSetup-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.setups.source_setup.SourceSetup.setup_source_and_sensors","title":"setup_source_and_sensors","text":"<pre><code>setup_source_and_sensors(antenna_components: dict)\n</code></pre> <p>Sets up the edge source and sensors based on excitation type.</p> <p>For phantom simulations, uses harmonic excitation. For free-space, uses Gaussian with bandwidth. Also adds edge sensors and optionally far-field sensors for free-space simulations.</p> <p>Parameters:</p> Name Type Description Default <code>antenna_components</code> <code>dict</code> <p>Dict mapping component names to entities.</p> required Source code in <code>goliat/setups/source_setup.py</code> <pre><code>def setup_source_and_sensors(self, antenna_components: dict):\n    \"\"\"Sets up the edge source and sensors based on excitation type.\n\n    For phantom simulations, uses harmonic excitation. For free-space,\n    uses Gaussian with bandwidth. Also adds edge sensors and optionally\n    far-field sensors for free-space simulations.\n\n    Args:\n        antenna_components: Dict mapping component names to entities.\n    \"\"\"\n    self._log(\"Setting up source and sensors...\", log_type=\"progress\")\n\n    source_name = self.antenna.get_source_entity_name()\n    if source_name not in antenna_components:\n        raise RuntimeError(f\"Could not find source entity '{source_name}' in antenna group.\")\n    source_entity = antenna_components[source_name]\n\n    # Source setup\n    edge_source_settings = self.emfdtd.EdgeSourceSettings()\n\n    # Get the enum for ExcitationType\n    excitation_enum = edge_source_settings.ExcitationType.enum\n\n    if self.free_space:\n        self._log(\"  - Using Gaussian source for free-space simulation.\", log_type=\"info\")\n        excitation_type = \"gaussian\"\n        edge_source_settings.ExcitationType = excitation_enum.Gaussian\n        edge_source_settings.CenterFrequency = self.frequency_mhz, self.units.MHz\n        edge_source_settings.Bandwidth = 50.0, self.units.MHz\n    else:\n        self._log(\"  - Using Harmonic source for phantom simulation.\", log_type=\"info\")\n        excitation_type = \"harmonic\"\n        edge_source_settings.ExcitationType = excitation_enum.Harmonic\n        edge_source_settings.Frequency = self.frequency_mhz, self.units.MHz\n        edge_source_settings.CenterFrequency = self.frequency_mhz, self.units.MHz\n\n    self.simulation.Add(edge_source_settings, [source_entity])\n\n    # Sensor setup\n    edge_sensor_settings = self.emfdtd.EdgeSensorSettings()\n    self.simulation.Add(edge_sensor_settings, [source_entity])\n\n    if self.free_space:\n        far_field_sensor_settings = self.simulation.AddFarFieldSensorSettings()\n\n        # Configure extracted frequencies for Gaussian source\n        if excitation_type.lower() == \"gaussian\":\n            center_freq_hz = self.frequency_mhz * 1e6\n            bandwidth_hz = 50.0 * 1e6\n            start_freq_hz = center_freq_hz - (bandwidth_hz / 2)\n            end_freq_hz = center_freq_hz + (bandwidth_hz / 2)\n\n            # Create a list of 21 frequencies, including the center frequency\n            num_samples = 21\n            extracted_frequencies_hz = [start_freq_hz + i * (bandwidth_hz / (num_samples - 1)) for i in range(num_samples)]\n\n            far_field_sensor_settings.ExtractedFrequencies = (\n                extracted_frequencies_hz,\n                self.units.Hz,\n            )\n            self._log(\n                f\"  - Set extracted frequencies from {start_freq_hz / 1e6} MHz to {end_freq_hz / 1e6} MHz.\",\n                log_type=\"info\",\n            )\n</code></pre>"},{"location":"reference/api_reference/#simulation-execution","title":"Simulation Execution","text":""},{"location":"reference/api_reference/#goliat.simulation_runner.SimulationRunner","title":"goliat.simulation_runner.SimulationRunner","text":"<pre><code>SimulationRunner(config: Config, project_path: str, simulation: Simulation, profiler: Profiler, verbose_logger: Logger, progress_logger: Logger, gui: Optional[QueueGUI] = None)\n</code></pre> <p>               Bases: <code>LoggingMixin</code></p> <p>Manages simulation execution via the Sim4Life API or iSolve.exe.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>Config</code> <p>Configuration object.</p> required <code>project_path</code> <code>str</code> <p>Path to the Sim4Life project file.</p> required <code>simulation</code> <code>Simulation</code> <p>The simulation object to run.</p> required <code>profiler</code> <code>Profiler</code> <p>Profiler for timing subtasks.</p> required <code>verbose_logger</code> <code>Logger</code> <p>Logger for detailed output.</p> required <code>progress_logger</code> <code>Logger</code> <p>Logger for high-level updates.</p> required <code>gui</code> <code>Optional[QueueGUI]</code> <p>Optional GUI proxy for updates.</p> <code>None</code> Source code in <code>goliat/simulation_runner.py</code> <pre><code>def __init__(\n    self,\n    config: \"Config\",\n    project_path: str,\n    simulation: \"s4l_v1.simulation.emfdtd.Simulation\",\n    profiler: \"Profiler\",\n    verbose_logger: \"Logger\",\n    progress_logger: \"Logger\",\n    gui: \"Optional[QueueGUI]\" = None,\n):\n    \"\"\"Sets up the simulation runner.\n\n    Args:\n        config: Configuration object.\n        project_path: Path to the Sim4Life project file.\n        simulation: The simulation object to run.\n        profiler: Profiler for timing subtasks.\n        verbose_logger: Logger for detailed output.\n        progress_logger: Logger for high-level updates.\n        gui: Optional GUI proxy for updates.\n    \"\"\"\n    self.config = config\n    self.project_path = project_path\n    self.simulation = simulation\n    self.profiler = profiler\n    self.verbose_logger = verbose_logger\n    self.progress_logger = progress_logger\n    self.gui = gui\n    import s4l_v1.document\n\n    self.document = s4l_v1.document\n</code></pre>"},{"location":"reference/api_reference/#goliat.simulation_runner.SimulationRunner-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.simulation_runner.SimulationRunner.run","title":"run","text":"<pre><code>run()\n</code></pre> <p>Runs the simulation using the configured execution method.</p> <p>Writes input file first, then runs via Sim4Life API, manual iSolve, or oSPARC depending on config. Handles errors and provides helpful messages for common issues.</p> Source code in <code>goliat/simulation_runner.py</code> <pre><code>def run(self):\n    \"\"\"Runs the simulation using the configured execution method.\n\n    Writes input file first, then runs via Sim4Life API, manual iSolve,\n    or oSPARC depending on config. Handles errors and provides helpful\n    messages for common issues.\n    \"\"\"\n    if not self.simulation:\n        self._log(\n            \"ERROR: Simulation object not found. Cannot run simulation.\",\n            level=\"progress\",\n            log_type=\"error\",\n        )\n        return\n    self._log(f\"Running simulation: {self.simulation.Name}\", log_type=\"verbose\")\n\n    server_name = self.config.get_solver_settings().get(\"server\")\n\n    try:\n        if hasattr(self.simulation, \"WriteInputFile\"):\n            self._log(\n                \"    - Write input file...\",\n                level=\"progress\",\n                log_type=\"progress\",\n            )\n            with self.profiler.subtask(\"run_write_input_file\"):\n                self.simulation.WriteInputFile()\n                self.document.SaveAs(self.project_path)  # Force a save to flush files\n            elapsed = self.profiler.subtask_times[\"run_write_input_file\"][-1]\n            self._log(f\"      - Subtask 'run_write_input_file' done in {elapsed:.2f}s\", log_type=\"verbose\")\n            self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n        # Stop here if we only want to write the input file\n        if self.config.get_only_write_input_file():\n            self._log(\n                \"'only_write_input_file' is true, skipping simulation run.\",\n                level=\"progress\",\n                log_type=\"info\",\n            )\n            return\n\n        if self.config.get_manual_isolve():\n            self._run_isolve_manual(self.simulation)\n        elif server_name and \"osparc\" in server_name.lower():\n            self._run_osparc_direct(self.simulation, server_name)\n        else:\n            server_id = self._get_server_id(server_name) if server_name else None\n            self.simulation.RunSimulation(wait=True, server_id=server_id)\n            log_msg = f\"Simulation finished on '{server_name or 'localhost'}'.\"\n            self._log(log_msg, level=\"progress\", log_type=\"success\")\n\n    except Exception as e:\n        self._log(\n            f\"An error occurred during simulation run: {e}\",\n            level=\"progress\",\n            log_type=\"error\",\n        )\n        # Check if a cloud server was intended for the run\n        server_name = self.config.get_solver_settings().get(\"server\")\n        if server_name and server_name != \"localhost\":\n            self._log(\n                \"If you are running on the cloud, please ensure you are logged into Sim4Life \"\n                \"via the GUI and your API credentials are correct.\",\n                level=\"progress\",\n                log_type=\"warning\",\n            )\n        self.verbose_logger.error(traceback.format_exc())\n\n    return self.simulation\n</code></pre>"},{"location":"reference/api_reference/#results-extraction","title":"Results Extraction","text":"<p>Classes for extracting and processing simulation results.</p>"},{"location":"reference/api_reference/#cleanup","title":"Cleanup","text":""},{"location":"reference/api_reference/#goliat.extraction.cleaner.Cleaner","title":"goliat.extraction.cleaner.Cleaner","text":"<pre><code>Cleaner(parent: ResultsExtractor)\n</code></pre> <p>Manages deletion of simulation files to free disk space.</p> <p>Deletes output files, input files, and/or project files based on config. Useful for long-running studies where disk space is limited.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>ResultsExtractor</code> <p>Parent ResultsExtractor instance.</p> required Source code in <code>goliat/extraction/cleaner.py</code> <pre><code>def __init__(self, parent: \"ResultsExtractor\"):\n    \"\"\"Sets up the cleaner.\n\n    Args:\n        parent: Parent ResultsExtractor instance.\n    \"\"\"\n    self.parent = parent\n</code></pre>"},{"location":"reference/api_reference/#goliat.extraction.cleaner.Cleaner-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.extraction.cleaner.Cleaner.cleanup_simulation_files","title":"cleanup_simulation_files","text":"<pre><code>cleanup_simulation_files()\n</code></pre> <p>Deletes simulation files based on auto_cleanup config.</p> <p>Removes files matching specified patterns (output/input H5 files, project files). Only runs if cleanup is enabled in config.</p> Source code in <code>goliat/extraction/cleaner.py</code> <pre><code>def cleanup_simulation_files(self):\n    \"\"\"Deletes simulation files based on auto_cleanup config.\n\n    Removes files matching specified patterns (output/input H5 files,\n    project files). Only runs if cleanup is enabled in config.\n    \"\"\"\n    cleanup_types = self.parent.config.get_auto_cleanup_previous_results()\n    if not cleanup_types:\n        return\n\n    if self.parent.study is None:\n        self.parent._log(\"  - WARNING: Study object is not available. Skipping cleanup.\", log_type=\"warning\")\n        return\n\n    project_path = self.parent.study.project_manager.project_path\n    if not project_path:\n        self.parent._log(\"  - WARNING: Project path is not set. Skipping cleanup.\", log_type=\"warning\")\n        return\n    project_dir = os.path.dirname(project_path)\n    project_filename = os.path.basename(project_path)\n    results_dir = os.path.join(project_dir, project_filename + \"_Results\")\n\n    # Map cleanup types to file patterns and directories\n    file_patterns = {\n        \"output\": (results_dir, \"*_Output.h5\", \"output\"),\n        \"input\": (results_dir, \"*_Input.h5\", \"input\"),\n        \"smash\": (project_dir, \"*.smash\", \"project\"),\n    }\n\n    total_deleted = self._delete_files(cleanup_types, file_patterns)\n\n    if total_deleted &gt; 0:\n        self.parent._log(\n            f\"  - Cleaned up {total_deleted} file(s) to save disk space.\",\n            level=\"progress\",\n            log_type=\"info\",\n        )\n</code></pre>"},{"location":"reference/api_reference/#json-encoding","title":"JSON Encoding","text":""},{"location":"reference/api_reference/#goliat.extraction.json_encoder","title":"goliat.extraction.json_encoder","text":""},{"location":"reference/api_reference/#goliat.extraction.json_encoder-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.extraction.json_encoder.NumpyArrayEncoder","title":"NumpyArrayEncoder","text":"<p>               Bases: <code>JSONEncoder</code></p> <p>JSON encoder that handles NumPy types.</p> <p>Converts numpy arrays and numeric types to Python built-ins so they can be serialized to JSON.</p>"},{"location":"reference/api_reference/#goliat.extraction.json_encoder.NumpyArrayEncoder-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.extraction.json_encoder.NumpyArrayEncoder.default","title":"default","text":"<pre><code>default(o: Any) -&gt; Any\n</code></pre> <p>Converts NumPy types to JSON-serializable Python types.</p> Source code in <code>goliat/extraction/json_encoder.py</code> <pre><code>def default(self, o: Any) -&gt; Any:\n    \"\"\"Converts NumPy types to JSON-serializable Python types.\"\"\"\n    if isinstance(o, np.ndarray):\n        return o.tolist()\n    if isinstance(o, np.integer):\n        return int(o)\n    if isinstance(o, np.floating):\n        return float(o)\n    return super().default(o)\n</code></pre>"},{"location":"reference/api_reference/#power-extraction","title":"Power Extraction","text":""},{"location":"reference/api_reference/#goliat.extraction.power_extractor","title":"goliat.extraction.power_extractor","text":""},{"location":"reference/api_reference/#goliat.extraction.power_extractor-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.extraction.power_extractor.PowerExtractor","title":"PowerExtractor","text":"<pre><code>PowerExtractor(parent: ResultsExtractor, results_data: dict)\n</code></pre> <p>               Bases: <code>LoggingMixin</code></p> <p>Extracts input power and power balance from simulation results.</p> <p>For near-field, reads power from port sensors. For far-field, calculates theoretical power from plane wave parameters. Also extracts power balance to verify energy conservation.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>ResultsExtractor</code> <p>Parent ResultsExtractor instance.</p> required <code>results_data</code> <code>dict</code> <p>Dict to store extracted power data.</p> required Source code in <code>goliat/extraction/power_extractor.py</code> <pre><code>def __init__(self, parent: \"ResultsExtractor\", results_data: dict):\n    \"\"\"Sets up the power extractor.\n\n    Args:\n        parent: Parent ResultsExtractor instance.\n        results_data: Dict to store extracted power data.\n    \"\"\"\n    self.parent = parent\n    self.config = parent.config\n    self.simulation = parent.simulation\n    self.study_type = parent.study_type\n    self.placement_name = parent.placement_name\n    self.frequency_mhz = parent.frequency_mhz\n    self.verbose_logger = parent.verbose_logger\n    self.progress_logger = parent.progress_logger\n    self.gui = parent.gui\n    self.results_data = results_data\n\n    import s4l_v1.document\n\n    self.document = s4l_v1.document\n</code></pre>"},{"location":"reference/api_reference/#goliat.extraction.power_extractor.PowerExtractor-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.extraction.power_extractor.PowerExtractor.extract_input_power","title":"extract_input_power","text":"<pre><code>extract_input_power(simulation_extractor: Extractor)\n</code></pre> <p>Extracts input power, delegating to study-type specific methods.</p> <p>Parameters:</p> Name Type Description Default <code>simulation_extractor</code> <code>Extractor</code> <p>Results extractor from the simulation.</p> required Source code in <code>goliat/extraction/power_extractor.py</code> <pre><code>def extract_input_power(self, simulation_extractor: \"analysis.Extractor\"):  # type: ignore\n    \"\"\"Extracts input power, delegating to study-type specific methods.\n\n    Args:\n        simulation_extractor: Results extractor from the simulation.\n    \"\"\"\n    self._log(\"    - Extract input power...\", level=\"progress\", log_type=\"progress\")\n    try:\n        elapsed = 0.0\n        if self.parent.study:\n            with self.parent.study.profiler.subtask(\"extract_input_power\"):  # type: ignore\n                if self.study_type == \"far_field\":\n                    self._extract_far_field_power()\n                else:\n                    self._extract_near_field_power(simulation_extractor)\n\n            elapsed = self.parent.study.profiler.subtask_times[\"extract_input_power\"][-1]\n        self._log(f\"      - Subtask 'extract_input_power' done in {elapsed:.2f}s\", log_type=\"verbose\")\n        self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n    except Exception as e:\n        self._log(\n            f\"  - ERROR: An exception occurred during input power extraction: {e}\",\n            level=\"progress\",\n            log_type=\"error\",\n        )\n        self.verbose_logger.error(traceback.format_exc())\n</code></pre>"},{"location":"reference/api_reference/#goliat.extraction.power_extractor.PowerExtractor.extract_power_balance","title":"extract_power_balance","text":"<pre><code>extract_power_balance(simulation_extractor: Extractor)\n</code></pre> <p>Extracts power balance to verify energy conservation.</p> <p>Power balance is a sanity check: the power going into the simulation should equal the power coming out (as losses and radiation). This helps catch numerical errors or convergence issues.</p> <p>The balance is calculated as: balance = (P_out / P_in) \u00d7 100%</p> <p>Where P_out includes: - Dielectric losses (power absorbed by materials) - Radiated power (power escaping the simulation volume)</p> <p>For far-field studies, uses the theoretical input power (from plane wave calculation) rather than extracted power, since plane waves don't have a traditional \"input port\" sensor.</p> <p>A balance close to 100% indicates good energy conservation. Values significantly different suggest convergence issues or numerical errors.</p> <p>Parameters:</p> Name Type Description Default <code>simulation_extractor</code> <code>Extractor</code> <p>Results extractor from the simulation.</p> required Source code in <code>goliat/extraction/power_extractor.py</code> <pre><code>def extract_power_balance(self, simulation_extractor: \"analysis.Extractor\"):  # type: ignore\n    \"\"\"Extracts power balance to verify energy conservation.\n\n    Power balance is a sanity check: the power going into the simulation should\n    equal the power coming out (as losses and radiation). This helps catch\n    numerical errors or convergence issues.\n\n    The balance is calculated as: balance = (P_out / P_in) \u00d7 100%\n\n    Where P_out includes:\n    - Dielectric losses (power absorbed by materials)\n    - Radiated power (power escaping the simulation volume)\n\n    For far-field studies, uses the theoretical input power (from plane wave\n    calculation) rather than extracted power, since plane waves don't have a\n    traditional \"input port\" sensor.\n\n    A balance close to 100% indicates good energy conservation. Values significantly\n    different suggest convergence issues or numerical errors.\n\n    Args:\n        simulation_extractor: Results extractor from the simulation.\n    \"\"\"\n    self._log(\"    - Extract power balance...\", level=\"progress\", log_type=\"progress\")\n    try:\n        elapsed = 0.0\n        if self.parent.study:\n            with self.parent.study.profiler.subtask(\"extract_power_balance\"):  # type: ignore\n                em_sensor_extractor = simulation_extractor[\"Overall Field\"]\n                power_balance_extractor = em_sensor_extractor.Outputs[\"Power Balance\"]\n                power_balance_extractor.Update()\n\n                power_balance_data = {\n                    key: power_balance_extractor.Data.DataSimpleDataCollection.FieldValue(key, 0)\n                    for key in power_balance_extractor.Data.DataSimpleDataCollection.Keys()\n                    if key != \"Balance\"\n                }\n\n                if self.parent.study_type == \"far_field\" and \"input_power_W\" in self.results_data:\n                    power_balance_data[\"Pin\"] = self.results_data[\"input_power_W\"]\n                    self._log(\n                        f\"    - Overwriting Pin with theoretical value: {float(power_balance_data['Pin']):.4e} W\",\n                        log_type=\"info\",\n                    )\n\n                pin = power_balance_data.get(\"Pin\", 0.0)\n                p_out = power_balance_data.get(\"DielLoss\", 0.0) + power_balance_data.get(\"RadPower\", 0.0)\n                balance = 100 * (p_out / pin) if pin &gt; 1e-9 else float(\"nan\")\n\n                power_balance_data[\"Balance\"] = balance\n                self._log(f\"    - Final Balance: {balance:.2f}%\", log_type=\"highlight\")\n                self.results_data[\"power_balance\"] = power_balance_data\n\n            elapsed = self.parent.study.profiler.subtask_times[\"extract_power_balance\"][-1]\n        self._log(f\"      - Subtask 'extract_power_balance' done in {elapsed:.2f}s\", log_type=\"verbose\")\n        self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    except Exception as e:\n        self._log(f\"  - WARNING: Could not extract power balance: {e}\", log_type=\"warning\")\n        self.verbose_logger.error(traceback.format_exc())\n</code></pre>"},{"location":"reference/api_reference/#reporting","title":"Reporting","text":""},{"location":"reference/api_reference/#goliat.extraction.reporter.Reporter","title":"goliat.extraction.reporter.Reporter","text":"<pre><code>Reporter(parent: ResultsExtractor)\n</code></pre> <p>Generates and saves detailed reports from extraction results.</p> <p>Creates Pickle files for programmatic access and HTML files for human readability. Includes SAR statistics, tissue groups, and peak SAR details.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>ResultsExtractor</code> <p>Parent ResultsExtractor instance.</p> required Source code in <code>goliat/extraction/reporter.py</code> <pre><code>def __init__(self, parent: \"ResultsExtractor\"):\n    \"\"\"Sets up the reporter.\n\n    Args:\n        parent: Parent ResultsExtractor instance.\n    \"\"\"\n    self.parent = parent\n</code></pre>"},{"location":"reference/api_reference/#goliat.extraction.reporter.Reporter-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.extraction.reporter.Reporter.save_reports","title":"save_reports","text":"<pre><code>save_reports(df: DataFrame, tissue_groups: dict, group_sar_stats: dict, results_data: dict)\n</code></pre> <p>Saves Pickle and HTML reports to the results directory.</p> <p>Parameters:</p> Name Type Description Default <code>df</code> <code>DataFrame</code> <p>DataFrame with detailed SAR statistics per tissue.</p> required <code>tissue_groups</code> <code>dict</code> <p>Dict mapping group names to tissue lists.</p> required <code>group_sar_stats</code> <code>dict</code> <p>Dict with aggregated SAR stats per group.</p> required <code>results_data</code> <code>dict</code> <p>Dict with summary results and metadata.</p> required Source code in <code>goliat/extraction/reporter.py</code> <pre><code>def save_reports(\n    self,\n    df: pd.DataFrame,\n    tissue_groups: dict,\n    group_sar_stats: dict,\n    results_data: dict,\n):\n    \"\"\"Saves Pickle and HTML reports to the results directory.\n\n    Args:\n        df: DataFrame with detailed SAR statistics per tissue.\n        tissue_groups: Dict mapping group names to tissue lists.\n        group_sar_stats: Dict with aggregated SAR stats per group.\n        results_data: Dict with summary results and metadata.\n    \"\"\"\n    results_dir = self._get_results_dir()\n    os.makedirs(results_dir, exist_ok=True)\n\n    self._save_pickle_report(results_dir, df, tissue_groups, group_sar_stats, results_data)\n    self._save_html_report(results_dir, df, tissue_groups, group_sar_stats, results_data)\n</code></pre>"},{"location":"reference/api_reference/#sar-extraction","title":"SAR Extraction","text":""},{"location":"reference/api_reference/#goliat.extraction.sar_extractor","title":"goliat.extraction.sar_extractor","text":""},{"location":"reference/api_reference/#goliat.extraction.sar_extractor-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.extraction.sar_extractor.SarExtractor","title":"SarExtractor","text":"<pre><code>SarExtractor(parent: ResultsExtractor, results_data: dict)\n</code></pre> <p>               Bases: <code>LoggingMixin</code></p> <p>Extracts SAR statistics from simulation results.</p> <p>Uses Sim4Life's SarStatisticsEvaluator to compute mass-averaged SAR, peak spatial-average SAR (10g), and tissue-specific metrics. Groups tissues into logical groups (eyes, skin, brain) for analysis.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>ResultsExtractor</code> <p>Parent ResultsExtractor instance.</p> required <code>results_data</code> <code>dict</code> <p>Dict to store extracted SAR data.</p> required Source code in <code>goliat/extraction/sar_extractor.py</code> <pre><code>def __init__(self, parent: \"ResultsExtractor\", results_data: dict):\n    \"\"\"Sets up the SAR extractor.\n\n    Args:\n        parent: Parent ResultsExtractor instance.\n        results_data: Dict to store extracted SAR data.\n    \"\"\"\n    self.parent = parent\n    self.config = parent.config\n    self.simulation = parent.simulation\n    self.phantom_name = parent.phantom_name\n    self.placement_name = parent.placement_name\n    self.verbose_logger = parent.verbose_logger\n    self.progress_logger = parent.progress_logger\n    self.gui = parent.gui\n    self.results_data = results_data\n\n    import s4l_v1.analysis\n    import s4l_v1.document\n    import s4l_v1.units as units\n\n    self.analysis = s4l_v1.analysis\n    self.document = s4l_v1.document\n    self.units = units\n</code></pre>"},{"location":"reference/api_reference/#goliat.extraction.sar_extractor.SarExtractor-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.extraction.sar_extractor.SarExtractor.extract_sar_statistics","title":"extract_sar_statistics","text":"<pre><code>extract_sar_statistics(simulation_extractor: Extractor)\n</code></pre> <p>Extracts comprehensive SAR statistics for all tissues.</p> <p>This is the main SAR extraction method that orchestrates the entire process. It uses Sim4Life's SarStatisticsEvaluator to compute standardized SAR metrics according to IEEE/IEC standards.</p> <p>The process: 1. Extracts the 'Overall Field' E-field data from simulation results 2. Creates a SarStatisticsEvaluator configured for 10g peak spatial-average SAR 3. Processes the evaluator output into a pandas DataFrame 4. Groups tissues into logical categories (eyes, skin, brain) 5. Calculates weighted-average SAR for each group (mass-weighted) 6. Extracts peak SAR details (location, coordinates, etc.) 7. Stores both per-tissue and group-level results</p> <p>The results include mass-averaged SAR, peak spatial-average SAR (10g), and tissue-specific metrics. For near-field studies, also extracts head/trunk SAR based on placement scenario. For far-field, extracts whole-body SAR.</p> <p>Parameters:</p> Name Type Description Default <code>simulation_extractor</code> <code>Extractor</code> <p>Results extractor from the simulation object.</p> required Source code in <code>goliat/extraction/sar_extractor.py</code> <pre><code>def extract_sar_statistics(self, simulation_extractor: \"analysis.Extractor\"):  # type: ignore\n    \"\"\"Extracts comprehensive SAR statistics for all tissues.\n\n    This is the main SAR extraction method that orchestrates the entire process.\n    It uses Sim4Life's SarStatisticsEvaluator to compute standardized SAR metrics\n    according to IEEE/IEC standards.\n\n    The process:\n    1. Extracts the 'Overall Field' E-field data from simulation results\n    2. Creates a SarStatisticsEvaluator configured for 10g peak spatial-average SAR\n    3. Processes the evaluator output into a pandas DataFrame\n    4. Groups tissues into logical categories (eyes, skin, brain)\n    5. Calculates weighted-average SAR for each group (mass-weighted)\n    6. Extracts peak SAR details (location, coordinates, etc.)\n    7. Stores both per-tissue and group-level results\n\n    The results include mass-averaged SAR, peak spatial-average SAR (10g), and\n    tissue-specific metrics. For near-field studies, also extracts head/trunk SAR\n    based on placement scenario. For far-field, extracts whole-body SAR.\n\n    Args:\n        simulation_extractor: Results extractor from the simulation object.\n    \"\"\"\n    self._log(\"    - Extract SAR statistics...\", level=\"progress\", log_type=\"progress\")\n    try:\n        elapsed = 0.0\n        if self.parent.study:\n            with self.parent.study.profiler.subtask(\"extract_sar_statistics\"):  # type: ignore\n                em_sensor_extractor = simulation_extractor[\"Overall Field\"]\n                em_sensor_extractor.FrequencySettings.ExtractedFrequency = \"All\"\n                self.document.AllAlgorithms.Add(em_sensor_extractor)\n                em_sensor_extractor.Update()\n\n                inputs = [em_sensor_extractor.Outputs[\"EM E(x,y,z,f0)\"]]\n                sar_stats_evaluator = self.analysis.em_evaluators.SarStatisticsEvaluator(inputs=inputs)\n                sar_stats_evaluator.PeakSpatialAverageSAR = True\n                sar_stats_evaluator.PeakSAR.TargetMass = 10.0, self.units.Unit(\"g\")\n                sar_stats_evaluator.UpdateAttributes()\n                self.document.AllAlgorithms.Add(sar_stats_evaluator)\n                sar_stats_evaluator.Update()\n\n                stats_output = sar_stats_evaluator.Outputs\n                results = stats_output.item_at(0).Data if len(stats_output) &gt; 0 and hasattr(stats_output.item_at(0), \"Data\") else None\n                self.document.AllAlgorithms.Remove(sar_stats_evaluator)\n\n                if not (results and hasattr(results, \"NumberOfRows\") and results.NumberOfRows() &gt; 0):\n                    self._log(\"  - WARNING: No SAR statistics data found.\", log_type=\"warning\")\n                    return\n\n                columns = [\"Tissue\"] + [cap for cap in results.ColumnMainCaptions]  # type: ignore\n                data = [\n                    [re.sub(r\"\\s*\\(.*\\)\\s*$\", \"\", results.RowCaptions[i]).strip().replace(\")\", \"\")]\n                    + [results.Value(i, j) for j in range(results.NumberOfColumns())]\n                    for i in range(results.NumberOfRows())\n                ]\n\n                df = pd.DataFrame(data)\n                df.columns = columns\n                numeric_cols = [col for col in df.columns if col != \"Tissue\"]\n                df[numeric_cols] = df[numeric_cols].apply(pd.to_numeric, errors=\"coerce\").fillna(0)\n\n                tissue_groups = self._define_tissue_groups(df[\"Tissue\"].tolist())\n                group_sar_stats = self._calculate_group_sar(df, tissue_groups)\n\n                for group, data in group_sar_stats.items():\n                    self.results_data[f\"{group}_weighted_avg_sar\"] = data[\"weighted_avg_sar\"]\n                    self.results_data[f\"{group}_peak_sar\"] = data[\"peak_sar\"]\n\n                all_regions_row = df[df[\"Tissue\"] == \"All Regions\"]\n                if not all_regions_row.empty:\n                    mass_averaged_sar = all_regions_row[\"Mass-Averaged SAR\"].iloc[0]  # type: ignore\n                    if self.parent.study_type == \"near_field\":\n                        sar_key = \"head_SAR\" if self.placement_name.lower() in [\"front_of_eyes\", \"by_cheek\"] else \"trunk_SAR\"\n                        self.results_data[sar_key] = float(mass_averaged_sar)\n                    else:\n                        self.results_data[\"whole_body_sar\"] = float(mass_averaged_sar)\n\n                    peak_sar_col_name = \"Peak Spatial-Average SAR[IEEE/IEC62704-1] (10g)\"\n                    if peak_sar_col_name in all_regions_row.columns:\n                        self.results_data[\"peak_sar_10g_W_kg\"] = float(all_regions_row[peak_sar_col_name].iloc[0])  # type: ignore\n\n                self.extract_peak_sar_details(em_sensor_extractor)\n                self.results_data.update(\n                    {\n                        \"_temp_sar_df\": df,\n                        \"_temp_tissue_groups\": tissue_groups,\n                        \"_temp_group_sar_stats\": group_sar_stats,\n                    }\n                )\n\n            elapsed = self.parent.study.profiler.subtask_times[\"extract_sar_statistics\"][-1]\n        self._log(f\"      - Subtask 'extract_sar_statistics' done in {elapsed:.2f}s\", log_type=\"verbose\")\n        self._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    except Exception as e:\n        self._log(\n            f\"  - ERROR: An unexpected error during all-tissue SAR statistics extraction: {e}\",\n            level=\"progress\",\n            log_type=\"error\",\n        )\n        self.verbose_logger.error(traceback.format_exc())\n</code></pre>"},{"location":"reference/api_reference/#goliat.extraction.sar_extractor.SarExtractor.extract_peak_sar_details","title":"extract_peak_sar_details","text":"<pre><code>extract_peak_sar_details(em_sensor_extractor: Extractor)\n</code></pre> <p>Extracts detailed metadata about the peak spatial-average SAR location.</p> <p>While the main SAR extraction gives per-tissue statistics, this method provides detailed information about where the absolute peak SAR occurs. This includes 3D coordinates, the tissue/organ containing the peak, mass of the 10g averaging volume, and other metadata.</p> <p>This information is useful for: - Understanding which anatomical region has the highest exposure - Verifying that peak SAR is in an expected location - Debugging unexpected SAR hotspots - Reporting peak exposure location in compliance documentation</p> <p>Uses Sim4Life's AverageSarFieldEvaluator configured for 10g spatial averaging to find the peak location according to IEEE/IEC 62704-1 standards.</p> <p>Parameters:</p> Name Type Description Default <code>em_sensor_extractor</code> <code>Extractor</code> <p>The 'Overall Field' results extractor containing                the SAR field data.</p> required Source code in <code>goliat/extraction/sar_extractor.py</code> <pre><code>def extract_peak_sar_details(self, em_sensor_extractor: \"analysis.Extractor\"):  # type: ignore\n    \"\"\"Extracts detailed metadata about the peak spatial-average SAR location.\n\n    While the main SAR extraction gives per-tissue statistics, this method\n    provides detailed information about where the absolute peak SAR occurs.\n    This includes 3D coordinates, the tissue/organ containing the peak, mass\n    of the 10g averaging volume, and other metadata.\n\n    This information is useful for:\n    - Understanding which anatomical region has the highest exposure\n    - Verifying that peak SAR is in an expected location\n    - Debugging unexpected SAR hotspots\n    - Reporting peak exposure location in compliance documentation\n\n    Uses Sim4Life's AverageSarFieldEvaluator configured for 10g spatial averaging\n    to find the peak location according to IEEE/IEC 62704-1 standards.\n\n    Args:\n        em_sensor_extractor: The 'Overall Field' results extractor containing\n                           the SAR field data.\n    \"\"\"\n    self._log(\"  - Extracting peak SAR details...\", log_type=\"progress\")\n    try:\n        inputs = [em_sensor_extractor.Outputs[\"SAR(x,y,z,f0)\"]]\n        average_sar_field_evaluator = self.analysis.em_evaluators.AverageSarFieldEvaluator(inputs=inputs)\n        average_sar_field_evaluator.TargetMass = 10.0, self.units.Unit(\"g\")\n        average_sar_field_evaluator.UpdateAttributes()\n        self.document.AllAlgorithms.Add(average_sar_field_evaluator)\n        average_sar_field_evaluator.Update()\n\n        peak_sar_output = average_sar_field_evaluator.Outputs[\"Peak Spatial SAR (psSAR) Results\"]\n        peak_sar_output.Update()  # type: ignore\n\n        data_collection = peak_sar_output.Data.DataSimpleDataCollection  # type: ignore\n        if data_collection:\n            self.results_data[\"peak_sar_details\"] = {key: data_collection.FieldValue(key, 0) for key in data_collection.Keys()}  # type: ignore\n        else:\n            self._log(\n                \"  - WARNING: Could not extract peak SAR details.\",\n                log_type=\"warning\",\n            )\n\n        self.document.AllAlgorithms.Remove(average_sar_field_evaluator)\n\n    except Exception as e:\n        self._log(\n            f\"  - ERROR: An exception occurred during peak SAR detail extraction: {e}\",\n            log_type=\"error\",\n        )\n        self.verbose_logger.error(traceback.format_exc())\n</code></pre>"},{"location":"reference/api_reference/#sensor-extraction","title":"Sensor Extraction","text":""},{"location":"reference/api_reference/#goliat.extraction.sensor_extractor","title":"goliat.extraction.sensor_extractor","text":"<p>Point sensor data extraction.</p>"},{"location":"reference/api_reference/#goliat.extraction.sensor_extractor-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.extraction.sensor_extractor.SensorExtractor","title":"SensorExtractor","text":"<pre><code>SensorExtractor(parent: ResultsExtractor, results_data: dict)\n</code></pre> <p>Extracts time-domain E-field data from point sensors.</p> <p>Reads E-field measurements from sensors placed at simulation bbox corners, creates plots showing magnitude over time, and stores raw data in results.</p> <p>Parameters:</p> Name Type Description Default <code>parent</code> <code>ResultsExtractor</code> <p>Parent ResultsExtractor instance.</p> required <code>results_data</code> <code>dict</code> <p>Dict to store extracted data.</p> required Source code in <code>goliat/extraction/sensor_extractor.py</code> <pre><code>def __init__(self, parent: \"ResultsExtractor\", results_data: dict):\n    \"\"\"Sets up the sensor extractor.\n\n    Args:\n        parent: Parent ResultsExtractor instance.\n        results_data: Dict to store extracted data.\n    \"\"\"\n    self.parent = parent\n    self.results_data = results_data\n    self.verbose_logger = parent.verbose_logger\n    self.progress_logger = parent.progress_logger\n</code></pre>"},{"location":"reference/api_reference/#goliat.extraction.sensor_extractor.SensorExtractor-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.extraction.sensor_extractor.SensorExtractor.extract_point_sensor_data","title":"extract_point_sensor_data","text":"<pre><code>extract_point_sensor_data(simulation_extractor: Extractor)\n</code></pre> <p>Extracts E-field data from all point sensors and generates plots.</p> <p>Iterates through configured sensors, extracts time-domain E-field components (Ex, Ey, Ez), calculates magnitude, and saves both plot and raw data.</p> <p>Parameters:</p> Name Type Description Default <code>simulation_extractor</code> <code>Extractor</code> <p>Results extractor from the simulation object.</p> required Source code in <code>goliat/extraction/sensor_extractor.py</code> <pre><code>def extract_point_sensor_data(self, simulation_extractor: \"analysis.Extractor\"):  # type: ignore\n    \"\"\"Extracts E-field data from all point sensors and generates plots.\n\n    Iterates through configured sensors, extracts time-domain E-field components\n    (Ex, Ey, Ez), calculates magnitude, and saves both plot and raw data.\n\n    Args:\n        simulation_extractor: Results extractor from the simulation object.\n    \"\"\"\n    self.parent._log(\"    - Extract point sensors...\", level=\"progress\", log_type=\"progress\")\n\n    try:\n        elapsed = 0.0\n        if self.parent.study:\n            with self.parent.study.profiler.subtask(\"extract_point_sensor_data\"):  # type: ignore\n                num_sensors = self.parent.config.get_setting(\"simulation_parameters.number_of_point_sensors\", 0)\n                if num_sensors == 0:\n                    return\n\n                plt.ioff()\n                plt.rcParams.update({\"text.usetex\": False})\n                fig, ax = plt.subplots()\n                ax.grid(True, which=\"major\", axis=\"y\", linestyle=\"--\")\n\n                point_source_order = self.parent.config.get_setting(\"simulation_parameters.point_source_order\", [])\n                point_sensor_results = {}\n\n                for i in range(num_sensors):  # type: ignore\n                    if i &gt;= len(point_source_order):  # type: ignore\n                        self.parent._log(\n                            f\"    - WARNING: Not enough entries in 'point_source_order' for sensor {i + 1}. Skipping.\",\n                            log_type=\"warning\",\n                        )\n                        continue\n\n                    corner_name = point_source_order[i]  # type: ignore\n                    full_sensor_name = f\"Point Sensor Entity {i + 1} ({corner_name})\"\n\n                    try:\n                        em_sensor_extractor = simulation_extractor[full_sensor_name]\n                        if not em_sensor_extractor:\n                            self.parent._log(\n                                f\"    - WARNING: Could not find sensor extractor for '{full_sensor_name}'\",\n                                log_type=\"warning\",\n                            )\n                            continue\n                    except Exception as e:\n                        self.parent._log(\n                            f\"    - WARNING: Could not retrieve sensor '{full_sensor_name}'. Error: {e}\",\n                            log_type=\"warning\",\n                        )\n                        continue\n\n                    self.parent.document.AllAlgorithms.Add(em_sensor_extractor)\n\n                    if \"EM E(t)\" not in em_sensor_extractor.Outputs:\n                        self.parent._log(\n                            f\"    - WARNING: 'EM E(t)' output not found for sensor '{full_sensor_name}'\",\n                            log_type=\"warning\",\n                        )\n                        self.parent.document.AllAlgorithms.Remove(em_sensor_extractor)\n                        continue\n\n                    em_output = em_sensor_extractor.Outputs[\"EM E(t)\"]\n                    em_output.Update()\n\n                    time_axis = em_output.Data.Axis\n                    ex, ey, ez = (em_output.Data.GetComponent(i) for i in range(3))\n                    label = corner_name.replace(\"_\", \" \").title()\n\n                    if time_axis is not None and time_axis.size &gt; 0:\n                        e_mag = np.sqrt(ex**2 + ey**2 + ez**2)\n                        ax.plot(time_axis, e_mag, label=label)\n                        point_sensor_results[label] = {\n                            \"time_s\": time_axis.tolist(),\n                            \"Ex_V_m\": ex.tolist(),\n                            \"Ey_V_m\": ey.tolist(),\n                            \"Ez_V_m\": ez.tolist(),\n                            \"E_mag_V_m\": e_mag.tolist(),\n                        }\n                    else:\n                        self.parent._log(\n                            f\"    - WARNING: No data found for sensor '{full_sensor_name}'\",\n                            log_type=\"warning\",\n                        )\n\n                    self.parent.document.AllAlgorithms.Remove(em_sensor_extractor)\n\n                if point_sensor_results:\n                    self.results_data[\"point_sensor_data\"] = point_sensor_results\n\n                self._save_plot(fig, ax)\n\n            elapsed = self.parent.study.profiler.subtask_times[\"extract_point_sensor_data\"][-1]\n        self.parent._log(f\"      - Subtask 'extract_point_sensor_data' done in {elapsed:.2f}s\", log_type=\"verbose\")\n        self.parent._log(f\"      - Done in {elapsed:.2f}s\", level=\"progress\", log_type=\"success\")\n\n    except Exception as e:\n        self.parent._log(\n            f\"  - ERROR: An exception occurred during point sensor data extraction: {e}\",\n            level=\"progress\",\n            log_type=\"error\",\n        )\n        self.verbose_logger.error(traceback.format_exc())\n</code></pre>"},{"location":"reference/api_reference/#analysis","title":"Analysis","text":"<p>Classes for analyzing and visualizing simulation results.</p>"},{"location":"reference/api_reference/#analyzer","title":"Analyzer","text":""},{"location":"reference/api_reference/#goliat.analysis.analyzer.Analyzer","title":"goliat.analysis.analyzer.Analyzer","text":"<pre><code>Analyzer(config: Config, phantom_name: str, strategy: BaseAnalysisStrategy)\n</code></pre> <p>Analyzes simulation results using a strategy pattern.</p> <p>Delegates to strategy-specific implementations for loading results and generating plots. Handles unit conversion, caching, and report export.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>Config</code> <p>Configuration object.</p> required <code>phantom_name</code> <code>str</code> <p>Phantom model name being analyzed.</p> required <code>strategy</code> <code>BaseAnalysisStrategy</code> <p>Strategy implementation for analysis logic.</p> required Source code in <code>goliat/analysis/analyzer.py</code> <pre><code>def __init__(self, config: \"Config\", phantom_name: str, strategy: \"BaseAnalysisStrategy\"):\n    \"\"\"Sets up the analyzer with a strategy.\n\n    Args:\n        config: Configuration object.\n        phantom_name: Phantom model name being analyzed.\n        strategy: Strategy implementation for analysis logic.\n    \"\"\"\n    self.config = config\n    self.base_dir = config.base_dir\n    self.phantom_name = phantom_name\n    self.strategy = strategy\n    self.results_base_dir = self.strategy.get_results_base_dir()\n    self.plotter = Plotter(self.strategy.get_plots_dir())\n    self.all_results = []\n    self.all_organ_results = []\n    self.tissue_group_definitions = {\n        \"eyes_group\": [\"eye\", \"cornea\", \"sclera\", \"lens\", \"vitreous\"],\n        \"skin_group\": [\"skin\"],\n        \"brain_group\": [\n            \"brain\",\n            \"commissura\",\n            \"midbrain\",\n            \"pineal\",\n            \"hypophysis\",\n            \"medulla\",\n            \"pons\",\n            \"thalamus\",\n            \"hippocampus\",\n            \"cerebellum\",\n        ],\n    }\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.analyzer.Analyzer-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.analysis.analyzer.Analyzer.run_analysis","title":"run_analysis","text":"<pre><code>run_analysis()\n</code></pre> <p>Runs complete analysis pipeline using the selected strategy.</p> <p>Loads results, converts units, exports reports, and generates plots. Delegates strategy-specific logic to the strategy instance.</p> Source code in <code>goliat/analysis/analyzer.py</code> <pre><code>def run_analysis(self):\n    \"\"\"Runs complete analysis pipeline using the selected strategy.\n\n    Loads results, converts units, exports reports, and generates plots.\n    Delegates strategy-specific logic to the strategy instance.\n    \"\"\"\n    logging.getLogger(\"progress\").info(\n        f\"--- Starting Results Analysis for Phantom: {self.phantom_name} ---\",\n        extra={\"log_type\": \"header\"},\n    )\n    self.strategy.load_and_process_results(self)\n\n    if not self.all_results:\n        logging.getLogger(\"progress\").info(\"--- No results found to analyze. ---\", extra={\"log_type\": \"warning\"})\n        return\n\n    results_df = pd.DataFrame(self.all_results)\n    all_organ_results_df = pd.DataFrame(self.all_organ_results)\n\n    results_df = self._convert_units_and_cache(results_df, all_organ_results_df)\n    self._export_reports(results_df, all_organ_results_df)\n    self.strategy.generate_plots(self, self.plotter, results_df, all_organ_results_df)\n\n    logging.getLogger(\"progress\").info(\"--- Analysis Finished ---\", extra={\"log_type\": \"success\"})\n</code></pre>"},{"location":"reference/api_reference/#analysis-strategies","title":"Analysis Strategies","text":""},{"location":"reference/api_reference/#goliat.analysis.base_strategy","title":"goliat.analysis.base_strategy","text":""},{"location":"reference/api_reference/#goliat.analysis.base_strategy-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy","title":"BaseAnalysisStrategy","text":"<pre><code>BaseAnalysisStrategy(config: Config, phantom_name: str)\n</code></pre> <p>               Bases: <code>ABC</code></p> <p>Base class for analysis strategies.</p> <p>Defines interface for loading results, calculating normalization factors, and generating plots. Subclasses implement study-type specific logic.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>Config</code> <p>Configuration object.</p> required <code>phantom_name</code> <code>str</code> <p>Phantom model name being analyzed.</p> required Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>def __init__(self, config: \"Config\", phantom_name: str):\n    \"\"\"Sets up the analysis strategy.\n\n    Args:\n        config: Configuration object.\n        phantom_name: Phantom model name being analyzed.\n    \"\"\"\n    self.config = config\n    self.phantom_name = phantom_name\n    self.base_dir = config.base_dir\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy.get_results_base_dir","title":"get_results_base_dir","text":"<pre><code>get_results_base_dir() -&gt; str\n</code></pre> <p>Returns base directory path for results. Must be implemented by subclasses.</p> Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>def get_results_base_dir(self) -&gt; str:\n    \"\"\"Returns base directory path for results. Must be implemented by subclasses.\"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy.get_plots_dir","title":"get_plots_dir","text":"<pre><code>get_plots_dir() -&gt; str\n</code></pre> <p>Returns directory path for saving plots. Must be implemented by subclasses.</p> Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>def get_plots_dir(self) -&gt; str:\n    \"\"\"Returns directory path for saving plots. Must be implemented by subclasses.\"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy.load_and_process_results","title":"load_and_process_results  <code>abstractmethod</code>","text":"<pre><code>load_and_process_results(analyzer: Analyzer)\n</code></pre> <p>Loads and processes all simulation results.</p> <p>Iterates through configured scenarios and calls analyzer._process_single_result() for each one.</p> <p>Parameters:</p> Name Type Description Default <code>analyzer</code> <code>Analyzer</code> <p>Analyzer instance to process results with.</p> required Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>@abstractmethod\ndef load_and_process_results(self, analyzer: \"Analyzer\"):\n    \"\"\"Loads and processes all simulation results.\n\n    Iterates through configured scenarios and calls analyzer._process_single_result()\n    for each one.\n\n    Args:\n        analyzer: Analyzer instance to process results with.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy.get_normalization_factor","title":"get_normalization_factor  <code>abstractmethod</code>","text":"<pre><code>get_normalization_factor(frequency_mhz: int, simulated_power_w: float) -&gt; float\n</code></pre> <p>Calculates SAR normalization factor from simulated power.</p> <p>Parameters:</p> Name Type Description Default <code>frequency_mhz</code> <code>int</code> <p>Simulation frequency in MHz.</p> required <code>simulated_power_w</code> <code>float</code> <p>Input power from simulation in Watts.</p> required <p>Returns:</p> Type Description <code>float</code> <p>Normalization factor to multiply SAR values by.</p> Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>@abstractmethod\ndef get_normalization_factor(self, frequency_mhz: int, simulated_power_w: float) -&gt; float:\n    \"\"\"Calculates SAR normalization factor from simulated power.\n\n    Args:\n        frequency_mhz: Simulation frequency in MHz.\n        simulated_power_w: Input power from simulation in Watts.\n\n    Returns:\n        Normalization factor to multiply SAR values by.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy.extract_data","title":"extract_data  <code>abstractmethod</code>","text":"<pre><code>extract_data(pickle_data: dict, frequency_mhz: int, placement_name: str, scenario_name: str, sim_power: float, norm_factor: float) -&gt; tuple[dict, list]\n</code></pre> <p>Extracts and structures data from a single simulation's result files.</p> <p>Parameters:</p> Name Type Description Default <code>pickle_data</code> <code>dict</code> <p>Data loaded from the .pkl result file.</p> required <code>frequency_mhz</code> <code>int</code> <p>Simulation frequency.</p> required <code>placement_name</code> <code>str</code> <p>Detailed placement name.</p> required <code>scenario_name</code> <code>str</code> <p>General scenario name.</p> required <code>sim_power</code> <code>float</code> <p>Simulated input power in Watts.</p> required <code>norm_factor</code> <code>float</code> <p>Normalization factor to apply.</p> required <p>Returns:</p> Type Description <code>tuple[dict, list]</code> <p>Tuple of (main result entry dict, list of organ-specific entries).</p> Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>@abstractmethod\ndef extract_data(\n    self,\n    pickle_data: dict,\n    frequency_mhz: int,\n    placement_name: str,\n    scenario_name: str,\n    sim_power: float,\n    norm_factor: float,\n) -&gt; tuple[dict, list]:\n    \"\"\"Extracts and structures data from a single simulation's result files.\n\n    Args:\n        pickle_data: Data loaded from the .pkl result file.\n        frequency_mhz: Simulation frequency.\n        placement_name: Detailed placement name.\n        scenario_name: General scenario name.\n        sim_power: Simulated input power in Watts.\n        norm_factor: Normalization factor to apply.\n\n    Returns:\n        Tuple of (main result entry dict, list of organ-specific entries).\n    \"\"\"\n    pass\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy.apply_bug_fixes","title":"apply_bug_fixes  <code>abstractmethod</code>","text":"<pre><code>apply_bug_fixes(result_entry: dict) -&gt; dict\n</code></pre> <p>Applies workarounds for known data inconsistencies.</p> <p>Parameters:</p> Name Type Description Default <code>result_entry</code> <code>dict</code> <p>Data entry for a single simulation result.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>Corrected result entry.</p> Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>@abstractmethod\ndef apply_bug_fixes(self, result_entry: dict) -&gt; dict:\n    \"\"\"Applies workarounds for known data inconsistencies.\n\n    Args:\n        result_entry: Data entry for a single simulation result.\n\n    Returns:\n        Corrected result entry.\n    \"\"\"\n    return result_entry\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy.calculate_summary_stats","title":"calculate_summary_stats  <code>abstractmethod</code>","text":"<pre><code>calculate_summary_stats(results_df: DataFrame) -&gt; pd.DataFrame\n</code></pre> <p>Calculates summary statistics from aggregated results.</p> <p>Parameters:</p> Name Type Description Default <code>results_df</code> <code>DataFrame</code> <p>DataFrame with all aggregated simulation results.</p> required <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with summary statistics.</p> Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>@abstractmethod\ndef calculate_summary_stats(self, results_df: pd.DataFrame) -&gt; pd.DataFrame:\n    \"\"\"Calculates summary statistics from aggregated results.\n\n    Args:\n        results_df: DataFrame with all aggregated simulation results.\n\n    Returns:\n        DataFrame with summary statistics.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy.generate_plots","title":"generate_plots  <code>abstractmethod</code>","text":"<pre><code>generate_plots(analyzer: Analyzer, plotter: Plotter, results_df: DataFrame, all_organ_results_df: DataFrame)\n</code></pre> <p>Generates study-type specific plots.</p> <p>Parameters:</p> Name Type Description Default <code>analyzer</code> <code>Analyzer</code> <p>Analyzer instance with aggregated data.</p> required <code>plotter</code> <code>Plotter</code> <p>Plotter instance for creating figures.</p> required <code>results_df</code> <code>DataFrame</code> <p>DataFrame with summary results.</p> required <code>all_organ_results_df</code> <code>DataFrame</code> <p>DataFrame with organ-level details.</p> required Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>@abstractmethod\ndef generate_plots(\n    self,\n    analyzer: \"Analyzer\",\n    plotter: \"Plotter\",\n    results_df: pd.DataFrame,\n    all_organ_results_df: pd.DataFrame,\n):\n    \"\"\"Generates study-type specific plots.\n\n    Args:\n        analyzer: Analyzer instance with aggregated data.\n        plotter: Plotter instance for creating figures.\n        results_df: DataFrame with summary results.\n        all_organ_results_df: DataFrame with organ-level details.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"reference/api_reference/#far-field-strategy","title":"Far-Field Strategy","text":""},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy","title":"goliat.analysis.far_field_strategy","text":""},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy","title":"FarFieldAnalysisStrategy","text":"<pre><code>FarFieldAnalysisStrategy(config: Config, phantom_name: str)\n</code></pre> <p>               Bases: <code>BaseAnalysisStrategy</code></p> <p>Analysis strategy for far-field simulations.</p> <p>Handles result loading, normalization, and plot generation for far-field studies with incident directions and polarizations.</p> Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>def __init__(self, config: \"Config\", phantom_name: str):\n    \"\"\"Sets up the analysis strategy.\n\n    Args:\n        config: Configuration object.\n        phantom_name: Phantom model name being analyzed.\n    \"\"\"\n    self.config = config\n    self.phantom_name = phantom_name\n    self.base_dir = config.base_dir\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.get_results_base_dir","title":"get_results_base_dir","text":"<pre><code>get_results_base_dir() -&gt; str\n</code></pre> <p>Returns base directory for far-field results.</p> Source code in <code>goliat/analysis/far_field_strategy.py</code> <pre><code>def get_results_base_dir(self) -&gt; str:\n    \"\"\"Returns base directory for far-field results.\"\"\"\n    return os.path.join(self.base_dir, \"results\", \"far_field\", self.phantom_name)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.get_plots_dir","title":"get_plots_dir","text":"<pre><code>get_plots_dir() -&gt; str\n</code></pre> <p>Returns directory for far-field plots.</p> Source code in <code>goliat/analysis/far_field_strategy.py</code> <pre><code>def get_plots_dir(self) -&gt; str:\n    \"\"\"Returns directory for far-field plots.\"\"\"\n    return os.path.join(self.base_dir, \"plots\", \"far_field\", self.phantom_name)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.load_and_process_results","title":"load_and_process_results","text":"<pre><code>load_and_process_results(analyzer: Analyzer)\n</code></pre> <p>Iterates through far-field results and processes each one.</p> Source code in <code>goliat/analysis/far_field_strategy.py</code> <pre><code>def load_and_process_results(self, analyzer: \"Analyzer\"):\n    \"\"\"Iterates through far-field results and processes each one.\"\"\"\n    frequencies = self.config.get_setting(\"frequencies_mhz\")\n    far_field_params = self.config.get_setting(\"far_field_setup/environmental\")\n    if not far_field_params:\n        return\n    incident_directions = far_field_params.get(\"incident_directions\", [])\n    polarizations = far_field_params.get(\"polarizations\", [])\n\n    if not frequencies:\n        return\n\n    for freq in frequencies:\n        if not incident_directions:\n            continue\n        for direction_name in incident_directions:\n            if not polarizations:\n                continue\n            for polarization_name in polarizations:\n                placement_name = f\"environmental_{direction_name}_{polarization_name}\"\n                analyzer._process_single_result(freq, \"environmental\", placement_name, \"\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.get_normalization_factor","title":"get_normalization_factor","text":"<pre><code>get_normalization_factor(frequency_mhz: int, simulated_power_w: float) -&gt; float\n</code></pre> <p>Returns normalization factor for far-field (always 1.0).</p> <p>Far-field simulations are normalized to 1 W/m^2 in the simulation itself, so no additional normalization is needed.</p> Source code in <code>goliat/analysis/far_field_strategy.py</code> <pre><code>def get_normalization_factor(self, frequency_mhz: int, simulated_power_w: float) -&gt; float:\n    \"\"\"Returns normalization factor for far-field (always 1.0).\n\n    Far-field simulations are normalized to 1 W/m^2 in the simulation itself,\n    so no additional normalization is needed.\n    \"\"\"\n    return 1.0\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.apply_bug_fixes","title":"apply_bug_fixes","text":"<pre><code>apply_bug_fixes(result_entry: dict) -&gt; dict\n</code></pre> <p>No bug fixes needed for far-field data.</p> Source code in <code>goliat/analysis/far_field_strategy.py</code> <pre><code>def apply_bug_fixes(self, result_entry: dict) -&gt; dict:\n    \"\"\"No bug fixes needed for far-field data.\"\"\"\n    return result_entry\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.far_field_strategy.FarFieldAnalysisStrategy.calculate_summary_stats","title":"calculate_summary_stats","text":"<pre><code>calculate_summary_stats(results_df: DataFrame) -&gt; pd.DataFrame\n</code></pre> <p>Calculates summary statistics for far-field results.</p> Source code in <code>goliat/analysis/far_field_strategy.py</code> <pre><code>def calculate_summary_stats(self, results_df: pd.DataFrame) -&gt; pd.DataFrame:\n    \"\"\"Calculates summary statistics for far-field results.\"\"\"\n    summary = results_df.groupby(\"frequency_mhz\").mean(numeric_only=True)\n    return pd.DataFrame(summary)\n</code></pre>"},{"location":"reference/api_reference/#near-field-strategy","title":"Near-Field Strategy","text":""},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy","title":"goliat.analysis.near_field_strategy","text":""},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy","title":"NearFieldAnalysisStrategy","text":"<pre><code>NearFieldAnalysisStrategy(config: Config, phantom_name: str)\n</code></pre> <p>               Bases: <code>BaseAnalysisStrategy</code></p> <p>Analysis strategy for near-field simulations.</p> <p>Handles result loading, normalization, and plot generation for near-field studies with placement scenarios, positions, and orientations.</p> Source code in <code>goliat/analysis/base_strategy.py</code> <pre><code>def __init__(self, config: \"Config\", phantom_name: str):\n    \"\"\"Sets up the analysis strategy.\n\n    Args:\n        config: Configuration object.\n        phantom_name: Phantom model name being analyzed.\n    \"\"\"\n    self.config = config\n    self.phantom_name = phantom_name\n    self.base_dir = config.base_dir\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.get_results_base_dir","title":"get_results_base_dir","text":"<pre><code>get_results_base_dir() -&gt; str\n</code></pre> <p>Returns base directory for near-field results.</p> Source code in <code>goliat/analysis/near_field_strategy.py</code> <pre><code>def get_results_base_dir(self) -&gt; str:\n    \"\"\"Returns base directory for near-field results.\"\"\"\n    return os.path.join(self.base_dir, \"results\", \"near_field\", self.phantom_name)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.get_plots_dir","title":"get_plots_dir","text":"<pre><code>get_plots_dir() -&gt; str\n</code></pre> <p>Returns directory for near-field plots.</p> Source code in <code>goliat/analysis/near_field_strategy.py</code> <pre><code>def get_plots_dir(self) -&gt; str:\n    \"\"\"Returns directory for near-field plots.\"\"\"\n    return os.path.join(self.base_dir, \"plots\", \"near_field\", self.phantom_name)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.load_and_process_results","title":"load_and_process_results","text":"<pre><code>load_and_process_results(analyzer: Analyzer)\n</code></pre> <p>Iterates through near-field results and processes each one.</p> Source code in <code>goliat/analysis/near_field_strategy.py</code> <pre><code>def load_and_process_results(self, analyzer: \"Analyzer\"):\n    \"\"\"Iterates through near-field results and processes each one.\"\"\"\n    antenna_config = self.config.get_antenna_config()\n    if not antenna_config:\n        return\n    frequencies = antenna_config.keys()\n    placement_scenarios = self.config.get_setting(\"placement_scenarios\")\n    if not placement_scenarios:\n        return\n\n    for freq in frequencies:\n        frequency_mhz = int(freq)\n        for scenario_name, scenario_def in placement_scenarios.items():\n            if not scenario_def:\n                continue\n            positions = scenario_def.get(\"positions\", {})\n            orientations = scenario_def.get(\"orientations\", {})\n            if not positions or not orientations:\n                continue\n            for pos_name in positions.keys():\n                for orient_name in orientations.keys():\n                    analyzer._process_single_result(frequency_mhz, scenario_name, pos_name, orient_name)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.get_normalization_factor","title":"get_normalization_factor","text":"<pre><code>get_normalization_factor(frequency_mhz: int, simulated_power_w: float) -&gt; float\n</code></pre> <p>Calculates the normalization factor based on the target power.</p> <p>Parameters:</p> Name Type Description Default <code>frequency_mhz</code> <code>int</code> <p>The simulation frequency in MHz.</p> required <code>simulated_power_w</code> <code>float</code> <p>The input power from the simulation in Watts.</p> required <p>Returns:</p> Type Description <code>float</code> <p>The calculated normalization factor, or 1.0 if not possible.</p> Source code in <code>goliat/analysis/near_field_strategy.py</code> <pre><code>def get_normalization_factor(self, frequency_mhz: int, simulated_power_w: float) -&gt; float:\n    \"\"\"Calculates the normalization factor based on the target power.\n\n    Args:\n        frequency_mhz: The simulation frequency in MHz.\n        simulated_power_w: The input power from the simulation in Watts.\n\n    Returns:\n        The calculated normalization factor, or 1.0 if not possible.\n    \"\"\"\n    antenna_configs = self.config.get_antenna_config()\n    freq_config = antenna_configs.get(str(frequency_mhz), {})\n    target_power_mw = freq_config.get(\"target_power_mW\")\n    if target_power_mw is not None and pd.notna(simulated_power_w) and simulated_power_w &gt; 0:\n        target_power_w = target_power_mw / 1000.0\n        return target_power_w / simulated_power_w\n    return 1.0\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.extract_data","title":"extract_data","text":"<pre><code>extract_data(pickle_data: dict, frequency_mhz: int, placement_name: str, scenario_name: str, sim_power: float, norm_factor: float) -&gt; tuple[dict, list]\n</code></pre> <p>Extracts and normalizes SAR data from a single near-field result.</p> <p>Parameters:</p> Name Type Description Default <code>pickle_data</code> <code>dict</code> <p>Data loaded from the .pkl result file.</p> required <code>frequency_mhz</code> <code>int</code> <p>The simulation frequency.</p> required <code>placement_name</code> <code>str</code> <p>The detailed name of the placement.</p> required <code>scenario_name</code> <code>str</code> <p>The general scenario name (e.g., 'by_cheek').</p> required <code>sim_power</code> <code>float</code> <p>The simulated input power in Watts.</p> required <code>norm_factor</code> <code>float</code> <p>The normalization factor to apply to SAR values.</p> required <p>Returns:</p> Type Description <code>tuple[dict, list]</code> <p>A tuple containing the main result entry and a list of organ-specific entries.</p> Source code in <code>goliat/analysis/near_field_strategy.py</code> <pre><code>def extract_data(\n    self,\n    pickle_data: dict,\n    frequency_mhz: int,\n    placement_name: str,\n    scenario_name: str,\n    sim_power: float,\n    norm_factor: float,\n) -&gt; tuple[dict, list]:\n    \"\"\"Extracts and normalizes SAR data from a single near-field result.\n\n    Args:\n        pickle_data: Data loaded from the .pkl result file.\n        frequency_mhz: The simulation frequency.\n        placement_name: The detailed name of the placement.\n        scenario_name: The general scenario name (e.g., 'by_cheek').\n        sim_power: The simulated input power in Watts.\n        norm_factor: The normalization factor to apply to SAR values.\n\n    Returns:\n        A tuple containing the main result entry and a list of organ-specific entries.\n    \"\"\"\n    summary_results = pickle_data.get(\"summary_results\", {})\n    grouped_stats = pickle_data.get(\"grouped_sar_stats\", {})\n    detailed_df = pickle_data.get(\"detailed_sar_stats\")\n    result_entry = {\n        \"frequency_mhz\": frequency_mhz,\n        \"placement\": placement_name,\n        \"scenario\": scenario_name,\n        \"input_power_w\": sim_power,\n        \"SAR_head\": summary_results.get(\"head_SAR\", pd.NA) * norm_factor,\n        \"SAR_trunk\": summary_results.get(\"trunk_SAR\", pd.NA) * norm_factor,\n    }\n    for group_name, stats in grouped_stats.items():\n        key = f\"psSAR10g_{group_name.replace('_group', '')}\"\n        result_entry[key] = stats.get(\"peak_sar\", pd.NA) * norm_factor\n\n    organ_entries = []\n    if detailed_df is not None:\n        peak_sar_col = \"Peak Spatial-Average SAR[IEEE/IEC62704-1] (10g)\"\n        for _, row in detailed_df.iterrows():\n            organ_entries.append(\n                {\n                    \"frequency_mhz\": frequency_mhz,\n                    \"placement\": placement_name,\n                    \"tissue\": row[\"Tissue\"],\n                    \"mass_avg_sar_mw_kg\": row[\"Mass-Averaged SAR\"] * norm_factor * 1000,\n                    \"peak_sar_10g_mw_kg\": row.get(peak_sar_col, pd.NA) * norm_factor * 1000,\n                    \"min_local_sar_mw_kg\": row.get(\"Min. local SAR\", pd.NA) * norm_factor * 1000,\n                    \"max_local_sar_mw_kg\": row.get(\"Max. local SAR\", pd.NA) * norm_factor * 1000,\n                }\n            )\n    return result_entry, organ_entries\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.calculate_summary_stats","title":"calculate_summary_stats","text":"<pre><code>calculate_summary_stats(results_df: DataFrame) -&gt; pd.DataFrame\n</code></pre> <p>Calculates summary statistics, including completion progress.</p> <p>Parameters:</p> Name Type Description Default <code>results_df</code> <code>DataFrame</code> <p>DataFrame with all aggregated simulation results.</p> required <p>Returns:</p> Type Description <code>DataFrame</code> <p>A DataFrame with mean SAR values and a 'progress' column.</p> Source code in <code>goliat/analysis/near_field_strategy.py</code> <pre><code>def calculate_summary_stats(self, results_df: pd.DataFrame) -&gt; pd.DataFrame:\n    \"\"\"Calculates summary statistics, including completion progress.\n\n    Args:\n        results_df: DataFrame with all aggregated simulation results.\n\n    Returns:\n        A DataFrame with mean SAR values and a 'progress' column.\n    \"\"\"\n    placement_scenarios = self.config.get_setting(\"placement_scenarios\")\n    placements_per_scenario = {}\n    logging.getLogger(\"progress\").info(\n        \"\\n--- Calculating Total Possible Placements per Scenario ---\",\n        extra={\"log_type\": \"header\"},\n    )\n    if placement_scenarios:\n        for name, definition in placement_scenarios.items():\n            if not definition:\n                continue\n            total = len(definition.get(\"positions\", {})) * len(definition.get(\"orientations\", {}))\n            placements_per_scenario[name] = total\n            logging.getLogger(\"progress\").info(f\"- Scenario '{name}': {total} placements\", extra={\"log_type\": \"info\"})\n\n    summary_stats = results_df.groupby([\"scenario\", \"frequency_mhz\"]).mean(numeric_only=True)\n    completion_counts = results_df.groupby([\"scenario\", \"frequency_mhz\"]).size()\n\n    # Define a mapping function that safely handles potential missing keys\n    def get_progress(idx):\n        scenario_name = idx  # Index is a tuple (scenario, frequency)\n        completed = completion_counts.get(idx, 0)\n        total = placements_per_scenario.get(scenario_name, 0)\n        return f\"{completed}/{total}\"\n\n    if not summary_stats.empty:\n        summary_stats[\"progress\"] = summary_stats.index.map(get_progress)  # type: ignore\n    return pd.DataFrame(summary_stats)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.near_field_strategy.NearFieldAnalysisStrategy.generate_plots","title":"generate_plots","text":"<pre><code>generate_plots(analyzer: Analyzer, plotter: Plotter, results_df: DataFrame, all_organ_results_df: DataFrame)\n</code></pre> <p>Generates all plots for the near-field analysis.</p> <p>Includes bar charts for average SAR, line plots for psSAR, and boxplots for SAR distribution.</p> <p>Parameters:</p> Name Type Description Default <code>analyzer</code> <code>Analyzer</code> <p>The main analyzer instance.</p> required <code>plotter</code> <code>Plotter</code> <p>The plotter instance for generating plots.</p> required <code>results_df</code> <code>DataFrame</code> <p>DataFrame with main aggregated results.</p> required <code>all_organ_results_df</code> <code>DataFrame</code> <p>DataFrame with detailed organ-level results.</p> required Source code in <code>goliat/analysis/near_field_strategy.py</code> <pre><code>def generate_plots(\n    self,\n    analyzer: \"Analyzer\",\n    plotter: \"Plotter\",\n    results_df: pd.DataFrame,\n    all_organ_results_df: pd.DataFrame,\n):\n    \"\"\"Generates all plots for the near-field analysis.\n\n    Includes bar charts for average SAR, line plots for psSAR, and boxplots\n    for SAR distribution.\n\n    Args:\n        analyzer: The main analyzer instance.\n        plotter: The plotter instance for generating plots.\n        results_df: DataFrame with main aggregated results.\n        all_organ_results_df: DataFrame with detailed organ-level results.\n    \"\"\"\n    scenarios_with_results = results_df[\"scenario\"].unique()\n    summary_stats = self.calculate_summary_stats(results_df)\n\n    for scenario_name in scenarios_with_results:\n        logging.getLogger(\"progress\").info(\n            f\"\\n--- Generating plots for scenario: {scenario_name} ---\",\n            extra={\"log_type\": \"header\"},\n        )\n        scenario_results_df = results_df[results_df[\"scenario\"] == scenario_name]\n        if scenario_name in summary_stats.index:\n            scenario_summary_stats = summary_stats.loc[scenario_name]\n            avg_results = scenario_summary_stats.drop(columns=[\"progress\"])\n            progress_info = scenario_summary_stats[\"progress\"]\n            plotter.plot_average_sar_bar(scenario_name, pd.DataFrame(avg_results), pd.Series(progress_info))\n            plotter.plot_pssar_line(scenario_name, pd.DataFrame(avg_results))\n        plotter.plot_sar_distribution_boxplots(scenario_name, pd.DataFrame(scenario_results_df))\n</code></pre>"},{"location":"reference/api_reference/#plotting","title":"Plotting","text":""},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter","title":"goliat.analysis.plotter.Plotter","text":"<pre><code>Plotter(plots_dir: str)\n</code></pre> <p>Generates publication-ready plots from simulation results.</p> <p>Creates bar charts, line plots, boxplots, and heatmaps for SAR analysis. All plots are saved to the configured plots directory.</p> <p>Parameters:</p> Name Type Description Default <code>plots_dir</code> <code>str</code> <p>Directory where all plots will be saved.</p> required Source code in <code>goliat/analysis/plotter.py</code> <pre><code>def __init__(self, plots_dir: str):\n    \"\"\"Sets up the plotter and creates output directory.\n\n    Args:\n        plots_dir: Directory where all plots will be saved.\n    \"\"\"\n    self.plots_dir = plots_dir\n    os.makedirs(self.plots_dir, exist_ok=True)\n    logging.getLogger(\"progress\").info(\n        f\"--- Plots will be saved to '{self.plots_dir}' directory. ---\",\n        extra={\"log_type\": \"info\"},\n    )\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter.plot_average_sar_bar","title":"plot_average_sar_bar","text":"<pre><code>plot_average_sar_bar(scenario_name: str, avg_results: DataFrame, progress_info: Series)\n</code></pre> <p>Creates a bar chart of average Head and Trunk SAR by frequency.</p> <p>Shows completion progress in x-axis labels. Used for near-field analysis.</p> <p>Parameters:</p> Name Type Description Default <code>scenario_name</code> <code>str</code> <p>Placement scenario name (e.g., 'by_cheek').</p> required <code>avg_results</code> <code>DataFrame</code> <p>DataFrame with average SAR values, indexed by frequency.</p> required <code>progress_info</code> <code>Series</code> <p>Series with completion counts like '\u215a' per frequency.</p> required Source code in <code>goliat/analysis/plotter.py</code> <pre><code>def plot_average_sar_bar(self, scenario_name: str, avg_results: pd.DataFrame, progress_info: pd.Series):\n    \"\"\"Creates a bar chart of average Head and Trunk SAR by frequency.\n\n    Shows completion progress in x-axis labels. Used for near-field analysis.\n\n    Args:\n        scenario_name: Placement scenario name (e.g., 'by_cheek').\n        avg_results: DataFrame with average SAR values, indexed by frequency.\n        progress_info: Series with completion counts like '5/6' per frequency.\n    \"\"\"\n    fig, ax = plt.subplots(figsize=(12, 7))\n    avg_results[[\"SAR_head\", \"SAR_trunk\"]].plot(kind=\"bar\", ax=ax, colormap=\"viridis\")\n    progress_labels = [f\"{freq} MHz\\n({progress_info.get(freq, '0/0')})\" for freq in avg_results.index]\n    ax.set_xticklabels(progress_labels, rotation=0)\n    ax.set_title(f\"Average Normalized SAR for Scenario: {scenario_name}\")\n    ax.set_xlabel(\"Frequency (MHz) and Completion Progress\")\n    ax.set_ylabel(\"Normalized SAR (mW/kg)\")\n    ax.legend([\"Head SAR\", \"Trunk SAR\"])\n    plt.tight_layout()\n    fig.savefig(os.path.join(self.plots_dir, f\"average_sar_bar_{scenario_name}.png\"))\n    plt.close(fig)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter.plot_whole_body_sar_bar","title":"plot_whole_body_sar_bar","text":"<pre><code>plot_whole_body_sar_bar(avg_results: DataFrame)\n</code></pre> <p>Creates a bar chart of average whole-body SAR by frequency.</p> Source code in <code>goliat/analysis/plotter.py</code> <pre><code>def plot_whole_body_sar_bar(self, avg_results: pd.DataFrame):\n    \"\"\"Creates a bar chart of average whole-body SAR by frequency.\"\"\"\n    fig, ax = plt.subplots(figsize=(12, 7))\n    avg_results[\"SAR_whole_body\"].plot(kind=\"bar\", ax=ax, color=\"skyblue\")\n    ax.set_xticklabels(avg_results.index.get_level_values(\"frequency_mhz\"), rotation=0)\n    ax.set_title(\"Average Whole-Body SAR\")\n    ax.set_xlabel(\"Frequency (MHz)\")\n    ax.set_ylabel(\"Normalized Whole-Body SAR (mW/kg)\")\n    plt.tight_layout()\n    fig.savefig(os.path.join(self.plots_dir, \"average_whole_body_sar_bar.png\"))\n    plt.close(fig)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter.plot_peak_sar_line","title":"plot_peak_sar_line","text":"<pre><code>plot_peak_sar_line(summary_stats: DataFrame)\n</code></pre> <p>Plots peak SAR trend across frequencies for far-field analysis.</p> Source code in <code>goliat/analysis/plotter.py</code> <pre><code>def plot_peak_sar_line(self, summary_stats: pd.DataFrame):\n    \"\"\"Plots peak SAR trend across frequencies for far-field analysis.\"\"\"\n    fig, ax = plt.subplots(figsize=(12, 7))\n    if \"peak_sar\" in summary_stats.columns:\n        summary_stats[\"peak_sar\"].plot(kind=\"line\", marker=\"o\", ax=ax, color=\"purple\")\n        ax.set_title(\"Average Peak SAR (10g) Across All Tissues\")\n        ax.set_xlabel(\"Frequency (MHz)\")\n        ax.set_ylabel(\"Normalized Peak SAR (mW/kg)\")\n        ax.set_xticks(summary_stats.index)\n        ax.grid(True, which=\"both\", linestyle=\"--\", linewidth=0.5)\n    else:\n        ax.text(0.5, 0.5, \"No Peak SAR data found\", ha=\"center\", va=\"center\")\n        ax.set_title(\"Average Peak SAR (10g) Across All Tissues\")\n    plt.tight_layout()\n    fig.savefig(os.path.join(self.plots_dir, \"line_peak_sar_summary.png\"))\n    plt.close(fig)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter.plot_pssar_line","title":"plot_pssar_line","text":"<pre><code>plot_pssar_line(scenario_name: str, avg_results: DataFrame)\n</code></pre> <p>Plots average psSAR10g trends for tissue groups by frequency.</p> <p>Shows how peak spatial-average SAR varies with frequency for eyes, skin, and brain groups.</p> <p>Parameters:</p> Name Type Description Default <code>scenario_name</code> <code>str</code> <p>Placement scenario name.</p> required <code>avg_results</code> <code>DataFrame</code> <p>DataFrame with average psSAR10g values.</p> required Source code in <code>goliat/analysis/plotter.py</code> <pre><code>def plot_pssar_line(self, scenario_name: str, avg_results: pd.DataFrame):\n    \"\"\"Plots average psSAR10g trends for tissue groups by frequency.\n\n    Shows how peak spatial-average SAR varies with frequency for eyes,\n    skin, and brain groups.\n\n    Args:\n        scenario_name: Placement scenario name.\n        avg_results: DataFrame with average psSAR10g values.\n    \"\"\"\n    fig, ax = plt.subplots(figsize=(12, 7))\n    pssar_columns = [col for col in avg_results.columns if col.startswith(\"psSAR10g\")]\n    if pssar_columns:\n        avg_results[pssar_columns].plot(kind=\"line\", marker=\"o\", ax=ax, colormap=\"viridis\")\n        ax.set_title(f\"Average Normalized psSAR10g for Scenario: {scenario_name}\")\n        ax.set_xlabel(\"Frequency (MHz)\")\n        ax.set_ylabel(\"Normalized psSAR10g (mW/kg)\")\n        ax.legend([label for col in pssar_columns if (label := LEGEND_LABELS.get(col, col)) is not None])\n        ax.set_xticks(avg_results.index)\n    else:\n        ax.text(0.5, 0.5, \"No psSAR10g data found\", ha=\"center\", va=\"center\")\n        ax.set_title(f\"Average Normalized psSAR10g for Scenario: {scenario_name}\")\n    plt.tight_layout()\n    fig.savefig(os.path.join(self.plots_dir, f\"pssar10g_line_{scenario_name}.png\"))\n    plt.close(fig)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter.plot_sar_distribution_boxplots","title":"plot_sar_distribution_boxplots","text":"<pre><code>plot_sar_distribution_boxplots(scenario_name: str, scenario_results_df: DataFrame)\n</code></pre> <p>Creates boxplots showing SAR value distributions across placements.</p> <p>Generates separate boxplots for Head SAR, Trunk SAR, and each psSAR10g metric. Shows spread and outliers for each frequency.</p> <p>Parameters:</p> Name Type Description Default <code>scenario_name</code> <code>str</code> <p>Placement scenario name.</p> required <code>scenario_results_df</code> <code>DataFrame</code> <p>DataFrame with detailed results for all placements.</p> required Source code in <code>goliat/analysis/plotter.py</code> <pre><code>def plot_sar_distribution_boxplots(self, scenario_name: str, scenario_results_df: pd.DataFrame):\n    \"\"\"Creates boxplots showing SAR value distributions across placements.\n\n    Generates separate boxplots for Head SAR, Trunk SAR, and each psSAR10g\n    metric. Shows spread and outliers for each frequency.\n\n    Args:\n        scenario_name: Placement scenario name.\n        scenario_results_df: DataFrame with detailed results for all placements.\n    \"\"\"\n    pssar_columns = [col for col in scenario_results_df.columns if col.startswith(\"psSAR10g\")]\n    sar_metrics_for_boxplot = [\"SAR_head\", \"SAR_trunk\"] + pssar_columns\n    for metric in sar_metrics_for_boxplot:\n        if not scenario_results_df[metric].dropna().empty:\n            fig, ax = plt.subplots(figsize=(12, 7))\n            sns.boxplot(\n                data=scenario_results_df,\n                x=\"frequency_mhz\",\n                y=metric,\n                ax=ax,\n                hue=\"frequency_mhz\",\n                palette=\"viridis\",\n                legend=False,\n            )\n            ax.set_title(f\"Distribution of Normalized {METRIC_LABELS.get(metric, metric)} for Scenario: {scenario_name}\")\n            ax.set_xlabel(\"Frequency (MHz)\")\n            ax.set_ylabel(\"Normalized SAR (mW/kg)\")\n            plt.tight_layout()\n            fig.savefig(os.path.join(self.plots_dir, f\"boxplot_{metric}_{scenario_name}.png\"))\n            plt.close(fig)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter.plot_far_field_distribution_boxplot","title":"plot_far_field_distribution_boxplot","text":"<pre><code>plot_far_field_distribution_boxplot(results_df: DataFrame, metric: str = 'SAR_whole_body')\n</code></pre> <p>Creates a boxplot showing distribution of a metric across directions/polarizations.</p> Source code in <code>goliat/analysis/plotter.py</code> <pre><code>def plot_far_field_distribution_boxplot(self, results_df: pd.DataFrame, metric: str = \"SAR_whole_body\"):\n    \"\"\"Creates a boxplot showing distribution of a metric across directions/polarizations.\"\"\"\n    if metric not in results_df.columns or results_df[metric].dropna().empty:\n        logging.getLogger(\"progress\").warning(\n            f\"  - WARNING: No data for metric '{metric}' to generate boxplot.\",\n            extra={\"log_type\": \"warning\"},\n        )\n        return\n\n    fig, ax = plt.subplots(figsize=(12, 7))\n    sns.boxplot(\n        data=results_df,\n        x=\"frequency_mhz\",\n        y=metric,\n        ax=ax,\n        hue=\"frequency_mhz\",\n        palette=\"viridis\",\n        legend=False,\n    )\n    ax.set_title(f\"Distribution of Normalized {METRIC_LABELS.get(metric, metric)}\")\n    ax.set_xlabel(\"Frequency (MHz)\")\n    ax.set_ylabel(\"Normalized SAR (mW/kg)\")\n    plt.tight_layout()\n    fig.savefig(os.path.join(self.plots_dir, f\"boxplot_{metric}_distribution.png\"))\n    plt.close(fig)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter.plot_sar_heatmap","title":"plot_sar_heatmap","text":"<pre><code>plot_sar_heatmap(organ_df: DataFrame, group_df: DataFrame, tissue_groups: dict)\n</code></pre> <p>Creates a combined heatmap showing Min/Avg/Max SAR per tissue and frequency.</p> <p>Two-panel heatmap: top shows individual tissues with color coding by group, bottom shows group summaries. Uses log-scale colormap for better visibility.</p> Source code in <code>goliat/analysis/plotter.py</code> <pre><code>def plot_sar_heatmap(self, organ_df: pd.DataFrame, group_df: pd.DataFrame, tissue_groups: dict):\n    \"\"\"Creates a combined heatmap showing Min/Avg/Max SAR per tissue and frequency.\n\n    Two-panel heatmap: top shows individual tissues with color coding by group,\n    bottom shows group summaries. Uses log-scale colormap for better visibility.\n    \"\"\"\n    organ_pivot = organ_df.pivot_table(\n        index=\"tissue\",\n        columns=\"frequency_mhz\",\n        values=[\"min_sar\", \"avg_sar\", \"max_sar\"],\n    )\n    organ_pivot = organ_pivot.loc[(organ_pivot &gt; 0.01).any(axis=1)]\n    mean_organ_sar = organ_pivot.mean(axis=1).sort_values(ascending=False)\n    organ_pivot = organ_pivot.reindex(mean_organ_sar.index)\n    organ_pivot = organ_pivot.reorder_levels([1, 0], axis=1)\n    metric_order = [\"min_sar\", \"avg_sar\", \"max_sar\"]\n    sorted_columns = sorted(organ_pivot.columns, key=lambda x: (x[0], metric_order.index(x[1])))\n    organ_pivot = organ_pivot[sorted_columns]\n\n    group_pivot = group_df.pivot_table(index=\"group\", columns=\"frequency_mhz\", values=\"avg_sar\")\n    if isinstance(group_pivot, pd.DataFrame) and not group_pivot.empty:\n        mean_group_sar = group_pivot.mean(axis=1)\n        if isinstance(mean_group_sar, pd.Series):\n            mean_group_sar = mean_group_sar.sort_values(ascending=False)\n            group_pivot = group_pivot.reindex(mean_group_sar.index)\n\n    if organ_pivot.empty:\n        return\n\n    fig = plt.figure(figsize=(24, 12 + len(organ_pivot) * 0.4))\n    gs = gridspec.GridSpec(\n        2,\n        2,\n        height_ratios=[len(organ_pivot), len(group_pivot) + 1],\n        width_ratios=[0.95, 0.05],\n        hspace=0.1,\n    )\n    ax_organ = fig.add_subplot(gs[0, 0])\n    ax_group = fig.add_subplot(gs[1, 0])\n    cbar_ax = fig.add_subplot(gs[:, 1])\n\n    ax_organ = self._plot_heatmap(\n        fig,\n        ax_organ,\n        organ_pivot,\n        \"Min, Avg, and Max SAR (mW/kg) per Tissue\",\n        cbar=True,\n        cbar_ax=cbar_ax,\n    )\n    ax_organ.set_xlabel(\"\")\n    x_labels = [metric.replace(\"_sar\", \"\") for freq, metric in organ_pivot.columns]\n    ax_organ.set_xticks(np.arange(len(x_labels)) + 0.5)\n    ax_organ.set_xticklabels(x_labels, rotation=0)\n    ax_organ.set_ylabel(\"Tissue\")\n\n    group_colors = {\"eyes_group\": \"r\", \"skin_group\": \"g\", \"brain_group\": \"b\"}\n    tissue_to_group = {tissue: group for group, tissues in tissue_groups.items() for tissue in tissues}\n    for tick_label in ax_organ.get_yticklabels():\n        group = tissue_to_group.get(tick_label.get_text())\n        if group in group_colors:\n            tick_label.set_color(group_colors[group])\n\n    ax_group = self._plot_heatmap(fig, ax_group, group_pivot, \"Organ Group Summary (Avg SAR)\", cbar=False)\n    ax_group.set_xlabel(\"Frequency (MHz)\")\n    ax_group.set_ylabel(\"\")\n    for tick_label in ax_group.get_yticklabels():\n        tick_label.set_rotation(0)\n        tick_label.set_color(group_colors.get(f\"{tick_label.get_text().lower()}_group\", \"black\"))\n\n    plt.tight_layout(rect=(0, 0, 0.95, 0.98))\n    fig.savefig(os.path.join(self.plots_dir, \"heatmap_sar_summary.png\"))\n    plt.close(fig)\n</code></pre>"},{"location":"reference/api_reference/#goliat.analysis.plotter.Plotter.plot_peak_sar_heatmap","title":"plot_peak_sar_heatmap","text":"<pre><code>plot_peak_sar_heatmap(organ_df: DataFrame, group_df: DataFrame, tissue_groups: dict, value_col: str = 'peak_sar_10g_mw_kg', title: str = 'Peak SAR')\n</code></pre> <p>Creates a heatmap for peak SAR values across tissues and frequencies.</p> <p>Similar structure to plot_sar_heatmap but focused on peak SAR metrics. Shows individual tissues and group summaries in separate panels.</p> <p>Parameters:</p> Name Type Description Default <code>organ_df</code> <code>DataFrame</code> <p>DataFrame with organ-level peak SAR data.</p> required <code>group_df</code> <code>DataFrame</code> <p>DataFrame with group-level summaries.</p> required <code>tissue_groups</code> <code>dict</code> <p>Dict mapping groups to tissue lists.</p> required <code>value_col</code> <code>str</code> <p>Column name containing the peak SAR values.</p> <code>'peak_sar_10g_mw_kg'</code> <code>title</code> <code>str</code> <p>Title for the plot.</p> <code>'Peak SAR'</code> Source code in <code>goliat/analysis/plotter.py</code> <pre><code>def plot_peak_sar_heatmap(\n    self,\n    organ_df: pd.DataFrame,\n    group_df: pd.DataFrame,\n    tissue_groups: dict,\n    value_col: str = \"peak_sar_10g_mw_kg\",\n    title: str = \"Peak SAR\",\n):\n    \"\"\"Creates a heatmap for peak SAR values across tissues and frequencies.\n\n    Similar structure to plot_sar_heatmap but focused on peak SAR metrics.\n    Shows individual tissues and group summaries in separate panels.\n\n    Args:\n        organ_df: DataFrame with organ-level peak SAR data.\n        group_df: DataFrame with group-level summaries.\n        tissue_groups: Dict mapping groups to tissue lists.\n        value_col: Column name containing the peak SAR values.\n        title: Title for the plot.\n    \"\"\"\n    organ_pivot = organ_df.pivot_table(index=\"tissue\", columns=\"frequency_mhz\", values=value_col)\n    organ_pivot = organ_pivot.loc[(organ_pivot &gt; 0.01).any(axis=1)]\n    mean_organ_sar = organ_pivot.mean(axis=1).sort_values(ascending=False)\n    organ_pivot = organ_pivot.reindex(mean_organ_sar.index)\n\n    group_pivot = group_df.pivot_table(index=\"group\", columns=\"frequency_mhz\", values=value_col)\n    if isinstance(group_pivot, pd.DataFrame) and not group_pivot.empty:\n        mean_group_sar = group_pivot.mean(axis=1)\n        if isinstance(mean_group_sar, pd.Series):\n            mean_group_sar = mean_group_sar.sort_values(ascending=False)\n            group_pivot = group_pivot.reindex(mean_group_sar.index)\n\n    if organ_pivot.empty:\n        return\n\n    fig = plt.figure(figsize=(18, 10 + len(organ_pivot) * 0.3))\n    gs = gridspec.GridSpec(\n        2,\n        2,\n        height_ratios=[len(organ_pivot), len(group_pivot) + 1],\n        width_ratios=[0.95, 0.05],\n        hspace=0.1,\n    )\n    ax_organ = fig.add_subplot(gs[0, 0])\n    ax_group = fig.add_subplot(gs[1, 0])\n    cbar_ax = fig.add_subplot(gs[:, 1])\n\n    ax_organ = self._plot_heatmap(\n        fig,\n        ax_organ,\n        organ_pivot,\n        f\"{title} (mW/kg) per Tissue\",\n        cbar=True,\n        cbar_ax=cbar_ax,\n    )\n    ax_organ.set_xlabel(\"\")\n    ax_organ.set_xticklabels([])\n    ax_organ.set_ylabel(\"Tissue\")\n\n    group_colors = {\"eyes_group\": \"r\", \"skin_group\": \"g\", \"brain_group\": \"b\"}\n    tissue_to_group = {tissue: group for group, tissues in tissue_groups.items() for tissue in tissues}\n    for tick_label in ax_organ.get_yticklabels():\n        group = tissue_to_group.get(tick_label.get_text())\n        if group in group_colors:\n            tick_label.set_color(group_colors[group])\n\n    ax_group = self._plot_heatmap(fig, ax_group, group_pivot, f\"Organ Group Summary ({title})\", cbar=False)\n    ax_group.set_xlabel(\"Frequency (MHz)\")\n    ax_group.set_ylabel(\"\")\n    for tick_label in ax_group.get_yticklabels():\n        tick_label.set_rotation(0)\n        tick_label.set_color(group_colors.get(f\"{tick_label.get_text().lower()}_group\", \"black\"))\n\n    plt.tight_layout(rect=(0, 0, 0.95, 0.98))\n    fig.savefig(os.path.join(self.plots_dir, f\"heatmap_{value_col}_summary.png\"))\n    plt.close(fig)\n</code></pre>"},{"location":"reference/api_reference/#gui-components","title":"GUI Components","text":"<p>Graphical user interface for monitoring simulation progress.</p>"},{"location":"reference/api_reference/#main-gui","title":"Main GUI","text":""},{"location":"reference/api_reference/#goliat.gui.progress_gui","title":"goliat.gui.progress_gui","text":"<p>ProgressGUI main window component.</p>"},{"location":"reference/api_reference/#goliat.gui.progress_gui-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI","title":"ProgressGUI","text":"<pre><code>ProgressGUI(queue: Queue, stop_event: Event, process: Process, init_window_title: str = '')\n</code></pre> <p>               Bases: <code>QWidget</code></p> <p>Main GUI window for monitoring simulation progress.</p> <p>Provides real-time progress tracking via progress bars, ETA estimation, and status logs. Runs in the main process and communicates with worker process through a multiprocessing queue.</p> <p>The GUI architecture: - Main window runs in main process, worker runs in separate process - Communication via multiprocessing.Queue for thread-safe message passing - QueueHandler polls queue every 100ms and updates UI accordingly - Multiple timers handle different update frequencies (queue, clock, graphs)</p> <p>Features: - Overall progress bar (weighted across all simulations) - Stage progress bar (current phase: setup/run/extract) - Real-time ETA calculation based on profiler estimates - Status log with color-coded messages - Timings table showing execution statistics - Pie charts showing phase/subtask breakdowns - Time series plots for progress and ETA trends - System tray integration for background operation</p> <p>Initializes data manager, status manager, UI builder, timers, and queue handler. Sets up Qt timers for periodic updates (queue polling, clock updates, graph refreshes).</p> <p>Parameters:</p> Name Type Description Default <code>queue</code> <code>Queue</code> <p>Queue for receiving messages from worker process.</p> required <code>stop_event</code> <code>Event</code> <p>Event to signal termination to worker process.</p> required <code>process</code> <code>Process</code> <p>Worker process running the study.</p> required <code>init_window_title</code> <code>str</code> <p>Initial window title.</p> <code>''</code> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def __init__(\n    self,\n    queue: Queue,\n    stop_event: Event,\n    process: Process,\n    init_window_title: str = \"\",\n) -&gt; None:\n    \"\"\"Sets up the GUI window and all components.\n\n    Initializes data manager, status manager, UI builder, timers, and\n    queue handler. Sets up Qt timers for periodic updates (queue polling,\n    clock updates, graph refreshes).\n\n    Args:\n        queue: Queue for receiving messages from worker process.\n        stop_event: Event to signal termination to worker process.\n        process: Worker process running the study.\n        init_window_title: Initial window title.\n    \"\"\"\n    super().__init__()\n    self.queue: Queue = queue\n    self.stop_event: Event = stop_event\n    self.process: Process = process\n    self.start_time: float = time.monotonic()\n    self.progress_logger: logging.Logger = logging.getLogger(\"progress\")\n    self.verbose_logger: logging.Logger = logging.getLogger(\"verbose\")\n    self.init_window_title: str = init_window_title\n    self.DEBUG: bool = False\n    self.study_is_finished: bool = False\n    self.study_had_errors: bool = False\n\n    self.total_simulations: int = 0\n    self.current_simulation_count: int = 0\n\n    # Initialize components\n    # Calculate repo root: go up 3 levels from goliat/gui/progress_gui.py to repo root\n    repo_root = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))\n    data_dir = os.path.join(repo_root, \"data\")\n    os.makedirs(data_dir, exist_ok=True)\n    self.data_manager: DataManager = DataManager(data_dir, self.verbose_logger)\n    self.status_manager: StatusManager = StatusManager()\n\n    # Build UI\n    UIBuilder.build(self, self.status_manager)\n\n    # Initialize animation (must be after UI build to ensure stage_progress_bar exists)\n    from PySide6.QtCore import QTimer as _QTimer\n\n    self.animation_timer: _QTimer = _QTimer(self)\n    self.animation_timer.timeout.connect(self.update_animation)\n    self.progress_animation: ProgressAnimation = ProgressAnimation(self.stage_progress_bar, self.animation_timer, self.DEBUG)\n\n    # Initialize tray manager\n    self.tray_manager: TrayManager = TrayManager(self, self.show_from_tray, self.close)\n\n    # Initialize queue handler\n    self.queue_handler: QueueHandler = QueueHandler(self)\n\n    self.total_steps_for_stage: int = 0\n    self.profiler_phase: Optional[str] = None\n    self.profiler: Optional[\"Profiler\"] = None\n\n    # Setup timers\n    from PySide6.QtCore import QTimer as _QTimer\n\n    self.queue_timer: _QTimer = _QTimer(self)\n    self.queue_timer.timeout.connect(self.queue_handler.process_queue)\n    self.queue_timer.start(100)\n\n    self.clock_timer: _QTimer = _QTimer(self)\n    self.clock_timer.timeout.connect(self.update_clock)\n    self.clock_timer.start(1000)\n\n    # Graph update timer (every 5 seconds)\n    self.graph_timer: _QTimer = _QTimer(self)\n    self.graph_timer.timeout.connect(self.update_graphs)\n    self.graph_timer.start(5000)\n\n    # System utilization update timer (every 1 second)\n    self.utilization_timer: _QTimer = _QTimer(self)\n    self.utilization_timer.timeout.connect(self.update_utilization)\n    self.utilization_timer.start(1000)\n\n    # Initialize GPU availability check\n    self.gpu_available: bool = SystemMonitor.is_gpu_available()\n\n    # Initialize CPU measurement (first call needs to be blocking)\n    if PSUTIL_AVAILABLE:\n        try:\n            import psutil\n\n            psutil.cpu_percent(interval=0.1)  # Initialize measurement\n        except Exception:\n            pass\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.update_overall_progress","title":"update_overall_progress","text":"<pre><code>update_overall_progress(current_step: float, total_steps: int) -&gt; None\n</code></pre> <p>Updates overall progress bar across all simulations.</p> <p>The progress bar uses a 0-10000 range internally (for finer granularity), but displays as percentage. Overall progress accounts for completed simulations plus progress within current simulation.</p> <p>Parameters:</p> Name Type Description Default <code>current_step</code> <code>float</code> <p>Current step number (0-100 range) or percentage (0-100).</p> required <code>total_steps</code> <code>int</code> <p>Total number of steps (typically 100).</p> required Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def update_overall_progress(self, current_step: float, total_steps: int) -&gt; None:\n    \"\"\"Updates overall progress bar across all simulations.\n\n    The progress bar uses a 0-10000 range internally (for finer granularity),\n    but displays as percentage. Overall progress accounts for completed\n    simulations plus progress within current simulation.\n\n    Args:\n        current_step: Current step number (0-100 range) or percentage (0-100).\n        total_steps: Total number of steps (typically 100).\n    \"\"\"\n    if self.DEBUG:\n        self.update_status(f\"DEBUG: update_overall_progress received: current={current_step}, total={total_steps}\")\n    if total_steps &gt; 0:\n        progress_percent = (current_step / total_steps) * 100\n        self.overall_progress_bar.setValue(int(progress_percent * 100))\n        self.overall_progress_bar.setFormat(f\"{progress_percent:.2f}%\")\n        if self.DEBUG:\n            self.update_status(f\"DEBUG: Overall progress set to: {progress_percent:.2f}%\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.update_stage_progress","title":"update_stage_progress","text":"<pre><code>update_stage_progress(stage_name: str, current_step: int, total_steps: int, sub_stage: str = '') -&gt; None\n</code></pre> <p>Updates stage-specific progress bar and label.</p> <p>Shows progress within current phase (setup/run/extract). Stops any active animation when explicit progress is set. Uses 0-1000 range internally for finer granularity.</p> <p>Parameters:</p> Name Type Description Default <code>stage_name</code> <code>str</code> <p>Name of current stage (e.g., 'Setup', 'Running Simulation').</p> required <code>current_step</code> <code>int</code> <p>Current step within stage.</p> required <code>total_steps</code> <code>int</code> <p>Total steps for the stage.</p> required <code>sub_stage</code> <code>str</code> <p>Optional sub-stage description (currently unused).</p> <code>''</code> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def update_stage_progress(self, stage_name: str, current_step: int, total_steps: int, sub_stage: str = \"\") -&gt; None:\n    \"\"\"Updates stage-specific progress bar and label.\n\n    Shows progress within current phase (setup/run/extract). Stops any\n    active animation when explicit progress is set. Uses 0-1000 range\n    internally for finer granularity.\n\n    Args:\n        stage_name: Name of current stage (e.g., 'Setup', 'Running Simulation').\n        current_step: Current step within stage.\n        total_steps: Total steps for the stage.\n        sub_stage: Optional sub-stage description (currently unused).\n    \"\"\"\n    if self.DEBUG:\n        self.update_status(\n            f\"DEBUG: update_stage_progress received: name='{stage_name}', current={current_step}, total={total_steps}, sub_stage='{sub_stage}'\"\n        )\n\n    self.stage_label.setText(f\"Current Stage: {stage_name}\")\n    self.total_steps_for_stage = total_steps\n    self.progress_animation.stop()\n\n    progress_percent = (current_step / total_steps) if total_steps &gt; 0 else 0\n    final_value = int(progress_percent * 1000)\n\n    self.stage_progress_bar.setValue(final_value)\n    self.stage_progress_bar.setFormat(f\"{progress_percent * 100:.0f}%\")\n    if self.DEBUG:\n        self.update_status(f\"DEBUG: Stage '{stage_name}' progress set to: {progress_percent * 100:.0f}%\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.start_stage_animation","title":"start_stage_animation","text":"<pre><code>start_stage_animation(estimated_duration: float, end_step: int) -&gt; None\n</code></pre> <p>Starts smooth animated progress bar for a stage.</p> <p>Instead of jumping to discrete progress values, animates smoothly over the estimated duration. This provides visual feedback during long-running tasks where progress updates are infrequent.</p> <p>The animation uses linear interpolation between current value and target (always 100% = 1000). Updates every 50ms via Qt timer.</p> <p>Parameters:</p> Name Type Description Default <code>estimated_duration</code> <code>float</code> <p>Estimated task duration in seconds (from profiler).</p> required <code>end_step</code> <code>int</code> <p>Target step value (unused, always animates to 100%).</p> required Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def start_stage_animation(self, estimated_duration: float, end_step: int) -&gt; None:\n    \"\"\"Starts smooth animated progress bar for a stage.\n\n    Instead of jumping to discrete progress values, animates smoothly over\n    the estimated duration. This provides visual feedback during long-running\n    tasks where progress updates are infrequent.\n\n    The animation uses linear interpolation between current value and target\n    (always 100% = 1000). Updates every 50ms via Qt timer.\n\n    Args:\n        estimated_duration: Estimated task duration in seconds (from profiler).\n        end_step: Target step value (unused, always animates to 100%).\n    \"\"\"\n    if self.DEBUG:\n        self.update_status(f\"DEBUG: start_stage_animation received: duration={estimated_duration:.2f}s, end_step={end_step}\")\n    self.progress_animation.start(estimated_duration, end_step)\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.end_stage_animation","title":"end_stage_animation","text":"<pre><code>end_stage_animation() -&gt; None\n</code></pre> <p>Stops stage progress bar animation.</p> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def end_stage_animation(self) -&gt; None:\n    \"\"\"Stops stage progress bar animation.\"\"\"\n    self.progress_animation.stop()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.update_animation","title":"update_animation","text":"<pre><code>update_animation() -&gt; None\n</code></pre> <p>Updates progress bar animation frame and syncs overall progress.</p> <p>Called every 50ms by Qt timer when animation is active. Calculates current progress based on elapsed time and estimated duration, then updates stage progress bar. Also syncs overall progress bar using weighted progress calculation from profiler.</p> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def update_animation(self) -&gt; None:\n    \"\"\"Updates progress bar animation frame and syncs overall progress.\n\n    Called every 50ms by Qt timer when animation is active. Calculates\n    current progress based on elapsed time and estimated duration, then\n    updates stage progress bar. Also syncs overall progress bar using\n    weighted progress calculation from profiler.\n    \"\"\"\n    self.progress_animation.update()\n\n    # Sync overall progress based on stage animation\n    if self.profiler and self.profiler.current_phase:\n        current_value = self.stage_progress_bar.value()\n        percent = (current_value / 1000) * 100\n        progress = self.profiler.get_weighted_progress(self.profiler.current_phase, percent / 100.0)\n        self.update_overall_progress(progress, 100)\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.update_simulation_details","title":"update_simulation_details","text":"<pre><code>update_simulation_details(sim_count: int, total_sims: int, details: str) -&gt; None\n</code></pre> <p>Updates simulation counter and details labels.</p> <p>Parameters:</p> Name Type Description Default <code>sim_count</code> <code>int</code> <p>Current simulation number.</p> required <code>total_sims</code> <code>int</code> <p>Total number of simulations.</p> required <code>details</code> <code>str</code> <p>Description of current simulation case.</p> required Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def update_simulation_details(self, sim_count: int, total_sims: int, details: str) -&gt; None:\n    \"\"\"Updates simulation counter and details labels.\n\n    Args:\n        sim_count: Current simulation number.\n        total_sims: Total number of simulations.\n        details: Description of current simulation case.\n    \"\"\"\n    self.current_simulation_count = sim_count\n    self.total_simulations = total_sims\n    self.sim_counter_label.setText(f\"Simulation: {sim_count} / {total_sims}\")\n    self.sim_details_label.setText(f\"Current Case: {details}\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.update_status","title":"update_status","text":"<pre><code>update_status(message: str, log_type: str = 'default') -&gt; None\n</code></pre> <p>Appends message to status log with color formatting.</p> <p>Parameters:</p> Name Type Description Default <code>message</code> <code>str</code> <p>Message text.</p> required <code>log_type</code> <code>str</code> <p>Log type for color coding.</p> <code>'default'</code> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def update_status(self, message: str, log_type: str = \"default\") -&gt; None:\n    \"\"\"Appends message to status log with color formatting.\n\n    Args:\n        message: Message text.\n        log_type: Log type for color coding.\n    \"\"\"\n    self.status_manager.record_log(log_type)\n    self.error_counter_label.setText(self.status_manager.get_error_summary())\n    formatted_message = self.status_manager.format_message(message, log_type)\n    self.status_text.append(formatted_message)\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.update_utilization","title":"update_utilization","text":"<pre><code>update_utilization() -&gt; None\n</code></pre> <p>Updates CPU, RAM, and GPU utilization displays.</p> <p>Called every second by Qt timer. Gets current utilization values from SystemMonitor and updates the progress bars and labels.</p> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def update_utilization(self) -&gt; None:\n    \"\"\"Updates CPU, RAM, and GPU utilization displays.\n\n    Called every second by Qt timer. Gets current utilization values\n    from SystemMonitor and updates the progress bars and labels.\n    \"\"\"\n    # Update CPU utilization\n    cpu_percent = SystemMonitor.get_cpu_utilization()\n    self.cpu_bar.setValue(int(cpu_percent))\n    self.cpu_bar.setFormat(f\"{cpu_percent:.0f}%\")\n\n    # Update RAM utilization\n    used_gb, total_gb = SystemMonitor.get_ram_utilization()\n    if total_gb &gt; 0:\n        ram_percent = (used_gb / total_gb) * 100\n        self.ram_bar.setValue(int(ram_percent))\n        self.ram_bar.setFormat(f\"{used_gb:.1f}/{total_gb:.1f} GB\")\n    else:\n        self.ram_bar.setValue(0)\n        self.ram_bar.setFormat(\"N/A\")\n\n    # Update GPU utilization\n    if self.gpu_available:\n        gpu_percent = SystemMonitor.get_gpu_utilization()\n        if gpu_percent is not None:\n            self.gpu_bar.setValue(int(gpu_percent))\n            self.gpu_bar.setFormat(f\"{gpu_percent:.0f}%\")\n        else:\n            self.gpu_bar.setValue(0)\n            self.gpu_bar.setFormat(\"N/A\")\n            self.gpu_available = False  # GPU became unavailable\n    else:\n        self.gpu_bar.setValue(0)\n        self.gpu_bar.setFormat(\"N/A\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.update_clock","title":"update_clock","text":"<pre><code>update_clock() -&gt; None\n</code></pre> <p>Updates elapsed time, ETA labels, and window title.</p> <p>Called every second by Qt timer. Calculates elapsed time from start, gets ETA from profiler (if available), and updates window title with current status and progress percentage.</p> <p>The window title shows: [progress%] GOLIAT | Sim X/Y | Status where Status is 'Booting...', 'Running...', or 'Finished'.</p> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def update_clock(self) -&gt; None:\n    \"\"\"Updates elapsed time, ETA labels, and window title.\n\n    Called every second by Qt timer. Calculates elapsed time from start,\n    gets ETA from profiler (if available), and updates window title with\n    current status and progress percentage.\n\n    The window title shows: [progress%] GOLIAT | Sim X/Y | Status\n    where Status is 'Booting...', 'Running...', or 'Finished'.\n    \"\"\"\n    elapsed_sec = time.monotonic() - self.start_time\n    self.elapsed_label.setText(f\"Elapsed: {format_time(elapsed_sec)}\")\n\n    eta_sec: Optional[float] = None\n    if self.profiler and self.profiler.current_phase:\n        current_stage_progress_ratio = self.stage_progress_bar.value() / 1000.0\n        eta_sec = self.profiler.get_time_remaining(current_stage_progress=current_stage_progress_ratio)\n\n        if eta_sec is not None:\n            time_remaining_str = format_time(eta_sec)\n            self.eta_label.setText(f\"Time Remaining: {time_remaining_str}\")\n        else:\n            self.eta_label.setText(\"Time Remaining: N/A\")\n    else:\n        self.eta_label.setText(\"Time Remaining: N/A\")\n\n    # Update window title with status\n    progress_percent = max(0, self.overall_progress_bar.value() / 100.0)\n    title = self.init_window_title\n    title += f\"[{progress_percent:.2f}%] GOLIAT\"\n    if self.total_simulations &gt; 0:\n        title += f\" | Sim {self.current_simulation_count}/{self.total_simulations}\"\n\n    # Determine status based on actual activity\n    if self.study_is_finished:\n        status = \"Finished\" if not self.study_had_errors else \"Finished with Errors\"\n    elif progress_percent &gt; 0 or self.current_simulation_count &gt; 0:\n        status = \"Running...\"\n    else:\n        status = \"Booting...\"\n\n    title += f\" | {status}\"\n    self.setWindowTitle(title)\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.update_graphs","title":"update_graphs","text":"<pre><code>update_graphs() -&gt; None\n</code></pre> <p>Updates time remaining and overall progress graphs (called every 5 seconds).</p> <p>Gets current ETA and progress values, writes them to CSV files (via DataManager), and adds data points to matplotlib plots. The plots show trends over time, helping users see if ETA is converging or progress is steady.</p> <p>This runs less frequently than clock updates (5s vs 1s) because plotting is more expensive and the trends don't need millisecond precision.</p> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def update_graphs(self) -&gt; None:\n    \"\"\"Updates time remaining and overall progress graphs (called every 5 seconds).\n\n    Gets current ETA and progress values, writes them to CSV files (via\n    DataManager), and adds data points to matplotlib plots. The plots\n    show trends over time, helping users see if ETA is converging or\n    progress is steady.\n\n    This runs less frequently than clock updates (5s vs 1s) because\n    plotting is more expensive and the trends don't need millisecond\n    precision.\n    \"\"\"\n    # Get current ETA\n    eta_sec: Optional[float] = None\n    if self.profiler and self.profiler.current_phase:\n        current_stage_progress_ratio = self.stage_progress_bar.value() / 1000.0\n        eta_sec = self.profiler.get_time_remaining(current_stage_progress=current_stage_progress_ratio)\n\n    # Get current progress\n    progress_percent = max(0, self.overall_progress_bar.value() / 100.0)\n\n    # Update time remaining data\n    if eta_sec is not None:\n        current_time = datetime.now()\n        hours_remaining = eta_sec / 3600.0\n        self.data_manager.write_time_remaining(hours_remaining)\n        self.time_remaining_plot.add_data_point(current_time, hours_remaining)\n\n    # Update overall progress data\n    current_time = datetime.now()\n    self.data_manager.write_overall_progress(progress_percent)\n    self.overall_progress_plot.add_data_point(current_time, progress_percent)\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.hide_to_tray","title":"hide_to_tray","text":"<pre><code>hide_to_tray() -&gt; None\n</code></pre> <p>Hides main window and shows system tray icon.</p> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def hide_to_tray(self) -&gt; None:\n    \"\"\"Hides main window and shows system tray icon.\"\"\"\n    self.hide()\n    self.tray_manager.show()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.show_from_tray","title":"show_from_tray","text":"<pre><code>show_from_tray() -&gt; None\n</code></pre> <p>Shows main window from system tray.</p> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def show_from_tray(self) -&gt; None:\n    \"\"\"Shows main window from system tray.\"\"\"\n    self.show()\n    self.tray_manager.hide()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.stop_study","title":"stop_study","text":"<pre><code>stop_study() -&gt; None\n</code></pre> <p>Sends stop signal to worker process.</p> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def stop_study(self) -&gt; None:\n    \"\"\"Sends stop signal to worker process.\"\"\"\n    message = \"--- Sending stop signal to study process ---\"\n    self.progress_logger.info(message, extra={\"log_type\": \"warning\"})\n    self.verbose_logger.info(message, extra={\"log_type\": \"warning\"})\n    self.update_status(message, log_type=\"warning\")\n    self.stop_button.setEnabled(False)\n    self.tray_button.setEnabled(False)\n    self.stop_event.set()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.study_finished","title":"study_finished","text":"<pre><code>study_finished(error: bool = False) -&gt; None\n</code></pre> <p>Handles study completion, stopping timers and updating UI.</p> <p>Called when worker process signals completion. Stops all timers, updates final progress to 100%, sets stage label, and schedules window auto-close after 3 seconds (if no errors).</p> <p>Parameters:</p> Name Type Description Default <code>error</code> <code>bool</code> <p>Whether study finished with errors (affects UI styling).</p> <code>False</code> Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def study_finished(self, error: bool = False) -&gt; None:\n    \"\"\"Handles study completion, stopping timers and updating UI.\n\n    Called when worker process signals completion. Stops all timers,\n    updates final progress to 100%, sets stage label, and schedules\n    window auto-close after 3 seconds (if no errors).\n\n    Args:\n        error: Whether study finished with errors (affects UI styling).\n    \"\"\"\n    self.study_is_finished = True\n    self.study_had_errors = error\n    self.clock_timer.stop()\n    self.queue_timer.stop()\n    self.graph_timer.stop()\n    self.utilization_timer.stop()\n    self.progress_animation.stop()\n    if not error:\n        self.update_status(\"--- Study Finished ---\", log_type=\"success\")\n        self.overall_progress_bar.setValue(self.overall_progress_bar.maximum())\n        self.stage_label.setText(\"Finished\")\n    else:\n        self.update_status(\"--- Study Finished with Errors ---\", log_type=\"fatal\")\n        self.stage_label.setText(\"Error\")\n\n    self.stop_button.setEnabled(False)\n    self.tray_button.setEnabled(False)\n    self.update_clock()  # Final title update\n    from PySide6.QtCore import QTimer as _QTimer\n\n    _QTimer.singleShot(3000, self.close)\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui.ProgressGUI.closeEvent","title":"closeEvent","text":"<pre><code>closeEvent(event: Any) -&gt; None\n</code></pre> <p>Handles window close event, ensuring worker process termination.</p> <p>Parameters:</p> Name Type Description Default <code>event</code> <code>Any</code> <p>Close event.</p> required Source code in <code>goliat/gui/progress_gui.py</code> <pre><code>def closeEvent(self, event: Any) -&gt; None:\n    \"\"\"Handles window close event, ensuring worker process termination.\n\n    Args:\n        event: Close event.\n    \"\"\"\n    if self.tray_manager.is_visible():\n        self.tray_manager.hide()\n\n    if self.process.is_alive():\n        self.progress_logger.info(\"Terminating study process...\", extra={\"log_type\": \"warning\"})\n        self.process.terminate()\n        self.process.join(timeout=5)\n\n    shutdown_loggers()\n    event.accept()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.progress_gui-functions","title":"Functions","text":""},{"location":"reference/api_reference/#gui-communication","title":"GUI Communication","text":""},{"location":"reference/api_reference/#goliat.gui.queue_gui","title":"goliat.gui.queue_gui","text":"<p>QueueGUI proxy for worker process communication.</p>"},{"location":"reference/api_reference/#goliat.gui.queue_gui-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI","title":"QueueGUI","text":"<pre><code>QueueGUI(queue: Queue, stop_event: Event, profiler: Profiler, progress_logger: Logger, verbose_logger: Logger)\n</code></pre> <p>               Bases: <code>LoggingMixin</code></p> <p>Proxy for ProgressGUI that operates in a separate process.</p> <p>Mimics the ProgressGUI interface but routes all calls through a multiprocessing queue, enabling thread-safe communication between worker and GUI processes. All methods serialize their arguments and send them via queue for the GUI process to handle.</p> <p>Parameters:</p> Name Type Description Default <code>queue</code> <code>Queue</code> <p>Multiprocessing queue for IPC.</p> required <code>stop_event</code> <code>Event</code> <p>Event flagging user cancellation.</p> required <code>profiler</code> <code>Profiler</code> <p>Profiler for ETA calculations.</p> required <code>progress_logger</code> <code>Logger</code> <p>Logger for progress-level messages.</p> required <code>verbose_logger</code> <code>Logger</code> <p>Logger for detailed messages.</p> required Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def __init__(\n    self,\n    queue: Queue,\n    stop_event: Event,\n    profiler: \"Profiler\",\n    progress_logger: Logger,\n    verbose_logger: Logger,\n) -&gt; None:\n    \"\"\"Sets up the queue GUI proxy.\n\n    Args:\n        queue: Multiprocessing queue for IPC.\n        stop_event: Event flagging user cancellation.\n        profiler: Profiler for ETA calculations.\n        progress_logger: Logger for progress-level messages.\n        verbose_logger: Logger for detailed messages.\n    \"\"\"\n    self.queue: Queue = queue\n    self.stop_event: Event = stop_event\n    self.profiler: \"Profiler\" = profiler\n    self.progress_logger: Logger = progress_logger\n    self.verbose_logger: Logger = verbose_logger\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI.log","title":"log","text":"<pre><code>log(message: str, level: str = 'verbose', log_type: str = 'default') -&gt; None\n</code></pre> <p>Sends a log message to the GUI via queue.</p> <p>Only 'progress' level messages are forwarded to reduce queue traffic.</p> <p>Parameters:</p> Name Type Description Default <code>message</code> <code>str</code> <p>Log message text.</p> required <code>level</code> <code>str</code> <p>Log level (only 'progress' forwarded).</p> <code>'verbose'</code> <code>log_type</code> <code>str</code> <p>Type for color coding in GUI.</p> <code>'default'</code> Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def log(self, message: str, level: str = \"verbose\", log_type: str = \"default\") -&gt; None:\n    \"\"\"Sends a log message to the GUI via queue.\n\n    Only 'progress' level messages are forwarded to reduce queue traffic.\n\n    Args:\n        message: Log message text.\n        level: Log level (only 'progress' forwarded).\n        log_type: Type for color coding in GUI.\n    \"\"\"\n    if level == \"progress\":\n        self.queue.put({\"type\": \"status\", \"message\": message, \"log_type\": log_type})\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI.update_simulation_details","title":"update_simulation_details","text":"<pre><code>update_simulation_details(sim_count: int, total_sims: int, details: str) -&gt; None\n</code></pre> <p>Sends current simulation case details to GUI.</p> <p>Parameters:</p> Name Type Description Default <code>sim_count</code> <code>int</code> <p>Current simulation number (1-indexed).</p> required <code>total_sims</code> <code>int</code> <p>Total simulations in study.</p> required <code>details</code> <code>str</code> <p>Human-readable description of current case.</p> required Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def update_simulation_details(self, sim_count: int, total_sims: int, details: str) -&gt; None:\n    \"\"\"Sends current simulation case details to GUI.\n\n    Args:\n        sim_count: Current simulation number (1-indexed).\n        total_sims: Total simulations in study.\n        details: Human-readable description of current case.\n    \"\"\"\n    self.queue.put(\n        {\n            \"type\": \"sim_details\",\n            \"count\": sim_count,\n            \"total\": total_sims,\n            \"details\": details,\n        }\n    )\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI.update_overall_progress","title":"update_overall_progress","text":"<pre><code>update_overall_progress(current_step: float, total_steps: int) -&gt; None\n</code></pre> <p>Updates overall study progress bar.</p> <p>Parameters:</p> Name Type Description Default <code>current_step</code> <code>float</code> <p>Current step number or percentage (0-100).</p> required <code>total_steps</code> <code>int</code> <p>Total steps in study.</p> required Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def update_overall_progress(self, current_step: float, total_steps: int) -&gt; None:\n    \"\"\"Updates overall study progress bar.\n\n    Args:\n        current_step: Current step number or percentage (0-100).\n        total_steps: Total steps in study.\n    \"\"\"\n    self.queue.put({\"type\": \"overall_progress\", \"current\": current_step, \"total\": total_steps})\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI.update_stage_progress","title":"update_stage_progress","text":"<pre><code>update_stage_progress(stage_name: str, current_step: int, total_steps: int, sub_stage: str = '') -&gt; None\n</code></pre> <p>Updates progress for a specific stage (setup/run/extract).</p> <p>Parameters:</p> Name Type Description Default <code>stage_name</code> <code>str</code> <p>Stage name like 'Setup' or 'Running Simulation'.</p> required <code>current_step</code> <code>int</code> <p>Current step within stage.</p> required <code>total_steps</code> <code>int</code> <p>Total steps for stage.</p> required <code>sub_stage</code> <code>str</code> <p>Optional sub-stage description.</p> <code>''</code> Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def update_stage_progress(self, stage_name: str, current_step: int, total_steps: int, sub_stage: str = \"\") -&gt; None:\n    \"\"\"Updates progress for a specific stage (setup/run/extract).\n\n    Args:\n        stage_name: Stage name like 'Setup' or 'Running Simulation'.\n        current_step: Current step within stage.\n        total_steps: Total steps for stage.\n        sub_stage: Optional sub-stage description.\n    \"\"\"\n    self.queue.put(\n        {\n            \"type\": \"stage_progress\",\n            \"name\": stage_name,\n            \"current\": current_step,\n            \"total\": total_steps,\n            \"sub_stage\": sub_stage,\n        }\n    )\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI.start_stage_animation","title":"start_stage_animation","text":"<pre><code>start_stage_animation(task_name: str, end_value: int) -&gt; None\n</code></pre> <p>Starts animated progress bar for a stage.</p> <p>Looks up time estimate from profiler and starts animation that progresses toward end_value over that duration.</p> <p>Parameters:</p> Name Type Description Default <code>task_name</code> <code>str</code> <p>Task name ('setup', 'run', 'extract', or subtask name).</p> required <code>end_value</code> <code>int</code> <p>Target progress value (typically 100).</p> required Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def start_stage_animation(self, task_name: str, end_value: int) -&gt; None:\n    \"\"\"Starts animated progress bar for a stage.\n\n    Looks up time estimate from profiler and starts animation that\n    progresses toward end_value over that duration.\n\n    Args:\n        task_name: Task name ('setup', 'run', 'extract', or subtask name).\n        end_value: Target progress value (typically 100).\n    \"\"\"\n    if task_name in [\"setup\", \"run\", \"extract\"]:\n        estimate = self.profiler.profiling_config.get(f\"avg_{task_name}_time\", 60)\n    else:\n        estimate = self.profiler.get_subtask_estimate(task_name)\n    self.queue.put({\"type\": \"start_animation\", \"estimate\": estimate, \"end_value\": end_value})\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI.end_stage_animation","title":"end_stage_animation","text":"<pre><code>end_stage_animation() -&gt; None\n</code></pre> <p>Stops the current animated progress bar.</p> Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def end_stage_animation(self) -&gt; None:\n    \"\"\"Stops the current animated progress bar.\"\"\"\n    self.queue.put({\"type\": \"end_animation\"})\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI.update_profiler","title":"update_profiler","text":"<pre><code>update_profiler() -&gt; None\n</code></pre> <p>Sends profiler state to GUI for ETA display.</p> Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def update_profiler(self) -&gt; None:\n    \"\"\"Sends profiler state to GUI for ETA display.\"\"\"\n    self.queue.put({\"type\": \"profiler_update\", \"profiler\": self.profiler})\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI.process_events","title":"process_events","text":"<pre><code>process_events() -&gt; None\n</code></pre> <p>No-op for interface compatibility with ProgressGUI.</p> Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def process_events(self) -&gt; None:\n    \"\"\"No-op for interface compatibility with ProgressGUI.\"\"\"\n    pass\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.queue_gui.QueueGUI.is_stopped","title":"is_stopped","text":"<pre><code>is_stopped() -&gt; bool\n</code></pre> <p>Checks if user requested cancellation via GUI.</p> Source code in <code>goliat/gui/queue_gui.py</code> <pre><code>def is_stopped(self) -&gt; bool:\n    \"\"\"Checks if user requested cancellation via GUI.\"\"\"\n    return self.stop_event.is_set()\n</code></pre>"},{"location":"reference/api_reference/#gui-components_1","title":"GUI Components","text":""},{"location":"reference/api_reference/#goliat.gui.components.data_manager","title":"goliat.gui.components.data_manager","text":"<p>Data management for GUI: CSV file handling and cleanup.</p>"},{"location":"reference/api_reference/#goliat.gui.components.data_manager-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.components.data_manager.DataManager","title":"DataManager","text":"<pre><code>DataManager(data_dir: str, verbose_logger: Logger)\n</code></pre> <p>Manages CSV data files for time remaining and overall progress tracking.</p> <p>Writes timestamped data points to CSV files for plotting and analysis. Automatically cleans up old files (keeps last 50) to prevent disk bloat. Creates unique session files using timestamp and process hash.</p> <p>Parameters:</p> Name Type Description Default <code>data_dir</code> <code>str</code> <p>Directory where data files will be stored.</p> required <code>verbose_logger</code> <code>Logger</code> <p>Logger for verbose messages.</p> required Source code in <code>goliat/gui/components/data_manager.py</code> <pre><code>def __init__(self, data_dir: str, verbose_logger: Logger) -&gt; None:\n    \"\"\"Sets up data manager with session-specific CSV files.\n\n    Args:\n        data_dir: Directory where data files will be stored.\n        verbose_logger: Logger for verbose messages.\n    \"\"\"\n    self.data_dir: str = data_dir\n    self.verbose_logger: Logger = verbose_logger\n    self.session_hash: str = hashlib.md5(f\"{time.time()}_{os.getpid()}\".encode()).hexdigest()[:8]\n    session_timestamp = datetime.now().strftime(\"%d-%m_%H-%M-%S\")\n\n    # Cleanup old CSV files before creating new ones\n    self._cleanup_old_data_files()\n\n    self.time_remaining_file: str = os.path.join(self.data_dir, f\"time_remaining_{session_timestamp}_{self.session_hash}.csv\")\n    self.overall_progress_file: str = os.path.join(self.data_dir, f\"overall_progress_{session_timestamp}_{self.session_hash}.csv\")\n\n    # Initialize data files\n    self._initialize_files()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.data_manager.DataManager-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.data_manager.DataManager.write_time_remaining","title":"write_time_remaining","text":"<pre><code>write_time_remaining(hours_remaining: float) -&gt; None\n</code></pre> <p>Appends a time remaining data point to CSV.</p> <p>Writes timestamp and hours remaining to session-specific CSV file. Used for plotting ETA trends over time.</p> <p>Parameters:</p> Name Type Description Default <code>hours_remaining</code> <code>float</code> <p>Estimated hours remaining as float.</p> required Source code in <code>goliat/gui/components/data_manager.py</code> <pre><code>def write_time_remaining(self, hours_remaining: float) -&gt; None:\n    \"\"\"Appends a time remaining data point to CSV.\n\n    Writes timestamp and hours remaining to session-specific CSV file.\n    Used for plotting ETA trends over time.\n\n    Args:\n        hours_remaining: Estimated hours remaining as float.\n    \"\"\"\n    try:\n        current_time = datetime.now()\n        with open(self.time_remaining_file, \"a\", newline=\"\") as f:\n            writer = csv.writer(f)\n            writer.writerow([current_time.isoformat(), hours_remaining])\n    except Exception as e:\n        self.verbose_logger.error(f\"Failed to write time remaining data: {e}\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.data_manager.DataManager.write_overall_progress","title":"write_overall_progress","text":"<pre><code>write_overall_progress(progress_percent: float) -&gt; None\n</code></pre> <p>Appends an overall progress data point to CSV.</p> <p>Writes timestamp and progress percentage to session-specific CSV file. Used for plotting progress trends over time.</p> <p>Parameters:</p> Name Type Description Default <code>progress_percent</code> <code>float</code> <p>Overall progress percentage (0-100).</p> required Source code in <code>goliat/gui/components/data_manager.py</code> <pre><code>def write_overall_progress(self, progress_percent: float) -&gt; None:\n    \"\"\"Appends an overall progress data point to CSV.\n\n    Writes timestamp and progress percentage to session-specific CSV file.\n    Used for plotting progress trends over time.\n\n    Args:\n        progress_percent: Overall progress percentage (0-100).\n    \"\"\"\n    try:\n        current_time = datetime.now()\n        with open(self.overall_progress_file, \"a\", newline=\"\") as f:\n            writer = csv.writer(f)\n            writer.writerow([current_time.isoformat(), progress_percent])\n    except Exception as e:\n        self.verbose_logger.error(f\"Failed to write overall progress data: {e}\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.plots","title":"goliat.gui.components.plots","text":"<p>Plotting components for GUI: time remaining, overall progress, and pie charts.</p>"},{"location":"reference/api_reference/#goliat.gui.components.plots-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.components.plots.TimeRemainingPlot","title":"TimeRemainingPlot","text":"<pre><code>TimeRemainingPlot()\n</code></pre> <p>Manages time remaining plot with real-time updates.</p> <p>Creates a matplotlib line plot showing ETA trends over time. Updates dynamically as new data points arrive, maintaining dark theme styling consistent with GUI. Tracks maximum time seen to set appropriate Y-axis limits.</p> Source code in <code>goliat/gui/components/plots.py</code> <pre><code>def __init__(self) -&gt; None:\n    \"\"\"Sets up matplotlib figure and axes with dark theme.\"\"\"\n    if Figure is None or FigureCanvas is None:\n        raise ImportError(\"matplotlib is required for plotting\")\n    from matplotlib.figure import Figure as _Figure\n    from matplotlib.backends.backend_qtagg import FigureCanvasQTAgg as _FigureCanvas\n    from matplotlib.axes import Axes as _Axes\n\n    self.figure: _Figure = _Figure(figsize=(10, 6), facecolor=\"#2b2b2b\")\n    self.canvas: _FigureCanvas = _FigureCanvas(self.figure)\n    self.ax: _Axes = self.figure.add_subplot(111)\n    self.data: List[Tuple[datetime, float]] = []\n    self.max_time_remaining_seen: float = 0.0\n    self._setup()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.plots.TimeRemainingPlot-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.plots.TimeRemainingPlot.add_data_point","title":"add_data_point","text":"<pre><code>add_data_point(timestamp: datetime, hours_remaining: float) -&gt; None\n</code></pre> <p>Adds data point and refreshes plot.</p> <p>Parameters:</p> Name Type Description Default <code>timestamp</code> <code>datetime</code> <p>Timestamp for the data point.</p> required <code>hours_remaining</code> <code>float</code> <p>Hours remaining as float.</p> required Source code in <code>goliat/gui/components/plots.py</code> <pre><code>def add_data_point(self, timestamp: datetime, hours_remaining: float) -&gt; None:\n    \"\"\"Adds data point and refreshes plot.\n\n    Args:\n        timestamp: Timestamp for the data point.\n        hours_remaining: Hours remaining as float.\n    \"\"\"\n    if hours_remaining &gt; self.max_time_remaining_seen:\n        self.max_time_remaining_seen = hours_remaining\n    self.data.append((timestamp, hours_remaining))\n    self._refresh()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.plots.OverallProgressPlot","title":"OverallProgressPlot","text":"<pre><code>OverallProgressPlot()\n</code></pre> <p>Manages overall progress plot with real-time updates.</p> <p>Creates a matplotlib line plot showing progress percentage trends over time. Updates dynamically as new data points arrive. Uses green color scheme to distinguish from time remaining plot. Y-axis fixed at 0-100%.</p> Source code in <code>goliat/gui/components/plots.py</code> <pre><code>def __init__(self) -&gt; None:\n    \"\"\"Sets up matplotlib figure and axes with dark theme.\"\"\"\n    if Figure is None or FigureCanvas is None:\n        raise ImportError(\"matplotlib is required for plotting\")\n    from matplotlib.figure import Figure as _Figure\n    from matplotlib.backends.backend_qtagg import FigureCanvasQTAgg as _FigureCanvas\n    from matplotlib.axes import Axes as _Axes\n\n    self.figure: _Figure = _Figure(figsize=(10, 6), facecolor=\"#2b2b2b\")\n    self.canvas: _FigureCanvas = _FigureCanvas(self.figure)\n    self.ax: _Axes = self.figure.add_subplot(111)\n    self.data: List[Tuple[datetime, float]] = []\n    self.max_progress_seen: float = 0.0\n    self._setup()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.plots.OverallProgressPlot-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.plots.OverallProgressPlot.add_data_point","title":"add_data_point","text":"<pre><code>add_data_point(timestamp: datetime, progress_percent: float) -&gt; None\n</code></pre> <p>Adds data point and refreshes plot.</p> <p>Parameters:</p> Name Type Description Default <code>timestamp</code> <code>datetime</code> <p>Timestamp for the data point.</p> required <code>progress_percent</code> <code>float</code> <p>Progress percentage as float.</p> required Source code in <code>goliat/gui/components/plots.py</code> <pre><code>def add_data_point(self, timestamp: datetime, progress_percent: float) -&gt; None:\n    \"\"\"Adds data point and refreshes plot.\n\n    Args:\n        timestamp: Timestamp for the data point.\n        progress_percent: Progress percentage as float.\n    \"\"\"\n    if progress_percent &gt; self.max_progress_seen:\n        self.max_progress_seen = progress_percent\n    self.data.append((timestamp, progress_percent))\n    self._refresh()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.plots.PieChartsManager","title":"PieChartsManager","text":"<pre><code>PieChartsManager()\n</code></pre> <p>Manages four pie charts displaying timing breakdowns by phase and subtask.</p> <p>Shows visual breakdown of execution time: - Top-left: Phase weights (setup/run/extract relative durations) - Top-right: Setup subtasks breakdown - Bottom-left: Run subtasks breakdown - Bottom-right: Extract subtasks breakdown</p> <p>Updates automatically when profiler state changes. Filters out fake aggregated entries. Uses color palette for visual distinction.</p> Source code in <code>goliat/gui/components/plots.py</code> <pre><code>def __init__(self) -&gt; None:\n    \"\"\"Sets up matplotlib figure with 2x2 subplot grid.\"\"\"\n    if Figure is None or FigureCanvas is None:\n        raise ImportError(\"matplotlib is required for plotting\")\n    from matplotlib.figure import Figure as _Figure\n    from matplotlib.backends.backend_qtagg import FigureCanvasQTAgg as _FigureCanvas\n    from matplotlib.axes import Axes as _Axes\n\n    self.figure: _Figure = _Figure(figsize=(12, 10), facecolor=\"#2b2b2b\")\n    self.canvas: _FigureCanvas = _FigureCanvas(self.figure)\n    self.axes: List[_Axes] = [\n        self.figure.add_subplot(221),  # Top-left: Phase weights\n        self.figure.add_subplot(222),  # Top-right: Setup subtasks\n        self.figure.add_subplot(223),  # Bottom-left: Run subtasks\n        self.figure.add_subplot(224),  # Bottom-right: Extract subtasks\n    ]\n    self._setup()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.plots.PieChartsManager-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.plots.PieChartsManager.update","title":"update","text":"<pre><code>update(profiler: Profiler) -&gt; None\n</code></pre> <p>Updates pie charts with timing data from profiler.</p> <p>Collects phase weights and subtask timing data, filters out fake aggregated entries, and renders pie charts with percentages. Charts show relative time spent in each phase/subtask, helping identify bottlenecks.</p> <p>Parameters:</p> Name Type Description Default <code>profiler</code> <code>Profiler</code> <p>Profiler instance containing timing data.</p> required Source code in <code>goliat/gui/components/plots.py</code> <pre><code>def update(self, profiler: \"Profiler\") -&gt; None:\n    \"\"\"Updates pie charts with timing data from profiler.\n\n    Collects phase weights and subtask timing data, filters out fake\n    aggregated entries, and renders pie charts with percentages. Charts\n    show relative time spent in each phase/subtask, helping identify\n    bottlenecks.\n\n    Args:\n        profiler: Profiler instance containing timing data.\n    \"\"\"\n    if not profiler:\n        return\n\n    colors = [\"#ff6b6b\", \"#4ecdc4\", \"#45b7d1\", \"#f9ca24\", \"#6c5ce7\", \"#00b894\", \"#fdcb6e\", \"#e17055\"]\n\n    # Chart 0 (Top-left): Phase Weights\n    ax0 = self.axes[0]\n    ax0.clear()\n    ax0.set_facecolor(\"#2b2b2b\")\n\n    # Get phase weights/times\n    phase_weights: Dict[str, float] = {}\n    for phase in [\"setup\", \"run\", \"extract\"]:\n        avg_time = profiler.profiling_config.get(f\"avg_{phase}_time\")\n        if avg_time is not None:\n            phase_weights[phase.capitalize()] = avg_time\n\n    if phase_weights:\n        labels = list(phase_weights.keys())\n        sizes = list(phase_weights.values())\n\n        pie_result = ax0.pie(\n            sizes,\n            labels=labels,\n            autopct=\"%1.1f%%\",\n            startangle=90,\n            colors=[\"#ff6b6b\", \"#4ecdc4\", \"#45b7d1\"],\n            textprops={\"color\": \"#f0f0f0\", \"fontsize\": 10},\n        )\n\n        autotexts = pie_result[2] if len(pie_result) &gt; 2 else []\n        for autotext in autotexts:\n            autotext.set_color(\"#2b2b2b\")\n            autotext.set_fontweight(\"bold\")\n            autotext.set_fontsize(9)\n\n        ax0.set_title(\"Phase Weights\", fontsize=12, color=\"#f0f0f0\", pad=10)\n    else:\n        ax0.text(0.5, 0.5, \"No data\", ha=\"center\", va=\"center\", fontsize=12, color=\"#f0f0f0\", transform=ax0.transAxes)\n        ax0.set_title(\"Phase Weights\", fontsize=12, color=\"#f0f0f0\", pad=10)\n\n    # Charts 1-3: Subtasks for each phase\n    phases = [\"setup\", \"run\", \"extract\"]\n    phase_titles = [\"Setup Subtasks\", \"Run Subtasks\", \"Extract Subtasks\"]\n\n    for i, (phase, title) in enumerate(zip(phases, phase_titles), start=1):\n        ax = self.axes[i]\n        ax.clear()\n        ax.set_facecolor(\"#2b2b2b\")\n\n        # Collect subtask data for this phase\n        # Filter out fake aggregated entries\n        fake_entries = [\"simulation\", \"simulation_total\", \"results_total\"]\n\n        subtask_data: Dict[str, float] = {}\n        for key, value in profiler.profiling_config.items():\n            if key.startswith(f\"avg_{phase}_\") and key != f\"avg_{phase}_time\":\n                # Extract the subtask name (everything after \"avg_{phase}_\")\n                subtask_key = key.replace(f\"avg_{phase}_\", \"\")\n\n                # Skip fake aggregated entries\n                if subtask_key in fake_entries:\n                    continue\n\n                task_name = subtask_key.replace(\"_\", \" \").capitalize()\n                subtask_data[task_name] = value\n\n        if subtask_data:\n            labels = list(subtask_data.keys())\n            sizes = list(subtask_data.values())\n\n            # Create pie chart\n            pie_result = ax.pie(\n                sizes,\n                labels=labels,\n                autopct=\"%1.1f%%\",\n                startangle=90,\n                colors=colors[: len(labels)],\n                textprops={\"color\": \"#f0f0f0\", \"fontsize\": 9},\n            )\n\n            # Unpack result safely\n            autotexts = pie_result[2] if len(pie_result) &gt; 2 else []\n\n            # Enhance text visibility\n            for autotext in autotexts:\n                autotext.set_color(\"#2b2b2b\")\n                autotext.set_fontweight(\"bold\")\n                autotext.set_fontsize(8)\n\n            ax.set_title(title, fontsize=12, color=\"#f0f0f0\", pad=10)\n        else:\n            ax.text(0.5, 0.5, \"No data\", ha=\"center\", va=\"center\", fontsize=12, color=\"#f0f0f0\", transform=ax.transAxes)\n            ax.set_title(title, fontsize=12, color=\"#f0f0f0\", pad=10)\n\n    self.figure.tight_layout()\n    self.canvas.draw()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.progress_animation","title":"goliat.gui.components.progress_animation","text":"<p>Progress bar animation logic.</p>"},{"location":"reference/api_reference/#goliat.gui.components.progress_animation-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.components.progress_animation.ProgressAnimation","title":"ProgressAnimation","text":"<pre><code>ProgressAnimation(progress_bar: QProgressBar, timer: QTimer, debug: bool = False)\n</code></pre> <p>Manages smooth progress bar animations based on estimated durations.</p> <p>Provides linear interpolation animation for progress bars when explicit progress updates aren't available. Animates from current value to target (100%) over estimated duration, giving visual feedback during long tasks.</p> <p>Updates every 50ms via Qt timer, calculating progress ratio from elapsed time and duration. Stops automatically when target is reached or stopped explicitly.</p> <p>Parameters:</p> Name Type Description Default <code>progress_bar</code> <code>QProgressBar</code> <p>Progress bar widget to animate (0-1000 range).</p> required <code>timer</code> <code>QTimer</code> <p>QTimer instance for animation updates (50ms interval).</p> required <code>debug</code> <code>bool</code> <p>Enable debug logging (currently unused).</p> <code>False</code> Source code in <code>goliat/gui/components/progress_animation.py</code> <pre><code>def __init__(self, progress_bar: \"QProgressBar\", timer: \"QTimer\", debug: bool = False) -&gt; None:\n    \"\"\"Sets up the animation handler.\n\n    Args:\n        progress_bar: Progress bar widget to animate (0-1000 range).\n        timer: QTimer instance for animation updates (50ms interval).\n        debug: Enable debug logging (currently unused).\n    \"\"\"\n    from PySide6.QtWidgets import QProgressBar as _QProgressBar\n    from PySide6.QtCore import QTimer as _QTimer\n\n    self.progress_bar: _QProgressBar = progress_bar\n    self.timer: _QTimer = timer\n    self.debug: bool = debug\n    self.active: bool = False\n    self.start_time: float = 0.0\n    self.duration: float = 0.0\n    self.start_value: int = 0\n    self.end_value: int = 0\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.progress_animation.ProgressAnimation-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.progress_animation.ProgressAnimation.start","title":"start","text":"<pre><code>start(estimated_duration: float, end_step: int) -&gt; None\n</code></pre> <p>Starts smooth animation for progress bar.</p> <p>Begins linear interpolation from current value to 100% over estimated duration. If already at 100%, skips animation. Starts Qt timer if not already active.</p> <p>Parameters:</p> Name Type Description Default <code>estimated_duration</code> <code>float</code> <p>Estimated task duration in seconds (from profiler).</p> required <code>end_step</code> <code>int</code> <p>Target step value (unused, always animates to 100%).</p> required Source code in <code>goliat/gui/components/progress_animation.py</code> <pre><code>def start(self, estimated_duration: float, end_step: int) -&gt; None:\n    \"\"\"Starts smooth animation for progress bar.\n\n    Begins linear interpolation from current value to 100% over estimated\n    duration. If already at 100%, skips animation. Starts Qt timer if\n    not already active.\n\n    Args:\n        estimated_duration: Estimated task duration in seconds (from profiler).\n        end_step: Target step value (unused, always animates to 100%).\n    \"\"\"\n    if self.debug:\n        self._log(f\"start_animation received: duration={estimated_duration:.2f}s, end_step={end_step}\")\n\n    self.start_time = time.monotonic()\n    self.duration = estimated_duration\n    self.start_value = self.progress_bar.value()\n    self.end_value = 1000  # Progress bar range is 0-1000\n\n    if self.start_value &gt;= self.end_value:\n        if self.debug:\n            self._log(\"Animation skipped, start_value &gt;= end_value.\")\n        return\n\n    self.active = True\n    if not self.timer.isActive():\n        self.timer.start(50)\n    if self.debug:\n        self._log(\"Animation started.\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.progress_animation.ProgressAnimation.stop","title":"stop","text":"<pre><code>stop() -&gt; None\n</code></pre> <p>Stops the progress bar animation.</p> Source code in <code>goliat/gui/components/progress_animation.py</code> <pre><code>def stop(self) -&gt; None:\n    \"\"\"Stops the progress bar animation.\"\"\"\n    if self.active and self.debug:\n        self._log(\"end_animation called.\")\n    self.active = False\n    if self.timer.isActive():\n        self.timer.stop()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.progress_animation.ProgressAnimation.update","title":"update","text":"<pre><code>update() -&gt; None\n</code></pre> <p>Updates progress bar animation frame by frame.</p> <p>Calculates current progress ratio based on elapsed time and duration, then interpolates between start and end values. Updates progress bar value and format string. Called every 50ms by Qt timer when active.</p> Source code in <code>goliat/gui/components/progress_animation.py</code> <pre><code>def update(self) -&gt; None:\n    \"\"\"Updates progress bar animation frame by frame.\n\n    Calculates current progress ratio based on elapsed time and duration,\n    then interpolates between start and end values. Updates progress bar\n    value and format string. Called every 50ms by Qt timer when active.\n    \"\"\"\n    if not self.active:\n        return\n\n    elapsed = time.monotonic() - self.start_time\n\n    if self.duration &gt; 0:\n        progress_ratio = min(elapsed / self.duration, 1.0)\n    else:\n        progress_ratio = 1.0\n\n    value_range = self.end_value - self.start_value\n    current_value = self.start_value + int(value_range * progress_ratio)\n    current_value = min(current_value, self.end_value)\n\n    self.progress_bar.setValue(current_value)\n    percent = (current_value / 1000) * 100\n    self.progress_bar.setFormat(f\"{percent:.0f}%\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.queue_handler","title":"goliat.gui.components.queue_handler","text":"<p>Queue message handler for processing messages from worker process.</p>"},{"location":"reference/api_reference/#goliat.gui.components.queue_handler-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.components.queue_handler.QueueHandler","title":"QueueHandler","text":"<pre><code>QueueHandler(gui_instance: ProgressGUI)\n</code></pre> <p>Handles processing of messages from the worker process queue.</p> <p>Polls the multiprocessing queue and dispatches messages to appropriate GUI update methods. This decouples message handling from queue polling, making the code cleaner and easier to test.</p> <p>Message types: - 'status': Log message with color coding - 'overall_progress': Update overall progress bar - 'stage_progress': Update stage progress bar - 'start_animation': Start animated progress bar - 'end_animation': Stop animation - 'profiler_update': Update profiler state and refresh timing displays - 'sim_details': Update simulation counter and details - 'finished': Study completed successfully - 'fatal_error': Study failed with fatal error</p> <p>Parameters:</p> Name Type Description Default <code>gui_instance</code> <code>ProgressGUI</code> <p>ProgressGUI instance to update with messages.</p> required Source code in <code>goliat/gui/components/queue_handler.py</code> <pre><code>def __init__(self, gui_instance: \"ProgressGUI\") -&gt; None:\n    \"\"\"Sets up the queue handler.\n\n    Args:\n        gui_instance: ProgressGUI instance to update with messages.\n    \"\"\"\n    self.gui: \"ProgressGUI\" = gui_instance\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.queue_handler.QueueHandler-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.queue_handler.QueueHandler.process_queue","title":"process_queue","text":"<pre><code>process_queue() -&gt; None\n</code></pre> <p>Processes messages from worker process queue and updates UI accordingly.</p> <p>Polls queue non-blockingly and processes all available messages in one call. Handles different message types by calling appropriate GUI methods. Catches and logs exceptions to prevent one bad message from crashing GUI.</p> <p>This method is called every 100ms by Qt timer to keep UI responsive.</p> Source code in <code>goliat/gui/components/queue_handler.py</code> <pre><code>def process_queue(self) -&gt; None:\n    \"\"\"Processes messages from worker process queue and updates UI accordingly.\n\n    Polls queue non-blockingly and processes all available messages in one\n    call. Handles different message types by calling appropriate GUI methods.\n    Catches and logs exceptions to prevent one bad message from crashing GUI.\n\n    This method is called every 100ms by Qt timer to keep UI responsive.\n    \"\"\"\n    while not self.gui.queue.empty():\n        try:\n            msg: Dict[str, Any] = self.gui.queue.get_nowait()\n            msg_type: Optional[str] = msg.get(\"type\")\n\n            if msg_type == \"status\":\n                self.gui.update_status(msg[\"message\"], msg.get(\"log_type\", \"default\"))\n            elif msg_type == \"overall_progress\":\n                self.gui.update_overall_progress(msg[\"current\"], msg[\"total\"])\n            elif msg_type == \"stage_progress\":\n                self.gui.update_stage_progress(msg[\"name\"], msg[\"current\"], msg[\"total\"], msg.get(\"sub_stage\", \"\"))\n            elif msg_type == \"start_animation\":\n                self.gui.start_stage_animation(msg[\"estimate\"], msg[\"end_value\"])\n            elif msg_type == \"end_animation\":\n                self.gui.end_stage_animation()\n            elif msg_type == \"profiler_update\":\n                self.gui.profiler = msg.get(\"profiler\")\n                if self.gui.profiler:\n                    self.gui.profiler_phase = self.gui.profiler.current_phase\n                    self.gui.timings_table.update(self.gui.profiler)\n                    self.gui.piecharts_manager.update(self.gui.profiler)\n            elif msg_type == \"sim_details\":\n                self.gui.update_simulation_details(msg[\"count\"], msg[\"total\"], msg[\"details\"])\n            elif msg_type == \"finished\":\n                self.gui.study_finished()\n            elif msg_type == \"fatal_error\":\n                self.gui.update_status(f\"FATAL ERROR: {msg['message']}\", log_type=\"fatal\")\n                self.gui.study_finished(error=True)\n\n        except Empty:\n            break\n        except Exception as e:\n            self.gui.verbose_logger.error(f\"Error processing GUI queue: {e}\\n{traceback.format_exc()}\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.status_manager","title":"goliat.gui.components.status_manager","text":"<p>Status management for GUI: colors, counting, and formatting.</p>"},{"location":"reference/api_reference/#goliat.gui.components.status_manager-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.components.status_manager.StatusManager","title":"StatusManager","text":"<pre><code>StatusManager()\n</code></pre> <p>Manages status colors, counting, and message formatting for GUI.</p> <p>Handles color mapping for different log types (info, warning, error, etc.), counts warnings and errors for display in error summary, and formats messages with HTML color styling for the QTextEdit widget.</p> <p>Note: Uses white for 'progress' messages in GUI (unlike terminal colors) because all messages shown here are progress updates. This improves readability in the dark-themed GUI.</p> Source code in <code>goliat/gui/components/status_manager.py</code> <pre><code>def __init__(self) -&gt; None:\n    \"\"\"Initializes status manager with default counters and color map.\"\"\"\n    self.warning_count: int = 0\n    self.error_count: int = 0\n\n    # Color mapping - NOTE: Intentionally using white for \"progress\" in GUI\n    # since all messages shown here are progress updates. This deviates from\n    # the terminal color scheme defined in goliat/colors.py for better readability.\n    self.color_map: dict[str, str] = {\n        \"default\": \"#f0f0f0\",  # WHITE\n        \"progress\": \"#f0f0f0\",  # WHITE (GUI-specific override)\n        \"info\": \"#17a2b8\",  # CYAN\n        \"verbose\": \"#007acc\",  # BLUE\n        \"warning\": \"#ffc107\",  # YELLOW\n        \"error\": \"#dc3545\",  # RED\n        \"fatal\": \"#d63384\",  # MAGENTA\n        \"success\": \"#5cb85c\",  # BRIGHT GREEN\n        \"header\": \"#e83e8c\",  # BRIGHT MAGENTA\n        \"highlight\": \"#ffd700\",  # BRIGHT YELLOW\n        \"caller\": \"#6c757d\",  # DIM (gray)\n    }\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.status_manager.StatusManager-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.status_manager.StatusManager.get_color","title":"get_color","text":"<pre><code>get_color(log_type: str) -&gt; str\n</code></pre> <p>Gets HTML color code for a log type.</p> <p>Parameters:</p> Name Type Description Default <code>log_type</code> <code>str</code> <p>Type of log message.</p> required <p>Returns:</p> Type Description <code>str</code> <p>HTML color code (hex).</p> Source code in <code>goliat/gui/components/status_manager.py</code> <pre><code>def get_color(self, log_type: str) -&gt; str:\n    \"\"\"Gets HTML color code for a log type.\n\n    Args:\n        log_type: Type of log message.\n\n    Returns:\n        HTML color code (hex).\n    \"\"\"\n    return self.color_map.get(log_type, \"#f0f0f0\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.status_manager.StatusManager.format_message","title":"format_message","text":"<pre><code>format_message(message: str, log_type: str = 'default') -&gt; str\n</code></pre> <p>Formats message with HTML color styling.</p> <p>Preserves leading spaces by converting them to \u00a0 entities, then wraps message in a  tag with appropriate color style. <p>Parameters:</p> Name Type Description Default <code>message</code> <code>str</code> <p>Message text to format.</p> required <code>log_type</code> <code>str</code> <p>Log type for color selection.</p> <code>'default'</code> <p>Returns:</p> Type Description <code>str</code> <p>HTML-formatted message string ready for QTextEdit.</p> Source code in <code>goliat/gui/components/status_manager.py</code> <pre><code>def format_message(self, message: str, log_type: str = \"default\") -&gt; str:\n    \"\"\"Formats message with HTML color styling.\n\n    Preserves leading spaces by converting them to &amp;nbsp; entities, then\n    wraps message in a &lt;span&gt; tag with appropriate color style.\n\n    Args:\n        message: Message text to format.\n        log_type: Log type for color selection.\n\n    Returns:\n        HTML-formatted message string ready for QTextEdit.\n    \"\"\"\n    # Preserve leading spaces by converting them to &amp;nbsp;\n    preserved_message = message.replace(\" \", \"&amp;nbsp;\")\n    color = self.get_color(log_type)\n    return f'&lt;span style=\"color:{color};\"&gt;{preserved_message}&lt;/span&gt;'\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.status_manager.StatusManager.record_log","title":"record_log","text":"<pre><code>record_log(log_type: str) -&gt; None\n</code></pre> <p>Records log entry and updates warning/error counters.</p> <p>Parameters:</p> Name Type Description Default <code>log_type</code> <code>str</code> <p>Type of log message.</p> required Source code in <code>goliat/gui/components/status_manager.py</code> <pre><code>def record_log(self, log_type: str) -&gt; None:\n    \"\"\"Records log entry and updates warning/error counters.\n\n    Args:\n        log_type: Type of log message.\n    \"\"\"\n    if log_type == \"warning\":\n        self.warning_count += 1\n    elif log_type in [\"error\", \"fatal\"]:\n        self.error_count += 1\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.status_manager.StatusManager.get_error_summary","title":"get_error_summary","text":"<pre><code>get_error_summary() -&gt; str\n</code></pre> <p>Gets formatted summary of warnings and errors.</p> <p>Returns:</p> Type Description <code>str</code> <p>Formatted string with emoji indicators and counts.</p> Source code in <code>goliat/gui/components/status_manager.py</code> <pre><code>def get_error_summary(self) -&gt; str:\n    \"\"\"Gets formatted summary of warnings and errors.\n\n    Returns:\n        Formatted string with emoji indicators and counts.\n    \"\"\"\n    return f\"\u26a0\ufe0f Warnings: {self.warning_count} | \u274c Errors: {self.error_count}\"\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.timings_table","title":"goliat.gui.components.timings_table","text":"<p>Timings table component for displaying profiling statistics.</p>"},{"location":"reference/api_reference/#goliat.gui.components.timings_table-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.components.timings_table.TimingsTable","title":"TimingsTable","text":"<pre><code>TimingsTable(table_widget: QTableWidget)\n</code></pre> <p>Manages timings table displaying profiling statistics.</p> <p>Shows execution time statistics (mean, median, min, max, percentiles) for all phases and subtasks. Filters out fake aggregated entries and organizes data by phase for easy inspection. Updates automatically when profiler state changes via queue messages.</p> <p>Parameters:</p> Name Type Description Default <code>table_widget</code> <code>QTableWidget</code> <p>QTableWidget instance to populate with timing data.</p> required Source code in <code>goliat/gui/components/timings_table.py</code> <pre><code>def __init__(self, table_widget: QTableWidget) -&gt; None:\n    \"\"\"Sets up the timings table widget.\n\n    Args:\n        table_widget: QTableWidget instance to populate with timing data.\n    \"\"\"\n    self.table: QTableWidget = table_widget\n    self._setup_table()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.timings_table.TimingsTable-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.timings_table.TimingsTable.update","title":"update","text":"<pre><code>update(profiler: Profiler) -&gt; None\n</code></pre> <p>Populates table with timing statistics from profiler.</p> <p>Collects all phase and subtask timing data, computes statistics (mean, median, percentiles), and displays in table. Filters out fake aggregated entries that shouldn't be shown.</p> <p>Statistics computed: - Mean, median, min, max - 10<sup>th</sup>, 25<sup>th</sup>, 75<sup>th</sup>, 90<sup>th</sup> percentiles</p> <p>Parameters:</p> Name Type Description Default <code>profiler</code> <code>Profiler</code> <p>Profiler instance containing timing data.</p> required Source code in <code>goliat/gui/components/timings_table.py</code> <pre><code>def update(self, profiler: \"Profiler\") -&gt; None:\n    \"\"\"Populates table with timing statistics from profiler.\n\n    Collects all phase and subtask timing data, computes statistics\n    (mean, median, percentiles), and displays in table. Filters out\n    fake aggregated entries that shouldn't be shown.\n\n    Statistics computed:\n    - Mean, median, min, max\n    - 10th, 25th, 75th, 90th percentiles\n\n    Args:\n        profiler: Profiler instance containing timing data.\n    \"\"\"\n    if not profiler:\n        return\n\n    self.table.setRowCount(0)\n\n    # Collect all tasks with their raw timing data\n    all_tasks: Dict[str, Dict[str, Any]] = {}\n    for phase in [\"setup\", \"run\", \"extract\"]:\n        avg_time = profiler.profiling_config.get(f\"avg_{phase}_time\")\n        if avg_time is not None:\n            raw_times = profiler.subtask_times.get(phase, [])\n            all_tasks[f\"{phase}_total\"] = {\n                \"phase\": phase,\n                \"subtask\": \"---\",\n                \"raw_times\": raw_times if raw_times else [avg_time],\n            }\n\n    # Filter out fake aggregated entries that shouldn't be displayed\n    fake_entries = [\"setup_simulation\", \"run_simulation_total\", \"extract_results_total\"]\n\n    for key, value in profiler.profiling_config.items():\n        if key.startswith(\"avg_\") and \"_time\" not in key:\n            task_name = key.replace(\"avg_\", \"\")\n\n            # Skip fake aggregated entries\n            if task_name in fake_entries:\n                continue\n\n            parts = task_name.split(\"_\", 1)\n            phase = parts[0]\n            subtask_name = parts[1] if len(parts) &gt; 1 else phase\n            raw_times = profiler.subtask_times.get(task_name, [])\n            all_tasks[key] = {\n                \"phase\": phase,\n                \"subtask\": subtask_name,\n                \"raw_times\": raw_times if raw_times else [value],\n            }\n\n    # Populate table with statistics\n    for task_info in all_tasks.values():\n        row_position = self.table.rowCount()\n        self.table.insertRow(row_position)\n\n        times: List[float] = task_info.get(\"raw_times\", [])\n        if times:\n            times_array = np.array(times)\n            mean_val = float(np.mean(times_array))\n            median_val = float(np.median(times_array))\n            min_val = float(np.min(times_array))\n            max_val = float(np.max(times_array))\n            p10 = float(np.percentile(times_array, 10))\n            p25 = float(np.percentile(times_array, 25))\n            p75 = float(np.percentile(times_array, 75))\n            p90 = float(np.percentile(times_array, 90))\n        else:\n            mean_val = median_val = min_val = max_val = p10 = p25 = p75 = p90 = 0.0\n\n        # Create items and set text color to ensure visibility in both light and dark modes\n        light_text_color = QColor(\"#f0f0f0\")\n        items = [\n            QTableWidgetItem(task_info.get(\"phase\", \"N/A\")),\n            QTableWidgetItem(task_info.get(\"subtask\", \"---\")),\n            QTableWidgetItem(f\"{mean_val:.2f}\"),\n            QTableWidgetItem(f\"{median_val:.2f}\"),\n            QTableWidgetItem(f\"{min_val:.2f}\"),\n            QTableWidgetItem(f\"{max_val:.2f}\"),\n            QTableWidgetItem(f\"{p10:.2f}\"),\n            QTableWidgetItem(f\"{p25:.2f}\"),\n            QTableWidgetItem(f\"{p75:.2f}\"),\n            QTableWidgetItem(f\"{p90:.2f}\"),\n        ]\n        for item in items:\n            item.setForeground(light_text_color)\n\n        self.table.setItem(row_position, 0, items[0])\n        self.table.setItem(row_position, 1, items[1])\n        self.table.setItem(row_position, 2, items[2])\n        self.table.setItem(row_position, 3, items[3])\n        self.table.setItem(row_position, 4, items[4])\n        self.table.setItem(row_position, 5, items[5])\n        self.table.setItem(row_position, 6, items[6])\n        self.table.setItem(row_position, 7, items[7])\n        self.table.setItem(row_position, 8, items[8])\n        self.table.setItem(row_position, 9, items[9])\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.tray_manager","title":"goliat.gui.components.tray_manager","text":"<p>Tray icon management component.</p>"},{"location":"reference/api_reference/#goliat.gui.components.tray_manager-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.components.tray_manager.TrayManager","title":"TrayManager","text":"<pre><code>TrayManager(parent_widget: QWidget, show_callback: Callable[[], None], close_callback: Callable[[], None])\n</code></pre> <p>Manages system tray icon and menu.</p> <p>Handles system tray integration for background operation. Shows tray icon with favicon, provides context menu (Show/Exit), and handles click events to restore window. Allows users to minimize GUI to tray and continue monitoring via icon.</p> <p>Parameters:</p> Name Type Description Default <code>parent_widget</code> <code>QWidget</code> <p>Parent widget (ProgressGUI window).</p> required <code>show_callback</code> <code>Callable[[], None]</code> <p>Function to call when restoring window.</p> required <code>close_callback</code> <code>Callable[[], None]</code> <p>Function to call when exiting application.</p> required Source code in <code>goliat/gui/components/tray_manager.py</code> <pre><code>def __init__(self, parent_widget: QWidget, show_callback: Callable[[], None], close_callback: Callable[[], None]) -&gt; None:\n    \"\"\"Sets up tray icon with menu.\n\n    Args:\n        parent_widget: Parent widget (ProgressGUI window).\n        show_callback: Function to call when restoring window.\n        close_callback: Function to call when exiting application.\n    \"\"\"\n    self.parent: QWidget = parent_widget\n    self.tray_icon: QSystemTrayIcon = QSystemTrayIcon(parent_widget)\n\n    # Set icon\n    icon_path = os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__)))), \"docs\", \"img\", \"favicon.svg\")\n    if os.path.exists(icon_path):\n        self.tray_icon.setIcon(QIcon(icon_path))\n    else:\n        style = parent_widget.style()\n        icon = style.standardIcon(style.StandardPixmap.SP_ComputerIcon)\n        self.tray_icon.setIcon(icon)\n    self.tray_icon.setToolTip(\"Simulation is running...\")\n\n    # Create menu\n    tray_menu = QMenu(parent_widget)\n    show_action = QAction(\"Show\", parent_widget)\n    show_action.triggered.connect(show_callback)\n    tray_menu.addAction(show_action)\n\n    exit_action = QAction(\"Exit\", parent_widget)\n    exit_action.triggered.connect(close_callback)\n    tray_menu.addAction(exit_action)\n\n    self.tray_icon.setContextMenu(tray_menu)\n    self.tray_icon.activated.connect(lambda reason: self._tray_icon_activated(reason, show_callback))\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.tray_manager.TrayManager-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.tray_manager.TrayManager.show","title":"show","text":"<pre><code>show() -&gt; None\n</code></pre> <p>Shows the tray icon.</p> Source code in <code>goliat/gui/components/tray_manager.py</code> <pre><code>def show(self) -&gt; None:\n    \"\"\"Shows the tray icon.\"\"\"\n    self.tray_icon.show()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.tray_manager.TrayManager.hide","title":"hide","text":"<pre><code>hide() -&gt; None\n</code></pre> <p>Hides the tray icon.</p> Source code in <code>goliat/gui/components/tray_manager.py</code> <pre><code>def hide(self) -&gt; None:\n    \"\"\"Hides the tray icon.\"\"\"\n    self.tray_icon.hide()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.tray_manager.TrayManager.is_visible","title":"is_visible","text":"<pre><code>is_visible() -&gt; bool\n</code></pre> <p>Checks if tray icon is visible.</p> <p>Returns:</p> Type Description <code>bool</code> <p>True if visible, False otherwise.</p> Source code in <code>goliat/gui/components/tray_manager.py</code> <pre><code>def is_visible(self) -&gt; bool:\n    \"\"\"Checks if tray icon is visible.\n\n    Returns:\n        True if visible, False otherwise.\n    \"\"\"\n    return self.tray_icon.isVisible()\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.ui_builder","title":"goliat.gui.components.ui_builder","text":"<p>UI builder component for constructing the ProgressGUI interface.</p>"},{"location":"reference/api_reference/#goliat.gui.components.ui_builder-classes","title":"Classes","text":""},{"location":"reference/api_reference/#goliat.gui.components.ui_builder.UIBuilder","title":"UIBuilder","text":"<p>Builds UI components for ProgressGUI.</p> <p>Provides static methods to construct the complete GUI layout, including tabs, progress bars, plots, tables, and buttons. Handles styling via Qt stylesheets for dark theme appearance.</p>"},{"location":"reference/api_reference/#goliat.gui.components.ui_builder.UIBuilder-functions","title":"Functions","text":""},{"location":"reference/api_reference/#goliat.gui.components.ui_builder.UIBuilder.get_icon_path","title":"get_icon_path  <code>staticmethod</code>","text":"<pre><code>get_icon_path() -&gt; str\n</code></pre> <p>Gets path to window icon.</p> <p>Returns:</p> Type Description <code>str</code> <p>Absolute path to favicon.svg.</p> Source code in <code>goliat/gui/components/ui_builder.py</code> <pre><code>@staticmethod\ndef get_icon_path() -&gt; str:\n    \"\"\"Gets path to window icon.\n\n    Returns:\n        Absolute path to favicon.svg.\n    \"\"\"\n    return os.path.join(os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__)))), \"docs\", \"img\", \"favicon.svg\")\n</code></pre>"},{"location":"reference/api_reference/#goliat.gui.components.ui_builder.UIBuilder.build","title":"build  <code>staticmethod</code>","text":"<pre><code>build(gui_instance: ProgressGUI, status_manager: StatusManager) -&gt; None\n</code></pre> <p>Builds complete UI for the GUI instance.</p> <p>Sets up window properties, applies stylesheet, creates tabs (Progress, Timings, Piecharts, Time Remaining, Overall Progress), and adds control buttons. Attaches components to gui_instance for later access.</p> <p>Parameters:</p> Name Type Description Default <code>gui_instance</code> <code>ProgressGUI</code> <p>ProgressGUI instance to build UI for.</p> required <code>status_manager</code> <code>StatusManager</code> <p>StatusManager instance for error summary display.</p> required Source code in <code>goliat/gui/components/ui_builder.py</code> <pre><code>@staticmethod\ndef build(gui_instance: \"ProgressGUI\", status_manager: \"StatusManager\") -&gt; None:\n    \"\"\"Builds complete UI for the GUI instance.\n\n    Sets up window properties, applies stylesheet, creates tabs (Progress,\n    Timings, Piecharts, Time Remaining, Overall Progress), and adds\n    control buttons. Attaches components to gui_instance for later access.\n\n    Args:\n        gui_instance: ProgressGUI instance to build UI for.\n        status_manager: StatusManager instance for error summary display.\n    \"\"\"\n    gui_instance.setWindowTitle(gui_instance.init_window_title)\n    gui_instance.resize(800, 900)\n\n    # Set window icon\n    icon_path = UIBuilder.get_icon_path()\n    if os.path.exists(icon_path):\n        gui_instance.setWindowIcon(QIcon(icon_path))\n\n    gui_instance.setStyleSheet(UIBuilder.STYLESHEET)\n\n    main_layout = QVBoxLayout(gui_instance)\n    gui_instance.tabs = QTabWidget()\n    main_layout.addWidget(gui_instance.tabs)\n\n    # Build tabs\n    UIBuilder._build_progress_tab(gui_instance, status_manager)\n    UIBuilder._build_timings_tab(gui_instance)\n    UIBuilder._build_piecharts_tab(gui_instance)\n    UIBuilder._build_time_remaining_tab(gui_instance)\n    UIBuilder._build_overall_progress_tab(gui_instance)\n\n    # Build buttons\n    UIBuilder._build_buttons(gui_instance, main_layout)\n</code></pre>"},{"location":"reference/api_reference/#scripts","title":"Scripts","text":"<p>Entry point scripts for running studies and analysis.</p> <p>Scripts</p> <p>These are top-level scripts for running studies. They are not part of the core API but are included for reference.</p> <ul> <li><code>goliat study</code> - Main entry point for running studies</li> <li><code>goliat analyze</code> - Entry point for post-processing analysis</li> <li><code>goliat parallel</code> - Script for running parallel study batches</li> <li><code>goliat free-space</code> - Script for free-space validation runs</li> <li><code>goliat init</code> - Initialize GOLIAT environment (verify setup, download data files)</li> <li><code>goliat status</code> - Show setup status and environment information</li> <li><code>goliat validate</code> - Validate configuration files</li> <li><code>goliat version</code> - Show GOLIAT version information</li> </ul> <p>For a complete list of all user-facing features, see the Full List of Features.</p>"},{"location":"reference/full_features_list/","title":"Full List of Features","text":"<p>A list of all user-facing features in GOLIAT, organized by category.</p> <p>This document provides a complete reference of every feature available in GOLIAT. Each feature is listed with a brief description. For detailed information on how to use these features, see the User Guide, Configuration Guide, and Advanced Features Guide.</p>"},{"location":"reference/full_features_list/#installation-and-setup","title":"Installation and setup","text":"<ul> <li>Install GOLIAT package in editable mode using <code>python -m pip install -e .</code> (installs dependencies automatically)</li> <li>Initialize GOLIAT environment using <code>goliat init</code> command (verifies setup, downloads data files)</li> <li>Verify Sim4Life Python interpreter is being used</li> <li>Prepare data files (phantoms, antennas) during initialization</li> <li>Automatic prompt for installation when running <code>goliat study</code> if not initialized</li> <li>Check setup status with <code>goliat status</code> command</li> <li>Show GOLIAT version information with <code>goliat version</code> command</li> <li>Configure Sim4Life Python path via <code>.bashrc</code> file</li> <li>Support for Sim4Life bundled Python distribution (no separate Python installation required)</li> </ul>"},{"location":"reference/full_features_list/#configuration-system","title":"Configuration system","text":"<ul> <li>Hierarchical JSON configuration with inheritance from <code>base_config.json</code></li> <li>Study-specific configs extend base config (e.g., <code>near_field_config.json</code>)</li> <li>Override only specific parameters without duplicating settings</li> <li>Validate configuration files with <code>goliat validate</code> command</li> <li>Automatic configuration merging with child configs overriding parent values</li> <li>Support for nested configuration paths using dot notation (e.g., <code>simulation_parameters.global_auto_termination</code>)</li> <li>Config inheritance supports multiple levels of nesting</li> </ul>"},{"location":"reference/full_features_list/#study-types","title":"Study types","text":""},{"location":"reference/full_features_list/#near-field-studies","title":"Near-field studies","text":"<ul> <li>Simulate device exposure scenarios (e.g., mobile phones close to body)</li> <li>Support for multiple antenna types (PIFA, IFA)</li> <li>Configure antenna placement scenarios (by_cheek, front_of_eyes, by_belly, on_wrist, etc.)</li> <li>Automatic antenna positioning relative to phantom anatomical landmarks</li> <li>Support for free-space antenna simulations (without phantom body)</li> <li>Calculate localized SAR values (head SAR, trunk SAR)</li> <li>Extract peak spatial-average SAR (psSAR10g) in sensitive tissues</li> <li>Scene alignment optimization for by_cheek placements (aligns entire scene with phone orientation)</li> <li>Phantom rotation towards phone for precise by_cheek contact (automatic angle detection)</li> <li>Configurable phantom rotation angle offset (additional rotation after contact detection)</li> <li>Binary search algorithm for finding exact touching angle (0-30 degrees, 0.5 degree precision)</li> </ul>"},{"location":"reference/full_features_list/#far-field-studies","title":"Far-field studies","text":"<ul> <li>Simulate whole-body environmental exposure (plane waves)</li> <li>Configure incident directions (x_pos, x_neg, y_pos, y_neg, z_pos, z_neg)</li> <li>Support for multiple polarizations (theta, phi) per direction</li> <li>Calculate whole-body average SAR</li> <li>Aggregate results over multiple directions and polarizations</li> <li>Create transfer functions between E-field values and absorption values</li> <li>Support for environmental exposure scenarios (currently implemented)</li> <li>Placeholder for auto-induced mode (future implementation)</li> </ul>"},{"location":"reference/full_features_list/#phantom-management","title":"Phantom management","text":"<ul> <li>Automatic phantom model download on first use</li> <li>Support for multiple phantoms (thelonious, eartha, duke_posable, etc.)</li> <li>Configure phantom-specific settings (distances, placements, anatomical landmarks)</li> <li>Enable/disable specific placements per phantom</li> <li>Define separation distances per placement type (cheek, eye, belly)</li> <li>Configure anatomical reference points (nasion, tragus, belly_button)</li> <li>Relative offset coordinates for anatomical landmarks</li> <li>Automatic geometric center calculation for eye, ear, and trunk bounding boxes</li> <li>Phantom licensing handled through email prompt or environment variable</li> <li>Manual phantom download option for offline use</li> </ul>"},{"location":"reference/full_features_list/#antenna-configuration","title":"Antenna configuration","text":"<ul> <li>Frequency-specific antenna configuration</li> <li>Define antenna model type (PIFA, IFA)</li> <li>Configure antenna source name (e.g., \"Lines 1\")</li> <li>Map antenna CAD components to Sim4Life materials</li> <li>Configure gridding strategies per antenna component</li> <li>Support for automatic gridding refinement levels (VeryFine, Fine, Default, Coarse, VeryCoarse)</li> <li>Manual gridding with millimeter step sizes</li> <li>Subgridding support for specific antenna components</li> <li>Subgridding level multipliers (x9, x3, etc.)</li> <li>Subgridding auto-refinement levels (VeryFine, Fine, Default)</li> <li>Subgridding overrides manual gridding for specified components</li> </ul>"},{"location":"reference/full_features_list/#placement-scenarios","title":"Placement scenarios","text":"<ul> <li>Define multiple placement scenarios per study</li> <li>Configure positions as [x, y, z] offsets</li> <li>Define orientations as rotation sequences</li> <li>Support for dictionary format orientations (for phantom rotation)</li> <li>Configure bounding box selection (default, head, trunk, whole_body)</li> <li>Specify phantom reference points for placement calculations</li> <li>Configure antenna reference points (e.g., distance_from_top)</li> <li>Automatic default bounding box selection (head for eye/cheek, trunk for belly)</li> <li>Multiple orientations per position (e.g., base, up, rotate_z)</li> </ul>"},{"location":"reference/full_features_list/#simulation-parameters","title":"Simulation parameters","text":"<ul> <li>Configure solver termination criteria (GlobalAutoTerminationWeak, GlobalAutoTerminationUserDefined)</li> <li>Set custom convergence level in decibels (dB)</li> <li>Configure simulation time multiplier</li> <li>Set number of point sensors (default: 8)</li> <li>Configure point sensor placement order (8 corners of bounding box)</li> <li>Select excitation type (Harmonic for single frequency, Gaussian for frequency sweep)</li> <li>Configure Gaussian excitation bandwidth in MHz</li> <li>Set bounding box padding for far-field simulations (millimeters)</li> <li>Configure free-space antenna bounding box expansion [x, y, z] in millimeters</li> </ul>"},{"location":"reference/full_features_list/#gridding-configuration","title":"Gridding configuration","text":"<ul> <li>Global gridding mode selection (automatic or manual)</li> <li>Automatic gridding refinement levels (VeryFine, Fine, Default, Coarse, VeryCoarse)</li> <li>Manual gridding with maximum step size fallback (millimeters)</li> <li>Per-frequency manual grid step sizes for far-field studies</li> <li>Padding mode selection (automatic or manual)</li> <li>Manual padding configuration for bottom and top of domain [x, y, z]</li> <li>Intelligent gridding around critical areas (finer cells near antenna/phantom surface)</li> <li>Automatic gridding optimization for computational efficiency</li> </ul>"},{"location":"reference/full_features_list/#solver-configuration","title":"Solver configuration","text":"<ul> <li>Select solver kernel (Software/CPU, Acceleware/GPU, CUDA/GPU)</li> <li>Configure boundary conditions type (UpmlCpml)</li> <li>Set boundary condition strength (Weak, Medium, Strong)</li> <li>Enable manual iSolve execution (bypasses Ares scheduler bug)</li> <li>Export material properties to pickle file (advanced option)</li> <li>Enable line-by-line code profiling for specific functions</li> <li>Configure profiling targets (subtasks and function names)</li> </ul>"},{"location":"reference/full_features_list/#execution-control","title":"Execution control","text":"<ul> <li>Enable/disable setup phase (<code>do_setup</code>)</li> <li>Enable/disable run phase (<code>do_run</code>)</li> <li>Enable/disable extract phase (<code>do_extract</code>)</li> <li>Write input file only without running solver (<code>only_write_input_file</code>)</li> <li>Enable batch run mode for oSPARC cloud (<code>batch_run</code>)</li> <li>Automatic cleanup of previous results (<code>auto_cleanup_previous_results</code>)</li> <li>Selective cleanup options: output files (_Output.h5), input files (*_Input.h5), project files (.smash)</li> <li>Cleanup incompatible with parallel or batch runs (serial workflows only)</li> <li>Automatic project file handling (create new or open existing based on do_setup flag)</li> <li>Bypass caching system with <code>--no-cache</code> command-line flag</li> </ul>"},{"location":"reference/full_features_list/#project-management","title":"Project management","text":"<ul> <li>Automatic Sim4Life project file (<code>.smash</code>) creation</li> <li>Project file validation (checks for file locks and HDF5 structure)</li> <li>File lock detection and handling (<code>.s4l_lock</code> files)</li> <li>Automatic project file cleanup on corruption detection</li> <li>Structured results directory organization (<code>results/{study_type}/{phantom}/{frequency}MHz/{scenario}/</code>)</li> <li>Unique project file per simulation scenario</li> <li>Project isolation for reliability</li> </ul>"},{"location":"reference/full_features_list/#verify-and-resume-caching-system","title":"Verify and resume (caching system)","text":"<ul> <li>Configuration hashing (SHA256) for simulation fingerprinting</li> <li>Surgical configuration creation (single simulation parameters only)</li> <li>Metadata validation (config.json in results directory)</li> <li>Deliverable-first verification approach</li> <li>Check for run phase deliverables (*_Output.h5 file)</li> <li>Check for extract phase deliverables (sar_results.json, sar_stats_all_tissues.pkl, sar_stats_all_tissues.html)</li> <li>Modification timestamp validation (deliverables newer than setup timestamp)</li> <li>Automatic phase skipping for completed simulations</li> <li>Dynamic status reporting (setup_done, run_done, extract_done flags)</li> <li>Metadata update after successful phase completion</li> <li>Resilient to interrupted runs or manual file deletions</li> <li>Override cache with <code>--no-cache</code> flag (deletes existing project and reruns all phases)</li> </ul>"},{"location":"reference/full_features_list/#simulation-execution","title":"Simulation execution","text":""},{"location":"reference/full_features_list/#local-execution","title":"Local execution","text":"<ul> <li>Direct invocation of Sim4Life <code>iSolve.exe</code> solver</li> <li>Real-time solver output logging</li> <li>Non-blocking reader thread for solver output capture</li> <li>Manual iSolve execution (bypasses Ares scheduler)</li> <li>Support for GPU acceleration (Acceleware, CUDA kernels)</li> <li>CPU fallback option (Software kernel)</li> <li>Power normalization to 1W input for consistency</li> </ul>"},{"location":"reference/full_features_list/#cloud-execution-osparc","title":"Cloud execution (oSPARC)","text":"<ul> <li>Generate solver input files (<code>.h5</code>) for cloud submission</li> <li>Automatic batch job submission to oSPARC platform</li> <li>Job status monitoring (PENDING \u2192 RUNNING \u2192 SUCCESS)</li> <li>Automatic result download upon job completion</li> <li>Support for API key authentication via <code>.env</code> file</li> <li>Retry mechanism for failed submissions (3 automatic retries)</li> <li>Logging in dedicated directory (<code>logs/osparc_submission_logs/</code>)</li> <li>Maximum ~61 parallel jobs (oSPARC platform limit)</li> <li>Job cancellation script (<code>scripts/cancel_all_jobs.py --config &lt;config&gt;</code>)</li> <li>Cancel specific number of recent jobs (<code>--max-jobs</code> argument, default: 500)</li> <li>Paginated job fetching (50 jobs per page)</li> <li>Cancel jobs by status (PENDING, PUBLISHED, WAITING_FOR_CLUSTER, WAITING_FOR_RESOURCES, STARTED, RETRYING)</li> <li>Cost monitoring via oSPARC dashboard</li> </ul>"},{"location":"reference/full_features_list/#results-extraction","title":"Results extraction","text":"<ul> <li>Extract whole-body average SAR</li> <li>Extract localized SAR (head SAR, trunk SAR)</li> <li>Extract peak spatial-average SAR over 10g tissue cubes (psSAR10g)</li> <li>Extract SAR for specific tissues (eyes, brain, skin, genitals)</li> <li>Extract SAR for all tissues defined by Sim4Life</li> <li>Calculate power balance (energy conservation check, ideally ~100%)</li> <li>Normalize all SAR values to 1W input power</li> <li>Generate JSON summary file (<code>sar_results.json</code>)</li> <li>Generate detailed pickle file (<code>sar_stats_all_tissues.pkl</code>)</li> <li>Generate HTML report (<code>sar_results_all_tissues.html</code>)</li> <li>Extract point sensor data (electric field magnitude)</li> <li>Generate point sensor plots (<code>point_sensor_data.png</code>)</li> <li>Extract tissue-specific SAR statistics</li> <li>Tissue group aggregation (eyes, head, skin, genitals) via material name mapping</li> </ul>"},{"location":"reference/full_features_list/#analysis-and-visualization","title":"Analysis and visualization","text":"<ul> <li>Aggregate results across multiple simulations</li> <li>Generate CSV files (normalized_results_detailed.csv, normalized_results_summary.csv)</li> <li>Create SAR heatmaps by tissue and frequency</li> <li>Generate bar charts comparing SAR in different regions</li> <li>Create boxplots showing SAR distributions</li> <li>Generate line plots for peak spatial-average SAR</li> <li>Run analysis with <code>goliat analyze --config</code> command</li> <li>Strategy-based analysis (NearFieldAnalysisStrategy, FarFieldAnalysisStrategy)</li> <li>Per-simulation detailed data export</li> <li>Summary statistics by frequency and scenario</li> <li>Plot generation in dedicated plots directory</li> </ul>"},{"location":"reference/full_features_list/#gui-and-monitoring","title":"GUI and monitoring","text":"<ul> <li>Real-time graphical user interface (PySide6-based)</li> <li>Overall progress tracking (e.g., 5 out of 108 simulations complete)</li> <li>Stage progress tracking (setup, run, extract phases for current simulation)</li> <li>Estimated time remaining (ETA) calculation</li> <li>Live log display with color-coding</li> <li>Status message updates</li> <li>Progress bar animations for long-running phases</li> <li>Smooth animation system (50ms timer ticks)</li> <li>Weighted progress calculation based on phase durations</li> <li>Session-based timing configuration files</li> <li>Unique session hash for timing file identification</li> <li>Progress tracking CSV files (time_remaining, overall_progress)</li> <li>Timing data visualization (pie charts, tables)</li> <li>System tray integration for background operation</li> <li>Responsive GUI (multiprocessing architecture prevents freezing)</li> <li>Headless mode option (<code>use_gui: false</code> for console-only operation)</li> <li>Window title customization via <code>--title</code> command-line argument</li> </ul>"},{"location":"reference/full_features_list/#logging-system","title":"Logging system","text":"<ul> <li>Dual logger system (progress and verbose)</li> <li>Progress logger for high-level user-facing messages</li> <li>Verbose logger for detailed internal messages</li> <li>Progress logs saved to <code>*.progress.log</code></li> <li>Verbose logs saved to <code>*.log</code></li> <li>Automatic log rotation (keeps maximum 15 log file pairs)</li> <li>Automatic deletion of oldest logs when limit exceeded</li> <li>Color-coded console output</li> <li>File handlers and stream handlers for each logger</li> <li>Log propagation control (prevents duplicate output)</li> <li>Process ID support for unique log identification (<code>--pid</code> flag)</li> </ul>"},{"location":"reference/full_features_list/#profiling-and-timing","title":"Profiling and timing","text":"<ul> <li>Phase-level timing tracking (setup, run, extract)</li> <li>Subtask-level timing tracking</li> <li>Session-specific profiling configuration files</li> <li>Average time calculation per phase and subtask</li> <li>ETA calculation based on historical timing data</li> <li>Weighted progress calculation using phase durations</li> <li>Timing data persistence in JSON format</li> <li>Automatic cleanup of old profiling files (keeps maximum 50 files)</li> <li>Timestamp and hash-based file naming for profiling configs</li> <li>Real-time elapsed time tracking for current simulation</li> </ul>"},{"location":"reference/full_features_list/#parallel-execution","title":"Parallel execution","text":""},{"location":"reference/full_features_list/#local-parallel-execution","title":"Local parallel execution","text":"<ul> <li>Split configuration into multiple subsets (<code>goliat parallel</code>)</li> <li>Configure number of splits (<code>--num-splits</code> argument)</li> <li>Automatic splitting logic (by phantoms, frequencies, or combinations)</li> <li>Launch multiple <code>goliat study</code> processes simultaneously</li> <li>One GUI per parallel process</li> <li>Skip splitting step with existing parallel directory (<code>--skip-split</code> flag)</li> <li>Results automatically merged in shared <code>results/</code> directory</li> <li>Support for multi-core CPU utilization</li> <li>Important limitation: On a single-GPU machine, iSolve run phases execute sequentially (only setup and extract phases benefit from parallelization)</li> <li>For true parallel iSolve execution: Use oSPARC batch or multiple Windows PCs</li> </ul>"},{"location":"reference/full_features_list/#splitting-logic","title":"Splitting logic","text":"<ul> <li>2 splits: Halve phantoms</li> <li>4 splits: One per first 4 phantoms</li> <li>8 splits: Split phantoms, then halve frequencies</li> <li>Automatic factor-based splitting for any positive integer</li> </ul>"},{"location":"reference/full_features_list/#cloud-computing-setup","title":"Cloud computing setup","text":"<ul> <li>Deploy Windows VM with GPU support from cloud providers</li> <li>Remote Desktop Protocol (RDP) connection support</li> <li>Automated setup script (<code>setup_and_run.bat</code>)</li> <li>Automatic OpenVPN client installation</li> <li>Automatic Python 3.11 installation</li> <li>Automatic Git installation</li> <li>Automatic Sim4Life download and installation</li> <li>VPN configuration file download from Google Drive</li> <li>VPN connection automation</li> <li>Sim4Life license installer GUI launch</li> <li>Automatic GOLIAT repository cloning</li> <li>Automatic study launch after setup</li> <li>Python script for API-based VM deployment (<code>deploy_windows_vm.py</code>)</li> <li>Support for multiple cloud providers (TensorDock, AWS, GCP, Azure)</li> <li>Cost estimation and monitoring</li> <li>Per-second billing support</li> <li>Instance stopping when not in use</li> </ul>"},{"location":"reference/full_features_list/#data-management","title":"Data management","text":"<ul> <li>Automatic phantom model download</li> <li>Automatic antenna model download</li> <li>Email-based phantom licensing (via DOWNLOAD_EMAIL environment variable)</li> <li>Data file preparation during initialization</li> <li>Automatic cleanup of old CSV and JSON files in data directory (keeps maximum 50 files)</li> <li>Timestamp-based file naming for easy identification</li> <li>Automatic disk space management for serial workflows</li> <li>Manual file cleanup options</li> <li>Manual cleanup script for simulation output files (<code>scripts/cleanup_results.py</code>)</li> <li>Filter cleanup by study type (near-field, far-field)</li> <li>Filter cleanup by frequency (specific frequencies in MHz)</li> <li>Interactive confirmation prompt before deletion</li> <li>Scan and list files to be deleted before confirmation</li> </ul>"},{"location":"reference/full_features_list/#command-line-interface","title":"Command-line interface","text":""},{"location":"reference/full_features_list/#study-commands","title":"Study commands","text":"<ul> <li><code>goliat study &lt;config&gt;</code> - Run a dosimetric assessment study</li> <li><code>goliat study &lt;config&gt; --no-cache</code> - Bypass caching and rerun all phases</li> <li><code>goliat study &lt;config&gt; --title &lt;title&gt;</code> - Set GUI window title</li> <li><code>goliat study &lt;config&gt; --pid &lt;pid&gt;</code> - Set process ID for logging</li> </ul>"},{"location":"reference/full_features_list/#analysis-commands","title":"Analysis commands","text":"<ul> <li><code>goliat analyze --config &lt;config&gt;</code> - Run analysis for near-field or far-field studies</li> </ul>"},{"location":"reference/full_features_list/#parallel-commands","title":"Parallel commands","text":"<ul> <li><code>goliat parallel &lt;config&gt; --num-splits &lt;n&gt;</code> - Split config and run studies in parallel</li> <li><code>goliat parallel &lt;config&gt; --skip-split</code> - Run from existing parallel directory</li> <li><code>goliat parallel &lt;config&gt; --no-cache</code> - Bypass caching in parallel runs</li> </ul>"},{"location":"reference/full_features_list/#utility-commands","title":"Utility commands","text":"<ul> <li><code>goliat init</code> - Initialize GOLIAT environment (install dependencies, check setup)</li> <li><code>goliat status</code> - Show setup status and environment information</li> <li><code>goliat validate &lt;config&gt;</code> - Validate a GOLIAT config file</li> <li><code>goliat version</code> - Show GOLIAT version information</li> <li><code>goliat free-space</code> or <code>goliat freespace</code> - Run free-space validation runs</li> </ul>"},{"location":"reference/full_features_list/#utility-scripts","title":"Utility scripts","text":"<ul> <li><code>python scripts/cancel_all_jobs.py --config &lt;config&gt;</code> - Cancel all running oSPARC jobs</li> <li><code>python scripts/cancel_all_jobs.py --config &lt;config&gt; --max-jobs &lt;n&gt;</code> - Cancel up to N recent oSPARC jobs (default: 500)</li> <li><code>python scripts/cleanup_results.py --near-field</code> - Clean up near-field simulation output files</li> <li><code>python scripts/cleanup_results.py --far-field</code> - Clean up far-field simulation output files</li> <li><code>python scripts/cleanup_results.py --near-field --far-field --frequencies &lt;freq1&gt; &lt;freq2&gt;</code> - Clean up specific frequencies across study types</li> </ul>"},{"location":"reference/full_features_list/#file-outputs","title":"File outputs","text":""},{"location":"reference/full_features_list/#result-files","title":"Result files","text":"<ul> <li><code>sar_results.json</code> - Normalized SAR values summary</li> <li><code>sar_stats_all_tissues.pkl</code> - Detailed tissue-specific SAR data (Python pickle)</li> <li><code>sar_stats_all_tissues.html</code> - HTML table of tissue SAR values</li> <li><code>point_sensor_data.png</code> - Electric field magnitude plot at monitoring points</li> <li><code>*_Output.h5</code> - Simulation output file (HDF5 format)</li> <li><code>*_Input.h5</code> - Solver input file (HDF5 format)</li> <li><code>*.smash</code> - Sim4Life project file</li> <li><code>config.json</code> - Metadata file with configuration hash and completion flags</li> </ul>"},{"location":"reference/full_features_list/#analysis-files","title":"Analysis files","text":"<ul> <li><code>normalized_results_detailed.csv</code> - Per-simulation detailed data</li> <li><code>normalized_results_summary.csv</code> - Summary statistics by frequency/scenario</li> <li>Plots directory with various visualizations (heatmaps, bar charts, boxplots, line plots)</li> </ul>"},{"location":"reference/full_features_list/#log-files","title":"Log files","text":"<ul> <li><code>*.progress.log</code> - High-level progress logs</li> <li><code>*.log</code> - Detailed verbose logs</li> <li><code>logs/osparc_submission_logs/</code> - Cloud submission logs</li> </ul>"},{"location":"reference/full_features_list/#data-files","title":"Data files","text":"<ul> <li><code>profiling_config_DD-MM_HH-MM-SS_hash.json</code> - Session-specific timing configuration</li> <li><code>time_remaining_DD-MM_HH-MM-SS_hash.csv</code> - Time remaining tracking data</li> <li><code>overall_progress_DD-MM_HH-MM-SS_hash.csv</code> - Overall progress tracking data</li> </ul>"},{"location":"reference/full_features_list/#environment-variables","title":"Environment variables","text":"<ul> <li><code>OSPARC_API_KEY</code> - oSPARC cloud API key (in <code>.env</code> file)</li> <li><code>OSPARC_API_SECRET</code> - oSPARC cloud API secret (in <code>.env</code> file)</li> <li><code>DOWNLOAD_EMAIL</code> - Email for phantom model downloads (in <code>.env</code> file)</li> </ul>"},{"location":"reference/full_features_list/#platform-support","title":"Platform support","text":"<ul> <li>Windows platform support (primary)</li> <li>Linux/Cloud execution environment detection</li> <li>Automatic platform adaptation for file locking mechanisms</li> <li>Sim4Life Web (sim4life.science) compatibility with limitations</li> <li>Cross-platform compatibility considerations</li> </ul>"},{"location":"reference/full_features_list/#sim4life-web-limitations","title":"Sim4Life Web limitations","text":"<ul> <li>GUI unavailable in JupyterLab environments</li> <li>Most phantoms require licensing through \"The Shop\"</li> <li><code>duke_posable</code> phantom available without additional licensing</li> <li>iSolve.exe not present in JupyterLab app environment</li> <li>Setup-only runs supported for proof-of-concept</li> </ul>"},{"location":"reference/full_features_list/#error-handling-and-troubleshooting","title":"Error handling and troubleshooting","text":"<ul> <li>Automatic file lock detection and handling</li> <li>Project file corruption detection and recovery</li> <li>Automatic retry for oSPARC job submissions (3 attempts)</li> <li>Detailed error logging for debugging</li> <li>Graceful handling of missing dependencies</li> <li>Clear error messages for common issues</li> <li>File validation before operations</li> </ul>"},{"location":"reference/full_features_list/#performance-optimizations","title":"Performance optimizations","text":"<ul> <li>Scene alignment optimization for by_cheek placements (reduces simulation time)</li> <li>Gridding optimization for computational efficiency</li> <li>GPU acceleration support (Acceleware, CUDA)</li> <li>Automatic cleanup for disk space management</li> <li>Efficient caching system to avoid redundant computations</li> <li>Parallel execution for multi-core utilization</li> <li>Cloud batching for large-scale parallel runs</li> </ul>"},{"location":"tutorials/01_far_field_basics/","title":"1. Far-Field Basics","text":"<pre><code>from pathlib import Path\nimport importlib.util\n\np = Path.cwd()\nwhile not (p / \"scripts\" / \"notebook_helpers.py\").exists():\n    p = p.parent\nspec = importlib.util.spec_from_file_location(\"_\", p / \"scripts\" / \"notebook_helpers.py\")\nm = importlib.util.module_from_spec(spec)\nspec.loader.exec_module(m)\nrun_bash = m.get_run_bash()\n\nimport IPython\n\nIPython.core.display.max_output_size = None\n</code></pre> <p>This helper function lets you run bash commands from Python cells using <code>run_bash('command')</code>. The setup also disables output truncation so you can see all command output.</p> <p>If you're using bash directly (recommended), ignore the Python code blocks and just run the commands directly. Make sure to always run <code>source .bashrc</code> which adds the Sim4Life python path to your <code>PATH</code> first.</p> <pre><code>run_bash(\"cat configs/tutorial_1_far_field.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; cat configs/tutorial_1_far_field.json\n\n------------------------------------------------------------\n{\n  \"extends\": \"base_config.json\",\n  \"study_type\": \"far_field\",\n  \"phantoms\": [\"thelonious\"],\n  \"frequencies_mhz\": [700],\n  \"far_field_setup\": {\n    \"type\": \"environmental\",\n    \"environmental\": {\n      \"incident_directions\": [\"x_pos\", \"z_neg\"],\n      \"polarizations\": [\"theta\", \"phi\"]\n    }\n  },\n  \"execution_control\": {\n    \"do_setup\": true,\n    \"do_run\": true,\n    \"do_extract\": true\n  },\n  \"simulation_parameters\": {\n    \"number_of_point_sensors\": 2\n  }\n}\n\n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <pre><code>run_bash(\"goliat study tutorial_1_far_field\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; goliat study tutorial_1_far_field\n\n------------------------------------------------------------\nStarting Sim4Life application... \nInitializing Application [stdout]\nInitializing Application [stderr]\n[Warn]  Unable to load module 'C:\\Program Files\\Sim4Life_8.2.0.16876\\MusaikInterface.xdll'\nJosua    : [Info]  Sync\nJosua    : [Info]  Sync\nJosua    : [Info]  Command [Query Handshake] &lt;ba838023-b536-461a-9e49-4d8334c0db09;127.0.0.1;WIN10-NEW&gt;\nJosua    : [Info]  Property [CAresSettings]\n[Info]  Connection to local Ares successfully established.\nSim4Life application started. \n--- Starting Far-Field Study: tutorial_1_far_field.json --- [FarFieldStudy._run_study]\n\n--- Processing Simulation 1/4: thelonious, 700MHz, x_pos, theta --- [FarFieldStudy._run_study]\n--- Starting: setup --- [profile]\nProject path set to: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.create_or_open_project]\nNo metadata file found at config.json. [ProjectManager.verify_simulation_metadata]\nExisting project is invalid or out of date. A new setup is required. [ProjectManager.create_or_open_project]\n--- Simulation-specific progress logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos\\progress.log --- \n--- Simulation-specific verbose logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos\\verbose.log --- \nCreating a new empty project in memory. [ProjectManager.create_new]\nInitializing model by creating and deleting a dummy block... [ProjectManager.create_new]\nModel initialized, ready for population. [ProjectManager.create_new]\n  - Setup simulation... [FarFieldStudy.subtask]\n--- Setting up single Far-Field sim --- [FarFieldSetup.run_full_setup]\n    - Load phantom... [FarFieldSetup.run_full_setup]\n--- Running Phantom Check --- [PhantomSetup._log]\nFound 2 total entities in the project. [PhantomSetup._log]\n--- Phantom Check Result: Phantom not found in project. --- [PhantomSetup._log]\nPhantom not found in document. Importing from 'C:\\Users\\user\\repo-clean\\data\\phantoms\\thelonious.sab'... [PhantomSetup._log]\n[Info] Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nPhantom imported successfully. [PhantomSetup._log]\n      - Subtask 'setup_load_phantom' done in 8.73s [FarFieldSetup.run_full_setup]\n      - Done in 8.73s [FarFieldSetup.run_full_setup]\n    - Configure scene (bbox, plane wave)... [FarFieldSetup.run_full_setup]\nCreating simulation bounding box for far-field... [FarFieldSetup._create_or_get_simulation_bbox]\n  - Created far-field simulation BBox with 50mm padding. [FarFieldSetup._create_or_get_simulation_bbox]\n  - Creating simulation: EM_FDTD_thelonious_700MHz_x_pos_theta [FarFieldSetup._create_simulation_entity]\n  - Using simulation time multiplier: 3.5 [FarFieldSetup._apply_simulation_time_and_termination]\n  - Simulation time set to 11.44 periods. [FarFieldSetup._apply_simulation_time_and_termination]\n  - Setting termination criteria to: GlobalAutoTerminationUserDefined [FarFieldSetup._apply_simulation_time_and_termination]\n    - Convergence level set to: -15 dB [FarFieldSetup._apply_simulation_time_and_termination]\n      - Subtask 'setup_configure_scene' done in 0.28s [FarFieldSetup.run_full_setup]\n      - Done in 0.28s [FarFieldSetup.run_full_setup]\n    - Assign materials... [FarFieldSetup.run_full_setup]\nAssigning materials... [MaterialSetup.assign_materials]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\n[Info]  \nMass Density has changed from 1000 to 1.2050000000000001\nMass Density has changed from 1.2050000000000001 to 1.2\nRelative Permittivity has changed from 1 to 0\nSimulation : [Warn]  Unable to find any match for following settings properties: Magnetic Conductivity\nSimulation : [Warn]  Unable to find any match for following settings properties: Relative Permeability\n      - Subtask 'setup_materials' done in 5.69s [FarFieldSetup.run_full_setup]\n      - Done in 5.69s [FarFieldSetup.run_full_setup]\n    - Configure solver (gridding, boundaries, sensors)... [FarFieldSetup.run_full_setup]\nSetting up gridding... [GriddingSetup.setup_gridding]\n  - Looking for global grid bounding box: 'far_field_simulation_bbox' [GriddingSetup._setup_main_grid]\n  - Using manual gridding. [GriddingSetup._setup_main_grid]\n  - Global and added manual grid set with global resolution: 3.0 mm. [GriddingSetup._setup_main_grid]\n  - Using automatic padding. [GriddingSetup._setup_main_grid]\n  - No antenna components provided, skipping subgridding. [GriddingSetup.setup_gridding]\nSetting up boundary conditions... [BoundarySetup.setup_boundary_conditions]\n  - Setting global boundary conditions to: UpmlCpml [BoundarySetup.setup_boundary_conditions]\n    - Successfully set GlobalBoundaryType to UpmlCpml [BoundarySetup.setup_boundary_conditions]\n  - Setting PML strength to: Low [BoundarySetup.setup_boundary_conditions]\n    - Successfully set PmlStrength to Low [BoundarySetup.setup_boundary_conditions]\n  - Added point sensor at (Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42)) (lower_left_bottom) [FarFieldSetup._add_point_sensors]\n  - Added point sensor at (Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697)) (top_right_up) [FarFieldSetup._add_point_sensors]\n  - Configuring solver settings... [FarFieldSetup._setup_solver_settings]\n    - Solver kernel set to: Acceleware (AXware) [FarFieldSetup._setup_solver_settings]\n      - Subtask 'setup_solver' done in 0.16s [FarFieldSetup.run_full_setup]\n      - Done in 0.16s [FarFieldSetup.run_full_setup]\n    - Voxelize simulation... [FarFieldSetup.run_full_setup]\n    - Finalizing setup... [FarFieldSetup._finalize_setup]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tongue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Adrenal Gland\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Anterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Vitreous Humor)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Midbrain\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Testis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Air 1\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood Vessel Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Epididymis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pineal Body\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Urinary Bladder Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone Marrow (Red)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Gallbladder\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypophysis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (White Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spleen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thymus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypothalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skin\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (Grey Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone (Cortical)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Sclera)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tendon\\Ligament\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Medulla)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Medulla Oblongata\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Intervertebral Disc\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Vertebrae\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Lens)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Posterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Cornea)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pharynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Liver\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Cortex)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Fat\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Lung\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Connective Tissue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pons\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spinal Cord\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"SAT (Subcutaneous Fat)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cartilage\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tooth\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Nerve\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Meniscus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skull\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Prostate\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Diaphragm\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mucous Membrane\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Larynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mandible\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hippocampus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebellum\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Penis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Ureter\\Urethra\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pancreas\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebrospinal Fluid\" have been set to their value according to the selected database\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n[Info]  Start voxeling\n[Info]  Topological Voxeler Report: Complete Voxel Scene\n    Voxel Scene Memory Consumption: 0.002876 GB\n    Wall Clock Time: 7.82005 s\n\n[Info]  Voxeling succeeded.\n    - Finalizing setup complete. [FarFieldSetup._finalize_setup]\n      - Subtask 'setup_voxelize' done in 19.22s [FarFieldSetup.run_full_setup]\n      - Done in 19.22s [FarFieldSetup.run_full_setup]\n    - Save project... [FarFieldSetup.run_full_setup]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\nProject saved. [ProjectManager.save]\n      - Subtask 'setup_save_project' done in 3.41s [FarFieldSetup.run_full_setup]\n      - Done in 3.41s [FarFieldSetup.run_full_setup]\nCommon settings applied. [FarFieldSetup.run_full_setup]\n    - Subtask 'setup_simulation' done in 37.61s [FarFieldStudy.subtask]\n    - Done in 37.61s [FarFieldStudy.subtask]\n  - Saved configuration metadata to config.json [ProjectManager.write_simulation_metadata]\n--- Finished: setup (took 37.69s) --- [profile]\n--- Starting: run --- [profile]\n  - Run simulation total... [FarFieldStudy.subtask]\nRunning simulation: EM_FDTD_thelonious_700MHz_x_pos_theta [SimulationRunner.run]\n    - Write input file... [SimulationRunner.run]\n[Info]  Writing solver input file(s) for EM_FDTD_thelonious_700MHz_x_pos_theta\n[Info]  Writing Rectilinear Discretization to Input File. Elapse Time: 0.36436 s\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n      - Subtask 'run_write_input_file' done in 4.41s [SimulationRunner.run]\n      - Done in 4.41s [SimulationRunner.run]\nRunning iSolve with acceleware on ff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_Input.h5 [SimulationRunner._run_isolve_manual]\n    - Execute iSolve... [SimulationRunner._run_isolve_manual]\n\nReading command line \niSolve X, Version 8.2.0 (16876), 64Bit Windows \n\nRunning MPI version 2.0 on 1 process. \n\n\nSimulation 'EM_FDTD_thelonious_700MHz_x_pos_theta'  \n\nInstalled system RAM visible to this process:  16.0 GB \n\nSolver type: EmFdtd, SinglePrecision, Acceleware \nInput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash_Results\\ff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_Input.h5 \nInput file generated by: Sim4Life, Version 8.2.0.16876 \nOutput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash_Results\\ff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_Output.h5 \n\nUsing commercial license features. \nChecking out license feature 'FDTD_SOLVER', version 8.2, (1). \n\nRunning the EM-FDTD solver with the following settings: \nFloating Point Arithmetic: single (4 Bytes) \nHPC: Acceleware \nUsed Acceleware library is '11.4.1.13550 (x64, 64-bit)'. \nYour NVIDIA display driver is newer than the expected version. \nInstalled version: 15.7680 Expected: 15.3667 (see also http://www.acceleware.com/fdtd-11-4-1) \nReduced performance could be encountered. \n\nSimulation Time Step:   5.72711e-12 sec \nSimulation Iterations:  2853 \nMax Simulated Time: 1.63394e-08 sec \n\nGrid: \nNumber of cells: 229x177x499 = 20225967 cells = 20.2260 MCells \nNumber of cells including PML: 245x193x515 = 24351775 cells = 24.3518 MCells \nX: Range [-0.338659 ... 0.346117] with minimal 0.00297412 and maximal step 0.0029977 [m] \nY: Range [-0.21475 ... 0.312145] with minimal 0.00297412 and maximal step 0.00297865 [m] \nZ: Range [-1.12649 ... 0.367766] with minimal 0.00297403 and maximal step 0.00299799 [m] \n\nBoundaries: \nSide X-: ABC (UPML, 8 layers) \nSide X+: ABC (UPML, 8 layers) \nSide Y-: ABC (UPML, 8 layers) \nSide Y+: ABC (UPML, 8 layers) \nSide Z-: ABC (UPML, 8 layers) \nSide Z+: ABC (UPML, 8 layers) \n\nCreated unified material architecture (UMA) model \n\nMaterials (77): \nBackground: dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nTongue  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=0.865626, mu_r=1.000000, sigma_H=0.000000) \nAdrenal_gland  (Thelonious_6y_V6): dielectric (eps_r=50.989008, sigma_E=0.954350, mu_r=1.000000, sigma_H=0.000000) \nStomach_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \ncommissura_anterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nEye_vitreous_humor  (Thelonious_6y_V6): dielectric (eps_r=68.947390, sigma_E=1.583627, mu_r=1.000000, sigma_H=0.000000) \nVein  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nMidbrain  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nTestis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nAir_internal  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBlood_vessel  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nEpididymis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nPinealbody  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBladder  (Thelonious_6y_V6): dielectric (eps_r=19.149003, sigma_E=0.358399, mu_r=1.000000, sigma_H=0.000000) \nMarrow_red  (Thelonious_6y_V6): dielectric (eps_r=11.451933, sigma_E=0.207759, mu_r=1.000000, sigma_H=0.000000) \nGallbladder  (Thelonious_6y_V6): dielectric (eps_r=59.551663, sigma_E=1.202528, mu_r=1.000000, sigma_H=0.000000) \nHypophysis  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBrain_white_matter  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nSpleen  (Thelonious_6y_V6): dielectric (eps_r=58.688546, sigma_E=1.175182, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nThymus  (Thelonious_6y_V6): dielectric (eps_r=55.600852, sigma_E=1.115237, mu_r=1.000000, sigma_H=0.000000) \nTrachea  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nHeart_muscle  (Thelonious_6y_V6): dielectric (eps_r=61.478559, sigma_E=1.125021, mu_r=1.000000, sigma_H=0.000000) \nMuscle  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nHypothalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nArtery  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nSkin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nBrain_grey_matter  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nPatella  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_Sclera  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=1.096154, mu_r=1.000000, sigma_H=0.000000) \nTendon_Ligament  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nKidney_medulla  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nMedulla_oblongata  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nEsophagus  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nIntervertebral_disc  (Thelonious_6y_V6): dielectric (eps_r=44.418065, sigma_E=1.041108, mu_r=1.000000, sigma_H=0.000000) \nVertebrae  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_lens  (Thelonious_6y_V6): dielectric (eps_r=36.279018, sigma_E=0.435952, mu_r=1.000000, sigma_H=0.000000) \ncommissura_posterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nCornea  (Thelonious_6y_V6): dielectric (eps_r=56.275669, sigma_E=1.311407, mu_r=1.000000, sigma_H=0.000000) \nTrachea_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPharynx  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nLiver  (Thelonious_6y_V6): dielectric (eps_r=47.963211, sigma_E=0.773986, mu_r=1.000000, sigma_H=0.000000) \nThalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nHeart_lumen  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine  (Thelonious_6y_V6): dielectric (eps_r=59.134765, sigma_E=0.989502, mu_r=1.000000, sigma_H=0.000000) \nKidney_cortex  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nStomach  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nFat  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nLung  (Thelonious_6y_V6): dielectric (eps_r=22.460437, sigma_E=0.423425, mu_r=1.000000, sigma_H=0.000000) \nConnective_tissue  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nPons  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nSpinal_cord  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nSAT  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nEar_cartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nTeeth  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nNerve  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nEar_skin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nMeniscus  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nSkull  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nProstate  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nDiaphragm  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nBone  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nMucosa  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine  (Thelonious_6y_V6): dielectric (eps_r=61.138364, sigma_E=2.062163, mu_r=1.000000, sigma_H=0.000000) \nLarynx  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nMandible  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nCartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nHippocampus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nCerebellum  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nPenis  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nUreter_Urethra  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nBronchi_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPancreas  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nEsophagus_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBronchi  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nCerebrospinal_fluid  (Thelonious_6y_V6): dielectric (eps_r=69.157589, sigma_E=2.338250, mu_r=1.000000, sigma_H=0.000000) \n\nLumped Elements: No active lumped elements in the simulation. \n\nHost OS: Microsoft Windows 10 Professional 64-bit (Build 9200) \nHost CPU: AMD EPYC 7542 32-Core Processor \nHost memory: 16379 MB \nThe following Accelerators have been detected: \nNVIDIA GeForce RTX 4090 (device ID = 0), compute capability 8.9, total memory 24563 MB \n\n\nSensors (3): \nInitializing field sensor Overall Field. \nInitializing point sensor Point Sensor Entity 1 (lower_left_bottom). \nAveraging setup for point sensor Point Sensor Entity 1 (lower_left_bottom): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 1 (lower_left_bottom): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nInitializing point sensor Point Sensor Entity 2 (top_right_up). \nAveraging setup for point sensor Point Sensor Entity 2 (top_right_up): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 2 (top_right_up): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nUsing DFT to convert to frequency domain. \n\nSources (1): \nInitializing plane wave source far_field_simulation_bbox. \nExcitation signal: Harmonic signal with frequency 700 MHz and ramp time 2.14286 ns \n\nUpdate coefficient calculation for 122086088 edges using 3 threads. \nCalculating update coefficients \n[PROGRESS]: 21% [ 25691000 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 43% [ 52638148 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 65% [ 79536244 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 84% [ 102793088 / 122086088 ] Calculating update coefficients \n\n\nEdge-Material Statistics (Electric/Magnetic): \n61165060 / 60921028      (100.00% / 100.00%) : Total \n61165060 / 60921028      (100.00% / 100.00%) : Dielectric \n\nEdge-Region Statistics (regions with more than 1% of all edges, max 20 items): \n58992181 / 58810012      ( 96.45% /  96.53%) : Background \n1084192 /  1496072   (  1.77% /   2.46%) : Other \n1088687 /   614944   (  1.78% /   1.01%) : Averaged \n\n\nUpdate coefficient database contains 2099 E-coefficient(s) and 1 H-coefficient(s). \nElapsed time for 'Calculating update coefficients' was 00:00:10 wall clock time. \nPreparing for time update \nUse hardware resource management option fastest simulation \nChecking out license feature 'AXWARE_TOKEN', version 8.2, (1). \n[PROGRESS]: 2% [ 2 / 100 ] Preparing for time update \n[PROGRESS]: 16% [ 16 / 100 ] Preparing for time update \n[PROGRESS]: 30% [ 30 / 100 ] Preparing for time update \n[PROGRESS]: 44% [ 44 / 100 ] Preparing for time update \n[PROGRESS]: 59% [ 59 / 100 ] Preparing for time update \nSimulation 1 is using device(s): [0] \nElapsed time for 'Preparing for time update' was 00:00:17 wall clock time. \nStarting solver aXware (hardware accelerated). \nTime Update \n[PROGRESS]: 0% [ 10 / 2853 ] Time Update, estimated remaining time 2 minutes 53 seconds  @ 401.19 MCells/s \n[PROGRESS]: 7% [ 207 / 2853 ] Time Update, estimated remaining time 30 seconds  @ 2140.68 MCells/s \n[PROGRESS]: 14% [ 404 / 2853 ] Time Update, estimated remaining time 27 seconds  @ 2172.46 MCells/s \n[PROGRESS]: 21% [ 601 / 2853 ] Time Update, estimated remaining time 26 seconds  @ 2148.25 MCells/s \n[PROGRESS]: 27% [ 798 / 2853 ] Time Update, estimated remaining time 23 seconds  @ 2198.39 MCells/s \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 2 to check conventional convergence. \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 4 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 2 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 4 to check conventional convergence. \n[PROGRESS]: 34% [ 995 / 2853 ] Time Update, estimated remaining time 21 seconds  @ 2188.85 MCells/s \n[PROGRESS]: 41% [ 1192 / 2853 ] Time Update, estimated remaining time 19 seconds  @ 2141.86 MCells/s \n[PROGRESS]: 48% [ 1389 / 2853 ] Time Update, estimated remaining time 16 seconds  @ 2178.71 MCells/s \n[PROGRESS]: 55% [ 1586 / 2853 ] Time Update, estimated remaining time 14 seconds  @ 2240.90 MCells/s \n[PROGRESS]: 62% [ 1783 / 2853 ] Time Update, estimated remaining time 12 seconds  @ 2221.29 MCells/s \nSensor Point Sensor Entity 1 (lower_left_bottom): conventional steady state check successful. \n[PROGRESS]: 69% [ 1980 / 2853 ] Time Update, estimated remaining time 10 seconds  @ 2175.17 MCells/s \nSensor Point Sensor Entity 2 (top_right_up): conventional steady state check successful. \nSteady state detected at iteration 2060, remaining time steps are 63. \n[PROGRESS]: 97% [ 2065 / 2123 ] Time Update, estimated remaining time 4 seconds  @ 382.27 MCells/s \nSimulation performed 2123 iterations. \nElapsed time for 'Time Update' was 00:00:35 wall clock time. \n\nPost-process Sensors \nPost-process sensor 'Overall Field' \nPost-process sensor 'Point Sensor Entity 1 (lower_left_bottom)' \n[PROGRESS]: 66% [ 2 / 3 ] Post-process Sensors \nPost-process sensor 'Point Sensor Entity 2 (top_right_up)' \nTrusted frequency is 700 MHz. Expect less accurate results outside. \nElapsed time for 'Post-process Sensors' was 00:00:06 wall clock time. \nFDTD simulation finished successfully. \n\nSimulation 'EM_FDTD_thelonious_700MHz_x_pos_theta' has ended successfully and took 00:01:19 wall clock time \nNo compression of solver files requested \nReleased license feature 'AXWARE_TOKEN'. \nReleased license feature 'FDTD_SOLVER'. \nPeak CPU memory usage:   3.6 GB (3913101312 Bytes) \niSolve ended successfully. \n      - Subtask 'run_isolve_execution' done in 79.95s [SimulationRunner._run_isolve_manual]\n      - Done in 79.95s [SimulationRunner._run_isolve_manual]\n    - Wait for results... [SimulationRunner._run_isolve_manual]\n      - Subtask 'run_wait_for_results' done in 5.00s [SimulationRunner._run_isolve_manual]\n      - Done in 5.00s [SimulationRunner._run_isolve_manual]\n    - Reload project... [SimulationRunner._run_isolve_manual]\nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash \n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\n      - Subtask 'run_reload_project' done in 11.12s [SimulationRunner._run_isolve_manual]\n      - Done in 11.12s [SimulationRunner._run_isolve_manual]\nProject reloaded and results are available. [SimulationRunner._run_isolve_manual]\n    - Subtask 'run_simulation_total' done in 100.59s [FarFieldStudy.subtask]\n    - Done in 100.59s [FarFieldStudy.subtask]\nRun deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\n--- Finished: run (took 100.66s) --- [profile]\n--- Starting: extract --- [profile]\nRun deliverables verified. Proceeding with extraction. [FarFieldStudy._verify_run_deliverables_before_extraction]\nValidating project file: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.open]\nOpening project with Sim4Life: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.open]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nProject reloaded. [ProjectManager.reload_project]\n  - Extract results total... [FarFieldStudy.subtask]\n    - Extract input power... [PowerExtractor.extract_input_power]\n  - Far-field study: using theoretical model for input power. [PowerExtractor._extract_far_field_power]\n  - Calculated theoretical input power: 5.3099e-04 W [PowerExtractor._extract_far_field_power]\n      - Subtask 'extract_input_power' done in 0.02s [PowerExtractor.extract_input_power]\n      - Done in 0.02s [PowerExtractor.extract_input_power]\n    - Extract SAR statistics... [SarExtractor.extract_sar_statistics]\n  - Loading tissue groups for 'thelonious' from material_name_mapping.json [SarExtractor._define_tissue_groups]\n  - Extracting peak SAR details... [SarExtractor.extract_peak_sar_details]\n      - Subtask 'extract_sar_statistics' done in 28.25s [SarExtractor.extract_sar_statistics]\n      - Done in 28.25s [SarExtractor.extract_sar_statistics]\n    - Extract power balance... [PowerExtractor.extract_power_balance]\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\n    - Overwriting Pin with theoretical value: 5.3099e-04 W [PowerExtractor.extract_power_balance]\n    - Final Balance: 117.61% [PowerExtractor.extract_power_balance]\n      - Subtask 'extract_power_balance' done in 8.36s [PowerExtractor.extract_power_balance]\n      - Done in 8.36s [PowerExtractor.extract_power_balance]\n    - Extract point sensors... [SensorExtractor.extract_point_sensor_data]\n  - Point sensor plot saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_x_pos\\point_sensor_data.png [SensorExtractor._save_plot]\n      - Subtask 'extract_point_sensor_data' done in 0.64s [SensorExtractor.extract_point_sensor_data]\n      - Done in 0.64s [SensorExtractor.extract_point_sensor_data]\n  - Pickle report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_x_pos\\sar_stats_all_tissues.pkl [Reporter._save_pickle_report]\n  - HTML report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_x_pos\\sar_stats_all_tissues.html [Reporter._save_html_report]\n  - SAR results saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_x_pos\\sar_results.json [ResultsExtractor._save_json_results]\n    - Subtask 'extract_results_total' done in 37.52s [FarFieldStudy.subtask]\n    - Done in 37.52s [FarFieldStudy.subtask]\nExtract deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n--- Finished: extract (took 57.84s) --- [profile]\n\n--- Processing Simulation 2/4: thelonious, 700MHz, x_pos, phi --- [FarFieldStudy._run_study]\n--- Starting: setup --- [profile]\nProject path set to: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash [ProjectManager.create_or_open_project]\nNo metadata file found at config.json. [ProjectManager.verify_simulation_metadata]\nExisting project is invalid or out of date. A new setup is required. [ProjectManager.create_or_open_project]\n--- Simulation-specific progress logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos\\progress.log --- \n--- Simulation-specific verbose logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos\\verbose.log --- \nCreating a new empty project in memory. [ProjectManager.create_new]\nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\nInitializing model by creating and deleting a dummy block... [ProjectManager.create_new]\nModel initialized, ready for population. [ProjectManager.create_new]\n  - Setup simulation... [FarFieldStudy.subtask]\n--- Setting up single Far-Field sim --- [FarFieldSetup.run_full_setup]\n    - Load phantom... [FarFieldSetup.run_full_setup]\n--- Running Phantom Check --- [PhantomSetup._log]\nFound 2 total entities in the project. [PhantomSetup._log]\n--- Phantom Check Result: Phantom not found in project. --- [PhantomSetup._log]\nPhantom not found in document. Importing from 'C:\\Users\\user\\repo-clean\\data\\phantoms\\thelonious.sab'... [PhantomSetup._log]\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nPhantom imported successfully. [PhantomSetup._log]\n      - Subtask 'setup_load_phantom' done in 8.83s [FarFieldSetup.run_full_setup]\n      - Done in 8.83s [FarFieldSetup.run_full_setup]\n    - Configure scene (bbox, plane wave)... [FarFieldSetup.run_full_setup]\nCreating simulation bounding box for far-field... [FarFieldSetup._create_or_get_simulation_bbox]\n  - Created far-field simulation BBox with 50mm padding. [FarFieldSetup._create_or_get_simulation_bbox]\n  - Creating simulation: EM_FDTD_thelonious_700MHz_x_pos_phi [FarFieldSetup._create_simulation_entity]\n  - Using simulation time multiplier: 3.5 [FarFieldSetup._apply_simulation_time_and_termination]\n  - Simulation time set to 11.44 periods. [FarFieldSetup._apply_simulation_time_and_termination]\n  - Setting termination criteria to: GlobalAutoTerminationUserDefined [FarFieldSetup._apply_simulation_time_and_termination]\n    - Convergence level set to: -15 dB [FarFieldSetup._apply_simulation_time_and_termination]\n      - Subtask 'setup_configure_scene' done in 0.06s [FarFieldSetup.run_full_setup]\n      - Done in 0.06s [FarFieldSetup.run_full_setup]\n    - Assign materials... [FarFieldSetup.run_full_setup]\nAssigning materials... [MaterialSetup.assign_materials]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\n[Info]  \nMass Density has changed from 1000 to 1.2050000000000001\nRelative Permittivity has changed from 1 to 0\nMass Density has changed from 1.2050000000000001 to 1.2\nSimulation : [Warn]  Unable to find any match for following settings properties: Magnetic Conductivity\nSimulation : [Warn]  Unable to find any match for following settings properties: Relative Permeability\n      - Subtask 'setup_materials' done in 6.73s [FarFieldSetup.run_full_setup]\n      - Done in 6.73s [FarFieldSetup.run_full_setup]\n    - Configure solver (gridding, boundaries, sensors)... [FarFieldSetup.run_full_setup]\nSetting up gridding... [GriddingSetup.setup_gridding]\n  - Looking for global grid bounding box: 'far_field_simulation_bbox' [GriddingSetup._setup_main_grid]\n  - Using manual gridding. [GriddingSetup._setup_main_grid]\n  - Global and added manual grid set with global resolution: 3.0 mm. [GriddingSetup._setup_main_grid]\n  - Using automatic padding. [GriddingSetup._setup_main_grid]\n  - No antenna components provided, skipping subgridding. [GriddingSetup.setup_gridding]\nSetting up boundary conditions... [BoundarySetup.setup_boundary_conditions]\n  - Setting global boundary conditions to: UpmlCpml [BoundarySetup.setup_boundary_conditions]\n    - Successfully set GlobalBoundaryType to UpmlCpml [BoundarySetup.setup_boundary_conditions]\n  - Setting PML strength to: Low [BoundarySetup.setup_boundary_conditions]\n    - Successfully set PmlStrength to Low [BoundarySetup.setup_boundary_conditions]\n  - Added point sensor at (Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42)) (lower_left_bottom) [FarFieldSetup._add_point_sensors]\n  - Added point sensor at (Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697)) (top_right_up) [FarFieldSetup._add_point_sensors]\n  - Configuring solver settings... [FarFieldSetup._setup_solver_settings]\n    - Solver kernel set to: Acceleware (AXware) [FarFieldSetup._setup_solver_settings]\n      - Subtask 'setup_solver' done in 0.27s [FarFieldSetup.run_full_setup]\n      - Done in 0.27s [FarFieldSetup.run_full_setup]\n    - Voxelize simulation... [FarFieldSetup.run_full_setup]\n    - Finalizing setup... [FarFieldSetup._finalize_setup]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tongue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Adrenal Gland\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Anterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Vitreous Humor)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Midbrain\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Testis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Air 1\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood Vessel Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Epididymis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pineal Body\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Urinary Bladder Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone Marrow (Red)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Gallbladder\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypophysis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (White Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spleen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thymus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypothalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skin\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (Grey Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone (Cortical)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Sclera)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tendon\\Ligament\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Medulla)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Medulla Oblongata\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Intervertebral Disc\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Vertebrae\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Lens)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Posterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Cornea)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pharynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Liver\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Cortex)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Fat\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Lung\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Connective Tissue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pons\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spinal Cord\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"SAT (Subcutaneous Fat)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cartilage\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tooth\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Nerve\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Meniscus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skull\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Prostate\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Diaphragm\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mucous Membrane\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Larynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mandible\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hippocampus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebellum\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Penis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Ureter\\Urethra\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pancreas\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebrospinal Fluid\" have been set to their value according to the selected database\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n[Info]  Start voxeling\n[Info]  Topological Voxeler Report: Complete Voxel Scene\n    Voxel Scene Memory Consumption: 0.002876 GB\n    Wall Clock Time: 8.55259 s\n\n[Info]  Voxeling succeeded.\n    - Finalizing setup complete. [FarFieldSetup._finalize_setup]\n      - Subtask 'setup_voxelize' done in 21.23s [FarFieldSetup.run_full_setup]\n      - Done in 21.23s [FarFieldSetup.run_full_setup]\n    - Save project... [FarFieldSetup.run_full_setup]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\nProject saved. [ProjectManager.save]\n      - Subtask 'setup_save_project' done in 3.49s [FarFieldSetup.run_full_setup]\n      - Done in 3.49s [FarFieldSetup.run_full_setup]\nCommon settings applied. [FarFieldSetup.run_full_setup]\n    - Subtask 'setup_simulation' done in 40.89s [FarFieldStudy.subtask]\n    - Done in 40.89s [FarFieldStudy.subtask]\n  - Saved configuration metadata to config.json [ProjectManager.write_simulation_metadata]\n--- Finished: setup (took 41.41s) --- [profile]\n--- Starting: run --- [profile]\n  - Run simulation total... [FarFieldStudy.subtask]\nRunning simulation: EM_FDTD_thelonious_700MHz_x_pos_phi [SimulationRunner.run]\n    - Write input file... [SimulationRunner.run]\n[Info]  Writing solver input file(s) for EM_FDTD_thelonious_700MHz_x_pos_phi\n[Info]  Writing Rectilinear Discretization to Input File. Elapse Time: 0.485597 s\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n      - Subtask 'run_write_input_file' done in 4.83s [SimulationRunner.run]\n      - Done in 4.83s [SimulationRunner.run]\nRunning iSolve with acceleware on 04895e5e-6bf5-4bd1-8807-2fa8361581a6_Input.h5 [SimulationRunner._run_isolve_manual]\n    - Execute iSolve... [SimulationRunner._run_isolve_manual]\n\nReading command line \niSolve X, Version 8.2.0 (16876), 64Bit Windows \n\nRunning MPI version 2.0 on 1 process. \n\n\nSimulation 'EM_FDTD_thelonious_700MHz_x_pos_phi'  \n\nInstalled system RAM visible to this process:  16.0 GB \n\nSolver type: EmFdtd, SinglePrecision, Acceleware \nInput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash_Results\\04895e5e-6bf5-4bd1-8807-2fa8361581a6_Input.h5 \nInput file generated by: Sim4Life, Version 8.2.0.16876 \nOutput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash_Results\\04895e5e-6bf5-4bd1-8807-2fa8361581a6_Output.h5 \n\nUsing commercial license features. \nChecking out license feature 'FDTD_SOLVER', version 8.2, (1). \n\nRunning the EM-FDTD solver with the following settings: \nFloating Point Arithmetic: single (4 Bytes) \nHPC: Acceleware \nUsed Acceleware library is '11.4.1.13550 (x64, 64-bit)'. \nYour NVIDIA display driver is newer than the expected version. \nInstalled version: 15.7680 Expected: 15.3667 (see also http://www.acceleware.com/fdtd-11-4-1) \nReduced performance could be encountered. \n\nSimulation Time Step:   5.72711e-12 sec \nSimulation Iterations:  2853 \nMax Simulated Time: 1.63394e-08 sec \n\nGrid: \nNumber of cells: 229x177x499 = 20225967 cells = 20.2260 MCells \nNumber of cells including PML: 245x193x515 = 24351775 cells = 24.3518 MCells \nX: Range [-0.338659 ... 0.346117] with minimal 0.00297412 and maximal step 0.0029977 [m] \nY: Range [-0.21475 ... 0.312145] with minimal 0.00297412 and maximal step 0.00297865 [m] \nZ: Range [-1.12649 ... 0.367766] with minimal 0.00297403 and maximal step 0.00299799 [m] \n\nBoundaries: \nSide X-: ABC (UPML, 8 layers) \nSide X+: ABC (UPML, 8 layers) \nSide Y-: ABC (UPML, 8 layers) \nSide Y+: ABC (UPML, 8 layers) \nSide Z-: ABC (UPML, 8 layers) \nSide Z+: ABC (UPML, 8 layers) \n\nCreated unified material architecture (UMA) model \n\nMaterials (77): \nBackground: dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nTongue  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=0.865626, mu_r=1.000000, sigma_H=0.000000) \nAdrenal_gland  (Thelonious_6y_V6): dielectric (eps_r=50.989008, sigma_E=0.954350, mu_r=1.000000, sigma_H=0.000000) \nStomach_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \ncommissura_anterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nEye_vitreous_humor  (Thelonious_6y_V6): dielectric (eps_r=68.947390, sigma_E=1.583627, mu_r=1.000000, sigma_H=0.000000) \nVein  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nMidbrain  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nTestis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nAir_internal  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBlood_vessel  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nEpididymis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nPinealbody  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBladder  (Thelonious_6y_V6): dielectric (eps_r=19.149003, sigma_E=0.358399, mu_r=1.000000, sigma_H=0.000000) \nMarrow_red  (Thelonious_6y_V6): dielectric (eps_r=11.451933, sigma_E=0.207759, mu_r=1.000000, sigma_H=0.000000) \nGallbladder  (Thelonious_6y_V6): dielectric (eps_r=59.551663, sigma_E=1.202528, mu_r=1.000000, sigma_H=0.000000) \nHypophysis  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBrain_white_matter  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nSpleen  (Thelonious_6y_V6): dielectric (eps_r=58.688546, sigma_E=1.175182, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nThymus  (Thelonious_6y_V6): dielectric (eps_r=55.600852, sigma_E=1.115237, mu_r=1.000000, sigma_H=0.000000) \nTrachea  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nHeart_muscle  (Thelonious_6y_V6): dielectric (eps_r=61.478559, sigma_E=1.125021, mu_r=1.000000, sigma_H=0.000000) \nMuscle  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nHypothalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nArtery  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nSkin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nBrain_grey_matter  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nPatella  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_Sclera  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=1.096154, mu_r=1.000000, sigma_H=0.000000) \nTendon_Ligament  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nKidney_medulla  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nMedulla_oblongata  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nEsophagus  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nIntervertebral_disc  (Thelonious_6y_V6): dielectric (eps_r=44.418065, sigma_E=1.041108, mu_r=1.000000, sigma_H=0.000000) \nVertebrae  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_lens  (Thelonious_6y_V6): dielectric (eps_r=36.279018, sigma_E=0.435952, mu_r=1.000000, sigma_H=0.000000) \ncommissura_posterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nCornea  (Thelonious_6y_V6): dielectric (eps_r=56.275669, sigma_E=1.311407, mu_r=1.000000, sigma_H=0.000000) \nTrachea_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPharynx  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nLiver  (Thelonious_6y_V6): dielectric (eps_r=47.963211, sigma_E=0.773986, mu_r=1.000000, sigma_H=0.000000) \nThalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nHeart_lumen  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine  (Thelonious_6y_V6): dielectric (eps_r=59.134765, sigma_E=0.989502, mu_r=1.000000, sigma_H=0.000000) \nKidney_cortex  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nStomach  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nFat  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nLung  (Thelonious_6y_V6): dielectric (eps_r=22.460437, sigma_E=0.423425, mu_r=1.000000, sigma_H=0.000000) \nConnective_tissue  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nPons  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nSpinal_cord  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nSAT  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nEar_cartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nTeeth  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nNerve  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nEar_skin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nMeniscus  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nSkull  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nProstate  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nDiaphragm  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nBone  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nMucosa  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine  (Thelonious_6y_V6): dielectric (eps_r=61.138364, sigma_E=2.062163, mu_r=1.000000, sigma_H=0.000000) \nLarynx  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nMandible  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nCartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nHippocampus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nCerebellum  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nPenis  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nUreter_Urethra  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nBronchi_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPancreas  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nEsophagus_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBronchi  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nCerebrospinal_fluid  (Thelonious_6y_V6): dielectric (eps_r=69.157589, sigma_E=2.338250, mu_r=1.000000, sigma_H=0.000000) \n\nLumped Elements: No active lumped elements in the simulation. \n\nHost OS: Microsoft Windows 10 Professional 64-bit (Build 9200) \nHost CPU: AMD EPYC 7542 32-Core Processor \nHost memory: 16379 MB \nThe following Accelerators have been detected: \nNVIDIA GeForce RTX 4090 (device ID = 0), compute capability 8.9, total memory 24563 MB \n\n\nSensors (3): \nInitializing field sensor Overall Field. \nInitializing point sensor Point Sensor Entity 1 (lower_left_bottom). \nAveraging setup for point sensor Point Sensor Entity 1 (lower_left_bottom): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 1 (lower_left_bottom): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nInitializing point sensor Point Sensor Entity 2 (top_right_up). \nAveraging setup for point sensor Point Sensor Entity 2 (top_right_up): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 2 (top_right_up): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nUsing DFT to convert to frequency domain. \n\nSources (1): \nInitializing plane wave source far_field_simulation_bbox. \nExcitation signal: Harmonic signal with frequency 700 MHz and ramp time 2.14286 ns \n\nUpdate coefficient calculation for 122086088 edges using 3 threads. \nCalculating update coefficients \n[PROGRESS]: 21% [ 25691000 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 39% [ 47752938 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 61% [ 74678479 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 77% [ 94269718 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 97% [ 118723088 / 122086088 ] Calculating update coefficients \n\n\nEdge-Material Statistics (Electric/Magnetic): \n61165060 / 60921028      (100.00% / 100.00%) : Total \n61165060 / 60921028      (100.00% / 100.00%) : Dielectric \n\nEdge-Region Statistics (regions with more than 1% of all edges, max 20 items): \n58992181 / 58810012      ( 96.45% /  96.53%) : Background \n1084192 /  1496072   (  1.77% /   2.46%) : Other \n1088687 /   614944   (  1.78% /   1.01%) : Averaged \n\n\nUpdate coefficient database contains 2099 E-coefficient(s) and 1 H-coefficient(s). \nElapsed time for 'Calculating update coefficients' was 00:00:11 wall clock time. \nPreparing for time update \nUse hardware resource management option fastest simulation \nChecking out license feature 'AXWARE_TOKEN', version 8.2, (1). \n[PROGRESS]: 2% [ 2 / 100 ] Preparing for time update \n[PROGRESS]: 15% [ 15 / 100 ] Preparing for time update \n[PROGRESS]: 28% [ 28 / 100 ] Preparing for time update \n[PROGRESS]: 41% [ 41 / 100 ] Preparing for time update \n[PROGRESS]: 54% [ 54 / 100 ] Preparing for time update \n[PROGRESS]: 71% [ 71 / 100 ] Preparing for time update \nSimulation 1 is using device(s): [0] \nElapsed time for 'Preparing for time update' was 00:00:19 wall clock time. \nStarting solver aXware (hardware accelerated). \nTime Update \n[PROGRESS]: 0% [ 10 / 2853 ] Time Update, estimated remaining time 1 minutes 45 seconds  @ 659.61 MCells/s \n[PROGRESS]: 7% [ 207 / 2853 ] Time Update, estimated remaining time 30 seconds  @ 2156.30 MCells/s \n[PROGRESS]: 13% [ 376 / 2853 ] Time Update, estimated remaining time 31 seconds  @ 1945.88 MCells/s \n[PROGRESS]: 19% [ 545 / 2853 ] Time Update, estimated remaining time 27 seconds  @ 2052.72 MCells/s \n[PROGRESS]: 25% [ 714 / 2853 ] Time Update, estimated remaining time 26 seconds  @ 2039.80 MCells/s \n[PROGRESS]: 30% [ 883 / 2853 ] Time Update, estimated remaining time 24 seconds  @ 2013.39 MCells/s \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 1 to check conventional convergence. \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 5 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 1 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 5 to check conventional convergence. \n[PROGRESS]: 36% [ 1052 / 2853 ] Time Update, estimated remaining time 22 seconds  @ 1964.48 MCells/s \n[PROGRESS]: 43% [ 1249 / 2853 ] Time Update, estimated remaining time 19 seconds  @ 2088.56 MCells/s \n[PROGRESS]: 49% [ 1418 / 2853 ] Time Update, estimated remaining time 18 seconds  @ 1947.75 MCells/s \n[PROGRESS]: 53% [ 1531 / 2853 ] Time Update, estimated remaining time 23 seconds  @ 1374.60 MCells/s \n[PROGRESS]: 57% [ 1644 / 2853 ] Time Update, estimated remaining time 24 seconds  @ 1233.78 MCells/s \n[PROGRESS]: 62% [ 1785 / 2853 ] Time Update, estimated remaining time 18 seconds  @ 1479.86 MCells/s \nSensor Point Sensor Entity 2 (top_right_up): conventional steady state check successful. \n[PROGRESS]: 69% [ 1982 / 2853 ] Time Update, estimated remaining time 10 seconds  @ 2099.29 MCells/s \nSensor Point Sensor Entity 1 (lower_left_bottom): conventional steady state check successful. \nSteady state detected at iteration 2060, remaining time steps are 63. \n[PROGRESS]: 97% [ 2067 / 2123 ] Time Update, estimated remaining time 4 seconds  @ 355.92 MCells/s \nSimulation performed 2123 iterations. \nElapsed time for 'Time Update' was 00:00:41 wall clock time. \n\nPost-process Sensors \nPost-process sensor 'Overall Field' \nPost-process sensor 'Point Sensor Entity 1 (lower_left_bottom)' \n[PROGRESS]: 66% [ 2 / 3 ] Post-process Sensors \nPost-process sensor 'Point Sensor Entity 2 (top_right_up)' \nTrusted frequency is 700 MHz. Expect less accurate results outside. \nElapsed time for 'Post-process Sensors' was 00:00:08 wall clock time. \nFDTD simulation finished successfully. \n\nSimulation 'EM_FDTD_thelonious_700MHz_x_pos_phi' has ended successfully and took 00:01:31 wall clock time \nNo compression of solver files requested \nReleased license feature 'AXWARE_TOKEN'. \nReleased license feature 'FDTD_SOLVER'. \nPeak CPU memory usage:   3.6 GB (3912392704 Bytes) \niSolve ended successfully. \n      - Subtask 'run_isolve_execution' done in 92.53s [SimulationRunner._run_isolve_manual]\n      - Done in 92.53s [SimulationRunner._run_isolve_manual]\n    - Wait for results... [SimulationRunner._run_isolve_manual]\n      - Subtask 'run_wait_for_results' done in 5.03s [SimulationRunner._run_isolve_manual]\n      - Done in 5.03s [SimulationRunner._run_isolve_manual]\n    - Reload project... [SimulationRunner._run_isolve_manual]\nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash \n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\n      - Subtask 'run_reload_project' done in 12.19s [SimulationRunner._run_isolve_manual]\n      - Done in 12.19s [SimulationRunner._run_isolve_manual]\nProject reloaded and results are available. [SimulationRunner._run_isolve_manual]\n    - Subtask 'run_simulation_total' done in 114.72s [FarFieldStudy.subtask]\n    - Done in 114.72s [FarFieldStudy.subtask]\nRun deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\n--- Finished: run (took 114.88s) --- [profile]\n--- Starting: extract --- [profile]\nRun deliverables verified. Proceeding with extraction. [FarFieldStudy._verify_run_deliverables_before_extraction]\nValidating project file: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash [ProjectManager.open]\nOpening project with Sim4Life: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash [ProjectManager.open]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nProject reloaded. [ProjectManager.reload_project]\n  - Extract results total... [FarFieldStudy.subtask]\n    - Extract input power... [PowerExtractor.extract_input_power]\n  - Far-field study: using theoretical model for input power. [PowerExtractor._extract_far_field_power]\n  - Calculated theoretical input power: 5.3099e-04 W [PowerExtractor._extract_far_field_power]\n      - Subtask 'extract_input_power' done in 0.00s [PowerExtractor.extract_input_power]\n      - Done in 0.00s [PowerExtractor.extract_input_power]\n    - Extract SAR statistics... [SarExtractor.extract_sar_statistics]\n  - Loading tissue groups for 'thelonious' from material_name_mapping.json [SarExtractor._define_tissue_groups]\n  - Extracting peak SAR details... [SarExtractor.extract_peak_sar_details]\n      - Subtask 'extract_sar_statistics' done in 29.34s [SarExtractor.extract_sar_statistics]\n      - Done in 29.34s [SarExtractor.extract_sar_statistics]\n    - Extract power balance... [PowerExtractor.extract_power_balance]\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\n    - Overwriting Pin with theoretical value: 5.3099e-04 W [PowerExtractor.extract_power_balance]\n    - Final Balance: 91.85% [PowerExtractor.extract_power_balance]\n      - Subtask 'extract_power_balance' done in 10.55s [PowerExtractor.extract_power_balance]\n      - Done in 10.55s [PowerExtractor.extract_power_balance]\n    - Extract point sensors... [SensorExtractor.extract_point_sensor_data]\n  - Point sensor plot saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_phi_x_pos\\point_sensor_data.png [SensorExtractor._save_plot]\n      - Subtask 'extract_point_sensor_data' done in 0.48s [SensorExtractor.extract_point_sensor_data]\n      - Done in 0.48s [SensorExtractor.extract_point_sensor_data]\n  - Pickle report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_phi_x_pos\\sar_stats_all_tissues.pkl [Reporter._save_pickle_report]\n  - HTML report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_phi_x_pos\\sar_stats_all_tissues.html [Reporter._save_html_report]\n  - SAR results saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_phi_x_pos\\sar_results.json [ResultsExtractor._save_json_results]\n    - Subtask 'extract_results_total' done in 41.25s [FarFieldStudy.subtask]\n    - Done in 41.25s [FarFieldStudy.subtask]\nExtract deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\nProject saved. [ProjectManager.save]\n--- Finished: extract (took 57.66s) --- [profile]\n\n--- Processing Simulation 3/4: thelonious, 700MHz, z_neg, theta --- [FarFieldStudy._run_study]\n--- Starting: setup --- [profile]\nProject path set to: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash [ProjectManager.create_or_open_project]\nNo metadata file found at config.json. [ProjectManager.verify_simulation_metadata]\nExisting project is invalid or out of date. A new setup is required. [ProjectManager.create_or_open_project]\n--- Simulation-specific progress logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg\\progress.log --- \n--- Simulation-specific verbose logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg\\verbose.log --- \nCreating a new empty project in memory. [ProjectManager.create_new]\nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\nInitializing model by creating and deleting a dummy block... [ProjectManager.create_new]\nModel initialized, ready for population. [ProjectManager.create_new]\n  - Setup simulation... [FarFieldStudy.subtask]\n--- Setting up single Far-Field sim --- [FarFieldSetup.run_full_setup]\n    - Load phantom... [FarFieldSetup.run_full_setup]\n--- Running Phantom Check --- [PhantomSetup._log]\nFound 2 total entities in the project. [PhantomSetup._log]\n--- Phantom Check Result: Phantom not found in project. --- [PhantomSetup._log]\nPhantom not found in document. Importing from 'C:\\Users\\user\\repo-clean\\data\\phantoms\\thelonious.sab'... [PhantomSetup._log]\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nPhantom imported successfully. [PhantomSetup._log]\n      - Subtask 'setup_load_phantom' done in 8.47s [FarFieldSetup.run_full_setup]\n      - Done in 8.47s [FarFieldSetup.run_full_setup]\n    - Configure scene (bbox, plane wave)... [FarFieldSetup.run_full_setup]\nCreating simulation bounding box for far-field... [FarFieldSetup._create_or_get_simulation_bbox]\n  - Created far-field simulation BBox with 50mm padding. [FarFieldSetup._create_or_get_simulation_bbox]\n  - Creating simulation: EM_FDTD_thelonious_700MHz_z_neg_theta [FarFieldSetup._create_simulation_entity]\n  - Using simulation time multiplier: 3.5 [FarFieldSetup._apply_simulation_time_and_termination]\n  - Simulation time set to 11.44 periods. [FarFieldSetup._apply_simulation_time_and_termination]\n  - Setting termination criteria to: GlobalAutoTerminationUserDefined [FarFieldSetup._apply_simulation_time_and_termination]\n    - Convergence level set to: -15 dB [FarFieldSetup._apply_simulation_time_and_termination]\n      - Subtask 'setup_configure_scene' done in 1.84s [FarFieldSetup.run_full_setup]\n      - Done in 1.84s [FarFieldSetup.run_full_setup]\n    - Assign materials... [FarFieldSetup.run_full_setup]\nAssigning materials... [MaterialSetup.assign_materials]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\n[Info]  \nMass Density has changed from 1000 to 1.2050000000000001\nMass Density has changed from 1.2050000000000001 to 1.2\nRelative Permittivity has changed from 1 to 0\nSimulation : [Warn]  Unable to find any match for following settings properties: Magnetic Conductivity\nSimulation : [Warn]  Unable to find any match for following settings properties: Relative Permeability\n      - Subtask 'setup_materials' done in 5.33s [FarFieldSetup.run_full_setup]\n      - Done in 5.33s [FarFieldSetup.run_full_setup]\n    - Configure solver (gridding, boundaries, sensors)... [FarFieldSetup.run_full_setup]\nSetting up gridding... [GriddingSetup.setup_gridding]\n  - Looking for global grid bounding box: 'far_field_simulation_bbox' [GriddingSetup._setup_main_grid]\n  - Using manual gridding. [GriddingSetup._setup_main_grid]\n  - Global and added manual grid set with global resolution: 3.0 mm. [GriddingSetup._setup_main_grid]\n  - Using automatic padding. [GriddingSetup._setup_main_grid]\n  - No antenna components provided, skipping subgridding. [GriddingSetup.setup_gridding]\nSetting up boundary conditions... [BoundarySetup.setup_boundary_conditions]\n  - Setting global boundary conditions to: UpmlCpml [BoundarySetup.setup_boundary_conditions]\n    - Successfully set GlobalBoundaryType to UpmlCpml [BoundarySetup.setup_boundary_conditions]\n  - Setting PML strength to: Low [BoundarySetup.setup_boundary_conditions]\n    - Successfully set PmlStrength to Low [BoundarySetup.setup_boundary_conditions]\n  - Added point sensor at (Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42)) (lower_left_bottom) [FarFieldSetup._add_point_sensors]\n  - Added point sensor at (Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697)) (top_right_up) [FarFieldSetup._add_point_sensors]\n  - Configuring solver settings... [FarFieldSetup._setup_solver_settings]\n    - Solver kernel set to: Acceleware (AXware) [FarFieldSetup._setup_solver_settings]\n      - Subtask 'setup_solver' done in 0.23s [FarFieldSetup.run_full_setup]\n      - Done in 0.23s [FarFieldSetup.run_full_setup]\n    - Voxelize simulation... [FarFieldSetup.run_full_setup]\n    - Finalizing setup... [FarFieldSetup._finalize_setup]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tongue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Adrenal Gland\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Anterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Vitreous Humor)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Midbrain\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Testis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Air 1\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood Vessel Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Epididymis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pineal Body\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Urinary Bladder Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone Marrow (Red)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Gallbladder\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypophysis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (White Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spleen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thymus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypothalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skin\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (Grey Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone (Cortical)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Sclera)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tendon\\Ligament\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Medulla)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Medulla Oblongata\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Intervertebral Disc\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Vertebrae\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Lens)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Posterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Cornea)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pharynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Liver\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Cortex)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Fat\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Lung\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Connective Tissue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pons\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spinal Cord\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"SAT (Subcutaneous Fat)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cartilage\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tooth\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Nerve\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Meniscus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skull\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Prostate\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Diaphragm\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mucous Membrane\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Larynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mandible\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hippocampus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebellum\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Penis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Ureter\\Urethra\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pancreas\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebrospinal Fluid\" have been set to their value according to the selected database\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n[Info]  Start voxeling\n[Info]  Topological Voxeler Report: Complete Voxel Scene\n    Voxel Scene Memory Consumption: 0.002876 GB\n    Wall Clock Time: 7.68067 s\n\n[Info]  Voxeling succeeded.\n    - Finalizing setup complete. [FarFieldSetup._finalize_setup]\n      - Subtask 'setup_voxelize' done in 19.81s [FarFieldSetup.run_full_setup]\n      - Done in 19.81s [FarFieldSetup.run_full_setup]\n    - Save project... [FarFieldSetup.run_full_setup]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\nProject saved. [ProjectManager.save]\n      - Subtask 'setup_save_project' done in 3.83s [FarFieldSetup.run_full_setup]\n      - Done in 3.83s [FarFieldSetup.run_full_setup]\nCommon settings applied. [FarFieldSetup.run_full_setup]\n    - Subtask 'setup_simulation' done in 39.77s [FarFieldStudy.subtask]\n    - Done in 39.77s [FarFieldStudy.subtask]\n  - Saved configuration metadata to config.json [ProjectManager.write_simulation_metadata]\n--- Finished: setup (took 40.39s) --- [profile]\n--- Starting: run --- [profile]\n  - Run simulation total... [FarFieldStudy.subtask]\nRunning simulation: EM_FDTD_thelonious_700MHz_z_neg_theta [SimulationRunner.run]\n    - Write input file... [SimulationRunner.run]\n[Info]  Writing solver input file(s) for EM_FDTD_thelonious_700MHz_z_neg_theta\n[Info]  Writing Rectilinear Discretization to Input File. Elapse Time: 0.488646 s\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n      - Subtask 'run_write_input_file' done in 4.89s [SimulationRunner.run]\n      - Done in 4.89s [SimulationRunner.run]\nRunning iSolve with acceleware on 820cac89-ce7c-4720-91b0-34eaecb818bd_Input.h5 [SimulationRunner._run_isolve_manual]\n    - Execute iSolve... [SimulationRunner._run_isolve_manual]\n\nReading command line \niSolve X, Version 8.2.0 (16876), 64Bit Windows \n\nRunning MPI version 2.0 on 1 process. \n\n\nSimulation 'EM_FDTD_thelonious_700MHz_z_neg_theta'  \n\nInstalled system RAM visible to this process:  16.0 GB \n\nSolver type: EmFdtd, SinglePrecision, Acceleware \nInput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash_Results\\820cac89-ce7c-4720-91b0-34eaecb818bd_Input.h5 \nInput file generated by: Sim4Life, Version 8.2.0.16876 \nOutput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash_Results\\820cac89-ce7c-4720-91b0-34eaecb818bd_Output.h5 \n\nUsing commercial license features. \nChecking out license feature 'FDTD_SOLVER', version 8.2, (1). \n\nRunning the EM-FDTD solver with the following settings: \nFloating Point Arithmetic: single (4 Bytes) \nHPC: Acceleware \nUsed Acceleware library is '11.4.1.13550 (x64, 64-bit)'. \nYour NVIDIA display driver is newer than the expected version. \nInstalled version: 15.7680 Expected: 15.3667 (see also http://www.acceleware.com/fdtd-11-4-1) \nReduced performance could be encountered. \n\nSimulation Time Step:   5.72711e-12 sec \nSimulation Iterations:  2853 \nMax Simulated Time: 1.63394e-08 sec \n\nGrid: \nNumber of cells: 229x177x499 = 20225967 cells = 20.2260 MCells \nNumber of cells including PML: 245x193x515 = 24351775 cells = 24.3518 MCells \nX: Range [-0.338659 ... 0.346117] with minimal 0.00297412 and maximal step 0.0029977 [m] \nY: Range [-0.21475 ... 0.312145] with minimal 0.00297412 and maximal step 0.00297865 [m] \nZ: Range [-1.12649 ... 0.367766] with minimal 0.00297403 and maximal step 0.00299799 [m] \n\nBoundaries: \nSide X-: ABC (UPML, 8 layers) \nSide X+: ABC (UPML, 8 layers) \nSide Y-: ABC (UPML, 8 layers) \nSide Y+: ABC (UPML, 8 layers) \nSide Z-: ABC (UPML, 8 layers) \nSide Z+: ABC (UPML, 8 layers) \n\nCreated unified material architecture (UMA) model \n\nMaterials (77): \nBackground: dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nTongue  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=0.865626, mu_r=1.000000, sigma_H=0.000000) \nAdrenal_gland  (Thelonious_6y_V6): dielectric (eps_r=50.989008, sigma_E=0.954350, mu_r=1.000000, sigma_H=0.000000) \nStomach_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \ncommissura_anterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nEye_vitreous_humor  (Thelonious_6y_V6): dielectric (eps_r=68.947390, sigma_E=1.583627, mu_r=1.000000, sigma_H=0.000000) \nVein  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nMidbrain  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nTestis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nAir_internal  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBlood_vessel  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nEpididymis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nPinealbody  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBladder  (Thelonious_6y_V6): dielectric (eps_r=19.149003, sigma_E=0.358399, mu_r=1.000000, sigma_H=0.000000) \nMarrow_red  (Thelonious_6y_V6): dielectric (eps_r=11.451933, sigma_E=0.207759, mu_r=1.000000, sigma_H=0.000000) \nGallbladder  (Thelonious_6y_V6): dielectric (eps_r=59.551663, sigma_E=1.202528, mu_r=1.000000, sigma_H=0.000000) \nHypophysis  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBrain_white_matter  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nSpleen  (Thelonious_6y_V6): dielectric (eps_r=58.688546, sigma_E=1.175182, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nThymus  (Thelonious_6y_V6): dielectric (eps_r=55.600852, sigma_E=1.115237, mu_r=1.000000, sigma_H=0.000000) \nTrachea  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nHeart_muscle  (Thelonious_6y_V6): dielectric (eps_r=61.478559, sigma_E=1.125021, mu_r=1.000000, sigma_H=0.000000) \nMuscle  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nHypothalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nArtery  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nSkin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nBrain_grey_matter  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nPatella  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_Sclera  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=1.096154, mu_r=1.000000, sigma_H=0.000000) \nTendon_Ligament  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nKidney_medulla  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nMedulla_oblongata  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nEsophagus  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nIntervertebral_disc  (Thelonious_6y_V6): dielectric (eps_r=44.418065, sigma_E=1.041108, mu_r=1.000000, sigma_H=0.000000) \nVertebrae  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_lens  (Thelonious_6y_V6): dielectric (eps_r=36.279018, sigma_E=0.435952, mu_r=1.000000, sigma_H=0.000000) \ncommissura_posterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nCornea  (Thelonious_6y_V6): dielectric (eps_r=56.275669, sigma_E=1.311407, mu_r=1.000000, sigma_H=0.000000) \nTrachea_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPharynx  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nLiver  (Thelonious_6y_V6): dielectric (eps_r=47.963211, sigma_E=0.773986, mu_r=1.000000, sigma_H=0.000000) \nThalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nHeart_lumen  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine  (Thelonious_6y_V6): dielectric (eps_r=59.134765, sigma_E=0.989502, mu_r=1.000000, sigma_H=0.000000) \nKidney_cortex  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nStomach  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nFat  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nLung  (Thelonious_6y_V6): dielectric (eps_r=22.460437, sigma_E=0.423425, mu_r=1.000000, sigma_H=0.000000) \nConnective_tissue  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nPons  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nSpinal_cord  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nSAT  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nEar_cartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nTeeth  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nNerve  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nEar_skin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nMeniscus  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nSkull  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nProstate  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nDiaphragm  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nBone  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nMucosa  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine  (Thelonious_6y_V6): dielectric (eps_r=61.138364, sigma_E=2.062163, mu_r=1.000000, sigma_H=0.000000) \nLarynx  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nMandible  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nCartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nHippocampus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nCerebellum  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nPenis  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nUreter_Urethra  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nBronchi_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPancreas  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nEsophagus_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBronchi  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nCerebrospinal_fluid  (Thelonious_6y_V6): dielectric (eps_r=69.157589, sigma_E=2.338250, mu_r=1.000000, sigma_H=0.000000) \n\nLumped Elements: No active lumped elements in the simulation. \n\nHost OS: Microsoft Windows 10 Professional 64-bit (Build 9200) \nHost CPU: AMD EPYC 7542 32-Core Processor \nHost memory: 16379 MB \nThe following Accelerators have been detected: \nNVIDIA GeForce RTX 4090 (device ID = 0), compute capability 8.9, total memory 24563 MB \n\n\nSensors (3): \nInitializing field sensor Overall Field. \nInitializing point sensor Point Sensor Entity 1 (lower_left_bottom). \nAveraging setup for point sensor Point Sensor Entity 1 (lower_left_bottom): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 1 (lower_left_bottom): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nInitializing point sensor Point Sensor Entity 2 (top_right_up). \nAveraging setup for point sensor Point Sensor Entity 2 (top_right_up): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 2 (top_right_up): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nUsing DFT to convert to frequency domain. \n\nSources (1): \nInitializing plane wave source far_field_simulation_bbox. \nExcitation signal: Harmonic signal with frequency 700 MHz and ramp time 2.14286 ns \n\nUpdate coefficient calculation for 122086088 edges using 3 threads. \nCalculating update coefficients \n[PROGRESS]: 23% [ 28080500 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 41% [ 50062310 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 61% [ 74501833 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 84% [ 102616088 / 122086088 ] Calculating update coefficients \n\n\nEdge-Material Statistics (Electric/Magnetic): \n61165060 / 60921028      (100.00% / 100.00%) : Total \n61165060 / 60921028      (100.00% / 100.00%) : Dielectric \n\nEdge-Region Statistics (regions with more than 1% of all edges, max 20 items): \n58992181 / 58810012      ( 96.45% /  96.53%) : Background \n1084192 /  1496072   (  1.77% /   2.46%) : Other \n1088687 /   614944   (  1.78% /   1.01%) : Averaged \n\n\nUpdate coefficient database contains 2099 E-coefficient(s) and 1 H-coefficient(s). \nElapsed time for 'Calculating update coefficients' was 00:00:11 wall clock time. \nPreparing for time update \nUse hardware resource management option fastest simulation \nChecking out license feature 'AXWARE_TOKEN', version 8.2, (1). \n[PROGRESS]: 2% [ 2 / 100 ] Preparing for time update \n[PROGRESS]: 15% [ 15 / 100 ] Preparing for time update \n[PROGRESS]: 28% [ 28 / 100 ] Preparing for time update \n[PROGRESS]: 41% [ 41 / 100 ] Preparing for time update \n[PROGRESS]: 55% [ 55 / 100 ] Preparing for time update \n[PROGRESS]: 73% [ 73 / 100 ] Preparing for time update \nSimulation 1 is using device(s): [0] \nElapsed time for 'Preparing for time update' was 00:00:17 wall clock time. \nStarting solver aXware (hardware accelerated). \nTime Update \n[PROGRESS]: 0% [ 10 / 2853 ] Time Update, estimated remaining time 1 minutes 25 seconds  @ 813.94 MCells/s \n[PROGRESS]: 6% [ 179 / 2853 ] Time Update, estimated remaining time 32 seconds  @ 2040.03 MCells/s \n[PROGRESS]: 13% [ 376 / 2853 ] Time Update, estimated remaining time 28 seconds  @ 2164.92 MCells/s \n[PROGRESS]: 20% [ 573 / 2853 ] Time Update, estimated remaining time 26 seconds  @ 2163.82 MCells/s \n[PROGRESS]: 26% [ 742 / 2853 ] Time Update, estimated remaining time 26 seconds  @ 2015.32 MCells/s \n[PROGRESS]: 32% [ 939 / 2853 ] Time Update, estimated remaining time 21 seconds  @ 2204.32 MCells/s \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 0 to check conventional convergence. \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 4 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 0 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 4 to check conventional convergence. \n[PROGRESS]: 38% [ 1108 / 2853 ] Time Update, estimated remaining time 21 seconds  @ 2048.81 MCells/s \n[PROGRESS]: 45% [ 1305 / 2853 ] Time Update, estimated remaining time 17 seconds  @ 2182.51 MCells/s \n[PROGRESS]: 52% [ 1502 / 2853 ] Time Update, estimated remaining time 16 seconds  @ 2077.08 MCells/s \n[PROGRESS]: 59% [ 1699 / 2853 ] Time Update, estimated remaining time 13 seconds  @ 2165.40 MCells/s \n[PROGRESS]: 65% [ 1868 / 2853 ] Time Update, estimated remaining time 12 seconds  @ 2027.75 MCells/s \n[PROGRESS]: 72% [ 2065 / 2853 ] Time Update, estimated remaining time 9 seconds  @ 2140.35 MCells/s \nSensor Point Sensor Entity 2 (top_right_up): conventional steady state check successful. \n[PROGRESS]: 78% [ 2234 / 2853 ] Time Update, estimated remaining time 8 seconds  @ 1915.74 MCells/s \nSensor Point Sensor Entity 1 (lower_left_bottom): conventional steady state check successful. \nSteady state detected at iteration 2420, remaining time steps are 63. \n[PROGRESS]: 97% [ 2431 / 2483 ] Time Update, estimated remaining time 2 seconds  @ 714.69 MCells/s \nSimulation performed 2483 iterations. \nElapsed time for 'Time Update' was 00:00:40 wall clock time. \n\nPost-process Sensors \nPost-process sensor 'Overall Field' \nPost-process sensor 'Point Sensor Entity 1 (lower_left_bottom)' \n[PROGRESS]: 66% [ 2 / 3 ] Post-process Sensors \nPost-process sensor 'Point Sensor Entity 2 (top_right_up)' \nTrusted frequency is 700 MHz. Expect less accurate results outside. \nElapsed time for 'Post-process Sensors' was 00:00:06 wall clock time. \nFDTD simulation finished successfully. \n\nSimulation 'EM_FDTD_thelonious_700MHz_z_neg_theta' has ended successfully and took 00:01:24 wall clock time \nNo compression of solver files requested \nReleased license feature 'AXWARE_TOKEN'. \nReleased license feature 'FDTD_SOLVER'. \nPeak CPU memory usage:   3.6 GB (3910258688 Bytes) \niSolve ended successfully. \n      - Subtask 'run_isolve_execution' done in 85.66s [SimulationRunner._run_isolve_manual]\n      - Done in 85.66s [SimulationRunner._run_isolve_manual]\n    - Wait for results... [SimulationRunner._run_isolve_manual]\n      - Subtask 'run_wait_for_results' done in 5.03s [SimulationRunner._run_isolve_manual]\n      - Done in 5.03s [SimulationRunner._run_isolve_manual]\n    - Reload project... [SimulationRunner._run_isolve_manual]\nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash \n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\n      - Subtask 'run_reload_project' done in 12.14s [SimulationRunner._run_isolve_manual]\n      - Done in 12.14s [SimulationRunner._run_isolve_manual]\nProject reloaded and results are available. [SimulationRunner._run_isolve_manual]\n    - Subtask 'run_simulation_total' done in 107.81s [FarFieldStudy.subtask]\n    - Done in 107.81s [FarFieldStudy.subtask]\nRun deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\n--- Finished: run (took 107.88s) --- [profile]\n--- Starting: extract --- [profile]\nRun deliverables verified. Proceeding with extraction. [FarFieldStudy._verify_run_deliverables_before_extraction]\nValidating project file: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash [ProjectManager.open]\nOpening project with Sim4Life: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash [ProjectManager.open]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nProject reloaded. [ProjectManager.reload_project]\n  - Extract results total... [FarFieldStudy.subtask]\n    - Extract input power... [PowerExtractor.extract_input_power]\n  - Far-field study: using theoretical model for input power. [PowerExtractor._extract_far_field_power]\n  - Calculated theoretical input power: 1.9522e-04 W [PowerExtractor._extract_far_field_power]\n      - Subtask 'extract_input_power' done in 0.00s [PowerExtractor.extract_input_power]\n      - Done in 0.00s [PowerExtractor.extract_input_power]\n    - Extract SAR statistics... [SarExtractor.extract_sar_statistics]\n  - Loading tissue groups for 'thelonious' from material_name_mapping.json [SarExtractor._define_tissue_groups]\n  - Extracting peak SAR details... [SarExtractor.extract_peak_sar_details]\n      - Subtask 'extract_sar_statistics' done in 28.34s [SarExtractor.extract_sar_statistics]\n      - Done in 28.34s [SarExtractor.extract_sar_statistics]\n    - Extract power balance... [PowerExtractor.extract_power_balance]\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\n    - Overwriting Pin with theoretical value: 1.9522e-04 W [PowerExtractor.extract_power_balance]\n    - Final Balance: 221.47% [PowerExtractor.extract_power_balance]\n      - Subtask 'extract_power_balance' done in 10.88s [PowerExtractor.extract_power_balance]\n      - Done in 10.88s [PowerExtractor.extract_power_balance]\n    - Extract point sensors... [SensorExtractor.extract_point_sensor_data]\n  - Point sensor plot saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_z_neg\\point_sensor_data.png [SensorExtractor._save_plot]\n      - Subtask 'extract_point_sensor_data' done in 0.50s [SensorExtractor.extract_point_sensor_data]\n      - Done in 0.50s [SensorExtractor.extract_point_sensor_data]\n  - Pickle report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_z_neg\\sar_stats_all_tissues.pkl [Reporter._save_pickle_report]\n  - HTML report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_z_neg\\sar_stats_all_tissues.html [Reporter._save_html_report]\n  - SAR results saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_z_neg\\sar_results.json [ResultsExtractor._save_json_results]\n    - Subtask 'extract_results_total' done in 39.95s [FarFieldStudy.subtask]\n    - Done in 39.95s [FarFieldStudy.subtask]\nExtract deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n--- Finished: extract (took 59.44s) --- [profile]\n\n--- Processing Simulation 4/4: thelonious, 700MHz, z_neg, phi --- [FarFieldStudy._run_study]\n--- Starting: setup --- [profile]\nProject path set to: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash [ProjectManager.create_or_open_project]\nNo metadata file found at config.json. [ProjectManager.verify_simulation_metadata]\nExisting project is invalid or out of date. A new setup is required. [ProjectManager.create_or_open_project]\n--- Simulation-specific progress logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg\\progress.log --- \n--- Simulation-specific verbose logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg\\verbose.log --- \nCreating a new empty project in memory. [ProjectManager.create_new]\nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\nInitializing model by creating and deleting a dummy block... [ProjectManager.create_new]\nModel initialized, ready for population. [ProjectManager.create_new]\n  - Setup simulation... [FarFieldStudy.subtask]\n--- Setting up single Far-Field sim --- [FarFieldSetup.run_full_setup]\n    - Load phantom... [FarFieldSetup.run_full_setup]\n--- Running Phantom Check --- [PhantomSetup._log]\nFound 2 total entities in the project. [PhantomSetup._log]\n--- Phantom Check Result: Phantom not found in project. --- [PhantomSetup._log]\nPhantom not found in document. Importing from 'C:\\Users\\user\\repo-clean\\data\\phantoms\\thelonious.sab'... [PhantomSetup._log]\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nPhantom imported successfully. [PhantomSetup._log]\n      - Subtask 'setup_load_phantom' done in 8.78s [FarFieldSetup.run_full_setup]\n      - Done in 8.78s [FarFieldSetup.run_full_setup]\n    - Configure scene (bbox, plane wave)... [FarFieldSetup.run_full_setup]\nCreating simulation bounding box for far-field... [FarFieldSetup._create_or_get_simulation_bbox]\n  - Created far-field simulation BBox with 50mm padding. [FarFieldSetup._create_or_get_simulation_bbox]\n  - Creating simulation: EM_FDTD_thelonious_700MHz_z_neg_phi [FarFieldSetup._create_simulation_entity]\n  - Using simulation time multiplier: 3.5 [FarFieldSetup._apply_simulation_time_and_termination]\n  - Simulation time set to 11.44 periods. [FarFieldSetup._apply_simulation_time_and_termination]\n  - Setting termination criteria to: GlobalAutoTerminationUserDefined [FarFieldSetup._apply_simulation_time_and_termination]\n    - Convergence level set to: -15 dB [FarFieldSetup._apply_simulation_time_and_termination]\n      - Subtask 'setup_configure_scene' done in 1.50s [FarFieldSetup.run_full_setup]\n      - Done in 1.50s [FarFieldSetup.run_full_setup]\n    - Assign materials... [FarFieldSetup.run_full_setup]\nAssigning materials... [MaterialSetup.assign_materials]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\n[Info]  \nMass Density has changed from 1000 to 1.2050000000000001\nMass Density has changed from 1.2050000000000001 to 1.2\nRelative Permittivity has changed from 1 to 0\nSimulation : [Warn]  Unable to find any match for following settings properties: Magnetic Conductivity\nSimulation : [Warn]  Unable to find any match for following settings properties: Relative Permeability\n      - Subtask 'setup_materials' done in 5.30s [FarFieldSetup.run_full_setup]\n      - Done in 5.30s [FarFieldSetup.run_full_setup]\n    - Configure solver (gridding, boundaries, sensors)... [FarFieldSetup.run_full_setup]\nSetting up gridding... [GriddingSetup.setup_gridding]\n  - Looking for global grid bounding box: 'far_field_simulation_bbox' [GriddingSetup._setup_main_grid]\n  - Using manual gridding. [GriddingSetup._setup_main_grid]\n  - Global and added manual grid set with global resolution: 3.0 mm. [GriddingSetup._setup_main_grid]\n  - Using automatic padding. [GriddingSetup._setup_main_grid]\n  - No antenna components provided, skipping subgridding. [GriddingSetup.setup_gridding]\nSetting up boundary conditions... [BoundarySetup.setup_boundary_conditions]\n  - Setting global boundary conditions to: UpmlCpml [BoundarySetup.setup_boundary_conditions]\n    - Successfully set GlobalBoundaryType to UpmlCpml [BoundarySetup.setup_boundary_conditions]\n  - Setting PML strength to: Low [BoundarySetup.setup_boundary_conditions]\n    - Successfully set PmlStrength to Low [BoundarySetup.setup_boundary_conditions]\n  - Added point sensor at (Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42)) (lower_left_bottom) [FarFieldSetup._add_point_sensors]\n  - Added point sensor at (Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697)) (top_right_up) [FarFieldSetup._add_point_sensors]\n  - Configuring solver settings... [FarFieldSetup._setup_solver_settings]\n    - Solver kernel set to: Acceleware (AXware) [FarFieldSetup._setup_solver_settings]\n      - Subtask 'setup_solver' done in 0.22s [FarFieldSetup.run_full_setup]\n      - Done in 0.22s [FarFieldSetup.run_full_setup]\n    - Voxelize simulation... [FarFieldSetup.run_full_setup]\n    - Finalizing setup... [FarFieldSetup._finalize_setup]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tongue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Adrenal Gland\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Anterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Vitreous Humor)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Midbrain\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Testis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Air 1\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood Vessel Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Epididymis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pineal Body\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Urinary Bladder Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone Marrow (Red)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Gallbladder\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypophysis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (White Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spleen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thymus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypothalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skin\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (Grey Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone (Cortical)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Sclera)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tendon\\Ligament\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Medulla)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Medulla Oblongata\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Intervertebral Disc\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Vertebrae\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Lens)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Posterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Cornea)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pharynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Liver\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Cortex)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Fat\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Lung\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Connective Tissue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pons\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spinal Cord\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"SAT (Subcutaneous Fat)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cartilage\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tooth\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Nerve\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Meniscus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skull\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Prostate\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Diaphragm\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mucous Membrane\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Larynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mandible\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hippocampus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebellum\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Penis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Ureter\\Urethra\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pancreas\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebrospinal Fluid\" have been set to their value according to the selected database\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n[Info]  Start voxeling\n[Info]  Topological Voxeler Report: Complete Voxel Scene\n    Voxel Scene Memory Consumption: 0.002876 GB\n    Wall Clock Time: 7.6676 s\n\n[Info]  Voxeling succeeded.\n    - Finalizing setup complete. [FarFieldSetup._finalize_setup]\n      - Subtask 'setup_voxelize' done in 20.77s [FarFieldSetup.run_full_setup]\n      - Done in 20.77s [FarFieldSetup.run_full_setup]\n    - Save project... [FarFieldSetup.run_full_setup]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\nProject saved. [ProjectManager.save]\n      - Subtask 'setup_save_project' done in 3.98s [FarFieldSetup.run_full_setup]\n      - Done in 3.98s [FarFieldSetup.run_full_setup]\nCommon settings applied. [FarFieldSetup.run_full_setup]\n    - Subtask 'setup_simulation' done in 40.80s [FarFieldStudy.subtask]\n    - Done in 40.80s [FarFieldStudy.subtask]\n  - Saved configuration metadata to config.json [ProjectManager.write_simulation_metadata]\n--- Finished: setup (took 41.45s) --- [profile]\n--- Starting: run --- [profile]\n  - Run simulation total... [FarFieldStudy.subtask]\nRunning simulation: EM_FDTD_thelonious_700MHz_z_neg_phi [SimulationRunner.run]\n    - Write input file... [SimulationRunner.run]\n[Info]  Writing solver input file(s) for EM_FDTD_thelonious_700MHz_z_neg_phi\n[Info]  Writing Rectilinear Discretization to Input File. Elapse Time: 0.48039 s\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n      - Subtask 'run_write_input_file' done in 5.33s [SimulationRunner.run]\n      - Done in 5.33s [SimulationRunner.run]\nRunning iSolve with acceleware on b74e244e-d81d-4ea9-bd70-2bad50688c5d_Input.h5 [SimulationRunner._run_isolve_manual]\n    - Execute iSolve... [SimulationRunner._run_isolve_manual]\n\nReading command line \niSolve X, Version 8.2.0 (16876), 64Bit Windows \n\nRunning MPI version 2.0 on 1 process. \n\n\nSimulation 'EM_FDTD_thelonious_700MHz_z_neg_phi'  \n\nInstalled system RAM visible to this process:  16.0 GB \n\nSolver type: EmFdtd, SinglePrecision, Acceleware \nInput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash_Results\\b74e244e-d81d-4ea9-bd70-2bad50688c5d_Input.h5 \nInput file generated by: Sim4Life, Version 8.2.0.16876 \nOutput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash_Results\\b74e244e-d81d-4ea9-bd70-2bad50688c5d_Output.h5 \n\nUsing commercial license features. \nChecking out license feature 'FDTD_SOLVER', version 8.2, (1). \n\nRunning the EM-FDTD solver with the following settings: \nFloating Point Arithmetic: single (4 Bytes) \nHPC: Acceleware \nUsed Acceleware library is '11.4.1.13550 (x64, 64-bit)'. \nYour NVIDIA display driver is newer than the expected version. \nInstalled version: 15.7680 Expected: 15.3667 (see also http://www.acceleware.com/fdtd-11-4-1) \nReduced performance could be encountered. \n\nSimulation Time Step:   5.72711e-12 sec \nSimulation Iterations:  2853 \nMax Simulated Time: 1.63394e-08 sec \n\nGrid: \nNumber of cells: 229x177x499 = 20225967 cells = 20.2260 MCells \nNumber of cells including PML: 245x193x515 = 24351775 cells = 24.3518 MCells \nX: Range [-0.338659 ... 0.346117] with minimal 0.00297412 and maximal step 0.0029977 [m] \nY: Range [-0.21475 ... 0.312145] with minimal 0.00297412 and maximal step 0.00297865 [m] \nZ: Range [-1.12649 ... 0.367766] with minimal 0.00297403 and maximal step 0.00299799 [m] \n\nBoundaries: \nSide X-: ABC (UPML, 8 layers) \nSide X+: ABC (UPML, 8 layers) \nSide Y-: ABC (UPML, 8 layers) \nSide Y+: ABC (UPML, 8 layers) \nSide Z-: ABC (UPML, 8 layers) \nSide Z+: ABC (UPML, 8 layers) \n\nCreated unified material architecture (UMA) model \n\nMaterials (77): \nBackground: dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nTongue  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=0.865626, mu_r=1.000000, sigma_H=0.000000) \nAdrenal_gland  (Thelonious_6y_V6): dielectric (eps_r=50.989008, sigma_E=0.954350, mu_r=1.000000, sigma_H=0.000000) \nStomach_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \ncommissura_anterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nEye_vitreous_humor  (Thelonious_6y_V6): dielectric (eps_r=68.947390, sigma_E=1.583627, mu_r=1.000000, sigma_H=0.000000) \nVein  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nMidbrain  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nTestis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nAir_internal  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBlood_vessel  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nEpididymis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nPinealbody  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBladder  (Thelonious_6y_V6): dielectric (eps_r=19.149003, sigma_E=0.358399, mu_r=1.000000, sigma_H=0.000000) \nMarrow_red  (Thelonious_6y_V6): dielectric (eps_r=11.451933, sigma_E=0.207759, mu_r=1.000000, sigma_H=0.000000) \nGallbladder  (Thelonious_6y_V6): dielectric (eps_r=59.551663, sigma_E=1.202528, mu_r=1.000000, sigma_H=0.000000) \nHypophysis  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBrain_white_matter  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nSpleen  (Thelonious_6y_V6): dielectric (eps_r=58.688546, sigma_E=1.175182, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nThymus  (Thelonious_6y_V6): dielectric (eps_r=55.600852, sigma_E=1.115237, mu_r=1.000000, sigma_H=0.000000) \nTrachea  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nHeart_muscle  (Thelonious_6y_V6): dielectric (eps_r=61.478559, sigma_E=1.125021, mu_r=1.000000, sigma_H=0.000000) \nMuscle  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nHypothalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nArtery  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nSkin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nBrain_grey_matter  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nPatella  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_Sclera  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=1.096154, mu_r=1.000000, sigma_H=0.000000) \nTendon_Ligament  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nKidney_medulla  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nMedulla_oblongata  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nEsophagus  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nIntervertebral_disc  (Thelonious_6y_V6): dielectric (eps_r=44.418065, sigma_E=1.041108, mu_r=1.000000, sigma_H=0.000000) \nVertebrae  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_lens  (Thelonious_6y_V6): dielectric (eps_r=36.279018, sigma_E=0.435952, mu_r=1.000000, sigma_H=0.000000) \ncommissura_posterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nCornea  (Thelonious_6y_V6): dielectric (eps_r=56.275669, sigma_E=1.311407, mu_r=1.000000, sigma_H=0.000000) \nTrachea_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPharynx  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nLiver  (Thelonious_6y_V6): dielectric (eps_r=47.963211, sigma_E=0.773986, mu_r=1.000000, sigma_H=0.000000) \nThalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nHeart_lumen  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine  (Thelonious_6y_V6): dielectric (eps_r=59.134765, sigma_E=0.989502, mu_r=1.000000, sigma_H=0.000000) \nKidney_cortex  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nStomach  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nFat  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nLung  (Thelonious_6y_V6): dielectric (eps_r=22.460437, sigma_E=0.423425, mu_r=1.000000, sigma_H=0.000000) \nConnective_tissue  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nPons  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nSpinal_cord  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nSAT  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nEar_cartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nTeeth  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nNerve  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nEar_skin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nMeniscus  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nSkull  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nProstate  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nDiaphragm  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nBone  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nMucosa  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine  (Thelonious_6y_V6): dielectric (eps_r=61.138364, sigma_E=2.062163, mu_r=1.000000, sigma_H=0.000000) \nLarynx  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nMandible  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nCartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nHippocampus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nCerebellum  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nPenis  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nUreter_Urethra  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nBronchi_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPancreas  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nEsophagus_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBronchi  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nCerebrospinal_fluid  (Thelonious_6y_V6): dielectric (eps_r=69.157589, sigma_E=2.338250, mu_r=1.000000, sigma_H=0.000000) \n\nLumped Elements: No active lumped elements in the simulation. \n\nHost OS: Microsoft Windows 10 Professional 64-bit (Build 9200) \nHost CPU: AMD EPYC 7542 32-Core Processor \nHost memory: 16379 MB \nThe following Accelerators have been detected: \nNVIDIA GeForce RTX 4090 (device ID = 0), compute capability 8.9, total memory 24563 MB \n\n\nSensors (3): \nInitializing field sensor Overall Field. \nInitializing point sensor Point Sensor Entity 1 (lower_left_bottom). \nAveraging setup for point sensor Point Sensor Entity 1 (lower_left_bottom): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 1 (lower_left_bottom): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nInitializing point sensor Point Sensor Entity 2 (top_right_up). \nAveraging setup for point sensor Point Sensor Entity 2 (top_right_up): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 2 (top_right_up): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nUsing DFT to convert to frequency domain. \n\nSources (1): \nInitializing plane wave source far_field_simulation_bbox. \nExcitation signal: Harmonic signal with frequency 700 MHz and ramp time 2.14286 ns \n\nUpdate coefficient calculation for 122086088 edges using 3 threads. \nCalculating update coefficients \n[PROGRESS]: 20% [ 24452000 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 41% [ 50151132 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 60% [ 73353634 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 81% [ 99066106 / 122086088 ] Calculating update coefficients \n\n\nEdge-Material Statistics (Electric/Magnetic): \n61165060 / 60921028      (100.00% / 100.00%) : Total \n61165060 / 60921028      (100.00% / 100.00%) : Dielectric \n\nEdge-Region Statistics (regions with more than 1% of all edges, max 20 items): \n58992181 / 58810012      ( 96.45% /  96.53%) : Background \n1084192 /  1496072   (  1.77% /   2.46%) : Other \n1088687 /   614944   (  1.78% /   1.01%) : Averaged \n\n\nUpdate coefficient database contains 2099 E-coefficient(s) and 1 H-coefficient(s). \nElapsed time for 'Calculating update coefficients' was 00:00:10 wall clock time. \nPreparing for time update \nUse hardware resource management option fastest simulation \nChecking out license feature 'AXWARE_TOKEN', version 8.2, (1). \n[PROGRESS]: 2% [ 2 / 100 ] Preparing for time update \n[PROGRESS]: 14% [ 14 / 100 ] Preparing for time update \n[PROGRESS]: 25% [ 25 / 100 ] Preparing for time update \n[PROGRESS]: 36% [ 36 / 100 ] Preparing for time update \n[PROGRESS]: 46% [ 46 / 100 ] Preparing for time update \n[PROGRESS]: 63% [ 63 / 100 ] Preparing for time update \nSimulation 1 is using device(s): [0] \nElapsed time for 'Preparing for time update' was 00:00:19 wall clock time. \nStarting solver aXware (hardware accelerated). \nTime Update \n[PROGRESS]: 0% [ 10 / 2853 ] Time Update, estimated remaining time 2 minutes 1 seconds  @ 572.41 MCells/s \n[PROGRESS]: 7% [ 207 / 2853 ] Time Update, estimated remaining time 31 seconds  @ 2108.85 MCells/s \n[PROGRESS]: 14% [ 404 / 2853 ] Time Update, estimated remaining time 28 seconds  @ 2119.56 MCells/s \n[PROGRESS]: 20% [ 573 / 2853 ] Time Update, estimated remaining time 27 seconds  @ 2044.40 MCells/s \n[PROGRESS]: 26% [ 742 / 2853 ] Time Update, estimated remaining time 25 seconds  @ 2016.98 MCells/s \n[PROGRESS]: 32% [ 939 / 2853 ] Time Update, estimated remaining time 21 seconds  @ 2194.26 MCells/s \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 1 to check conventional convergence. \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 3 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 1 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 3 to check conventional convergence. \n[PROGRESS]: 38% [ 1108 / 2853 ] Time Update, estimated remaining time 23 seconds  @ 1840.54 MCells/s \n[PROGRESS]: 45% [ 1305 / 2853 ] Time Update, estimated remaining time 18 seconds  @ 2087.87 MCells/s \n[PROGRESS]: 51% [ 1474 / 2853 ] Time Update, estimated remaining time 17 seconds  @ 2004.94 MCells/s \n[PROGRESS]: 58% [ 1671 / 2853 ] Time Update, estimated remaining time 14 seconds  @ 2082.69 MCells/s \n[PROGRESS]: 65% [ 1868 / 2853 ] Time Update, estimated remaining time 11 seconds  @ 2137.34 MCells/s \n[PROGRESS]: 71% [ 2037 / 2853 ] Time Update, estimated remaining time 10 seconds  @ 2041.22 MCells/s \nSensor Point Sensor Entity 2 (top_right_up): conventional steady state check successful. \n[PROGRESS]: 78% [ 2234 / 2853 ] Time Update, estimated remaining time 7 seconds  @ 2074.97 MCells/s \n[PROGRESS]: 84% [ 2403 / 2853 ] Time Update, estimated remaining time 5 seconds  @ 1997.43 MCells/s \nSensor Point Sensor Entity 1 (lower_left_bottom): conventional steady state check successful. \nSteady state detected at iteration 2420, remaining time steps are 63. \n[PROGRESS]: 97% [ 2432 / 2483 ] Time Update, estimated remaining time 8 seconds  @ 150.20 MCells/s \nSimulation performed 2483 iterations. \nElapsed time for 'Time Update' was 00:00:40 wall clock time. \n\nPost-process Sensors \nPost-process sensor 'Overall Field' \nPost-process sensor 'Point Sensor Entity 1 (lower_left_bottom)' \n[PROGRESS]: 66% [ 2 / 3 ] Post-process Sensors \nPost-process sensor 'Point Sensor Entity 2 (top_right_up)' \nTrusted frequency is 700 MHz. Expect less accurate results outside. \nElapsed time for 'Post-process Sensors' was 00:00:05 wall clock time. \nFDTD simulation finished successfully. \n\nSimulation 'EM_FDTD_thelonious_700MHz_z_neg_phi' has ended successfully and took 00:01:27 wall clock time \nNo compression of solver files requested \nReleased license feature 'AXWARE_TOKEN'. \nReleased license feature 'FDTD_SOLVER'. \nPeak CPU memory usage:   3.6 GB (3909775360 Bytes) \niSolve ended successfully. \n      - Subtask 'run_isolve_execution' done in 88.14s [SimulationRunner._run_isolve_manual]\n      - Done in 88.14s [SimulationRunner._run_isolve_manual]\n    - Wait for results... [SimulationRunner._run_isolve_manual]\n      - Subtask 'run_wait_for_results' done in 5.00s [SimulationRunner._run_isolve_manual]\n      - Done in 5.00s [SimulationRunner._run_isolve_manual]\n    - Reload project... [SimulationRunner._run_isolve_manual]\nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash \n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\n      - Subtask 'run_reload_project' done in 11.30s [SimulationRunner._run_isolve_manual]\n      - Done in 11.30s [SimulationRunner._run_isolve_manual]\nProject reloaded and results are available. [SimulationRunner._run_isolve_manual]\n    - Subtask 'run_simulation_total' done in 109.88s [FarFieldStudy.subtask]\n    - Done in 109.88s [FarFieldStudy.subtask]\nRun deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\n--- Finished: run (took 109.92s) --- [profile]\n--- Starting: extract --- [profile]\nRun deliverables verified. Proceeding with extraction. [FarFieldStudy._verify_run_deliverables_before_extraction]\nValidating project file: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash [ProjectManager.open]\nOpening project with Sim4Life: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash [ProjectManager.open]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nProject reloaded. [ProjectManager.reload_project]\n  - Extract results total... [FarFieldStudy.subtask]\n    - Extract input power... [PowerExtractor.extract_input_power]\n  - Far-field study: using theoretical model for input power. [PowerExtractor._extract_far_field_power]\n  - Calculated theoretical input power: 1.9522e-04 W [PowerExtractor._extract_far_field_power]\n      - Subtask 'extract_input_power' done in 0.02s [PowerExtractor.extract_input_power]\n      - Done in 0.02s [PowerExtractor.extract_input_power]\n    - Extract SAR statistics... [SarExtractor.extract_sar_statistics]\n  - Loading tissue groups for 'thelonious' from material_name_mapping.json [SarExtractor._define_tissue_groups]\n  - Extracting peak SAR details... [SarExtractor.extract_peak_sar_details]\n      - Subtask 'extract_sar_statistics' done in 27.91s [SarExtractor.extract_sar_statistics]\n      - Done in 27.91s [SarExtractor.extract_sar_statistics]\n    - Extract power balance... [PowerExtractor.extract_power_balance]\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\n    - Overwriting Pin with theoretical value: 1.9522e-04 W [PowerExtractor.extract_power_balance]\n    - Final Balance: 201.45% [PowerExtractor.extract_power_balance]\n      - Subtask 'extract_power_balance' done in 10.84s [PowerExtractor.extract_power_balance]\n      - Done in 10.84s [PowerExtractor.extract_power_balance]\n    - Extract point sensors... [SensorExtractor.extract_point_sensor_data]\n  - Point sensor plot saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_phi_z_neg\\point_sensor_data.png [SensorExtractor._save_plot]\n      - Subtask 'extract_point_sensor_data' done in 1.16s [SensorExtractor.extract_point_sensor_data]\n      - Done in 1.16s [SensorExtractor.extract_point_sensor_data]\n  - Pickle report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_phi_z_neg\\sar_stats_all_tissues.pkl [Reporter._save_pickle_report]\n  - HTML report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_phi_z_neg\\sar_stats_all_tissues.html [Reporter._save_html_report]\n  - SAR results saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_phi_z_neg\\sar_results.json [ResultsExtractor._save_json_results]\n    - Subtask 'extract_results_total' done in 40.22s [FarFieldStudy.subtask]\n    - Done in 40.22s [FarFieldStudy.subtask]\nExtract deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n--- Finished: extract (took 60.38s) --- [profile]\n\n--- FarFieldStudy Finished --- [FarFieldStudy.run]\n--- Logging shutdown --- \n--- Logging shutdown --- \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n[Info]  Topological Voxeler Report: Muscle\n    Target Grid: Primary\n    Duration: 2250.92 ms\n    Priority: 0\n    Edges: None\n    Voxels: 225848\n    Memory Consumption: 0.329872 kB\n\n[Info]  Topological Voxeler Report: Skin\n    Target Grid: Primary\n    Duration: 2382.99 ms\n    Priority: 0\n    Edges: None\n    Voxels: 50274\n    Memory Consumption: 0.409142 kB\n\n[Info]  Topological Voxeler Report: Fat\n    Target Grid: Primary\n    Duration: 1984.38 ms\n    Priority: 0\n    Edges: None\n    Voxels: 77275\n    Memory Consumption: 0.334229 kB\n\n[Info]  Topological Voxeler Report: SAT\n    Target Grid: Primary\n    Duration: 2126.31 ms\n    Priority: 0\n    Edges: None\n    Voxels: 70055\n    Memory Consumption: 0.408096 kB\n\n[Info]  Topological Voxeler Report: Brain_grey_matter\n    Target Grid: Primary\n    Duration: 565.155 ms\n    Priority: 0\n    Edges: None\n    Voxels: 26240\n    Memory Consumption: 0.011757 kB\n\n[Info]  Topological Voxeler Report: Connective_tissue\n    Target Grid: Primary\n    Duration: 776.406 ms\n    Priority: 0\n    Edges: None\n    Voxels: 10750\n    Memory Consumption: 0.340309 kB\n\n[Info]  Topological Voxeler Report: Cerebrospinal_fluid\n    Target Grid: Primary\n    Duration: 501.267 ms\n    Priority: 0\n    Edges: None\n    Voxels: 7731\n    Memory Consumption: 0.067123 kB\n\n[Info]  Topological Voxeler Report: Bone\n    Target Grid: Primary\n    Duration: 671.983 ms\n    Priority: 0\n    Edges: None\n    Voxels: 26810\n    Memory Consumption: 0.263748 kB\n\n[Info]  Topological Voxeler Report: Skull\n    Target Grid: Primary\n    Duration: 423.726 ms\n    Priority: 0\n    Edges: None\n    Voxels: 10030\n    Memory Consumption: 0.017731 kB\n\n[Info]  Topological Voxeler Report: Brain_white_matter\n    Target Grid: Primary\n    Duration: 290.855 ms\n    Priority: 0\n    Edges: None\n    Voxels: 13777\n    Memory Consumption: 0.009506 kB\n\n[Info]  Topological Voxeler Report: Tendon_Ligament\n    Target Grid: Primary\n    Duration: 365.255 ms\n    Priority: 0\n    Edges: None\n    Voxels: 7601\n    Memory Consumption: 0.264679 kB\n\n[Info]  Topological Voxeler Report: Large_intestine\n    Target Grid: Primary\n    Duration: 199.23 ms\n    Priority: 0\n    Edges: None\n    Voxels: 8087\n    Memory Consumption: 0.018135 kB\n\n[Info]  Topological Voxeler Report: Vertebrae\n    Target Grid: Primary\n    Duration: 175.431 ms\n    Priority: 0\n    Edges: None\n    Voxels: 8635\n    Memory Consumption: 0.016899 kB\n\n[Info]  Topological Voxeler Report: Lung\n    Target Grid: Primary\n    Duration: 133.629 ms\n    Priority: 0\n    Edges: None\n    Voxels: 33854\n    Memory Consumption: 0.013893 kB\n\n[Info]  Topological Voxeler Report: Marrow_red\n    Target Grid: Primary\n    Duration: 213.692 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4051\n    Memory Consumption: 0.136726 kB\n\n[Info]  Topological Voxeler Report: Artery\n    Target Grid: Primary\n    Duration: 199.554 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2634\n    Memory Consumption: 0.164230 kB\n\n[Info]  Topological Voxeler Report: Large_intestine_lumen\n    Target Grid: Primary\n    Duration: 95.4279 ms\n    Priority: 0\n    Edges: None\n    Voxels: 17862\n    Memory Consumption: 0.016106 kB\n\n[Info]  Topological Voxeler Report: Air_internal\n    Target Grid: Primary\n    Duration: 67.0564 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1818\n    Memory Consumption: 0.003288 kB\n\n[Info]  Topological Voxeler Report: Vein\n    Target Grid: Primary\n    Duration: 151.312 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2365\n    Memory Consumption: 0.107765 kB\n\n[Info]  Topological Voxeler Report: Diaphragm\n    Target Grid: Primary\n    Duration: 68.3746 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4149\n    Memory Consumption: 0.004707 kB\n\n[Info]  Topological Voxeler Report: Liver\n    Target Grid: Primary\n    Duration: 75.0861 ms\n    Priority: 0\n    Edges: None\n    Voxels: 20784\n    Memory Consumption: 0.008614 kB\n\n[Info]  Topological Voxeler Report: Stomach\n    Target Grid: Primary\n    Duration: 69.0303 ms\n    Priority: 0\n    Edges: None\n    Voxels: 5088\n    Memory Consumption: 0.004791 kB\n\n[Info]  Topological Voxeler Report: Nerve\n    Target Grid: Primary\n    Duration: 79.7387 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2150\n    Memory Consumption: 0.021904 kB\n\n[Info]  Topological Voxeler Report: Mucosa\n    Target Grid: Primary\n    Duration: 54.7631 ms\n    Priority: 0\n    Edges: None\n    Voxels: 229\n    Memory Consumption: 0.001251 kB\n\n[Info]  Topological Voxeler Report: Cerebellum\n    Target Grid: Primary\n    Duration: 40.9566 ms\n    Priority: 0\n    Edges: None\n    Voxels: 5681\n    Memory Consumption: 0.001984 kB\n\n[Info]  Topological Voxeler Report: Cartilage\n    Target Grid: Primary\n    Duration: 128.095 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1660\n    Memory Consumption: 0.126228 kB\n\n[Info]  Topological Voxeler Report: Blood_vessel\n    Target Grid: Primary\n    Duration: 76.5561 ms\n    Priority: 0\n    Edges: None\n    Voxels: 342\n    Memory Consumption: 0.054993 kB\n\n[Info]  Topological Voxeler Report: Intervertebral_disc\n    Target Grid: Primary\n    Duration: 46.2176 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2778\n    Memory Consumption: 0.005638 kB\n\n[Info]  Topological Voxeler Report: Kidney_cortex\n    Target Grid: Primary\n    Duration: 47.2658 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2999\n    Memory Consumption: 0.002182 kB\n\n[Info]  Topological Voxeler Report: Small_intestine\n    Target Grid: Primary\n    Duration: 35.3025 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2106\n    Memory Consumption: 0.001465 kB\n\n[Info]  Topological Voxeler Report: Heart_muscle\n    Target Grid: Primary\n    Duration: 40.2477 ms\n    Priority: 0\n    Edges: None\n    Voxels: 8775\n    Memory Consumption: 0.003059 kB\n\n[Info]  Topological Voxeler Report: Mandible\n    Target Grid: Primary\n    Duration: 28.3011 ms\n    Priority: 0\n    Edges: None\n    Voxels: 630\n    Memory Consumption: 0.001495 kB\n\n[Info]  Topological Voxeler Report: Stomach_lumen\n    Target Grid: Primary\n    Duration: 26.5157 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4872\n    Memory Consumption: 0.002899 kB\n\n[Info]  Topological Voxeler Report: Ear_skin\n    Target Grid: Primary\n    Duration: 21.6652 ms\n    Priority: 0\n    Edges: None\n    Voxels: 456\n    Memory Consumption: 0.001396 kB\n\n[Info]  Topological Voxeler Report: Spleen\n    Target Grid: Primary\n    Duration: 24.8047 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4554\n    Memory Consumption: 0.002548 kB\n\n[Info]  Topological Voxeler Report: Kidney_medulla\n    Target Grid: Primary\n    Duration: 19.4083 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1878\n    Memory Consumption: 0.001274 kB\n\n[Info]  Topological Voxeler Report: Esophagus\n    Target Grid: Primary\n    Duration: 17.2748 ms\n    Priority: 0\n    Edges: None\n    Voxels: 289\n    Memory Consumption: 0.001564 kB\n\n[Info]  Topological Voxeler Report: Tongue\n    Target Grid: Primary\n    Duration: 12.1429 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1389\n    Memory Consumption: 344 bytes\n\n[Info]  Topological Voxeler Report: Spinal_cord\n    Target Grid: Primary\n    Duration: 14.897 ms\n    Priority: 0\n    Edges: None\n    Voxels: 959\n    Memory Consumption: 0.001770 kB\n\n[Info]  Topological Voxeler Report: Thymus\n    Target Grid: Primary\n    Duration: 12.3944 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1083\n    Memory Consumption: 800 bytes\n\n[Info]  Topological Voxeler Report: Teeth\n    Target Grid: Primary\n    Duration: 12.2592 ms\n    Priority: 0\n    Edges: None\n    Voxels: 209\n    Memory Consumption: 440 bytes\n\n[Info]  Topological Voxeler Report: Trachea\n    Target Grid: Primary\n    Duration: 12.1505 ms\n    Priority: 0\n    Edges: None\n    Voxels: 148\n    Memory Consumption: 512 bytes\n\n[Info]  Topological Voxeler Report: Eye_Sclera\n    Target Grid: Primary\n    Duration: 9.8237 ms\n    Priority: 0\n    Edges: None\n    Voxels: 159\n    Memory Consumption: 224 bytes\n\n[Info]  Topological Voxeler Report: Ear_cartilage\n    Target Grid: Primary\n    Duration: 10.6314 ms\n    Priority: 0\n    Edges: None\n    Voxels: 144\n    Memory Consumption: 0.001251 kB\n\n[Info]  Topological Voxeler Report: Small_intestine_lumen\n    Target Grid: Primary\n    Duration: 10.1897 ms\n    Priority: 0\n    Edges: None\n    Voxels: 845\n    Memory Consumption: 560 bytes\n\n[Info]  Topological Voxeler Report: Thalamus\n    Target Grid: Primary\n    Duration: 7.9699 ms\n    Priority: 0\n    Edges: None\n    Voxels: 699\n    Memory Consumption: 192 bytes\n\n[Info]  Topological Voxeler Report: Bladder\n    Target Grid: Primary\n    Duration: 9.8187 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1120\n    Memory Consumption: 256 bytes\n\n[Info]  Topological Voxeler Report: Pancreas\n    Target Grid: Primary\n    Duration: 9.4287 ms\n    Priority: 0\n    Edges: None\n    Voxels: 406\n    Memory Consumption: 568 bytes\n\n[Info]  Topological Voxeler Report: Esophagus_lumen\n    Target Grid: Primary\n    Duration: 8.0396 ms\n    Priority: 0\n    Edges: None\n    Voxels: 133\n    Memory Consumption: 0.000984 kB\n\n[Info]  Topological Voxeler Report: Penis\n    Target Grid: Primary\n    Duration: 7.4725 ms\n    Priority: 0\n    Edges: None\n    Voxels: 333\n    Memory Consumption: 296 bytes\n\n[Info]  Topological Voxeler Report: Meniscus\n    Target Grid: Primary\n    Duration: 10.995 ms\n    Priority: 0\n    Edges: None\n    Voxels: 349\n    Memory Consumption: 288 bytes\n\n[Info]  Topological Voxeler Report: Trachea_lumen\n    Target Grid: Primary\n    Duration: 5.8468 ms\n    Priority: 0\n    Edges: None\n    Voxels: 223\n    Memory Consumption: 512 bytes\n\n[Info]  Topological Voxeler Report: Pons\n    Target Grid: Primary\n    Duration: 4.6231 ms\n    Priority: 0\n    Edges: None\n    Voxels: 461\n    Memory Consumption: 152 bytes\n\n[Info]  Topological Voxeler Report: Eye_vitreous_humor\n    Target Grid: Primary\n    Duration: 4.7601 ms\n    Priority: 0\n    Edges: None\n    Voxels: 336\n    Memory Consumption: 160 bytes\n\n[Info]  Topological Voxeler Report: Midbrain\n    Target Grid: Primary\n    Duration: 4.2621 ms\n    Priority: 0\n    Edges: None\n    Voxels: 284\n    Memory Consumption: 112 bytes\n\n[Info]  Topological Voxeler Report: Heart_lumen\n    Target Grid: Primary\n    Duration: 4.3962 ms\n    Priority: 0\n    Edges: None\n    Voxels: 254\n    Memory Consumption: 152 bytes\n\n[Info]  Topological Voxeler Report: Gallbladder\n    Target Grid: Primary\n    Duration: 5.5849 ms\n    Priority: 0\n    Edges: None\n    Voxels: 282\n    Memory Consumption: 376 bytes\n\n[Info]  Topological Voxeler Report: Pharynx\n    Target Grid: Primary\n    Duration: 3.5617 ms\n    Priority: 0\n    Edges: None\n    Voxels: 56\n    Memory Consumption: 40 bytes\n\n[Info]  Topological Voxeler Report: Hippocampus\n    Target Grid: Primary\n    Duration: 3.908 ms\n    Priority: 0\n    Edges: None\n    Voxels: 77\n    Memory Consumption: 72 bytes\n\n[Info]  Topological Voxeler Report: Medulla_oblongata\n    Target Grid: Primary\n    Duration: 2.7125 ms\n    Priority: 0\n    Edges: None\n    Voxels: 209\n    Memory Consumption: 96 bytes\n\n[Info]  Topological Voxeler Report: Prostate\n    Target Grid: Primary\n    Duration: 3.8348 ms\n    Priority: 0\n    Edges: None\n    Voxels: 119\n    Memory Consumption: 56 bytes\n\n[Info]  Topological Voxeler Report: Adrenal_gland\n    Target Grid: Primary\n    Duration: 3.3601 ms\n    Priority: 0\n    Edges: None\n    Voxels: 107\n    Memory Consumption: 152 bytes\n\n[Info]  Topological Voxeler Report: Bronchi\n    Target Grid: Primary\n    Duration: 2.5249 ms\n    Priority: 0\n    Edges: None\n    Voxels: 42\n    Memory Consumption: 32 bytes\n\n[Info]  Topological Voxeler Report: Testis\n    Target Grid: Primary\n    Duration: 3.0588 ms\n    Priority: 0\n    Edges: None\n    Voxels: 124\n    Memory Consumption: 40 bytes\n\n[Info]  Topological Voxeler Report: Patella\n    Target Grid: Primary\n    Duration: 5.8734 ms\n    Priority: 0\n    Edges: None\n    Voxels: 124\n    Memory Consumption: 136 bytes\n\n[Info]  Topological Voxeler Report: Ureter_Urethra\n    Target Grid: Primary\n    Duration: 4.5461 ms\n    Priority: 0\n    Edges: None\n    Voxels: 30\n    Memory Consumption: 384 bytes\n\n[Info]  Topological Voxeler Report: Bronchi_lumen\n    Target Grid: Primary\n    Duration: 1.4139 ms\n    Priority: 0\n    Edges: None\n    Voxels: 27\n    Memory Consumption: 24 bytes\n\n[Info]  Topological Voxeler Report: Cornea\n    Target Grid: Primary\n    Duration: 1.1398 ms\n    Priority: 0\n    Edges: None\n    Voxels: 11\n    Memory Consumption: 32 bytes\n\n[Info]  Topological Voxeler Report: Hypothalamus\n    Target Grid: Primary\n    Duration: 0.9341 ms\n    Priority: 0\n    Edges: None\n    Voxels: 25\n    Memory Consumption: 16 bytes\n\n[Info]  Topological Voxeler Report: Epididymis\n    Target Grid: Primary\n    Duration: 1.8855 ms\n    Priority: 0\n    Edges: None\n    Voxels: 22\n    Memory Consumption: 24 bytes\n\n[Info]  Topological Voxeler Report: Eye_lens\n    Target Grid: Primary\n    Duration: 0.6108 ms\n    Priority: 0\n    Edges: None\n    Voxels: 10\n    Memory Consumption: 16 bytes\n\n[Info]  Topological Voxeler Report: Hypophysis\n    Target Grid: Primary\n    Duration: 0.4382 ms\n    Priority: 0\n    Edges: None\n    Voxels: 11\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: Pinealbody\n    Target Grid: Primary\n    Duration: 0.4026 ms\n    Priority: 0\n    Edges: None\n    Voxels: 9\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: Larynx\n    Target Grid: Primary\n    Duration: 0.262 ms\n    Priority: 0\n    Edges: None\n    Voxels: 3\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: commissura_posterior\n    Target Grid: Primary\n    Duration: 0.0718 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: commissura_anterior\n    Target Grid: Primary\n    Duration: 0.1757 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: Complete Voxel Scene\n    Voxel Scene Memory Consumption: 0.002876 GB\n    Wall Clock Time: 7.6676 s\n\n[Info]  Visualization Data Memory Consumption: 0.036381 GB\n     Elapsed Time: 0.615359 s\n[Info]  Time step: 5.72711e-12 s\nTerminating study process... \n--- Logging shutdown --- \n--- Logging shutdown --- \n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <pre><code>run_bash(\"ls -R results/far_field/thelonious/700MHz/\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; ls -R results/far_field/thelonious/700MHz/\n\n------------------------------------------------------------\nresults/far_field/thelonious/700MHz/:\nenvironmental_phi_x_pos\nenvironmental_phi_z_neg\nenvironmental_theta_x_pos\nenvironmental_theta_z_neg\n\nresults/far_field/thelonious/700MHz/environmental_phi_x_pos:\nconfig.json\nfar_field_thelonious_700MHz_environmental_phi_x_pos.smash\nfar_field_thelonious_700MHz_environmental_phi_x_pos.smash_Results\npoint_sensor_data.png\nprogress.log\nsar_results.json\nsar_stats_all_tissues.html\nsar_stats_all_tissues.pkl\nverbose.log\n\nresults/far_field/thelonious/700MHz/environmental_phi_x_pos/far_field_thelonious_700MHz_environmental_phi_x_pos.smash_Results:\n04895e5e-6bf5-4bd1-8807-2fa8361581a6_AxLog.log\n04895e5e-6bf5-4bd1-8807-2fa8361581a6_AxLog.logAxSimSummary1.html\n04895e5e-6bf5-4bd1-8807-2fa8361581a6_Input.h5\n04895e5e-6bf5-4bd1-8807-2fa8361581a6_Input.log\n04895e5e-6bf5-4bd1-8807-2fa8361581a6_Output.h5\n04895e5e-6bf5-4bd1-8807-2fa8361581a6_Output.log\n04895e5e-6bf5-4bd1-8807-2fa8361581a6_Voxeler.log5\n\nresults/far_field/thelonious/700MHz/environmental_phi_z_neg:\nconfig.json\nfar_field_thelonious_700MHz_environmental_phi_z_neg.smash\nfar_field_thelonious_700MHz_environmental_phi_z_neg.smash_Results\npoint_sensor_data.png\nprogress.log\nsar_results.json\nsar_stats_all_tissues.html\nsar_stats_all_tissues.pkl\nverbose.log\n\nresults/far_field/thelonious/700MHz/environmental_phi_z_neg/far_field_thelonious_700MHz_environmental_phi_z_neg.smash_Results:\nb74e244e-d81d-4ea9-bd70-2bad50688c5d_AxLog.log\nb74e244e-d81d-4ea9-bd70-2bad50688c5d_AxLog.logAxSimSummary1.html\nb74e244e-d81d-4ea9-bd70-2bad50688c5d_Input.h5\nb74e244e-d81d-4ea9-bd70-2bad50688c5d_Input.log\nb74e244e-d81d-4ea9-bd70-2bad50688c5d_Output.h5\nb74e244e-d81d-4ea9-bd70-2bad50688c5d_Output.log\nb74e244e-d81d-4ea9-bd70-2bad50688c5d_Voxeler.log5\n\nresults/far_field/thelonious/700MHz/environmental_theta_x_pos:\nconfig.json\nfar_field_thelonious_700MHz_environmental_theta_x_pos.smash\nfar_field_thelonious_700MHz_environmental_theta_x_pos.smash_Results\npoint_sensor_data.png\nprogress.log\nsar_results.json\nsar_stats_all_tissues.html\nsar_stats_all_tissues.pkl\nverbose.log\n\nresults/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash_Results:\nff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_AxLog.log\nff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_AxLog.logAxSimSummary1.html\nff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_Input.h5\nff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_Input.log\nff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_Output.h5\nff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_Output.log\nff4ed249-3a58-4fcc-b6a0-f9e1f28b1fbd_Voxeler.log5\n\nresults/far_field/thelonious/700MHz/environmental_theta_z_neg:\nconfig.json\nfar_field_thelonious_700MHz_environmental_theta_z_neg.smash\nfar_field_thelonious_700MHz_environmental_theta_z_neg.smash_Results\npoint_sensor_data.png\nprogress.log\nsar_results.json\nsar_stats_all_tissues.html\nsar_stats_all_tissues.pkl\nverbose.log\n\nresults/far_field/thelonious/700MHz/environmental_theta_z_neg/far_field_thelonious_700MHz_environmental_theta_z_neg.smash_Results:\n820cac89-ce7c-4720-91b0-34eaecb818bd_AxLog.log\n820cac89-ce7c-4720-91b0-34eaecb818bd_AxLog.logAxSimSummary1.html\n820cac89-ce7c-4720-91b0-34eaecb818bd_Input.h5\n820cac89-ce7c-4720-91b0-34eaecb818bd_Input.log\n820cac89-ce7c-4720-91b0-34eaecb818bd_Output.h5\n820cac89-ce7c-4720-91b0-34eaecb818bd_Output.log\n820cac89-ce7c-4720-91b0-34eaecb818bd_Voxeler.log5\n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>You'll see 4 directories (one per simulation):</p> <pre><code>results/far_field/thelonious/700MHz/\n\u251c\u2500\u2500 environmental_theta_x_pos/\n\u251c\u2500\u2500 environmental_phi_x_pos/\n\u251c\u2500\u2500 environmental_theta_z_neg/\n\u2514\u2500\u2500 environmental_phi_z_neg/\n</code></pre> <p>Note: Directory names use the format <code>environmental_{polarization}_{direction}</code> (e.g., <code>theta_x_pos</code> means theta polarization, x_pos direction).</p> <p>Each contains: - <code>*.smash</code> (Sim4Life project file) - <code>*.smash_Results/*_Input.h5</code> (simulation input settings file) - <code>*.smash_Results/*_Output.h5</code> (simulation results with EM fields) - <code>sar_results.json</code> (extracted SAR values) - <code>sar_stats_all_tissues.pkl</code> (detailed tissue data) - <code>sar_stats_all_tissues.html</code> (HTML report of tissue SAR) - <code>point_sensor_data.png</code> (field convergence plot) - <code>config.json</code> (metadata with config hash, completion status) - <code>verbose.log</code> a log file with everything printed (including Sim4Life) - <code>progress.log</code> a log file with only high-level progress prints (as seen in the GUI also)</p> <p>Note that the two log files are for that specific simulation, and if you want to see the full log file, you can find it under <code>logs/*.log</code> with a timestamp as filename.</p> <p></p> <pre><code>run_bash(\"cat results/far_field/thelonious/700MHz/environmental_theta_x_pos/sar_results.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; cat results/far_field/thelonious/700MHz/environmental_theta_x_pos/sar_results.json\n\n------------------------------------------------------------\n{\n    \"input_power_W\": 0.0005309910780076142,\n    \"input_power_frequency_MHz\": 700.0,\n    \"eyes_group_weighted_avg_sar\": 1.282829580112987e-05,\n    \"eyes_group_peak_sar\": 1.6668154785293154e-05,\n    \"skin_group_weighted_avg_sar\": 1.734516314368961e-05,\n    \"skin_group_peak_sar\": 0.0001515590847702697,\n    \"brain_group_weighted_avg_sar\": 1.109098380334678e-05,\n    \"brain_group_peak_sar\": 3.142984496662393e-05,\n    \"genitals_group_weighted_avg_sar\": 3.8027582534518573e-06,\n    \"genitals_group_peak_sar\": 7.225423360068817e-06,\n    \"whole_body_sar\": 1.0254515500239604e-05,\n    \"peak_sar_10g_W_kg\": 0.00015270481526385993,\n    \"peak_sar_details\": {\n        \"PeakValue\": 0.00015270481526385993,\n        \"PeakLocation\": [\n            -0.13716261088848114,\n            0.0010393965058028698,\n            -0.18749523162841797\n        ],\n        \"PeakCell\": [\n            67,\n            72,\n            313\n        ],\n        \"PeakCubeSideLength\": 0.020847758278250694\n    },\n    \"power_balance\": {\n        \"Pin\": 0.0005309910780076142,\n        \"LumpedLoss\": 0.0,\n        \"DielLoss\": 0.00019936609570743381,\n        \"SIBCLoss\": 0.0,\n        \"RadPower\": 0.0004251346321493339,\n        \"Balance\": 117.61039944400207\n    },\n    \"point_sensor_data\": {\n        \"Lower Left Bottom\": {\n            \"time_s\": [\n                5.727106722891451e-12,\n                3.436264120471044e-11,\n                6.29981691813164e-11,\n                0.3444145619869232\n            ]\n        }\n    }\n}------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>Key metrics</p> <ul> <li>Whole-body SAR: Average absorption across entire phantom (here 1.02e-5 mW/kg per 1W input power)</li> <li>SAR of groups: The weighted average SAR for a number of groups (brain, genitals, skin, eyes), which are defined under <code>data/material_name_mapping.json</code></li> <li>Peak 10g SAR: Maximum SAR averaged over 10g tissue cube (as defined in the 62704-1 IEC/IEEE standard), in both the whole body as in the groups</li> <li>Power balance: Energy conservation check (should be close to 100%). Note that the input power comes from a theoretical calculation as Sim4Life does not (yet) support input power of a far-field source.</li> </ul> <p>All values are normalized to 1W input power. Scale them based on actual exposure levels.</p> <pre><code>run_bash(\"goliat study tutorial_1_far_field.json\")\n</code></pre> <p>Watch the GUI progress through more simulations.</p>"},{"location":"tutorials/01_far_field_basics/#tutorial-1-far-field-basics","title":"Tutorial 1: Far-field basics","text":"<p>Learn environmental exposure simulations using plane waves.</p>"},{"location":"tutorials/01_far_field_basics/#what-youll-learn","title":"What you'll learn","text":"<ul> <li>How far-field simulations work (plane waves from different directions)</li> <li>Reading and understanding config files</li> <li>Running your first GOLIAT study</li> <li>Finding and interpreting results</li> </ul> <p>Related documentation: User guide (far-field workflow)</p>"},{"location":"tutorials/01_far_field_basics/#prerequisites-and-setup","title":"Prerequisites and setup","text":"<p>Before starting this tutorial, you need:</p>"},{"location":"tutorials/01_far_field_basics/#required-software","title":"Required software","text":"<p>Sim4Life 8.2.0: GOLIAT requires Sim4Life version 8.2.0 with a valid license for the software and the Duke, Ella, Thelonious and Eartha phantoms. Sim4Life is commercial software from ZMT website. Other versions are untested and may not work correctly. Since Sim4Life only runs on Windows, only Windows is supported, although Linux is supported experimentally on Sim4Life web.</p> <p>Git Bash: GOLIAT commands run in a Bash shell. On Windows, use Git Bash (included with Git for Windows). Other shells may still work though but are not tested and not shown in these tutorials.</p> <p>Install Git from https://git-scm.com/downloads if needed.</p>"},{"location":"tutorials/01_far_field_basics/#initial-setup","title":"Initial setup","text":"<p>If this is your first time using GOLIAT, run these commands from the repository root:</p> <pre><code>cd /path/to/goliat\n\n# 1. Add Sim4Life Python to PATH\nsource .bashrc\n\n# 2. Install GOLIAT in editable mode\npython -m pip install -e .\n\n# 3. Run initialization (downloads models, sets up directories)\ngoliat init\n</code></pre> <p>This one-time setup: - Installs Python dependencies from <code>requirements.txt</code> - Installs GOLIAT package (makes <code>goliat</code> command available) - Downloads phantom models (Duke, Thelonious, Eartha, Ella) - Downloads antenna CAD models - Creates required directories (<code>data/</code>, <code>configs/</code>, <code>results/</code>, <code>logs/</code>)</p> <p>The initialization takes 5-10 minutes depending on your internet speed. If you accidentally delete parts of this setup, <code>goliat init</code> can repair it. A <code>.setup_done</code> file is created under <code>data/</code>.</p> <p>Already initialized? Just run <code>source .bashrc</code> when opening a new terminal, then skip to the next section.</p> <p>For detailed setup instructions, see the quick start guide.</p>"},{"location":"tutorials/01_far_field_basics/#hardware-recommendations","title":"Hardware recommendations","text":"<p>GPU (recommended): GOLIAT uses the FDTD solver (iSolve), which runs much faster on GPU.</p> <p>The solver kernel is configured in <code>base_config.json</code>:</p> <pre><code>\"solver_settings\": {\n  \"kernel\": \"acceleware\"  // or \"cuda\" or \"software\"\n}\n</code></pre> <p>Use <code>\"acceleware\"</code> if you have an AMD or NVIDIA GPU. Use <code>\"cuda\"</code> for NVIDIA GPUs only. Use <code>\"software\"</code> if you don't have a GPU (much slower).</p>"},{"location":"tutorials/01_far_field_basics/#running-commands","title":"Running commands","text":"<p>GOLIAT commands should be run from the repository root directory where you have:</p> <pre><code>goliat/\n\u2014\u2014 configs/          # Configuration files\n\u2014\u2014 data/             # Downloaded models\n\u2014\u2014 goliat/           # Source code\n\u2014\u2014 results/          # Simulation outputs\n\u2014\u2014 logs/             # Log files\n\u2014\u2014 .bashrc           # Shell setup\n</code></pre> <p>All tutorial commands assume you're in this root directory.</p>"},{"location":"tutorials/01_far_field_basics/#about-the-notebook-code-blocks","title":"About the notebook code blocks","text":"<p>This tutorial includes Python code blocks for running commands. These are designed for Jupyter notebooks if you prefer that workflow.</p> <p>If you're running these in VS Code, make sure you set <code>C:\\Program Files\\Sim4Life_8.2.0.16876\\Python\\python.exe</code> as your VS Code Python (with <code>&amp;gt;Python: Select interpreter</code>) and that you have Jupyter IPython installed.</p> <p>If you're using notebooks, run this setup once per session:</p>"},{"location":"tutorials/01_far_field_basics/#understanding-far-field-exposure","title":"Understanding far-field exposure","text":"<p>Far-field simulations model environmental EMF exposure. The RF source is distant from the person (broadcast antennas, base stations, ambient fields).</p> <p>Instead of placing an antenna near the body, we illuminate the phantom with plane waves from different directions. This builds transfer functions that relate measured E-field strength to absorbed power.</p>"},{"location":"tutorials/01_far_field_basics/#key-concepts","title":"Key concepts","text":"<p>Incident directions</p> <p>Plane waves can come from 6 orthogonal directions: - <code>x_pos</code>, <code>x_neg</code> (front/back) - <code>y_pos</code>, <code>y_neg</code> (left/right) - <code>z_pos</code>, <code>z_neg</code> (top/bottom)</p> <p>Polarizations</p> <p>For each direction, the E-field has two orientations: - <code>theta</code> polarization - <code>phi</code> polarization</p> <p>This tutorial runs 4 simulations (2 directions \u00d7 2 polarizations).</p> <p></p>"},{"location":"tutorials/01_far_field_basics/#the-configuration-file","title":"The configuration file","text":"<p>Here's our config for this tutorial. It runs 4 simulations with minimal settings.</p>"},{"location":"tutorials/01_far_field_basics/#breaking-down-the-config","title":"Breaking down the config","text":"<p>Inheritance</p> <pre><code>{\"extends\": \"base_config.json\"\n</code></pre> <p>This config builds on <code>base_config.json</code>, which has common settings (solver parameters, gridding defaults, convergence criteria). We only override study-specific settings.</p> <p>The base config includes many parameters you don't need to understand yet. Most will be explained throughout these tutorials as they become relevant. For now, just know it provides sensible defaults for: - FDTD solver settings (boundary conditions, kernel) - Convergence detection (auto-termination levels) - Grid generation (automatic mode, refinement) - Point sensors for field monitoring - Execution control flags</p> <p>You can check it later with <code>cat configs/base_config.json</code>, but there's no need to modify it for standard studies.</p> <p>Study type</p> <pre><code>\"study_type\": \"far_field\"\n</code></pre> <p>Tells GOLIAT this is a far-field study (plane waves), not near-field (antennas).</p> <p>Phantom selection</p> <pre><code>\"phantoms\": [\"thelonious\"]\n</code></pre> <p>We use Thelonious (male child) for this tutorial. If you don't have a license for Thelonious, feel free to use another phantoms, like Duke.</p> <p>Frequency</p> <pre><code>\"frequencies_mhz\": [700]\n</code></pre> <p>Single frequency at 700 MHz (common cellular band).</p> <p>Far-field parameters</p> <pre><code>\"far_field_setup\": {\n  \"type\": \"environmental\",\n  \"environmental\": {\n    \"incident_directions\": [\"x_pos\", \"z_neg\"],\n    \"polarizations\": [\"theta\", \"phi\"]\n  }\n}\n</code></pre> <ul> <li>Type: \"environmental\" (standard approach, there's also \"auto_induced\" for future use)</li> <li>Directions: Testing x_pos (front) and z_neg (from below)</li> <li>Polarizations: Both theta and phi for each direction</li> <li>Total simulations: 2 directions * 2 polarizations = 4 simulations</li> </ul> <p>Execution control</p> <pre><code>\"execution_control\": {\n  \"do_setup\": true,\n  \"do_run\": true,\n  \"do_extract\": true\n}\n</code></pre> <p>Run all three phases: 1. Setup: Build the Sim4Life scene (phantom, plane wave, grid) 2. Run: Execute the EM simulation 3. Extract: Pull SAR data from outputs</p> <p>For full config reference: configuration guide</p> <p></p>"},{"location":"tutorials/01_far_field_basics/#running-the-study","title":"Running the study","text":"<p>This will launch the GUI, run 4 simulations (a few minutes each depending on hardware), and extract SAR results.</p>"},{"location":"tutorials/01_far_field_basics/#what-happened","title":"What happened","text":"<p>The GOLIAT GUI opened and ran everything automatically, while your Bash shell logged a more verbose output, including the one from Sim4Life.</p> <p></p> <p>You can click around the various tab which are explained in another tutorial. The 'time remaining' is computed based on live timing results and improves as profiling data becomes available in your study.</p> <p>Phase breakdown</p> <p>Setup phase:     - Created <code>.smash</code> project in Sim4Life     - Placed phantom in scene     - Configured plane wave source (E-field = 1 V/m)     - Set up computational grid and various settings     - Assigned tissue materials from IT'IS database     - Voxelized the grid and saved the project.</p> <p>Run phase:     - Executed FDTD solver via iSolve using AXWare GPU acceleration     - Monitored convergence     - Saved EM fields to <code>*_Output.h5</code></p> <p>Extract phase:     - Calculated whole-body average SAR     - Extracted tissue-specific SAR values     - Computed peak spatial-average SAR (psSAR10g)     - Generated JSON, pickle, and HTML reports</p> <p>This happened 4 times (once per direction/polarization).</p>"},{"location":"tutorials/01_far_field_basics/#what-happened-in-sim4life","title":"What happened in Sim4Life","text":"<p>GOLIAT automatically built scenes in Sim4Life while running.</p> <p> </p>"},{"location":"tutorials/01_far_field_basics/#direction","title":"Direction","text":"<p>Each incident direction creates different exposure: - x_pos: Wave travels in +X direction (front of phantom) - z_neg: Wave travels in -Z direction (from below)</p>"},{"location":"tutorials/01_far_field_basics/#polarization","title":"Polarization","text":"<p>For each direction, the E-field orientation differs: - theta: E-field in one plane - phi: E-field perpendicular to theta</p>"},{"location":"tutorials/01_far_field_basics/#exploring-results","title":"Exploring results","text":"<p>GOLIAT organizes results in a structured directory tree.</p>"},{"location":"tutorials/01_far_field_basics/#looking-at-sar-results","title":"Looking at SAR results","text":"<p>Check the JSON from one simulation:</p>"},{"location":"tutorials/01_far_field_basics/#html-report","title":"HTML report","text":"<p>Open <code>sar_stats_all_tissues.html</code> in a browser. It shows a detailed table of SAR values for every tissue type present in the phantom, the group data, and more details </p> <p></p> <p>This helps identify which tissues absorb the most energy.</p>"},{"location":"tutorials/01_far_field_basics/#point-sensor-convergence-plots","title":"Point sensor convergence plots","text":"<p>Each simulation includes a plot showing E-field magnitude over time at monitoring points.</p> <p></p> <p>These plots verify that the simulation ran long enough. You should see: - Initial oscillations as fields build up - Gradual decay as steady state is reached - Stable final values (convergence)</p> <p>If fields are still changing rapidly at the end, the simulation may need more time. You can look in the detailed logs to examine if <code>iSolve</code> detected convergence for a specific point sensor.</p>"},{"location":"tutorials/01_far_field_basics/#simulation-time","title":"Simulation time","text":"<p>The simulation time is controlled primarily by the following settings:</p> <pre><code>\"simulation_parameters\": {\n  \"global_auto_termination\": \"GlobalAutoTerminationUserDefined\",\n  \"convergence_level_dB\": -15,\n  \"simulation_time_multiplier\": 3.5,\n  \"number_of_point_sensors\": 2\n}\n</code></pre> <p>Key parameters:</p> <ul> <li><code>global_auto_termination</code>: As defined in the Sim4Life manual, one can pick how stringent the convergence detection algo is.</li> <li><code>convergence_level_dB</code>: For user-defined termination, you can control the field decay threshold here.</li> <li><code>simulation_time_multiplier</code>: This controls the total time the simulation can maximally take. It starts from the theoretical time to cross the bounding box's diagonal at the speed of light in a vacuum, then multiplies this amount by the multiplier.</li> <li><code>number_of_point_sensors</code>: How many monitoring points to place (default 2). You can control where these are placed with <code>point_source_order</code> and pick up to 8 points (for each corner).</li> </ul> <p>Sim4Life includes built-in convergence detection that automatically stops simulations when fields reach steady state. This prevents wasting computation time after the solution has converged.</p> <p>Sim4Life offers several preset termination criteria:</p> <ul> <li><code>GlobalAutoTerminationNone</code>: No automatic termination (runs full specified time)</li> <li><code>GlobalAutoTerminationWeak</code></li> <li><code>GlobalAutoTerminationMedium</code></li> <li><code>GlobalAutoTerminationStrict</code></li> <li><code>GlobalAutoTerminationUserDefined</code>: Custom threshold (what we used)</li> </ul> <p>The details can be found in the Sim4Life manual. The field sensor convergence as a whole is taken into account.</p> <p>GOLIAT configuration:</p> <p>The base config uses <code>GlobalAutoTerminationUserDefined</code> with a -15 dB threshold:</p> <pre><code>\"global_auto_termination\": \"GlobalAutoTerminationUserDefined\",\n\"convergence_level_dB\": -15\n</code></pre> <p>This means the simulation stops when transient energy decays to 1/1000 (10^(-15/10)) of its initial value, which provides sufficient accuracy for SAR studies.</p>"},{"location":"tutorials/01_far_field_basics/#what-you-learned","title":"What you learned","text":"<ol> <li>Far-field studies use plane waves to model environmental exposure</li> <li>Config files control everything (phantoms, frequencies, directions, polarizations)</li> <li>GOLIAT automates the entire workflow (setup, run, extract)</li> <li>Results are organized by study type, phantom, frequency, and scenario</li> <li>SAR metrics quantify absorption (whole-body, localized, peak 10g)</li> </ol>"},{"location":"tutorials/01_far_field_basics/#try-this","title":"Try this","text":"<p>Edit <code>tutorial_1_far_field.json</code> and: - Add more directions (<code>y_pos</code> and <code>y_neg</code>) - Add another phantom (<code>eartha</code> for adult female) - Add another frequency (<code>835</code>)</p> <p>Then rerun:</p>"},{"location":"tutorials/01_far_field_basics/#next-steps","title":"Next steps","text":"<ul> <li>Tutorial 2: Configuration and caching (how configs work, avoiding redundant runs)</li> <li>Configuration guide: Full parameter reference at ../developer_guide/configuration.md</li> <li>User guide: Far-field workflows at user_guide.md</li> <li>Features: See what else GOLIAT does at Full List of Features</li> </ul> <p>Ready for tutorial 2? Learn how configs extend each other and how GOLIAT avoids redundant work.</p>"},{"location":"tutorials/02_configuration_and_caching/","title":"2. Configuration and Caching","text":"<pre><code>from pathlib import Path\nimport importlib.util\n\np = Path.cwd()\nwhile not (p / \"scripts\" / \"notebook_helpers.py\").exists():\n    p = p.parent\nspec = importlib.util.spec_from_file_location(\"_\", p / \"scripts\" / \"notebook_helpers.py\")\nm = importlib.util.module_from_spec(spec)\nspec.loader.exec_module(m)\nrun_bash = m.get_run_bash()\n\nimport IPython\n\nIPython.core.display.max_output_size = None\n</code></pre> <p>This helper function lets you run bash commands from Python cells using <code>run_bash('command')</code>. The setup also disables output truncation so you can see all command output.</p> <p>If you're using bash directly (recommended), ignore the Python code blocks and just run the commands directly. Make sure to always run <code>source .bashrc</code> first.</p> <pre><code>run_bash(\"cat configs/base_config.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; cat configs/base_config.json\n\n------------------------------------------------------------\n{\n    \"use_gui\": true,\n    \"execution_control\": {\n        \"do_setup\": true,\n        \"do_run\": true,\n        \"do_extract\": true,\n        \"only_write_input_file\": false,\n        \"auto_cleanup_previous_results\": []\n    },\n    \"simulation_parameters\": {\n        \"global_auto_termination\": \"GlobalAutoTerminationUserDefined\",\n        \"convergence_level_dB\": -15,\n        \"simulation_time_multiplier\": 3.5,\n        \"number_of_point_sensors\": 2,\n        \"point_source_order\": [\n            \"lower_left_bottom\",\n            \"top_right_up\",\n            \"lower_right_bottom\",\n            \"top_left_up\",\n            \"lower_left_up\",\n            \"top_right_bottom\",\n            \"lower_right_up\",\n            \"top_left_bottom\"\n        ]\n    },\n    \"gridding_parameters\": {\n        \"global_gridding\": {\n            \"grid_mode\": \"manual\",\n            \"manual_fallback_max_step_mm\": 3.0\n        },\n        \"padding\": {\n            \"padding_mode\": \"automatic\",\n            \"manual_bottom_padding_mm\": [0, 0, 0],\n            \"manual_top_padding_mm\": [0, 0, 0]\n        }\n    },\n    \"solver_settings\": {\n        \"kernel\": \"acceleware\",\n        \"server\": \"localhost\",\n        \"boundary_conditions\": {\n            \"type\": \"UpmlCpml\",\n            \"strength\": \"Low\"\n        }\n    },\n    \"verbose\": false,\n    \"manual_isolve\": true,\n    \"data_setup\": {\n        \"gdrive_url\": \"https://drive.google.com/drive/folders/1Ps0ilW6yx4Z5VoWRZKrkhP225m8lBQOV?usp=sharing&amp;confirm=t\",\n        \"gdrive_url_aws\": \"https://drive.google.com/uc?id=1etS9uyi0Ns-vOtG2q0G1hU0LLw0M_dq7\",\n        \"data_dir\": \"data\"\n    }\n}\n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>It contains settings shared across all studies: - <code>use_gui</code>: whether to use the GUI - <code>simulation_parameters</code>: which we covered last tutorial - <code>gridding_parameters</code>: the default gridding settings. If you forgot to set your specific gridding settings, this is where it will default to. - <code>solver_settings</code>: settings for <code>iSolve</code>. We already covered the kernel, but here you can also enter the name of a remote ARES server here if you want. You can set the strength of the boundary condition too.</p> <p>These apply to every study unless overridden. It recursively merges nested dictionaries: child values override parent values for matching keys, while preserving all parent keys not specified in the child.</p> <pre><code>run_bash(\"cat configs/far_field_config.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; cat configs/far_field_config.json\n\n------------------------------------------------------------\n{\n    \"extends\": \"base_config.json\",\n    \"study_type\": \"far_field\",\n    \"execution_control\": {\n        \"do_setup\": true,\n        \"only_write_input_file\": false,\n        \"do_run\": true,\n        \"do_extract\": true,\n        \"batch_run\": false\n    },\n    \"phantoms\": [\n        \"duke\",\n        \"ella\",\n        \"eartha\",\n        \"thelonious\"\n    ],\n    \"frequencies_mhz\": [\n        450,\n        700,\n        835,\n        1450,\n        2140,\n        2450,\n        3500,\n        5200,\n        5800\n    ],\n    \"far_field_setup\": {\n        \"type\": \"environmental\",\n        \"environmental\": {\n            \"incident_directions\": [\n                \"x_pos\",\n                \"x_neg\",\n                \"y_pos\",\n                \"y_neg\",\n                \"z_pos\",\n                \"z_neg\"\n            ],\n            \"polarizations\": [\n                \"theta\",\n                \"phi\"\n            ]\n        },\n        \"auto_induced\": {\n            \"grid_resolution_deg\": 15\n        }\n    },\n    \"simulation_parameters\": {\n        \"bbox_padding_mm\": 0,\n        \"simulation_bbox_points\": 8,\n        \"number_of_point_sensors\": 2\n    },\n    \"gridding_parameters\": {\n        \"global_gridding\": {\n            \"grid_mode\": \"manual\",\n            \"manual_fallback_max_step_mm\": 3.0\n        },\n        \"global_gridding_per_frequency\": {\n            \"450\": 2.5,\n            \"700\": 2.5,\n            \"835\": 2.5,\n            \"1450\": 2.5,\n            \"2140\": 1.694,\n            \"2450\": 1.482,\n            \"3500\": 1.0,\n            \"5200\": 1.0,\n            \"5800\": 1.0\n        },\n        \"padding\": {\n            \"padding_mode\": \"manual\",\n            \"manual_bottom_padding_mm\": [0, 0, 0],\n            \"manual_top_padding_mm\": [0, 0, 0]\n        }\n    }\n}\n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>It starts with:</p> <pre><code>{\n  \"extends\": \"base_config.json\",\n  \"study_type\": \"far_field\",\n  ...\n}\n</code></pre> <p>This inherits everything from <code>base_config.json</code>, then adds or overrides: - <code>study_type</code> (specifies this is far-field) - <code>phantoms</code> (lists which phantoms to use) - <code>frequencies_mhz</code> (which frequencies to simulate) - <code>far_field_setup</code> (far-field specific settings like directions, polarizations)</p> <p>The result is a complete config (base settings + far-field overrides).</p> <pre><code>graph TD\n    base[base_config.jsonShared settings]\n    nf[near_field_config.jsonNear-field specifics]\n    ff[far_field_config.jsonFar-field specifics]\n\n    base --&gt;|extends| nf\n    base --&gt;|extends| ff\n\n    style base fill:#4CAF50\n    style nf fill:#2196F3\n    style ff fill:#2196F3\n</code></pre> <pre><code>run_bash(\"cat configs/tutorial_2_custom.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; cat configs/tutorial_2_custom.json\n\n------------------------------------------------------------\n{\n  \"extends\": \"far_field_config.json\",\n  \"phantoms\": [\"thelonious\", \"eartha\"],\n  \"frequencies_mhz\": [700, 835]\n}\n\n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <pre><code>{\n  \"extends\": \"far_field_config.json\",\n  \"phantoms\": [\"thelonious\", \"eartha\"],\n  \"frequencies_mhz\": [700, 835]\n}\n</code></pre> <p>This inherits from <code>far_field_config.json</code> (which already inherits from <code>base_config.json</code>), then overrides only the phantoms and frequencies.</p> <p>The inheritance chain: <code>base_config.json</code> \u2192 <code>far_field_config.json</code> \u2192 <code>tutorial_2_custom.json</code></p> <p>Everything else (directions, polarizations, solver settings, gridding) comes from the parent configs.</p> <pre><code>run_bash(\"goliat validate tutorial_2_custom.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; goliat validate tutorial_2_custom.json\n\n------------------------------------------------------------\nValidating config: tutorial_2_custom.json\n  \u2713 Study type: far_field\n  \u2713 Phantoms: thelonious, eartha\n  \u2713 Frequencies: 700, 835 MHz\n  \u2713 Config is valid!\n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>Let's intentionally break the config to see validation catch it. Edit <code>tutorial_2_custom.json</code> and change <code>study_type</code> to <code>invalid_type</code>:</p> <pre><code>{\n  \"extends\": \"far_field_config.json\",\n  \"study_type\": \"invalid_type\",\n  ...\n}\n</code></pre> <p>Run validation again:</p> <pre><code>run_bash(\"goliat validate tutorial_2_custom.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; goliat validate tutorial_2_custom.json\n\n------------------------------------------------------------\nValidating config: tutorial_2_custom.json\n  \u2713 Study type: far_field\n  \u2713 Phantoms: thelonious, eartha\n  \u2713 Frequencies: 700, 835 MHz\n  \u2713 Config is valid!\n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>The validator checks: - Required fields are present (<code>study_type</code>, <code>phantoms</code>) - Near-field configs have <code>antenna_config</code>; far-field configs have <code>frequencies_mhz</code> - Config file loads successfully (will error if files referenced in <code>extends</code> don't exist)</p> <p>Note: The validator checks that required fields exist, but doesn't validate that <code>study_type</code> values are valid. When you run a study, GOLIAT will error if <code>study_type</code> is not \"near_field\" or \"far_field\".</p> <p>For full parameter reference: configuration guide</p> <pre><code>run_bash(\"goliat study tutorial_2_caching.json --no-cache\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; goliat study tutorial_2_caching.json --no-cache\n\n------------------------------------------------------------\nStarting Sim4Life application... \nInitializing Application [stdout]\nInitializing Application [stderr]\n[Warn]  Unable to load module 'C:\\Program Files\\Sim4Life_8.2.0.16876\\MusaikInterface.xdll'\nJosua    : [Info]  Sync\nJosua    : [Info]  Sync\nJosua    : [Info]  Command [Query Handshake] &lt;ef6545cd-b438-4118-91aa-db8ea355525a;127.0.0.1;WIN10-NEW&gt;\nJosua    : [Info]  Property [CAresSettings]\n[Info]  Connection to local Ares successfully established.\nSim4Life application started. \n--- Starting Far-Field Study: tutorial_2_caching.json --- [FarFieldStudy._run_study]\n\n--- Processing Simulation 1/1: thelonious, 700MHz, x_pos, theta --- [FarFieldStudy._run_study]\n--- Starting: setup --- [profile]\nProject path set to: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.create_or_open_project]\n`--no-cache` flag is active. Forcing a new setup by skipping verification. [ProjectManager.create_or_open_project]\n--- Simulation-specific progress logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos\\progress.log --- \n--- Simulation-specific verbose logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos\\verbose.log --- \nDeleting existing project file at C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.create_new]\nCreating a new empty project in memory. [ProjectManager.create_new]\nInitializing model by creating and deleting a dummy block... [ProjectManager.create_new]\nModel initialized, ready for population. [ProjectManager.create_new]\n  - Setup simulation... [FarFieldStudy.subtask]\n--- Setting up single Far-Field sim --- [FarFieldSetup.run_full_setup]\n    - Load phantom... [FarFieldSetup.run_full_setup]\n--- Running Phantom Check --- [PhantomSetup._log]\nFound 2 total entities in the project. [PhantomSetup._log]\n--- Phantom Check Result: Phantom not found in project. --- [PhantomSetup._log]\nPhantom not found in document. Importing from 'C:\\Users\\user\\repo-clean\\data\\phantoms\\thelonious.sab'... [PhantomSetup._log]\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nPhantom imported successfully. [PhantomSetup._log]\n      - Subtask 'setup_load_phantom' done in 8.88s [FarFieldSetup.run_full_setup]\n      - Done in 8.88s [FarFieldSetup.run_full_setup]\n    - Configure scene (bbox, plane wave)... [FarFieldSetup.run_full_setup]\nCreating simulation bounding box for far-field... [FarFieldSetup._create_or_get_simulation_bbox]\n  - Created far-field simulation BBox with 50mm padding. [FarFieldSetup._create_or_get_simulation_bbox]\n  - Creating simulation: EM_FDTD_thelonious_700MHz_x_pos_theta [FarFieldSetup._create_simulation_entity]\n  - Using simulation time multiplier: 3.5 [FarFieldSetup._apply_simulation_time_and_termination]\n  - Simulation time set to 11.44 periods. [FarFieldSetup._apply_simulation_time_and_termination]\n  - Setting termination criteria to: GlobalAutoTerminationUserDefined [FarFieldSetup._apply_simulation_time_and_termination]\n    - Convergence level set to: -15 dB [FarFieldSetup._apply_simulation_time_and_termination]\n      - Subtask 'setup_configure_scene' done in 0.33s [FarFieldSetup.run_full_setup]\n      - Done in 0.33s [FarFieldSetup.run_full_setup]\n    - Assign materials... [FarFieldSetup.run_full_setup]\nAssigning materials... [MaterialSetup.assign_materials]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\n[Info]  \nMass Density has changed from 1000 to 1.2050000000000001\nMass Density has changed from 1.2050000000000001 to 1.2\nRelative Permittivity has changed from 1 to 0\nSimulation : [Warn]  Unable to find any match for following settings properties: Magnetic Conductivity\nSimulation : [Warn]  Unable to find any match for following settings properties: Relative Permeability\n      - Subtask 'setup_materials' done in 5.84s [FarFieldSetup.run_full_setup]\n      - Done in 5.84s [FarFieldSetup.run_full_setup]\n    - Configure solver (gridding, boundaries, sensors)... [FarFieldSetup.run_full_setup]\nSetting up gridding... [GriddingSetup.setup_gridding]\n  - Looking for global grid bounding box: 'far_field_simulation_bbox' [GriddingSetup._setup_main_grid]\n  - Using manual gridding. [GriddingSetup._setup_main_grid]\n  - Global and added manual grid set with global resolution: 3.0 mm. [GriddingSetup._setup_main_grid]\n  - Using automatic padding. [GriddingSetup._setup_main_grid]\n  - No antenna components provided, skipping subgridding. [GriddingSetup.setup_gridding]\nSetting up boundary conditions... [BoundarySetup.setup_boundary_conditions]\n  - Setting global boundary conditions to: UpmlCpml [BoundarySetup.setup_boundary_conditions]\n    - Successfully set GlobalBoundaryType to UpmlCpml [BoundarySetup.setup_boundary_conditions]\n  - Setting PML strength to: Low [BoundarySetup.setup_boundary_conditions]\n    - Successfully set PmlStrength to Low [BoundarySetup.setup_boundary_conditions]\n  - Added point sensor at (Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42), Vec3(-231.59, -107.681, -1019.42)) (lower_left_bottom) [FarFieldSetup._add_point_sensors]\n  - Added point sensor at (Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697), Vec3(239.048, 205.076, 260.697)) (top_right_up) [FarFieldSetup._add_point_sensors]\n  - Configuring solver settings... [FarFieldSetup._setup_solver_settings]\n    - Solver kernel set to: Acceleware (AXware) [FarFieldSetup._setup_solver_settings]\n      - Subtask 'setup_solver' done in 0.27s [FarFieldSetup.run_full_setup]\n      - Done in 0.27s [FarFieldSetup.run_full_setup]\n    - Voxelize simulation... [FarFieldSetup.run_full_setup]\n    - Finalizing setup... [FarFieldSetup._finalize_setup]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tongue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Adrenal Gland\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Anterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Vitreous Humor)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Midbrain\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Testis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Air 1\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood Vessel Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Epididymis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pineal Body\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Urinary Bladder Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone Marrow (Red)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Gallbladder\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypophysis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (White Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spleen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thymus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypothalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skin\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (Grey Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone (Cortical)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Sclera)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tendon\\Ligament\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Medulla)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Medulla Oblongata\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Intervertebral Disc\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Vertebrae\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Lens)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Posterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Cornea)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pharynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Liver\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Cortex)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Fat\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Lung\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Connective Tissue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pons\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spinal Cord\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"SAT (Subcutaneous Fat)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cartilage\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tooth\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Nerve\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Meniscus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skull\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Prostate\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Diaphragm\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mucous Membrane\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Larynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mandible\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hippocampus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebellum\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Penis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Ureter\\Urethra\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pancreas\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebrospinal Fluid\" have been set to their value according to the selected database\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n[Info]  Start voxeling\n[Info]  Topological Voxeler Report: Complete Voxel Scene\n    Voxel Scene Memory Consumption: 0.002876 GB\n    Wall Clock Time: 7.68246 s\n\n[Info]  Voxeling succeeded.\n    - Finalizing setup complete. [FarFieldSetup._finalize_setup]\n      - Subtask 'setup_voxelize' done in 21.92s [FarFieldSetup.run_full_setup]\n      - Done in 21.92s [FarFieldSetup.run_full_setup]\n    - Save project... [FarFieldSetup.run_full_setup]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\nProject saved. [ProjectManager.save]\n      - Subtask 'setup_save_project' done in 4.52s [FarFieldSetup.run_full_setup]\n      - Done in 4.52s [FarFieldSetup.run_full_setup]\nCommon settings applied. [FarFieldSetup.run_full_setup]\n    - Subtask 'setup_simulation' done in 41.91s [FarFieldStudy.subtask]\n    - Done in 41.91s [FarFieldStudy.subtask]\n  - Saved configuration metadata to config.json [ProjectManager.write_simulation_metadata]\n--- Finished: setup (took 41.97s) --- [profile]\n--- Starting: run --- [profile]\n  - Run simulation total... [FarFieldStudy.subtask]\nRunning simulation: EM_FDTD_thelonious_700MHz_x_pos_theta [SimulationRunner.run]\n    - Write input file... [SimulationRunner.run]\n[Info]  Writing solver input file(s) for EM_FDTD_thelonious_700MHz_x_pos_theta\n[Info]  Writing Rectilinear Discretization to Input File. Elapse Time: 0.473051 s\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n      - Subtask 'run_write_input_file' done in 4.86s [SimulationRunner.run]\n      - Done in 4.86s [SimulationRunner.run]\nRunning iSolve with acceleware on 096a3ef5-4bd1-4778-b893-dbc6c809377c_Input.h5 [SimulationRunner._run_isolve_manual]\n    - Execute iSolve... [SimulationRunner._run_isolve_manual]\n\nReading command line \niSolve X, Version 8.2.0 (16876), 64Bit Windows \n\nRunning MPI version 2.0 on 1 process. \n\n\nSimulation 'EM_FDTD_thelonious_700MHz_x_pos_theta'  \n\nInstalled system RAM visible to this process:  16.0 GB \n\nSolver type: EmFdtd, SinglePrecision, Acceleware \nInput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash_Results\\096a3ef5-4bd1-4778-b893-dbc6c809377c_Input.h5 \nInput file generated by: Sim4Life, Version 8.2.0.16876 \nOutput file name: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash_Results\\096a3ef5-4bd1-4778-b893-dbc6c809377c_Output.h5 \n\nUsing commercial license features. \nChecking out license feature 'FDTD_SOLVER', version 8.2, (1). \n\nRunning the EM-FDTD solver with the following settings: \nFloating Point Arithmetic: single (4 Bytes) \nHPC: Acceleware \nUsed Acceleware library is '11.4.1.13550 (x64, 64-bit)'. \nYour NVIDIA display driver is newer than the expected version. \nInstalled version: 15.7680 Expected: 15.3667 (see also http://www.acceleware.com/fdtd-11-4-1) \nReduced performance could be encountered. \n\nSimulation Time Step:   5.72711e-12 sec \nSimulation Iterations:  2853 \nMax Simulated Time: 1.63394e-08 sec \n\nGrid: \nNumber of cells: 229x177x499 = 20225967 cells = 20.2260 MCells \nNumber of cells including PML: 245x193x515 = 24351775 cells = 24.3518 MCells \nX: Range [-0.338659 ... 0.346117] with minimal 0.00297412 and maximal step 0.0029977 [m] \nY: Range [-0.21475 ... 0.312145] with minimal 0.00297412 and maximal step 0.00297865 [m] \nZ: Range [-1.12649 ... 0.367766] with minimal 0.00297403 and maximal step 0.00299799 [m] \n\nBoundaries: \nSide X-: ABC (UPML, 8 layers) \nSide X+: ABC (UPML, 8 layers) \nSide Y-: ABC (UPML, 8 layers) \nSide Y+: ABC (UPML, 8 layers) \nSide Z-: ABC (UPML, 8 layers) \nSide Z+: ABC (UPML, 8 layers) \n\nCreated unified material architecture (UMA) model \n\nMaterials (77): \nBackground: dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nTongue  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=0.865626, mu_r=1.000000, sigma_H=0.000000) \nAdrenal_gland  (Thelonious_6y_V6): dielectric (eps_r=50.989008, sigma_E=0.954350, mu_r=1.000000, sigma_H=0.000000) \nStomach_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \ncommissura_anterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nEye_vitreous_humor  (Thelonious_6y_V6): dielectric (eps_r=68.947390, sigma_E=1.583627, mu_r=1.000000, sigma_H=0.000000) \nVein  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nMidbrain  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nTestis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nAir_internal  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBlood_vessel  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nEpididymis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nPinealbody  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBladder  (Thelonious_6y_V6): dielectric (eps_r=19.149003, sigma_E=0.358399, mu_r=1.000000, sigma_H=0.000000) \nMarrow_red  (Thelonious_6y_V6): dielectric (eps_r=11.451933, sigma_E=0.207759, mu_r=1.000000, sigma_H=0.000000) \nGallbladder  (Thelonious_6y_V6): dielectric (eps_r=59.551663, sigma_E=1.202528, mu_r=1.000000, sigma_H=0.000000) \nHypophysis  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBrain_white_matter  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nSpleen  (Thelonious_6y_V6): dielectric (eps_r=58.688546, sigma_E=1.175182, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nThymus  (Thelonious_6y_V6): dielectric (eps_r=55.600852, sigma_E=1.115237, mu_r=1.000000, sigma_H=0.000000) \nTrachea  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nHeart_muscle  (Thelonious_6y_V6): dielectric (eps_r=61.478559, sigma_E=1.125021, mu_r=1.000000, sigma_H=0.000000) \nMuscle  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nHypothalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nArtery  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nSkin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nBrain_grey_matter  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nPatella  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_Sclera  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=1.096154, mu_r=1.000000, sigma_H=0.000000) \nTendon_Ligament  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nKidney_medulla  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nMedulla_oblongata  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nEsophagus  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nIntervertebral_disc  (Thelonious_6y_V6): dielectric (eps_r=44.418065, sigma_E=1.041108, mu_r=1.000000, sigma_H=0.000000) \nVertebrae  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_lens  (Thelonious_6y_V6): dielectric (eps_r=36.279018, sigma_E=0.435952, mu_r=1.000000, sigma_H=0.000000) \ncommissura_posterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nCornea  (Thelonious_6y_V6): dielectric (eps_r=56.275669, sigma_E=1.311407, mu_r=1.000000, sigma_H=0.000000) \nTrachea_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPharynx  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nLiver  (Thelonious_6y_V6): dielectric (eps_r=47.963211, sigma_E=0.773986, mu_r=1.000000, sigma_H=0.000000) \nThalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nHeart_lumen  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine  (Thelonious_6y_V6): dielectric (eps_r=59.134765, sigma_E=0.989502, mu_r=1.000000, sigma_H=0.000000) \nKidney_cortex  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nStomach  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nFat  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nLung  (Thelonious_6y_V6): dielectric (eps_r=22.460437, sigma_E=0.423425, mu_r=1.000000, sigma_H=0.000000) \nConnective_tissue  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nPons  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nSpinal_cord  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nSAT  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nEar_cartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nTeeth  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nNerve  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nEar_skin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nMeniscus  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nSkull  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nProstate  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nDiaphragm  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nBone  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nMucosa  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine  (Thelonious_6y_V6): dielectric (eps_r=61.138364, sigma_E=2.062163, mu_r=1.000000, sigma_H=0.000000) \nLarynx  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nMandible  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nCartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nHippocampus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nCerebellum  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nPenis  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nUreter_Urethra  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nBronchi_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPancreas  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nEsophagus_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBronchi  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nCerebrospinal_fluid  (Thelonious_6y_V6): dielectric (eps_r=69.157589, sigma_E=2.338250, mu_r=1.000000, sigma_H=0.000000) \n\nLumped Elements: No active lumped elements in the simulation. \n\nHost OS: Microsoft Windows 10 Professional 64-bit (Build 9200) \nHost CPU: AMD EPYC 7542 32-Core Processor \nHost memory: 16379 MB \nThe following Accelerators have been detected: \nNVIDIA GeForce RTX 4090 (device ID = 0), compute capability 8.9, total memory 24563 MB \n\n\nSensors (3): \nInitializing field sensor Overall Field. \nInitializing point sensor Point Sensor Entity 1 (lower_left_bottom). \nAveraging setup for point sensor Point Sensor Entity 1 (lower_left_bottom): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 1 (lower_left_bottom): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nInitializing point sensor Point Sensor Entity 2 (top_right_up). \nAveraging setup for point sensor Point Sensor Entity 2 (top_right_up): \nE-Field: \nX: 2 edges used for recording. \nY: 2 edges used for recording. \nZ: 2 edges used for recording. \nH-Field: \nX: 4 edges used for recording. \nY: 4 edges used for recording. \nZ: 4 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 2 (top_right_up): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.86355e-11, convergence level = -15 dB. \nUsing DFT to convert to frequency domain. \n\nSources (1): \nInitializing plane wave source far_field_simulation_bbox. \nExcitation signal: Harmonic signal with frequency 700 MHz and ramp time 2.14286 ns \n\nUpdate coefficient calculation for 122086088 edges using 3 threads. \nCalculating update coefficients \n[PROGRESS]: 21% [ 25691000 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 42% [ 51394640 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 63% [ 77063200 / 122086088 ] Calculating update coefficients \n[PROGRESS]: 84% [ 102704588 / 122086088 ] Calculating update coefficients \n\n\nEdge-Material Statistics (Electric/Magnetic): \n61165060 / 60921028      (100.00% / 100.00%) : Total \n61165060 / 60921028      (100.00% / 100.00%) : Dielectric \n\nEdge-Region Statistics (regions with more than 1% of all edges, max 20 items): \n58992181 / 58810012      ( 96.45% /  96.53%) : Background \n1084192 /  1496072   (  1.77% /   2.46%) : Other \n1088687 /   614944   (  1.78% /   1.01%) : Averaged \n\n\nUpdate coefficient database contains 2099 E-coefficient(s) and 1 H-coefficient(s). \nElapsed time for 'Calculating update coefficients' was 00:00:10 wall clock time. \nPreparing for time update \nUse hardware resource management option fastest simulation \nChecking out license feature 'AXWARE_TOKEN', version 8.2, (1). \n[PROGRESS]: 2% [ 2 / 100 ] Preparing for time update \n[PROGRESS]: 16% [ 16 / 100 ] Preparing for time update \n[PROGRESS]: 30% [ 30 / 100 ] Preparing for time update \n[PROGRESS]: 44% [ 44 / 100 ] Preparing for time update \n[PROGRESS]: 60% [ 60 / 100 ] Preparing for time update \nSimulation 1 is using device(s): [0] \nElapsed time for 'Preparing for time update' was 00:00:17 wall clock time. \nStarting solver aXware (hardware accelerated). \nTime Update \n[PROGRESS]: 0% [ 10 / 2853 ] Time Update, estimated remaining time 1 minutes 43 seconds  @ 674.70 MCells/s \n[PROGRESS]: 7% [ 207 / 2853 ] Time Update, estimated remaining time 28 seconds  @ 2284.02 MCells/s \n[PROGRESS]: 14% [ 404 / 2853 ] Time Update, estimated remaining time 28 seconds  @ 2162.07 MCells/s \n[PROGRESS]: 21% [ 601 / 2853 ] Time Update, estimated remaining time 24 seconds  @ 2311.73 MCells/s \n[PROGRESS]: 27% [ 798 / 2853 ] Time Update, estimated remaining time 22 seconds  @ 2290.44 MCells/s \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 2 to check conventional convergence. \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 4 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 2 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 4 to check conventional convergence. \n[PROGRESS]: 34% [ 995 / 2853 ] Time Update, estimated remaining time 20 seconds  @ 2283.90 MCells/s \n[PROGRESS]: 41% [ 1192 / 2853 ] Time Update, estimated remaining time 18 seconds  @ 2259.95 MCells/s \n[PROGRESS]: 48% [ 1389 / 2853 ] Time Update, estimated remaining time 16 seconds  @ 2255.44 MCells/s \n[PROGRESS]: 55% [ 1586 / 2853 ] Time Update, estimated remaining time 14 seconds  @ 2200.96 MCells/s \n[PROGRESS]: 61% [ 1755 / 2853 ] Time Update, estimated remaining time 15 seconds  @ 1816.07 MCells/s \nSensor Point Sensor Entity 1 (lower_left_bottom): conventional steady state check successful. \n[PROGRESS]: 68% [ 1952 / 2853 ] Time Update, estimated remaining time 11 seconds  @ 2088.30 MCells/s \nSensor Point Sensor Entity 2 (top_right_up): conventional steady state check successful. \nSteady state detected at iteration 2060, remaining time steps are 63. \n[PROGRESS]: 97% [ 2065 / 2123 ] Time Update, estimated remaining time 3 seconds  @ 477.96 MCells/s \nSimulation performed 2123 iterations. \nElapsed time for 'Time Update' was 00:00:35 wall clock time. \n\nPost-process Sensors \nPost-process sensor 'Overall Field' \nPost-process sensor 'Point Sensor Entity 1 (lower_left_bottom)' \n[PROGRESS]: 66% [ 2 / 3 ] Post-process Sensors \nPost-process sensor 'Point Sensor Entity 2 (top_right_up)' \nTrusted frequency is 700 MHz. Expect less accurate results outside. \nElapsed time for 'Post-process Sensors' was 00:00:05 wall clock time. \nFDTD simulation finished successfully. \n\nSimulation 'EM_FDTD_thelonious_700MHz_x_pos_theta' has ended successfully and took 00:01:18 wall clock time \nNo compression of solver files requested \nReleased license feature 'AXWARE_TOKEN'. \nReleased license feature 'FDTD_SOLVER'. \nPeak CPU memory usage:   3.6 GB (3911561216 Bytes) \niSolve ended successfully. \n      - Subtask 'run_isolve_execution' done in 79.26s [SimulationRunner._run_isolve_manual]\n      - Done in 79.26s [SimulationRunner._run_isolve_manual]\n    - Wait for results... [SimulationRunner._run_isolve_manual]\n      - Subtask 'run_wait_for_results' done in 5.03s [SimulationRunner._run_isolve_manual]\n      - Done in 5.03s [SimulationRunner._run_isolve_manual]\n    - Reload project... [SimulationRunner._run_isolve_manual]\nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash \n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\n      - Subtask 'run_reload_project' done in 11.14s [SimulationRunner._run_isolve_manual]\n      - Done in 11.14s [SimulationRunner._run_isolve_manual]\nProject reloaded and results are available. [SimulationRunner._run_isolve_manual]\n    - Subtask 'run_simulation_total' done in 100.38s [FarFieldStudy.subtask]\n    - Done in 100.38s [FarFieldStudy.subtask]\nRun deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\n--- Finished: run (took 100.42s) --- [profile]\n--- Starting: extract --- [profile]\nRun deliverables verified. Proceeding with extraction. [FarFieldStudy._verify_run_deliverables_before_extraction]\nValidating project file: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.open]\nOpening project with Sim4Life: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.open]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nProject reloaded. [ProjectManager.reload_project]\n  - Extract results total... [FarFieldStudy.subtask]\n    - Extract input power... [PowerExtractor.extract_input_power]\n  - Far-field study: using theoretical model for input power. [PowerExtractor._extract_far_field_power]\n  - Calculated theoretical input power: 5.3099e-04 W [PowerExtractor._extract_far_field_power]\n      - Subtask 'extract_input_power' done in 0.00s [PowerExtractor.extract_input_power]\n      - Done in 0.00s [PowerExtractor.extract_input_power]\n    - Extract SAR statistics... [SarExtractor.extract_sar_statistics]\n  - Loading tissue groups for 'thelonious' from material_name_mapping.json [SarExtractor._define_tissue_groups]\n  - Extracting peak SAR details... [SarExtractor.extract_peak_sar_details]\n      - Subtask 'extract_sar_statistics' done in 26.59s [SarExtractor.extract_sar_statistics]\n      - Done in 26.59s [SarExtractor.extract_sar_statistics]\n    - Extract power balance... [PowerExtractor.extract_power_balance]\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\nAnalysis : [Warn]  Unable to balance the following EM sources: far_field_simulation_bbox,  are still not supported.\n    - Overwriting Pin with theoretical value: 5.3099e-04 W [PowerExtractor.extract_power_balance]\n    - Final Balance: 117.61% [PowerExtractor.extract_power_balance]\n      - Subtask 'extract_power_balance' done in 8.75s [PowerExtractor.extract_power_balance]\n      - Done in 8.75s [PowerExtractor.extract_power_balance]\n    - Extract point sensors... [SensorExtractor.extract_point_sensor_data]\n  - Point sensor plot saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_x_pos\\point_sensor_data.png [SensorExtractor._save_plot]\n      - Subtask 'extract_point_sensor_data' done in 0.74s [SensorExtractor.extract_point_sensor_data]\n      - Done in 0.74s [SensorExtractor.extract_point_sensor_data]\n  - Pickle report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_x_pos\\sar_stats_all_tissues.pkl [Reporter._save_pickle_report]\n  - HTML report saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_x_pos\\sar_stats_all_tissues.html [Reporter._save_html_report]\n  - SAR results saved to: C:\\Users\\user\\repo-clean\\results\\far_field\\thelonious\\700MHz\\environmental_theta_x_pos\\sar_results.json [ResultsExtractor._save_json_results]\n    - Subtask 'extract_results_total' done in 36.25s [FarFieldStudy.subtask]\n    - Done in 36.25s [FarFieldStudy.subtask]\nExtract deliverables verified. Updating metadata. [FarFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\nSaving project to C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n--- Finished: extract (took 55.12s) --- [profile]\n\n--- FarFieldStudy Finished --- [FarFieldStudy.run]\n--- Logging shutdown --- \n--- Logging shutdown --- \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n[Info]  Topological Voxeler Report: Muscle\n    Target Grid: Primary\n    Duration: 2232.9 ms\n    Priority: 0\n    Edges: None\n    Voxels: 225848\n    Memory Consumption: 0.329872 kB\n\n[Info]  Topological Voxeler Report: Skin\n    Target Grid: Primary\n    Duration: 2404.2 ms\n    Priority: 0\n    Edges: None\n    Voxels: 50274\n    Memory Consumption: 0.409142 kB\n\n[Info]  Topological Voxeler Report: SAT\n    Target Grid: Primary\n    Duration: 2152.18 ms\n    Priority: 0\n    Edges: None\n    Voxels: 70055\n    Memory Consumption: 0.408096 kB\n\n[Info]  Topological Voxeler Report: Fat\n    Target Grid: Primary\n    Duration: 2018.07 ms\n    Priority: 0\n    Edges: None\n    Voxels: 77275\n    Memory Consumption: 0.334229 kB\n\n[Info]  Topological Voxeler Report: Brain_grey_matter\n    Target Grid: Primary\n    Duration: 556.883 ms\n    Priority: 0\n    Edges: None\n    Voxels: 26240\n    Memory Consumption: 0.011757 kB\n\n[Info]  Topological Voxeler Report: Connective_tissue\n    Target Grid: Primary\n    Duration: 770.832 ms\n    Priority: 0\n    Edges: None\n    Voxels: 10750\n    Memory Consumption: 0.340309 kB\n\n[Info]  Topological Voxeler Report: Cerebrospinal_fluid\n    Target Grid: Primary\n    Duration: 502.342 ms\n    Priority: 0\n    Edges: None\n    Voxels: 7731\n    Memory Consumption: 0.067123 kB\n\n[Info]  Topological Voxeler Report: Skull\n    Target Grid: Primary\n    Duration: 411.995 ms\n    Priority: 0\n    Edges: None\n    Voxels: 10030\n    Memory Consumption: 0.017731 kB\n\n[Info]  Topological Voxeler Report: Bone\n    Target Grid: Primary\n    Duration: 666.94 ms\n    Priority: 0\n    Edges: None\n    Voxels: 26810\n    Memory Consumption: 0.263748 kB\n\n[Info]  Topological Voxeler Report: Brain_white_matter\n    Target Grid: Primary\n    Duration: 296.787 ms\n    Priority: 0\n    Edges: None\n    Voxels: 13777\n    Memory Consumption: 0.009506 kB\n\n[Info]  Topological Voxeler Report: Tendon_Ligament\n    Target Grid: Primary\n    Duration: 368.01 ms\n    Priority: 0\n    Edges: None\n    Voxels: 7601\n    Memory Consumption: 0.264679 kB\n\n[Info]  Topological Voxeler Report: Large_intestine\n    Target Grid: Primary\n    Duration: 202.156 ms\n    Priority: 0\n    Edges: None\n    Voxels: 8087\n    Memory Consumption: 0.018135 kB\n\n[Info]  Topological Voxeler Report: Vertebrae\n    Target Grid: Primary\n    Duration: 173.763 ms\n    Priority: 0\n    Edges: None\n    Voxels: 8635\n    Memory Consumption: 0.016899 kB\n\n[Info]  Topological Voxeler Report: Lung\n    Target Grid: Primary\n    Duration: 132.165 ms\n    Priority: 0\n    Edges: None\n    Voxels: 33854\n    Memory Consumption: 0.013893 kB\n\n[Info]  Topological Voxeler Report: Marrow_red\n    Target Grid: Primary\n    Duration: 211.622 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4051\n    Memory Consumption: 0.136726 kB\n\n[Info]  Topological Voxeler Report: Artery\n    Target Grid: Primary\n    Duration: 193.992 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2634\n    Memory Consumption: 0.164230 kB\n\n[Info]  Topological Voxeler Report: Large_intestine_lumen\n    Target Grid: Primary\n    Duration: 93.3677 ms\n    Priority: 0\n    Edges: None\n    Voxels: 17862\n    Memory Consumption: 0.016106 kB\n\n[Info]  Topological Voxeler Report: Air_internal\n    Target Grid: Primary\n    Duration: 66.3069 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1818\n    Memory Consumption: 0.003288 kB\n\n[Info]  Topological Voxeler Report: Vein\n    Target Grid: Primary\n    Duration: 154.376 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2365\n    Memory Consumption: 0.107765 kB\n\n[Info]  Topological Voxeler Report: Diaphragm\n    Target Grid: Primary\n    Duration: 70.5643 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4149\n    Memory Consumption: 0.004707 kB\n\n[Info]  Topological Voxeler Report: Liver\n    Target Grid: Primary\n    Duration: 72.7156 ms\n    Priority: 0\n    Edges: None\n    Voxels: 20784\n    Memory Consumption: 0.008614 kB\n\n[Info]  Topological Voxeler Report: Stomach\n    Target Grid: Primary\n    Duration: 65.2019 ms\n    Priority: 0\n    Edges: None\n    Voxels: 5088\n    Memory Consumption: 0.004791 kB\n\n[Info]  Topological Voxeler Report: Mucosa\n    Target Grid: Primary\n    Duration: 57.4033 ms\n    Priority: 0\n    Edges: None\n    Voxels: 229\n    Memory Consumption: 0.001251 kB\n\n[Info]  Topological Voxeler Report: Nerve\n    Target Grid: Primary\n    Duration: 79.9097 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2150\n    Memory Consumption: 0.021904 kB\n\n[Info]  Topological Voxeler Report: Cerebellum\n    Target Grid: Primary\n    Duration: 42.4557 ms\n    Priority: 0\n    Edges: None\n    Voxels: 5681\n    Memory Consumption: 0.001984 kB\n\n[Info]  Topological Voxeler Report: Cartilage\n    Target Grid: Primary\n    Duration: 128.655 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1660\n    Memory Consumption: 0.126228 kB\n\n[Info]  Topological Voxeler Report: Blood_vessel\n    Target Grid: Primary\n    Duration: 76.9545 ms\n    Priority: 0\n    Edges: None\n    Voxels: 342\n    Memory Consumption: 0.054993 kB\n\n[Info]  Topological Voxeler Report: Intervertebral_disc\n    Target Grid: Primary\n    Duration: 46.7462 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2778\n    Memory Consumption: 0.005638 kB\n\n[Info]  Topological Voxeler Report: Kidney_cortex\n    Target Grid: Primary\n    Duration: 45.488 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2999\n    Memory Consumption: 0.002182 kB\n\n[Info]  Topological Voxeler Report: Heart_muscle\n    Target Grid: Primary\n    Duration: 40.0194 ms\n    Priority: 0\n    Edges: None\n    Voxels: 8775\n    Memory Consumption: 0.003059 kB\n\n[Info]  Topological Voxeler Report: Small_intestine\n    Target Grid: Primary\n    Duration: 34.9721 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2106\n    Memory Consumption: 0.001465 kB\n\n[Info]  Topological Voxeler Report: Mandible\n    Target Grid: Primary\n    Duration: 29.0763 ms\n    Priority: 0\n    Edges: None\n    Voxels: 630\n    Memory Consumption: 0.001495 kB\n\n[Info]  Topological Voxeler Report: Stomach_lumen\n    Target Grid: Primary\n    Duration: 26.511 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4872\n    Memory Consumption: 0.002899 kB\n\n[Info]  Topological Voxeler Report: Spleen\n    Target Grid: Primary\n    Duration: 24.7537 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4554\n    Memory Consumption: 0.002548 kB\n\n[Info]  Topological Voxeler Report: Ear_skin\n    Target Grid: Primary\n    Duration: 20.8579 ms\n    Priority: 0\n    Edges: None\n    Voxels: 456\n    Memory Consumption: 0.001396 kB\n\n[Info]  Topological Voxeler Report: Esophagus\n    Target Grid: Primary\n    Duration: 16.0094 ms\n    Priority: 0\n    Edges: None\n    Voxels: 289\n    Memory Consumption: 0.001564 kB\n\n[Info]  Topological Voxeler Report: Kidney_medulla\n    Target Grid: Primary\n    Duration: 18.4089 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1878\n    Memory Consumption: 0.001274 kB\n\n[Info]  Topological Voxeler Report: Tongue\n    Target Grid: Primary\n    Duration: 11.8625 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1389\n    Memory Consumption: 344 bytes\n\n[Info]  Topological Voxeler Report: Spinal_cord\n    Target Grid: Primary\n    Duration: 14.2112 ms\n    Priority: 0\n    Edges: None\n    Voxels: 959\n    Memory Consumption: 0.001770 kB\n\n[Info]  Topological Voxeler Report: Thymus\n    Target Grid: Primary\n    Duration: 12.9939 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1083\n    Memory Consumption: 800 bytes\n\n[Info]  Topological Voxeler Report: Teeth\n    Target Grid: Primary\n    Duration: 11.3177 ms\n    Priority: 0\n    Edges: None\n    Voxels: 209\n    Memory Consumption: 440 bytes\n\n[Info]  Topological Voxeler Report: Trachea\n    Target Grid: Primary\n    Duration: 11.0667 ms\n    Priority: 0\n    Edges: None\n    Voxels: 148\n    Memory Consumption: 512 bytes\n\n[Info]  Topological Voxeler Report: Eye_Sclera\n    Target Grid: Primary\n    Duration: 9.6963 ms\n    Priority: 0\n    Edges: None\n    Voxels: 159\n    Memory Consumption: 224 bytes\n\n[Info]  Topological Voxeler Report: Ear_cartilage\n    Target Grid: Primary\n    Duration: 10.7904 ms\n    Priority: 0\n    Edges: None\n    Voxels: 144\n    Memory Consumption: 0.001251 kB\n\n[Info]  Topological Voxeler Report: Small_intestine_lumen\n    Target Grid: Primary\n    Duration: 9.9477 ms\n    Priority: 0\n    Edges: None\n    Voxels: 845\n    Memory Consumption: 560 bytes\n\n[Info]  Topological Voxeler Report: Thalamus\n    Target Grid: Primary\n    Duration: 8.2518 ms\n    Priority: 0\n    Edges: None\n    Voxels: 699\n    Memory Consumption: 192 bytes\n\n[Info]  Topological Voxeler Report: Bladder\n    Target Grid: Primary\n    Duration: 10.055 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1120\n    Memory Consumption: 256 bytes\n\n[Info]  Topological Voxeler Report: Pancreas\n    Target Grid: Primary\n    Duration: 8.4381 ms\n    Priority: 0\n    Edges: None\n    Voxels: 406\n    Memory Consumption: 568 bytes\n\n[Info]  Topological Voxeler Report: Esophagus_lumen\n    Target Grid: Primary\n    Duration: 6.9652 ms\n    Priority: 0\n    Edges: None\n    Voxels: 133\n    Memory Consumption: 0.000984 kB\n\n[Info]  Topological Voxeler Report: Penis\n    Target Grid: Primary\n    Duration: 7.4221 ms\n    Priority: 0\n    Edges: None\n    Voxels: 333\n    Memory Consumption: 296 bytes\n\n[Info]  Topological Voxeler Report: Meniscus\n    Target Grid: Primary\n    Duration: 11.6235 ms\n    Priority: 0\n    Edges: None\n    Voxels: 349\n    Memory Consumption: 288 bytes\n\n[Info]  Topological Voxeler Report: Trachea_lumen\n    Target Grid: Primary\n    Duration: 5.7454 ms\n    Priority: 0\n    Edges: None\n    Voxels: 223\n    Memory Consumption: 512 bytes\n\n[Info]  Topological Voxeler Report: Pons\n    Target Grid: Primary\n    Duration: 4.7081 ms\n    Priority: 0\n    Edges: None\n    Voxels: 461\n    Memory Consumption: 152 bytes\n\n[Info]  Topological Voxeler Report: Eye_vitreous_humor\n    Target Grid: Primary\n    Duration: 4.7098 ms\n    Priority: 0\n    Edges: None\n    Voxels: 336\n    Memory Consumption: 160 bytes\n\n[Info]  Topological Voxeler Report: Midbrain\n    Target Grid: Primary\n    Duration: 4.4479 ms\n    Priority: 0\n    Edges: None\n    Voxels: 284\n    Memory Consumption: 112 bytes\n\n[Info]  Topological Voxeler Report: Gallbladder\n    Target Grid: Primary\n    Duration: 6.0739 ms\n    Priority: 0\n    Edges: None\n    Voxels: 282\n    Memory Consumption: 376 bytes\n\n[Info]  Topological Voxeler Report: Heart_lumen\n    Target Grid: Primary\n    Duration: 4.6322 ms\n    Priority: 0\n    Edges: None\n    Voxels: 254\n    Memory Consumption: 152 bytes\n\n[Info]  Topological Voxeler Report: Pharynx\n    Target Grid: Primary\n    Duration: 2.8749 ms\n    Priority: 0\n    Edges: None\n    Voxels: 56\n    Memory Consumption: 40 bytes\n\n[Info]  Topological Voxeler Report: Hippocampus\n    Target Grid: Primary\n    Duration: 2.5894 ms\n    Priority: 0\n    Edges: None\n    Voxels: 77\n    Memory Consumption: 72 bytes\n\n[Info]  Topological Voxeler Report: Medulla_oblongata\n    Target Grid: Primary\n    Duration: 2.6254 ms\n    Priority: 0\n    Edges: None\n    Voxels: 209\n    Memory Consumption: 96 bytes\n\n[Info]  Topological Voxeler Report: Prostate\n    Target Grid: Primary\n    Duration: 3.6346 ms\n    Priority: 0\n    Edges: None\n    Voxels: 119\n    Memory Consumption: 56 bytes\n\n[Info]  Topological Voxeler Report: Adrenal_gland\n    Target Grid: Primary\n    Duration: 3.3348 ms\n    Priority: 0\n    Edges: None\n    Voxels: 107\n    Memory Consumption: 152 bytes\n\n[Info]  Topological Voxeler Report: Bronchi\n    Target Grid: Primary\n    Duration: 2.6002 ms\n    Priority: 0\n    Edges: None\n    Voxels: 42\n    Memory Consumption: 32 bytes\n\n[Info]  Topological Voxeler Report: Testis\n    Target Grid: Primary\n    Duration: 3.1952 ms\n    Priority: 0\n    Edges: None\n    Voxels: 124\n    Memory Consumption: 40 bytes\n\n[Info]  Topological Voxeler Report: Patella\n    Target Grid: Primary\n    Duration: 6.0684 ms\n    Priority: 0\n    Edges: None\n    Voxels: 124\n    Memory Consumption: 136 bytes\n\n[Info]  Topological Voxeler Report: Ureter_Urethra\n    Target Grid: Primary\n    Duration: 4.4848 ms\n    Priority: 0\n    Edges: None\n    Voxels: 30\n    Memory Consumption: 384 bytes\n\n[Info]  Topological Voxeler Report: Bronchi_lumen\n    Target Grid: Primary\n    Duration: 1.358 ms\n    Priority: 0\n    Edges: None\n    Voxels: 27\n    Memory Consumption: 24 bytes\n\n[Info]  Topological Voxeler Report: Cornea\n    Target Grid: Primary\n    Duration: 1.8124 ms\n    Priority: 0\n    Edges: None\n    Voxels: 11\n    Memory Consumption: 32 bytes\n\n[Info]  Topological Voxeler Report: Hypothalamus\n    Target Grid: Primary\n    Duration: 0.9416 ms\n    Priority: 0\n    Edges: None\n    Voxels: 25\n    Memory Consumption: 16 bytes\n\n[Info]  Topological Voxeler Report: Epididymis\n    Target Grid: Primary\n    Duration: 1.9835 ms\n    Priority: 0\n    Edges: None\n    Voxels: 22\n    Memory Consumption: 24 bytes\n\n[Info]  Topological Voxeler Report: Hypophysis\n    Target Grid: Primary\n    Duration: 0.4471 ms\n    Priority: 0\n    Edges: None\n    Voxels: 11\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: Eye_lens\n    Target Grid: Primary\n    Duration: 0.618 ms\n    Priority: 0\n    Edges: None\n    Voxels: 10\n    Memory Consumption: 16 bytes\n\n[Info]  Topological Voxeler Report: Pinealbody\n    Target Grid: Primary\n    Duration: 0.4223 ms\n    Priority: 0\n    Edges: None\n    Voxels: 9\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: Larynx\n    Target Grid: Primary\n    Duration: 0.3953 ms\n    Priority: 0\n    Edges: None\n    Voxels: 3\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: commissura_anterior\n    Target Grid: Primary\n    Duration: 0.1809 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: commissura_posterior\n    Target Grid: Primary\n    Duration: 0.0752 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Complete Voxel Scene\n    Voxel Scene Memory Consumption: 0.002876 GB\n    Wall Clock Time: 7.68246 s\n\n[Info]  Visualization Data Memory Consumption: 0.036381 GB\n     Elapsed Time: 0.653698 s\n[Info]  Time step: 5.72711e-12 s\nTerminating study process... \n--- Logging shutdown --- \n--- Logging shutdown --- \n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>This runs through setup, run, and extract phases regardless if the simulation was already done. If you ran tutorial 1, you'll see a warning for this, as this specific simulation has already been run:</p> <p></p> <p>Now check the metadata file:</p> <pre><code>run_bash(\"cat results/far_field/thelonious/700MHz/environmental_theta_x_pos/config.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; cat results/far_field/thelonious/700MHz/environmental_theta_x_pos/config.json\n\n------------------------------------------------------------\n{\n    \"config_hash\": \"4e7840473519f3922962f66b3dc12238937f371428330eb1c65f20cb8e869a9c\",\n    \"config_snapshot\": {\n        \"study_type\": \"far_field\",\n        \"simulation_parameters\": {\n            \"global_auto_termination\": \"GlobalAutoTerminationUserDefined\",\n            \"convergence_level_dB\": -15,\n            \"simulation_time_multiplier\": 3.5,\n            \"number_of_point_sensors\": 2,\n            \"point_source_order\": [\n                \"lower_left_bottom\",\n                \"top_right_up\",\n                \"lower_right_bottom\",\n                \"top_left_up\",\n                \"lower_left_up\",\n                \"top_right_bottom\",\n                \"lower_right_up\",\n                \"top_left_bottom\"\n            ]\n        },\n        \"solver_settings\": {\n            \"kernel\": \"acceleware\",\n            \"server\": \"localhost\",\n            \"boundary_conditions\": {\n                \"type\": \"UpmlCpml\",\n                \"strength\": \"Low\"\n            }\n        },\n        \"manual_isolve\": true,\n        \"gridding_parameters\": {\n            \"global_gridding\": {\n                \"grid_mode\": \"manual\",\n                \"manual_fallback_max_step_mm\": 3.0\n            },\n            \"padding\": {\n                \"padding_mode\": \"automatic\",\n                \"manual_bottom_padding_mm\": [\n                    0,\n                    0,\n                    0\n                ],\n                \"manual_top_padding_mm\": [\n                    0,\n                    0,\n                    0\n                ]\n            }\n        },\n        \"phantom\": \"thelonious\",\n        \"frequency_mhz\": 700,\n        \"far_field_setup\": {\n            \"type\": \"environmental\",\n            \"environmental\": {\n                \"incident_directions\": [\n                    \"x_pos\"\n                ],\n                \"polarizations\": [\n                    \"theta\"\n                ]\n            }\n        }\n    },\n    \"run_done\": true,\n    \"extract_done\": true\n}------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>You'll see:</p> <pre><code>{\n  \"config_hash\": \"a3f2c9d8b1e4...\",\n  \"config_snapshot\": {...},\n  \"run_done\": true,\n  \"extract_done\": true\n}\n</code></pre> <p>Run the same study again. The cache mechanism is on by default.</p> <pre><code>run_bash(\"goliat study tutorial_2_caching.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; goliat study tutorial_2_caching.json\n\n------------------------------------------------------------\nStarting Sim4Life application... \nInitializing Application [stdout]\nInitializing Application [stderr]\n[Warn]  Unable to load module 'C:\\Program Files\\Sim4Life_8.2.0.16876\\MusaikInterface.xdll'\nJosua    : [Info]  Sync\nJosua    : [Info]  Sync\nJosua    : [Info]  Command [Query Handshake] &lt;019781c1-92e8-457c-9020-287f3c637111;127.0.0.1;WIN10-NEW&gt;\nJosua    : [Info]  Property [CAresSettings]\n[Info]  Connection to local Ares successfully established.\nSim4Life application started. \n--- Starting Far-Field Study: tutorial_2_caching.json --- [FarFieldStudy._run_study]\n\n--- Processing Simulation 1/1: thelonious, 700MHz, x_pos, theta --- [FarFieldStudy._run_study]\n--- Starting: setup --- [profile]\nProject path set to: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.create_or_open_project]\nVerified existing project. Status: Setup done, Run done, Extract done [ProjectManager.verify_simulation_metadata]\nProject already done, skipping. [ProjectManager.verify_simulation_metadata]\nVerified existing project. Opening. [ProjectManager.create_or_open_project]\nValidating project file: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.open]\nOpening project with Sim4Life: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash [ProjectManager.open]\nOpening project: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos/far_field_thelonious_700MHz_environmental_theta_x_pos.smash \n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\n--- Simulation-specific progress logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos\\progress.log --- \n--- Simulation-specific verbose logging started: C:/Users/user/repo-clean/results/far_field/thelonious/700MHz/environmental_theta_x_pos\\verbose.log --- \n  - Saved configuration metadata to config.json [ProjectManager.write_simulation_metadata]\nSkipping run phase, deliverables found. [FarFieldStudy._run_single_simulation]\nSkipping extract phase, deliverables found. [FarFieldStudy._run_single_simulation]\n--- Finished: setup (took 12.08s) --- [profile]\n\n--- FarFieldStudy Finished --- [FarFieldStudy.run]\n--- Logging shutdown --- \n--- Logging shutdown --- \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n--- Logging shutdown --- \n--- Logging shutdown --- \n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p></p> <p>GOLIAT checks the hash, finds a match, verifies deliverables exist, and skips the simulation. Instant completion.</p> <pre><code>run_bash(\"goliat study tutorial_2_caching.json\")\n</code></pre> <p>New hash, new simulation. The cache only applies to identical configs.</p> <pre><code>run_bash(\"goliat study tutorial_2_caching.json --no-cache\")\n</code></pre>"},{"location":"tutorials/02_configuration_and_caching/#tutorial-2-configuration-and-caching","title":"Tutorial 2: Configuration and caching","text":"<p>Learn how configs work and how GOLIAT avoids redundant simulations.</p>"},{"location":"tutorials/02_configuration_and_caching/#what-youll-learn","title":"What you'll learn","text":"<ul> <li>How config files extend each other (inheritance)</li> <li>Overriding specific parameters</li> <li>Validating configs before running</li> <li>How GOLIAT knows when to skip completed simulations</li> <li>Using the <code>--no-cache</code> flag</li> </ul> <p>Related documentation: Configuration guide</p>"},{"location":"tutorials/02_configuration_and_caching/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completed tutorial 1 (far-field basics)</li> <li>Basic understanding of JSON files</li> </ul>"},{"location":"tutorials/02_configuration_and_caching/#bash-setup","title":"Bash setup","text":""},{"location":"tutorials/02_configuration_and_caching/#config-inheritance","title":"Config inheritance","text":"<p>GOLIAT uses hierarchical configs. A study-specific config extends a base config, overriding only what's different.</p> <p>This avoids duplicating common settings across every study.</p>"},{"location":"tutorials/02_configuration_and_caching/#the-base-config","title":"The base config","text":"<p>Look at <code>base_config.json</code>:</p>"},{"location":"tutorials/02_configuration_and_caching/#study-configs","title":"Study configs","text":"<p>Now look at <code>far_field_config.json</code>:</p>"},{"location":"tutorials/02_configuration_and_caching/#creating-custom-configs","title":"Creating custom configs","text":"<p>Let's create a custom far-field config that changes just a few things:</p>"},{"location":"tutorials/02_configuration_and_caching/#config-validation","title":"Config validation","text":"<p>Before running a study, validate the config file to catch errors early.</p>"},{"location":"tutorials/02_configuration_and_caching/#the-caching-system","title":"The caching system","text":"<p>GOLIAT tracks completed simulations and skips them on reruns. This saves time when you run a study multiple times (common during development or parameter tuning).</p>"},{"location":"tutorials/02_configuration_and_caching/#how-it-works","title":"How it works","text":"<p>When a simulation completes, GOLIAT writes a <code>config.json</code> metadata file in the results directory. This file contains: - Config hash (SHA256 hash of the simulation-specific config) - Config snapshot (the full simulation-specific config used for this simulation) - Setup timestamp (when setup completed) - Completion flags (which phases finished: run_done, extract_done)</p> <p>Note: The <code>setup_done</code> flag is not stored in the metadata file. Instead, GOLIAT computes it during verification by checking if the <code>.smash</code> project file exists and is valid. The metadata file stores <code>setup_timestamp</code> to track when setup completed.</p> <p>On the next run, GOLIAT: 1. Generates a hash of the current config 2. Checks if a <code>config.json</code> exists in the results directory 3. Compares hashes 4. If they match and deliverables exist, skips the simulation</p> <p>Deliverables for the run phase are <code>_Output.h5</code> file younger than the creation of the setup, and for the extract phase, these are the SAR results files. If these are not present after the phase, something must have gone wrong. Next time you run this simulation, GOLIAT will try again.</p>"},{"location":"tutorials/02_configuration_and_caching/#seeing-it-in-action","title":"Seeing it in action","text":"<p>Run a simple simulation:</p>"},{"location":"tutorials/02_configuration_and_caching/#when-cache-is-invalidated","title":"When cache is invalidated","text":"<p>Change something in the config (add a phantom, change frequency, modify grid settings). The hash changes, so GOLIAT reruns the simulation.</p> <p>Edit <code>tutorial_2_caching.json</code> and change the frequency:</p> <pre><code>{\n  \"frequencies_mhz\": [835]\n}\n</code></pre> <p>Run again:</p>"},{"location":"tutorials/02_configuration_and_caching/#forcing-a-rerun","title":"Forcing a rerun","text":"<p>Sometimes you want to rerun even if the cache says it's done (testing, debugging, or if you suspect bad results). This will redo all three phases.</p> <p>Use the <code>--no-cache</code> flag:</p>"},{"location":"tutorials/02_configuration_and_caching/#what-you-learned","title":"What you learned","text":"<ol> <li>Configs extend parent configs (base \u2192 study \u2192 custom)</li> <li>Override only what's different, inherit the rest</li> <li>Validate configs before running to catch errors</li> <li>GOLIAT uses config hashing to skip completed simulations</li> <li>Metadata tracks what's done (setup, run, extract)</li> <li>Use <code>--no-cache</code> to force reruns when needed</li> </ol>"},{"location":"tutorials/02_configuration_and_caching/#common-config-patterns","title":"Common config patterns","text":"<p>Add more phantoms</p> <pre><code>{\n  \"extends\": \"far_field_config.json\",\n  \"phantoms\": [\"duke\", \"eartha\", \"thelonious\"]\n}\n</code></pre> <p>Change solver kernel to CPU</p> <pre><code>{\n  \"extends\": \"base_config.json\",\n  \"solver_settings\": {\n    \"kernel\": \"software\"\n  }\n}\n</code></pre> <p>Disable GUI for headless runs</p> <pre><code>{\n  \"use_gui\": false\n}\n</code></pre> <p>Run only extract phase (reprocess existing results)</p> <pre><code>{\n  \"execution_control\": {\n    \"do_setup\": false,\n    \"do_run\": false,\n    \"do_extract\": true\n  }\n}\n</code></pre>"},{"location":"tutorials/02_configuration_and_caching/#try-this","title":"Try this","text":"<ol> <li>Create a custom config that extends <code>tutorial_1_far_field.json</code></li> <li>Add 2 more directions (<code>y_pos</code> and <code>y_neg</code>)</li> <li>Validate it</li> <li>Run it</li> <li>Run it again and watch it skip completed sims</li> <li>Change one direction and watch it rerun only new combinations</li> </ol>"},{"location":"tutorials/02_configuration_and_caching/#next-steps","title":"Next steps","text":"<ul> <li>Tutorial 3: Near-field basics (antennas, placements, localized SAR)</li> <li>Configuration guide: All parameters at ../developer_guide/configuration.md</li> <li>Features: Verify and resume details at Full List of Features</li> </ul> <p>Ready for tutorial 3? Learn near-field simulations with antennas.</p>"},{"location":"tutorials/03_near_field_basics/","title":"3. Near-Field Basics","text":"<pre><code>from pathlib import Path\nimport importlib.util\n\np = Path.cwd()\nwhile not (p / \"scripts\" / \"notebook_helpers.py\").exists():\n    p = p.parent\nspec = importlib.util.spec_from_file_location(\"_\", p / \"scripts\" / \"notebook_helpers.py\")\nm = importlib.util.module_from_spec(spec)\nspec.loader.exec_module(m)\nrun_bash = m.get_run_bash()\n\nimport IPython\n\nIPython.core.display.max_output_size = None\n</code></pre> <p>This helper function lets you run bash commands from Python cells using <code>run_bash('command')</code>. The setup also disables output truncation so you can see all command output.</p> <p>If you're using bash directly (recommended), ignore the Python code blocks and just run the commands directly. Make sure to always run <code>source .bashrc</code> first.</p> <pre><code>run_bash(\"cat configs/tutorial_3_near_field.json\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; cat configs/tutorial_3_near_field.json\n\n------------------------------------------------------------\n{\n  \"extends\": \"base_config.json\",\n  \"study_type\": \"near_field\",\n  \"phantoms\": [\"thelonious\"],\n  \"execution_control\": {\n    \"do_setup\": true,\n    \"do_run\": true,\n    \"do_extract\": true\n  },\n  \"simulation_parameters\": {\n    \"number_of_point_sensors\": 2\n  },\n  \"gridding_parameters\": {\n    \"global_gridding\": {\n      \"grid_mode\": \"manual\",\n      \"manual_fallback_max_step_mm\": 3.0\n    },\n    \"global_gridding_per_frequency\": {\n      \"700\": 2.5\n    },\n    \"padding\": {\n      \"padding_mode\": \"manual\",\n      \"manual_bottom_padding_mm\": [0, 0, 0],\n      \"manual_top_padding_mm\": [0, 0, 0]\n    }\n  },\n  \"antenna_config\": {\n    \"700\": {\n      \"center_frequency\": 700,\n      \"target_power_mW\": 267,\n      \"model_type\": \"PIFA\",\n      \"source_name\": \"Lines 1\",\n      \"materials\": {\n        \"Extrude 1\": \"Copper\",\n        \"component1:Battery\": \"Copper\",\n        \"component1:Patch\": \"Copper\",\n        \"component1:ShortingPin\": \"Copper\",\n        \"component1:Substrate\": \"Rogers RT/duroid 5880\"\n      },\n      \"gridding\": {\n        \"automatic\": [\"component1:Substrate\", \"Lines 1\"]\n      }\n    }\n  },\n  \"placement_scenarios\": {\n    \"front_of_eyes\": {\n      \"bounding_box\": \"default\",\n      \"positions\": {\n        \"center\": [0, 0, -100]\n      },\n      \"orientations\": {\n        \"vertical\": []\n      },\n      \"antenna_reference\": {\n        \"distance_from_top\": 10\n      },\n      \"phantom_reference\": \"nasion\"\n    }\n  },\n  \"phantom_definitions\": {\n    \"thelonious\": {\n      \"nasion\": [-1, 0, 0],\n      \"placements\": {\n        \"do_front_of_eyes\": true,\n        \"do_by_belly\": false,\n        \"do_by_cheek\": false,\n        \"distance_from_eye\": 200\n      }\n    }\n  }\n}\n\n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <pre><code>run_bash(\"goliat study tutorial_3_near_field\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; goliat study tutorial_3_near_field\n\n------------------------------------------------------------\nStarting Sim4Life application... \nInitializing Application [stdout]\nInitializing Application [stderr]\n[Warn]  Unable to load module 'C:\\Program Files\\Sim4Life_8.2.0.16876\\MusaikInterface.xdll'\n[Info]  Connection to local Ares successfully established.\nSim4Life application started. \n--- Starting Near-Field Study: tutorial_3_near_field.json --- [NearFieldStudy._run_study]\n\n--- Processing Simulation 1/1: thelonious, 700MHz, front_of_eyes_center_vertical --- [NearFieldStudy._run_study]\n--- Starting: setup --- [profile]\nProject path set to: C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash [ProjectManager.create_or_open_project]\nNo metadata file found at config.json. [ProjectManager.verify_simulation_metadata]\nExisting project is invalid or out of date. A new setup is required. [ProjectManager.create_or_open_project]\n--- Simulation-specific progress logging started: C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical\\progress.log --- \n--- Simulation-specific verbose logging started: C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical\\verbose.log --- \nCreating a new empty project in memory. [ProjectManager.create_new]\nInitializing model by creating and deleting a dummy block... [ProjectManager.create_new]\nModel initialized, ready for population. [ProjectManager.create_new]\n  - Setup simulation... [NearFieldStudy.subtask]\nRunning full simulation setup... [NearFieldSetup.run_full_setup]\n    - Load phantom... [NearFieldSetup.run_full_setup]\n--- Running Phantom Check --- [PhantomSetup._log]\nFound 2 total entities in the project. [PhantomSetup._log]\n--- Phantom Check Result: Phantom not found in project. --- [PhantomSetup._log]\nPhantom not found in document. Importing from 'C:\\Users\\user\\repo-clean\\data\\phantoms\\thelonious.sab'... [PhantomSetup._log]\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nPhantom imported successfully. [PhantomSetup._log]\n      - Subtask 'setup_load_phantom' done in 8.41s [NearFieldSetup.run_full_setup]\n      - Done in 8.41s [NearFieldSetup.run_full_setup]\n    - Configure scene (bboxes, placement, simulation, sensors)... [NearFieldSetup.run_full_setup]\nSetting up bounding boxes... [NearFieldSetup._setup_bounding_boxes]\n  - Head BBox created. [NearFieldSetup._setup_bounding_boxes]\n  - Trunk BBox created. [NearFieldSetup._setup_bounding_boxes]\n--- Starting Placement: front_of_eyes - center - vertical --- [PlacementSetup.place_antenna]\nComposing final transformation... [PlacementSetup.place_antenna]\nApplying final composed transform. [PlacementSetup.place_antenna]\n--- Transformation Sequence Complete --- [PlacementSetup.place_antenna]\n  - Bounding box setting: 'default' [NearFieldSetup._create_simulation_bbox]\n  - Combined BBox created for front_of_eyes_center_vertical. [NearFieldSetup._create_simulation_bbox]\nSetting up simulation entity... [NearFieldSetup._setup_simulation_entity]\n  - Configuring solver settings... [NearFieldSetup._setup_solver_settings]\n    - Solver kernel set to: Acceleware (AXware) [NearFieldSetup._setup_solver_settings]\n  - Using simulation time multiplier: 3.5 [NearFieldSetup._apply_simulation_time_and_termination]\n  - Simulation time set to 4.63 periods. [NearFieldSetup._apply_simulation_time_and_termination]\n  - Setting termination criteria to: GlobalAutoTerminationUserDefined [NearFieldSetup._apply_simulation_time_and_termination]\n    - Convergence level set to: -15 dB [NearFieldSetup._apply_simulation_time_and_termination]\n  - Added point sensor at (-81.86, -50.79, -159.99) (lower_left_bottom) [NearFieldSetup._add_point_sensors]\n  - Added point sensor at (73.39, 325.47, 204.03) (top_right_up) [NearFieldSetup._add_point_sensors]\n      - Subtask 'setup_configure_scene' done in 0.33s [NearFieldSetup.run_full_setup]\n      - Done in 0.33s [NearFieldSetup.run_full_setup]\n    - Assign materials... [NearFieldSetup.run_full_setup]\nAssigning materials... [MaterialSetup.assign_materials]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\n[Info]  \nMass Density has changed from 1000 to 1.2050000000000001\nMass Density has changed from 1.2050000000000001 to 1.2\nRelative Permittivity has changed from 1 to 0\nSimulation : [Warn]  Unable to find any match for following settings properties: Magnetic Conductivity\nSimulation : [Warn]  Unable to find any match for following settings properties: Relative Permeability\nSimulation : [Warn]  Unable to find any match for following settings properties: Mass Density\n  - Assigned 'Copper' to 'Extrude 1'. [MaterialSetup._assign_antenna_materials]\nSimulation : [Warn]  Unable to find any match for following settings properties: Mass Density\n  - Assigned 'Copper' to 'component1:Battery'. [MaterialSetup._assign_antenna_materials]\nSimulation : [Warn]  Unable to find any match for following settings properties: Mass Density\n  - Assigned 'Copper' to 'component1:Patch'. [MaterialSetup._assign_antenna_materials]\nSimulation : [Warn]  Unable to find any match for following settings properties: Mass Density\n  - Assigned 'Copper' to 'component1:ShortingPin'. [MaterialSetup._assign_antenna_materials]\n  - Assigned 'Rogers RT/duroid 5880' to 'component1:Substrate'. [MaterialSetup._assign_antenna_materials]\n      - Subtask 'setup_materials' done in 5.76s [NearFieldSetup.run_full_setup]\n      - Done in 5.76s [NearFieldSetup.run_full_setup]\n    - Configure solver (gridding, boundaries, sources)... [NearFieldSetup.run_full_setup]\nSetting up gridding... [GriddingSetup.setup_gridding]\n  - Looking for global grid bounding box: 'front_of_eyes_center_vertical_simulation_bbox' [GriddingSetup._setup_main_grid]\n  - Using manual gridding. [GriddingSetup._setup_main_grid]\n  - Global and added manual grid set with frequency-specific (700MHz) resolution: 2.5 mm. [GriddingSetup._setup_main_grid]\n  - Using manual padding. [GriddingSetup._setup_main_grid]\n    - Manual padding set: Bottom=[0 0 0]mm, Top=[0 0 0]mm [GriddingSetup._setup_main_grid]\nSetting up boundary conditions... [BoundarySetup.setup_boundary_conditions]\n  - Setting global boundary conditions to: UpmlCpml [BoundarySetup.setup_boundary_conditions]\n    - Successfully set GlobalBoundaryType to UpmlCpml [BoundarySetup.setup_boundary_conditions]\n  - Setting PML strength to: Low [BoundarySetup.setup_boundary_conditions]\n    - Successfully set PmlStrength to Low [BoundarySetup.setup_boundary_conditions]\nSetting up source and sensors... [SourceSetup.setup_source_and_sensors]\n  - Using Harmonic source for phantom simulation. [SourceSetup.setup_source_and_sensors]\n      - Subtask 'setup_solver' done in 0.09s [NearFieldSetup.run_full_setup]\n      - Done in 0.09s [NearFieldSetup.run_full_setup]\n    - Voxelize simulation... [NearFieldSetup.run_full_setup]\n    - Finalizing setup... [NearFieldSetup._finalize_setup]\nSimulation : [Warn]  Some properties for material \"Air\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tongue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Adrenal Gland\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Anterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Vitreous Humor)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Midbrain\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Testis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Air 1\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Blood Vessel Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Epididymis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pineal Body\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Urinary Bladder Wall\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone Marrow (Red)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Gallbladder\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypophysis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (White Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spleen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thymus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Muscle\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hypothalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skin\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Brain (Grey Matter)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bone (Cortical)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Sclera)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tendon\\Ligament\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Medulla)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Medulla Oblongata\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Intervertebral Disc\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Vertebrae\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Lens)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Commissura Posterior\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Eye (Cornea)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Trachea Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pharynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Liver\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Thalamus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Heart Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Large Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Kidney (Cortex)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Stomach\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Fat\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Lung\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Connective Tissue\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pons\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Spinal Cord\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"SAT (Subcutaneous Fat)\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cartilage\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Tooth\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Nerve\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Meniscus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Skull\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Prostate\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Diaphragm\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mucous Membrane\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Larynx\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Mandible\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Small Intestine Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Hippocampus\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebellum\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Penis\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Ureter\\Urethra\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Pancreas\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Esophagus Lumen\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Bronchi\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Cerebrospinal Fluid\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Copper\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Copper 2\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Copper 3\" have been set to their value according to the selected database\nSimulation : [Warn]  Some properties for material \"Copper 4\" have been set to their value according to the selected database\nSaving project to C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\n[Info]  Start voxeling\n[Info]  Topological Voxeler Report: Complete Voxel Scene\n    Voxel Scene Memory Consumption: 0.003806 GB\n    Wall Clock Time: 7.09322 s\n\n[Info]  Voxeling succeeded.\n    - Finalizing setup complete. [NearFieldSetup._finalize_setup]\n      - Subtask 'setup_voxelize' done in 19.31s [NearFieldSetup.run_full_setup]\n      - Done in 19.31s [NearFieldSetup.run_full_setup]\n    - Save project... [NearFieldSetup.run_full_setup]\nSaving project to C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\nProject saved. [ProjectManager.save]\n      - Subtask 'setup_save_project' done in 7.94s [NearFieldSetup.run_full_setup]\n      - Done in 7.94s [NearFieldSetup.run_full_setup]\nFull simulation setup complete. [NearFieldSetup.run_full_setup]\n    - Subtask 'setup_simulation' done in 42.02s [NearFieldStudy.subtask]\n    - Done in 42.02s [NearFieldStudy.subtask]\n  - Saved configuration metadata to config.json [ProjectManager.write_simulation_metadata]\n--- Finished: setup (took 42.06s) --- [profile]\n--- Starting: run --- [profile]\n  - Run simulation total... [NearFieldStudy.subtask]\nRunning simulation: EM_FDTD_thelonious_700MHz_front_of_eyes_center_vertical [SimulationRunner.run]\n    - Write input file... [SimulationRunner.run]\n[Info]  Writing solver input file(s) for EM_FDTD_thelonious_700MHz_front_of_eyes_center_vertical\n[Info]  Writing Rectilinear Discretization to Input File. Elapse Time: 0.373037 s\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved.\n\n      - Subtask 'run_write_input_file' done in 4.95s [SimulationRunner.run]\n      - Done in 4.95s [SimulationRunner.run]\nRunning iSolve with acceleware on 9077bf1a-0b90-4f6d-8181-ed239422c3b6_Input.h5 [SimulationRunner._run_isolve_manual]\n    - Execute iSolve... [SimulationRunner._run_isolve_manual]\n\nReading command line \niSolve X, Version 8.2.0 (16876), 64Bit Windows \n\nRunning MPI version 2.0 on 1 process. \n\n\nSimulation 'EM_FDTD_thelonious_700MHz_front_of_eyes_center_vertical'  \n\nInstalled system RAM visible to this process:  16.0 GB \n\nSolver type: EmFdtd, SinglePrecision, Acceleware \nInput file name: C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash_Results\\9077bf1a-0b90-4f6d-8181-ed239422c3b6_Input.h5 \nInput file generated by: Sim4Life, Version 8.2.0.16876 \nOutput file name: C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash_Results\\9077bf1a-0b90-4f6d-8181-ed239422c3b6_Output.h5 \n\nUsing commercial license features. \nChecking out license feature 'FDTD_SOLVER', version 8.2, (1). \n\nRunning the EM-FDTD solver with the following settings: \nFloating Point Arithmetic: single (4 Bytes) \nHPC: Acceleware \nUsed Acceleware library is '11.4.1.13550 (x64, 64-bit)'. \nYour NVIDIA display driver is newer than the expected version. \nInstalled version: 15.7680 Expected: 15.3667 (see also http://www.acceleware.com/fdtd-11-4-1) \nReduced performance could be encountered. \n\nSimulation Time Step:   8.16961e-13 sec \nSimulation Iterations:  8090 \nMax Simulated Time: 6.60921e-09 sec \n\nGrid: \nNumber of cells: 76x166x160 = 2018560 cells = 2.0186 MCells \nNumber of cells including PML: 92x185x176 = 2995520 cells = 2.9955 MCells \nX: Range [-0.0846985 ... 0.0762301] with minimal 0.000600006 and maximal step 0.00244118 [m] \nY: Range [-0.0576809 ... 0.332357] with minimal 0.00029999 and maximal step 0.00249848 [m] \nZ: Range [-0.166654 ... 0.210697] with minimal 0.000600006 and maximal step 0.00249726 [m] \n\nBoundaries: \nSide X-: ABC (UPML, 8 layers) \nSide X+: ABC (UPML, 8 layers) \nSide Y-: ABC (UPML, 8 layers) \nSide Y+: ABC (UPML, 11 layers) \nSide Z-: ABC (UPML, 8 layers) \nSide Z+: ABC (UPML, 8 layers) \n\nCreated unified material architecture (UMA) model \n\nMaterials (82): \nBackground: dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nTongue  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=0.865626, mu_r=1.000000, sigma_H=0.000000) \nAdrenal_gland  (Thelonious_6y_V6): dielectric (eps_r=50.989008, sigma_E=0.954350, mu_r=1.000000, sigma_H=0.000000) \ncomponent1:Patch  (Antenna 700 MHz (front_of_eyes_center_vertical)): lossy metal (eps_r=1.000000, sigma_E=58130000.000000, mu_r=1.000000, sigma_H=0.000000) \nStomach_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \ncommissura_anterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nEye_vitreous_humor  (Thelonious_6y_V6): dielectric (eps_r=68.947390, sigma_E=1.583627, mu_r=1.000000, sigma_H=0.000000) \nVein  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nMidbrain  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nTestis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nAir_internal  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBlood_vessel  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nEpididymis  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nPinealbody  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBladder  (Thelonious_6y_V6): dielectric (eps_r=19.149003, sigma_E=0.358399, mu_r=1.000000, sigma_H=0.000000) \nMarrow_red  (Thelonious_6y_V6): dielectric (eps_r=11.451933, sigma_E=0.207759, mu_r=1.000000, sigma_H=0.000000) \nGallbladder  (Thelonious_6y_V6): dielectric (eps_r=59.551663, sigma_E=1.202528, mu_r=1.000000, sigma_H=0.000000) \nHypophysis  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nBrain_white_matter  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nSpleen  (Thelonious_6y_V6): dielectric (eps_r=58.688546, sigma_E=1.175182, mu_r=1.000000, sigma_H=0.000000) \nExtrude 1  (Antenna 700 MHz (front_of_eyes_center_vertical)): lossy metal (eps_r=1.000000, sigma_E=58130000.000000, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nThymus  (Thelonious_6y_V6): dielectric (eps_r=55.600852, sigma_E=1.115237, mu_r=1.000000, sigma_H=0.000000) \nTrachea  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nHeart_muscle  (Thelonious_6y_V6): dielectric (eps_r=61.478559, sigma_E=1.125021, mu_r=1.000000, sigma_H=0.000000) \nMuscle  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nHypothalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nArtery  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nSkin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nBrain_grey_matter  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nPatella  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_Sclera  (Thelonious_6y_V6): dielectric (eps_r=55.907533, sigma_E=1.096154, mu_r=1.000000, sigma_H=0.000000) \nTendon_Ligament  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \nKidney_medulla  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \ncomponent1:Battery  (Antenna 700 MHz (front_of_eyes_center_vertical)): lossy metal (eps_r=1.000000, sigma_E=58130000.000000, mu_r=1.000000, sigma_H=0.000000) \nMedulla_oblongata  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nEsophagus  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nIntervertebral_disc  (Thelonious_6y_V6): dielectric (eps_r=44.418065, sigma_E=1.041108, mu_r=1.000000, sigma_H=0.000000) \nVertebrae  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nEye_lens  (Thelonious_6y_V6): dielectric (eps_r=36.279018, sigma_E=0.435952, mu_r=1.000000, sigma_H=0.000000) \ncommissura_posterior  (Thelonious_6y_V6): dielectric (eps_r=39.695046, sigma_E=0.531363, mu_r=1.000000, sigma_H=0.000000) \nCornea  (Thelonious_6y_V6): dielectric (eps_r=56.275669, sigma_E=1.311407, mu_r=1.000000, sigma_H=0.000000) \nTrachea_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPharynx  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nLiver  (Thelonious_6y_V6): dielectric (eps_r=47.963211, sigma_E=0.773986, mu_r=1.000000, sigma_H=0.000000) \nThalamus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nHeart_lumen  (Thelonious_6y_V6): dielectric (eps_r=62.103070, sigma_E=1.455938, mu_r=1.000000, sigma_H=0.000000) \nLarge_intestine  (Thelonious_6y_V6): dielectric (eps_r=59.134765, sigma_E=0.989502, mu_r=1.000000, sigma_H=0.000000) \nKidney_cortex  (Thelonious_6y_V6): dielectric (eps_r=60.631926, sigma_E=1.277659, mu_r=1.000000, sigma_H=0.000000) \nStomach  (Thelonious_6y_V6): dielectric (eps_r=65.714765, sigma_E=1.105511, mu_r=1.000000, sigma_H=0.000000) \nFat  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nLung  (Thelonious_6y_V6): dielectric (eps_r=22.460437, sigma_E=0.423425, mu_r=1.000000, sigma_H=0.000000) \nConnective_tissue  (Thelonious_6y_V6): dielectric (eps_r=46.258918, sigma_E=0.645211, mu_r=1.000000, sigma_H=0.000000) \ncomponent1:Substrate  (Antenna 700 MHz (front_of_eyes_center_vertical)): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPons  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nSpinal_cord  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nSAT  (Thelonious_6y_V6): dielectric (eps_r=11.423242, sigma_E=0.096238, mu_r=1.000000, sigma_H=0.000000) \nEar_cartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nTeeth  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nNerve  (Thelonious_6y_V6): dielectric (eps_r=33.263358, sigma_E=0.522929, mu_r=1.000000, sigma_H=0.000000) \nEar_skin  (Thelonious_6y_V6): dielectric (eps_r=42.697659, sigma_E=0.799975, mu_r=1.000000, sigma_H=0.000000) \nMeniscus  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nSkull  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nProstate  (Thelonious_6y_V6): dielectric (eps_r=61.295609, sigma_E=1.130577, mu_r=1.000000, sigma_H=0.000000) \nDiaphragm  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nBone  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nMucosa  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine  (Thelonious_6y_V6): dielectric (eps_r=61.138364, sigma_E=2.062163, mu_r=1.000000, sigma_H=0.000000) \nLarynx  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nMandible  (Thelonious_6y_V6): dielectric (eps_r=12.662775, sigma_E=0.120578, mu_r=1.000000, sigma_H=0.000000) \nSmall_intestine_lumen  (Thelonious_6y_V6): dielectric (eps_r=55.587038, sigma_E=0.878895, mu_r=1.000000, sigma_H=0.000000) \nCartilage  (Thelonious_6y_V6): dielectric (eps_r=43.455463, sigma_E=0.697055, mu_r=1.000000, sigma_H=0.000000) \nHippocampus  (Thelonious_6y_V6): dielectric (eps_r=53.898662, sigma_E=0.859642, mu_r=1.000000, sigma_H=0.000000) \nCerebellum  (Thelonious_6y_V6): dielectric (eps_r=51.031533, sigma_E=1.173295, mu_r=1.000000, sigma_H=0.000000) \nPenis  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \ncomponent1:ShortingPin  (Antenna 700 MHz (front_of_eyes_center_vertical)): lossy metal (eps_r=1.000000, sigma_E=58130000.000000, mu_r=1.000000, sigma_H=0.000000) \nUreter_Urethra  (Thelonious_6y_V6): dielectric (eps_r=45.325498, sigma_E=0.637236, mu_r=1.000000, sigma_H=0.000000) \nBronchi_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nPancreas  (Thelonious_6y_V6): dielectric (eps_r=60.201963, sigma_E=0.966322, mu_r=1.000000, sigma_H=0.000000) \nEsophagus_lumen  (Thelonious_6y_V6): dielectric (eps_r=1.000000, sigma_E=0.000000, mu_r=1.000000, sigma_H=0.000000) \nBronchi  (Thelonious_6y_V6): dielectric (eps_r=42.588287, sigma_E=0.713502, mu_r=1.000000, sigma_H=0.000000) \nCerebrospinal_fluid  (Thelonious_6y_V6): dielectric (eps_r=69.157589, sigma_E=2.338250, mu_r=1.000000, sigma_H=0.000000) \n\nLumped Elements (1): \nInitializing lumped element Lines 1  (Antenna 700 MHz (front_of_eyes_center_vertical)) (1 edge(s)) (Resistor, 50 ohm) \n\nHost OS: Microsoft Windows 10 Professional 64-bit (Build 9200) \nHost CPU: AMD EPYC 7542 32-Core Processor \nHost memory: 16379 MB \nThe following Accelerators have been detected: \nNVIDIA GeForce RTX 4090 (device ID = 0), compute capability 8.9, total memory 24563 MB \n\n\nSensors (4): \nInitializing path sensor Lines 1  (Antenna 700 MHz (front_of_eyes_center_vertical)). \nHarmonic steady state settings for Lines 1  (Antenna 700 MHz (front_of_eyes_center_vertical)): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.85936e-11, convergence level = -15 dB. \nInitializing field sensor Overall Field. \nInitializing point sensor Point Sensor Entity 1 (lower_left_bottom). \nAveraging setup for point sensor Point Sensor Entity 1 (lower_left_bottom): \nE-Field: \nX: 8 edges used for recording. \nY: 8 edges used for recording. \nZ: 8 edges used for recording. \nH-Field: \nX: 8 edges used for recording. \nY: 8 edges used for recording. \nZ: 8 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 1 (lower_left_bottom): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.85936e-11, convergence level = -15 dB. \nInitializing point sensor Point Sensor Entity 2 (top_right_up). \nAveraging setup for point sensor Point Sensor Entity 2 (top_right_up): \nE-Field: \nX: 8 edges used for recording. \nY: 8 edges used for recording. \nZ: 8 edges used for recording. \nH-Field: \nX: 8 edges used for recording. \nY: 8 edges used for recording. \nZ: 8 edges used for recording. \nHarmonic steady state settings for Point Sensor Entity 2 (top_right_up): ema-factor-per-period = 0.8, ema factor across check point 0.894427, frequency = 7e+08, recording time step = 2.85936e-11, convergence level = -15 dB. \nUsing DFT to convert to frequency domain. \n\nSources (1): \nInitializing edge source Lines 1  (Antenna 700 MHz (front_of_eyes_center_vertical)) (amplitude 1, time shift0, type voltage, excitation id e2220022-6e80-44a2-a40e-20de7c605e77). \nExcitation signal: Harmonic signal with frequency 700 MHz and ramp time 2.14286 ns \n\nUpdate coefficient calculation for 12265770 edges using 3 threads. \nCalculating update coefficients \n\n\nEdge-Material Statistics (Electric/Magnetic): \n6158750 / 6107016    (100.00% / 100.00%) : Total \n6141150 / 6083739    ( 99.71% /  99.62%) : Dielectric \n17600 /   23277      (  0.29% /   0.38%) : Lossy Metal \n\nEdge-Region Statistics (regions with more than 1% of all edges, max 20 items): \n4571553 / 4548441    ( 74.23% /  74.48%) : Background \n202588 /  240362     (  3.29% /   3.94%) : Muscle  (Thelonious_6y_V6) \n193767 /  203606     (  3.15% /   3.33%) : Lung  (Thelonious_6y_V6) \n96336 /  132166      (  1.56% /   2.16%) : Brain_grey_matter  (Thelonious_6y_V6) \n52688 /   70953      (  0.86% /   1.16%) : Brain_white_matter  (Thelonious_6y_V6) \n372840 /  527412     (  6.05% /   8.64%) : Other \n668978 /  384076     ( 10.86% /   6.29%) : Averaged \n\n\nUpdate coefficient database contains 10798 E-coefficient(s) and 23 H-coefficient(s). \nElapsed time for 'Calculating update coefficients' was 00:00:02 wall clock time. \nPreparing for time update \nUse hardware resource management option fastest simulation \nChecking out license feature 'AXWARE_TOKEN', version 8.2, (1). \n[PROGRESS]: 25% [ 25 / 100 ] Preparing for time update \nSimulation 1 is using device(s): [0] \nElapsed time for 'Preparing for time update' was 00:00:03 wall clock time. \nStarting solver aXware (hardware accelerated). \nTime Update \n[PROGRESS]: 0% [ 10 / 8090 ] Time Update, estimated remaining time 3 minutes  @ 134.68 MCells/s \n[PROGRESS]: 13% [ 1131 / 8090 ] Time Update, estimated remaining time 13 seconds  @ 1610.56 MCells/s \n[PROGRESS]: 27% [ 2252 / 8090 ] Time Update, estimated remaining time 11 seconds  @ 1650.20 MCells/s \n[PROGRESS]: 41% [ 3373 / 8090 ] Time Update, estimated remaining time 9 seconds  @ 1652.52 MCells/s \n[PROGRESS]: 55% [ 4494 / 8090 ] Time Update, estimated remaining time 7 seconds  @ 1656.56 MCells/s \n[PROGRESS]: 69% [ 5615 / 8090 ] Time Update, estimated remaining time 5 seconds  @ 1632.63 MCells/s \n[PROGRESS]: 83% [ 6736 / 8090 ] Time Update, estimated remaining time 2 seconds  @ 1656.96 MCells/s \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 1 to check conventional convergence. \nPoint Sensor Entity 1 (lower_left_bottom): Choosing component 4 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 1 to check conventional convergence. \nPoint Sensor Entity 2 (top_right_up): Choosing component 5 to check conventional convergence. \n[PROGRESS]: 95% [ 7697 / 8090 ] Time Update, estimated remaining time 1 seconds  @ 1174.38 MCells/s \nSimulation performed 8090 iterations. \nElapsed time for 'Time Update' was 00:00:17 wall clock time. \n\nPost-process Sensors \nPost-process sensor 'Lines 1  (Antenna 700 MHz (front_of_eyes_center_vertical))' \nPost-process sensor 'Overall Field' \nPost-process sensor 'Point Sensor Entity 1 (lower_left_bottom)' \nPost-process sensor 'Point Sensor Entity 2 (top_right_up)' \nTrusted frequency is 700 MHz. Expect less accurate results outside. \nElapsed time for 'Post-process Sensors' was 00:00:00 wall clock time. \nFDTD simulation finished successfully. \n\nSimulation 'EM_FDTD_thelonious_700MHz_front_of_eyes_center_vertical' has ended successfully and took 00:00:32 wall clock time \nNo compression of solver files requested \nReleased license feature 'AXWARE_TOKEN'. \nReleased license feature 'FDTD_SOLVER'. \nPeak CPU memory usage: 971.7 MB (1018908672 Bytes) \niSolve ended successfully. \n      - Subtask 'run_isolve_execution' done in 32.67s [SimulationRunner._run_isolve_manual]\n      - Done in 32.67s [SimulationRunner._run_isolve_manual]\n    - Wait for results... [SimulationRunner._run_isolve_manual]\n      - Subtask 'run_wait_for_results' done in 5.03s [SimulationRunner._run_isolve_manual]\n      - Done in 5.03s [SimulationRunner._run_isolve_manual]\n    - Reload project... [SimulationRunner._run_isolve_manual]\nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\nOpening project: C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash \n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\n      - Subtask 'run_reload_project' done in 11.88s [SimulationRunner._run_isolve_manual]\n      - Done in 11.88s [SimulationRunner._run_isolve_manual]\nProject reloaded and results are available. [SimulationRunner._run_isolve_manual]\n    - Subtask 'run_simulation_total' done in 54.61s [NearFieldStudy.subtask]\n    - Done in 54.61s [NearFieldStudy.subtask]\nRun deliverables verified. Updating metadata. [NearFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\n--- Finished: run (took 54.69s) --- [profile]\n--- Starting: extract --- [profile]\nRun deliverables verified. Proceeding with extraction. [NearFieldStudy._verify_run_deliverables_before_extraction]\nValidating project file: C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash [ProjectManager.open]\nOpening project with Sim4Life: C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash [ProjectManager.open]\nOpening project: C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  Checking out license feature 'MODEL_THELONIOUS', version 1.0, (1).\nLicense  : [Info]  Acquired [ MODEL_THELONIOUS 1.0 ]\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nModeler  : [Warn]  No exact match found for SkullNot changing colors.\nProject reloaded. [ProjectManager.reload_project]\n  - Extract results total... [NearFieldStudy.subtask]\n    - Extract input power... [PowerExtractor.extract_input_power]\n  - GetPower() not available, falling back to manual extraction. [PowerExtractor._extract_near_field_power]\n      - Subtask 'extract_input_power' done in 3.78s [PowerExtractor.extract_input_power]\n      - Done in 3.78s [PowerExtractor.extract_input_power]\n    - Extract SAR statistics... [SarExtractor.extract_sar_statistics]\n  - Loading tissue groups for 'thelonious' from material_name_mapping.json [SarExtractor._define_tissue_groups]\n  - Extracting peak SAR details... [SarExtractor.extract_peak_sar_details]\n      - Subtask 'extract_sar_statistics' done in 7.03s [SarExtractor.extract_sar_statistics]\n      - Done in 7.03s [SarExtractor.extract_sar_statistics]\n    - Extract power balance... [PowerExtractor.extract_power_balance]\n    - Final Balance: 22.90% [PowerExtractor.extract_power_balance]\n      - Subtask 'extract_power_balance' done in 2.23s [PowerExtractor.extract_power_balance]\n      - Done in 2.23s [PowerExtractor.extract_power_balance]\n    - Extract point sensors... [SensorExtractor.extract_point_sensor_data]\n  - Point sensor plot saved to: C:\\Users\\user\\repo-clean\\results\\near_field\\thelonious\\700MHz\\front_of_eyes_center_vertical\\point_sensor_data.png [SensorExtractor._save_plot]\n      - Subtask 'extract_point_sensor_data' done in 0.55s [SensorExtractor.extract_point_sensor_data]\n      - Done in 0.55s [SensorExtractor.extract_point_sensor_data]\n  - Pickle report saved to: C:\\Users\\user\\repo-clean\\results\\near_field\\thelonious\\700MHz\\front_of_eyes_center_vertical\\sar_stats_all_tissues.pkl [Reporter._save_pickle_report]\n  - HTML report saved to: C:\\Users\\user\\repo-clean\\results\\near_field\\thelonious\\700MHz\\front_of_eyes_center_vertical\\sar_stats_all_tissues.html [Reporter._save_html_report]\n  - SAR results saved to: C:\\Users\\user\\repo-clean\\results\\near_field\\thelonious\\700MHz\\front_of_eyes_center_vertical\\sar_results.json [ResultsExtractor._save_json_results]\n    - Subtask 'extract_results_total' done in 13.80s [NearFieldStudy.subtask]\n    - Done in 13.80s [NearFieldStudy.subtask]\nExtract deliverables verified. Updating metadata. [NearFieldStudy._verify_and_update_metadata]\nUpdated metadata in config.json [ProjectManager.update_simulation_metadata]\nSaving project to C:/Users/user/repo-clean/results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/near_field_thelonious_700MHz_front_of_eyes_center_vertical.smash... [ProjectManager.save]\n[Info]  Document produced by Sim4Life version 8.2.0.16876\n[Info]  There have been no model changes since the last time was saved. \n\nProject saved. [ProjectManager.save]\n--- Finished: extract (took 30.59s) --- [profile]\n\n--- NearFieldStudy Finished --- [NearFieldStudy.run]\n--- Logging shutdown --- \n--- Logging shutdown --- \nLicense  : [Info]  Released [ MODEL_THELONIOUS 1.0 ]\n[Info]  Topological Voxeler Report: Muscle\n    Target Grid: Primary\n    Duration: 2038.02 ms\n    Priority: 0\n    Edges: None\n    Voxels: 96103\n    Memory Consumption: 0.084938 kB\n\n[Info]  Topological Voxeler Report: Skin\n    Target Grid: Primary\n    Duration: 2043.38 ms\n    Priority: 0\n    Edges: None\n    Voxels: 21508\n    Memory Consumption: 0.123222 kB\n\n[Info]  Topological Voxeler Report: SAT\n    Target Grid: Primary\n    Duration: 1909.36 ms\n    Priority: 0\n    Edges: None\n    Voxels: 24985\n    Memory Consumption: 0.121010 kB\n\n[Info]  Topological Voxeler Report: Fat\n    Target Grid: Primary\n    Duration: 1916.99 ms\n    Priority: 0\n    Edges: None\n    Voxels: 23715\n    Memory Consumption: 0.083389 kB\n\n[Info]  Topological Voxeler Report: Brain_grey_matter\n    Target Grid: Primary\n    Duration: 660.133 ms\n    Priority: 0\n    Edges: None\n    Voxels: 55992\n    Memory Consumption: 0.024544 kB\n\n[Info]  Topological Voxeler Report: Connective_tissue\n    Target Grid: Primary\n    Duration: 677.102 ms\n    Priority: 0\n    Edges: None\n    Voxels: 12933\n    Memory Consumption: 0.046371 kB\n\n[Info]  Topological Voxeler Report: Bone\n    Target Grid: Primary\n    Duration: 529.629 ms\n    Priority: 0\n    Edges: None\n    Voxels: 9017\n    Memory Consumption: 0.044350 kB\n\n[Info]  Topological Voxeler Report: Cerebrospinal_fluid\n    Target Grid: Primary\n    Duration: 585.837 ms\n    Priority: 0\n    Edges: None\n    Voxels: 14690\n    Memory Consumption: 0.088646 kB\n\n[Info]  Topological Voxeler Report: Brain_white_matter\n    Target Grid: Primary\n    Duration: 347.053 ms\n    Priority: 0\n    Edges: None\n    Voxels: 30817\n    Memory Consumption: 0.019691 kB\n\n[Info]  Topological Voxeler Report: Skull\n    Target Grid: Primary\n    Duration: 490.03 ms\n    Priority: 0\n    Edges: None\n    Voxels: 20263\n    Memory Consumption: 0.036324 kB\n\n[Info]  Topological Voxeler Report: Tendon_Ligament\n    Target Grid: Primary\n    Duration: 228.936 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2012\n    Memory Consumption: 0.021988 kB\n\n[Info]  Topological Voxeler Report: Large_intestine\n    Target Grid: Primary\n    Duration: 237.051 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Vertebrae\n    Target Grid: Primary\n    Duration: 223.899 ms\n    Priority: 0\n    Edges: None\n    Voxels: 7548\n    Memory Consumption: 0.012505 kB\n\n[Info]  Topological Voxeler Report: Lung\n    Target Grid: Primary\n    Duration: 181.668 ms\n    Priority: 0\n    Edges: None\n    Voxels: 71680\n    Memory Consumption: 0.026184 kB\n\n[Info]  Topological Voxeler Report: Marrow_red\n    Target Grid: Primary\n    Duration: 155.288 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4559\n    Memory Consumption: 0.029617 kB\n\n[Info]  Topological Voxeler Report: Artery\n    Target Grid: Primary\n    Duration: 119.946 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2101\n    Memory Consumption: 0.043495 kB\n\n[Info]  Topological Voxeler Report: Large_intestine_lumen\n    Target Grid: Primary\n    Duration: 102.014 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Vein\n    Target Grid: Primary\n    Duration: 98.1659 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1338\n    Memory Consumption: 0.020744 kB\n\n[Info]  Topological Voxeler Report: Air_internal\n    Target Grid: Primary\n    Duration: 79.1533 ms\n    Priority: 0\n    Edges: None\n    Voxels: 3390\n    Memory Consumption: 0.007278 kB\n\n[Info]  Topological Voxeler Report: Diaphragm\n    Target Grid: Primary\n    Duration: 88.8875 ms\n    Priority: 0\n    Edges: None\n    Voxels: 8314\n    Memory Consumption: 0.008522 kB\n\n[Info]  Topological Voxeler Report: Liver\n    Target Grid: Primary\n    Duration: 78.388 ms\n    Priority: 0\n    Edges: None\n    Voxels: 18313\n    Memory Consumption: 0.005272 kB\n\n[Info]  Topological Voxeler Report: Stomach\n    Target Grid: Primary\n    Duration: 87.828 ms\n    Priority: 0\n    Edges: None\n    Voxels: 5411\n    Memory Consumption: 0.002693 kB\n\n[Info]  Topological Voxeler Report: Nerve\n    Target Grid: Primary\n    Duration: 87.9098 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1451\n    Memory Consumption: 0.023468 kB\n\n[Info]  Topological Voxeler Report: Mucosa\n    Target Grid: Primary\n    Duration: 60.5404 ms\n    Priority: 0\n    Edges: None\n    Voxels: 329\n    Memory Consumption: 0.003487 kB\n\n[Info]  Topological Voxeler Report: Cartilage\n    Target Grid: Primary\n    Duration: 80.1576 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2561\n    Memory Consumption: 0.037788 kB\n\n[Info]  Topological Voxeler Report: Cerebellum\n    Target Grid: Primary\n    Duration: 53.6068 ms\n    Priority: 0\n    Edges: None\n    Voxels: 12280\n    Memory Consumption: 0.004150 kB\n\n[Info]  Topological Voxeler Report: Intervertebral_disc\n    Target Grid: Primary\n    Duration: 57.954 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1606\n    Memory Consumption: 0.003365 kB\n\n[Info]  Topological Voxeler Report: Blood_vessel\n    Target Grid: Primary\n    Duration: 78.8028 ms\n    Priority: 0\n    Edges: None\n    Voxels: 558\n    Memory Consumption: 0.036507 kB\n\n[Info]  Topological Voxeler Report: Kidney_cortex\n    Target Grid: Primary\n    Duration: 56.6828 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Heart_muscle\n    Target Grid: Primary\n    Duration: 50.9975 ms\n    Priority: 0\n    Edges: None\n    Voxels: 18049\n    Memory Consumption: 0.006874 kB\n\n[Info]  Topological Voxeler Report: Mandible\n    Target Grid: Primary\n    Duration: 36.7393 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1424\n    Memory Consumption: 0.003334 kB\n\n[Info]  Topological Voxeler Report: Small_intestine\n    Target Grid: Primary\n    Duration: 46.2618 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Spleen\n    Target Grid: Primary\n    Duration: 31.4035 ms\n    Priority: 0\n    Edges: None\n    Voxels: 4755\n    Memory Consumption: 0.002098 kB\n\n[Info]  Topological Voxeler Report: Stomach_lumen\n    Target Grid: Primary\n    Duration: 35.5623 ms\n    Priority: 0\n    Edges: None\n    Voxels: 6396\n    Memory Consumption: 0.001488 kB\n\n[Info]  Topological Voxeler Report: Kidney_medulla\n    Target Grid: Primary\n    Duration: 23.0735 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Ear_skin\n    Target Grid: Primary\n    Duration: 25.8537 ms\n    Priority: 0\n    Edges: None\n    Voxels: 745\n    Memory Consumption: 0.003128 kB\n\n[Info]  Topological Voxeler Report: Tongue\n    Target Grid: Primary\n    Duration: 13.7742 ms\n    Priority: 0\n    Edges: None\n    Voxels: 2533\n    Memory Consumption: 688 bytes\n\n[Info]  Topological Voxeler Report: Esophagus\n    Target Grid: Primary\n    Duration: 21.3608 ms\n    Priority: 0\n    Edges: None\n    Voxels: 540\n    Memory Consumption: 0.003250 kB\n\n[Info]  Topological Voxeler Report: Thymus\n    Target Grid: Primary\n    Duration: 15.869 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1942\n    Memory Consumption: 0.001389 kB\n\n[Info]  Topological Voxeler Report: Spinal_cord\n    Target Grid: Primary\n    Duration: 22.8303 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1522\n    Memory Consumption: 0.002632 kB\n\n[Info]  Topological Voxeler Report: Trachea\n    Target Grid: Primary\n    Duration: 23.102 ms\n    Priority: 0\n    Edges: None\n    Voxels: 376\n    Memory Consumption: 0.001137 kB\n\n[Info]  Topological Voxeler Report: Teeth\n    Target Grid: Primary\n    Duration: 26.1998 ms\n    Priority: 0\n    Edges: None\n    Voxels: 371\n    Memory Consumption: 760 bytes\n\n[Info]  Topological Voxeler Report: Eye_Sclera\n    Target Grid: Primary\n    Duration: 11.7457 ms\n    Priority: 0\n    Edges: None\n    Voxels: 377\n    Memory Consumption: 520 bytes\n\n[Info]  Topological Voxeler Report: Ear_cartilage\n    Target Grid: Primary\n    Duration: 12.4414 ms\n    Priority: 0\n    Edges: None\n    Voxels: 262\n    Memory Consumption: 0.002754 kB\n\n[Info]  Topological Voxeler Report: Thalamus\n    Target Grid: Primary\n    Duration: 8.8514 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1208\n    Memory Consumption: 368 bytes\n\n[Info]  Topological Voxeler Report: Small_intestine_lumen\n    Target Grid: Primary\n    Duration: 13.6083 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Bladder\n    Target Grid: Primary\n    Duration: 10.797 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Pancreas\n    Target Grid: Primary\n    Duration: 9.436 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Esophagus_lumen\n    Target Grid: Primary\n    Duration: 8.4816 ms\n    Priority: 0\n    Edges: None\n    Voxels: 243\n    Memory Consumption: 0.001625 kB\n\n[Info]  Topological Voxeler Report: Meniscus\n    Target Grid: Primary\n    Duration: 8.7346 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Penis\n    Target Grid: Primary\n    Duration: 7.9636 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Trachea_lumen\n    Target Grid: Primary\n    Duration: 7.7146 ms\n    Priority: 0\n    Edges: None\n    Voxels: 544\n    Memory Consumption: 1016 bytes\n\n[Info]  Topological Voxeler Report: Pons\n    Target Grid: Primary\n    Duration: 5.1731 ms\n    Priority: 0\n    Edges: None\n    Voxels: 824\n    Memory Consumption: 248 bytes\n\n[Info]  Topological Voxeler Report: Eye_vitreous_humor\n    Target Grid: Primary\n    Duration: 6.2173 ms\n    Priority: 0\n    Edges: None\n    Voxels: 939\n    Memory Consumption: 384 bytes\n\n[Info]  Topological Voxeler Report: Midbrain\n    Target Grid: Primary\n    Duration: 5.4243 ms\n    Priority: 0\n    Edges: None\n    Voxels: 510\n    Memory Consumption: 176 bytes\n\n[Info]  Topological Voxeler Report: Gallbladder\n    Target Grid: Primary\n    Duration: 6.1489 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Heart_lumen\n    Target Grid: Primary\n    Duration: 5.5531 ms\n    Priority: 0\n    Edges: None\n    Voxels: 526\n    Memory Consumption: 280 bytes\n\n[Info]  Topological Voxeler Report: Pharynx\n    Target Grid: Primary\n    Duration: 3.1245 ms\n    Priority: 0\n    Edges: None\n    Voxels: 97\n    Memory Consumption: 80 bytes\n\n[Info]  Topological Voxeler Report: Medulla_oblongata\n    Target Grid: Primary\n    Duration: 2.9105 ms\n    Priority: 0\n    Edges: None\n    Voxels: 359\n    Memory Consumption: 168 bytes\n\n[Info]  Topological Voxeler Report: Hippocampus\n    Target Grid: Primary\n    Duration: 3.1725 ms\n    Priority: 0\n    Edges: None\n    Voxels: 178\n    Memory Consumption: 120 bytes\n\n[Info]  Topological Voxeler Report: Prostate\n    Target Grid: Primary\n    Duration: 3.582 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Adrenal_gland\n    Target Grid: Primary\n    Duration: 3.8691 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Bronchi\n    Target Grid: Primary\n    Duration: 2.881 ms\n    Priority: 0\n    Edges: None\n    Voxels: 68\n    Memory Consumption: 64 bytes\n\n[Info]  Topological Voxeler Report: Testis\n    Target Grid: Primary\n    Duration: 2.9861 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Patella\n    Target Grid: Primary\n    Duration: 4.0883 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Ureter_Urethra\n    Target Grid: Primary\n    Duration: 3.7368 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: component1:Substrate\n    Target Grid: Primary\n    Duration: 9.8476 ms\n    Priority: 0\n    Edges: None\n    Voxels: 8412\n    Memory Consumption: 0.001396 kB\n\n[Info]  Topological Voxeler Report: Extrude 1\n    Target Grid: Primary\n    Duration: 17.8383 ms\n    Priority: 0\n    Edges: 4319\n    Voxels: None\n    Memory Consumption: 752 bytes\n\n[Info]  Topological Voxeler Report: Bronchi_lumen\n    Target Grid: Primary\n    Duration: 1.5447 ms\n    Priority: 0\n    Edges: None\n    Voxels: 40\n    Memory Consumption: 40 bytes\n\n[Info]  Topological Voxeler Report: component1:Battery\n    Target Grid: Primary\n    Duration: 11.3133 ms\n    Priority: 0\n    Edges: 12000\n    Voxels: 3268\n    Memory Consumption: 0.001846 kB\n\n[Info]  Topological Voxeler Report: Cornea\n    Target Grid: Primary\n    Duration: 1.454 ms\n    Priority: 0\n    Edges: None\n    Voxels: 33\n    Memory Consumption: 56 bytes\n\n[Info]  Topological Voxeler Report: Hypothalamus\n    Target Grid: Primary\n    Duration: 1.0686 ms\n    Priority: 0\n    Edges: None\n    Voxels: 45\n    Memory Consumption: 24 bytes\n\n[Info]  Topological Voxeler Report: Epididymis\n    Target Grid: Primary\n    Duration: 1.5807 ms\n    Priority: 0\n    Edges: None\n    Voxels: None\n    Memory Consumption: 0 bytes\n\n[Info]  Topological Voxeler Report: Eye_lens\n    Target Grid: Primary\n    Duration: 0.7881 ms\n    Priority: 0\n    Edges: None\n    Voxels: 28\n    Memory Consumption: 40 bytes\n\n[Info]  Topological Voxeler Report: Hypophysis\n    Target Grid: Primary\n    Duration: 0.496 ms\n    Priority: 0\n    Edges: None\n    Voxels: 18\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: Pinealbody\n    Target Grid: Primary\n    Duration: 0.473 ms\n    Priority: 0\n    Edges: None\n    Voxels: 16\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: component1:ShortingPin\n    Target Grid: Primary\n    Duration: 0.9927 ms\n    Priority: 0\n    Edges: 59\n    Voxels: 8\n    Memory Consumption: 32 bytes\n\n[Info]  Topological Voxeler Report: Larynx\n    Target Grid: Primary\n    Duration: 0.2878 ms\n    Priority: 0\n    Edges: None\n    Voxels: 7\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: commissura_anterior\n    Target Grid: Primary\n    Duration: 0.1882 ms\n    Priority: 0\n    Edges: None\n    Voxels: 3\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: commissura_posterior\n    Target Grid: Primary\n    Duration: 0.0682 ms\n    Priority: 0\n    Edges: None\n    Voxels: 1\n    Memory Consumption: 8 bytes\n\n[Info]  Topological Voxeler Report: component1:Patch\n    Target Grid: Primary\n    Duration: 5.3291 ms\n    Priority: 0\n    Edges: 1298\n    Voxels: None\n    Memory Consumption: 176 bytes\n\n[Info]  Topological Voxeler Report: Complete Voxel Scene\n    Voxel Scene Memory Consumption: 0.003806 GB\n    Wall Clock Time: 7.09322 s\n\n[Info]  Visualization Data Memory Consumption: 0.023711 GB\n     Elapsed Time: 0.446288 s\n[Info]  Time step: 8.16961e-13 s\n--- Logging shutdown --- \n--- Logging shutdown --- \n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>The GUI opens and shows progress through three phases:</p> <p>Setup phase (1-2 minutes): - Create project directory - Import phantom model (thelonious) - Import antenna CAD model - Place antenna at nasion landmark, and lower this by 100 mm. - Apply material properties - Configure simulation boundaries - Set up gridding</p> <p>Run phase (anwyhere between 1 minute and 5 hours depending on simulation settings): - Writes the input file - Launch iSolve and executes the FDTD simulation - Monitors convergence</p> <p>Extract phase (1-2 minutes): - Open completed project - Extract SAR data from sensors - Generate statistics reports - Save deliverables</p> <p>Watch the GUI status log to see each subtask complete with its timing.</p> <pre><code>run_bash(\"ls results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/\")\n</code></pre> <pre>\n<code>Running: source .bashrc &amp;&amp; ls results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/\n\n------------------------------------------------------------\nconfig.json\nnear_field_thelonious_700MHz_front_of_eyes_center_vertical.smash\nnear_field_thelonious_700MHz_front_of_eyes_center_vertical.smash_Results\npoint_sensor_data.png\nprogress.log\nsar_results.json\nsar_stats_all_tissues.html\nsar_stats_all_tissues.pkl\nverbose.log\n------------------------------------------------------------\n\nCommand completed with return code: 0\n</code>\n</pre> <pre>\n<code>0</code>\n</pre> <p>You can open this <code>.smash</code> file in Sim4Life to see: - Phantom geometry with tissue materials - Antenna positioned in front of eyes - Simulation bounding box (head region) - FDTD grid resolution - Point sensors for SAR measurement</p>"},{"location":"tutorials/03_near_field_basics/#tutorial-3-near-field-basics","title":"Tutorial 3: Near-field basics","text":"<p>Learn device exposure simulations with phone antennas near the body.</p>"},{"location":"tutorials/03_near_field_basics/#what-youll-learn","title":"What you'll learn","text":"<ul> <li>How near-field simulations work (antennas near the body)</li> <li>Antenna configuration basics</li> <li>Placement scenarios and anatomical landmarks</li> <li>Understanding the GUI and logging system</li> <li>Localized SAR extraction</li> </ul> <p>Related documentation: User guide (near-field workflow)</p>"},{"location":"tutorials/03_near_field_basics/#prerequisites","title":"Prerequisites","text":"<ul> <li>Tutorial 1 completed (far-field basics)</li> <li>Tutorial 2 completed (config system, caching)</li> <li>Antenna CAD models available in <code>antenna_models/</code> directory</li> </ul> <p>If you need antenna models, see the Quick Start guide (antenna models are auto-downloaded as needed).</p>"},{"location":"tutorials/03_near_field_basics/#about-the-notebook-code-blocks","title":"About the notebook code blocks","text":"<p>This tutorial includes Python code blocks for running commands. These are designed for Jupyter notebooks if you prefer that workflow.</p> <p>If you're using notebooks, run this setup once per session:</p>"},{"location":"tutorials/03_near_field_basics/#near-field-vs-far-field","title":"Near-field vs far-field","text":"<p>Far-field simulations model environmental exposure where the source is distant. Near-field simulations model device exposure where the antenna is close to the body.</p> <p>The differences matter:</p> Aspect Far-field Near-field Source Plane waves (distant) Antenna model (near body) SAR pattern Distributed Localized hotspots Configuration Directions + polarizations Antenna + placement Typical use Base stations, broadcast Phones, wearables, implants <p>In near-field studies, GOLIAT: 1. Imports the antenna CAD model 2. Positions it relative to anatomical landmarks 3. Applies material properties and power settings 4. Runs the FDTD simulation 5. Extracts localized SAR values</p> <p></p>"},{"location":"tutorials/03_near_field_basics/#the-configuration-file","title":"The configuration file","text":"<p>This tutorial uses a single phantom (Thelonious), one frequency (700 MHz), and the front_of_eyes placement.</p>"},{"location":"tutorials/03_near_field_basics/#study-type","title":"Study type","text":"<pre><code>\"study_type\": \"near_field\"\n</code></pre> <p>This tells GOLIAT to run a near-field study, which requires <code>antenna_config</code> and <code>placement_scenarios</code> instead of <code>far_field_setup</code>.</p>"},{"location":"tutorials/03_near_field_basics/#phantom-selection","title":"Phantom selection","text":"<pre><code>\"phantoms\": [\"thelonious\"]\n</code></pre> <p>We use Thelonious (male child) for this tutorial. If you don't have a license for Thelonious, feel free to use another phantoms, like Duke.</p>"},{"location":"tutorials/03_near_field_basics/#antenna-configuration","title":"Antenna configuration","text":"<p>The <code>antenna_config</code> section defines antenna properties for each frequency.</p> <pre><code>\"antenna_config\": {\n  \"700\": {\n    \"center_frequency\": 700,\n    \"target_power_mW\": 267,\n    \"model_type\": \"PIFA\",\n    \"source_name\": \"Lines 1\",\n    \"materials\": {...},\n    \"gridding\": {...}\n  }\n}\n</code></pre> <p>Key parameters:</p> <ul> <li><code>center_frequency</code>: Antenna operating frequency in MHz</li> <li><code>target_power_mW</code>: The necessary power such that the 10g-SAR in a flat phantom is 1 W/kg. This is for a 300 x 300 mm x 5 skin depth region with tissue parameters from IEC/IEEE 62209-01 at a distance of 5 mm.</li> <li><code>model_type</code>: Antenna type (PIFA or IFA), used to select setup logic</li> <li><code>source_name</code>: Name of the excitation entity in the CAD file</li> <li><code>materials</code>: Maps CAD component names to Sim4Life materials</li> <li><code>gridding</code>: Defines the details of specific sub-meshes in the antenna, per entity group.</li> </ul> <p>Material mapping</p> <p>The <code>materials</code> object tells GOLIAT which material to assign to each antenna component:</p> <pre><code>\"materials\": {\n  \"Extrude 1\": \"Copper\",\n  \"component1:Battery\": \"Copper\",\n  \"component1:Patch\": \"Copper\",\n  \"component1:ShortingPin\": \"Copper\",\n  \"component1:Substrate\": \"Rogers RT/duroid 5880\"\n}\n</code></pre> <p>These names must match entities in the CAD file. The substrate uses a specific dielectric material (Rogers RT/duroid 5880) while conductive parts use Copper.</p> <p></p> <p>PIFA antenna components grided with an automatic default grid. The antenna is below the top right circle. One can distinguish a battery, a substrate, ... This is a mock-up phone as is common in very general dosimetric studies.</p>"},{"location":"tutorials/03_near_field_basics/#placement-scenarios","title":"Placement scenarios","text":"<p>The <code>placement_scenarios</code> section defines where and how the antenna is positioned relative to the phantom.</p> <pre><code>\"placement_scenarios\": {\n  \"front_of_eyes\": {\n    \"bounding_box\": \"default\",\n    \"positions\": {\n      \"center\": [0, 0, -100]\n    },\n    \"orientations\": {\n      \"vertical\": []\n    },\n    \"antenna_reference\": {\n      \"distance_from_top\": 10\n    },\n    \"phantom_reference\": \"nasion\"\n  }\n}\n</code></pre> <p>Key parameters:</p> <ul> <li><code>bounding_box</code>: Which part of phantom to include (default, head, trunk, whole_body). Default means head for <code>front_of_eyes</code> and trunk for <code>by_belly</code>.</li> <li><code>positions</code>: Named position offsets in [x, y, z] mm relative to the reference point. GOLIAT will loop through all of these.</li> <li><code>orientations</code>: Named rotation sequences applied to the antenna. GOLIAT will loop through all of these, for each position.</li> <li><code>antenna_reference</code>: Point on antenna used for placement (distance from top of the phone, by the earpiece speaker).</li> <li><code>phantom_reference</code>: Anatomical landmark used as placement origin.</li> </ul> <p>Anatomical landmarks</p> <p>The <code>phantom_reference</code> parameter points to a coordinate defined in <code>phantom_definitions</code>:</p> <pre><code>\"phantom_definitions\": {\n  \"thelonious\": {\n    \"head_y_separation\": 0,\n    \"trunk_z_separation\": -300,\n    \"chest_extension\": 100,\n    \"nasion\": [-1, 0, 0],\n    ...\n    \"placements\": {\n      \"do_front_of_eyes\": true,\n      ...\n      \"distance_from_eye\": 200\n    }\n  }\n}\n</code></pre> <p>For front_of_eyes placement: - GOLIAT finds the eye entities in the phantom - Calculates their bounding box center - Applies the nasion offset - Adds the position offset (here [0, 0, -100]) for the <code>center</code> scenario pacement. - Places the antenna at the calculated point - Orients the antenna according to any rotations specified for the scenario.</p> <p>The <code>distance_from_eye</code> parameter (200 mm) sets the separation between the phantom and antenna along the Y axis (pointing out of the face).</p> <p>The three parameters <code>head_y_separation</code>, <code>trunk_z_separation</code> and <code>chest_extension</code> define how the <code>head</code> and <code>trunk</code> bounding boxes are defined. Some dimensions of these bounding boxes are defined intelligently, others unfortuneatly require some manual parameters like these. For example, the <code>head_y_separation</code> determines where the back of the head stops for the Thelonious phantom. The next two determine the z and y dimensions of the trunk bounding box.</p> <p></p> <p>Nasion point used as reference point for front_of_eyes placement. This aligns with a point on the antenna 10 mm below the top, by the earpiece speaker.</p> <p></p> <p>Setup for the near-field simulation. Note that the head and trunk bounding boxes are present. The simulation bounding box wraps around the phone and the bounding box of interest (here 'default', i.e., the head). The phone is placed 100 mm below its initial position, where the naison aligns 200 mm from the antenna reference point, 10 mm below the top of the phone.</p>"},{"location":"tutorials/03_near_field_basics/#understanding-the-gui","title":"Understanding the GUI","text":"<p>Before running the simulation, let's tour the GOLIAT GUI. It shows real-time progress, logs, timings, and system utilization.</p> <p>When you run a study, a window opens automatically. Here's what each section does:</p> <p></p>"},{"location":"tutorials/03_near_field_basics/#main-tab","title":"Main tab","text":"<p>The main tab shows overall progress and current activity.</p> <p>Progress bars: - Overall progress: Total completion across all simulations - Stage progress: Current phase (setup, run, extract) within one simulation</p> <p>Simulation info: - Current simulation count (e.g., Simulation: 1 / 1000) - Case details (phantom, frequency, placement)</p> <p>Timing info: - Elapsed time since study started - Time remaining (estimated from profiler data)</p> <p>Status log: - Color-coded messages showing what GOLIAT is doing - Green for success, yellow for warnings, red for errors</p> <p>System utilization: - CPU percentage across all cores - RAM usage (used/total GB) - GPU percentage (if <code>nvidia-smi</code> available)</p> <p>Buttons: - Hitting Stop will try to stop the simulations gracefully. - Closing the window will instantly stop GOLIAT. This may corrupt your <code>.smash</code> files. - You can minimize the GUI to the Windows system tray.</p>"},{"location":"tutorials/03_near_field_basics/#timings-and-timings-piecharts-tabs","title":"Timings and Timings Piecharts tabs","text":"<p>Shows execution statistics for phases and subtasks.</p> <p>For each task, you see: - Mean, median, min, max duration - 10<sup>th</sup>, 25<sup>th</sup>, 75<sup>th</sup>, 90<sup>th</sup> percentiles</p> <p>This data comes from the profiler and improves ETA accuracy as more simulations complete. The piecharts give a visual depiction of the average timings.</p>"},{"location":"tutorials/03_near_field_basics/#time-remaining-and-overall-progress-tabs","title":"Time Remaining and Overall Progress tabs.","text":"<p>Shows progress and ETA trends over time.</p> <p>Time remaining plot: - Hours remaining vs time - Should converge to zero as work completes</p> <p>Overall progress plot: - Percentage complete vs time - Should show smooth upward trend</p> <p>These plots update every 5 seconds during execution.</p>"},{"location":"tutorials/03_near_field_basics/#the-logging-system","title":"The logging system","text":"<p>GOLIAT uses two separate log streams with different purposes.</p>"},{"location":"tutorials/03_near_field_basics/#log-destinations","title":"Log destinations","text":"<p>Logs go to three places:</p> <ol> <li>Console (shell): Real-time output while study runs</li> <li><code>logs/</code> directory: Session logs with timestamps (e.g., <code>logs/10_31_25-20-55-16.progress.log</code>)</li> <li>Simulation directories: Simulation-specific logs in each project folder</li> </ol>"},{"location":"tutorials/03_near_field_basics/#progress-vs-verbose-logs","title":"Progress vs verbose logs","text":"<p>Progress log: - High-level, user-facing messages - Shown in GUI status box - Saved to <code>*.progress.log</code> files - Tracks phases and subtasks</p> <p>Verbose log: - Detailed internal messages - Not shown in GUI (console and file only) - Saved to main <code>*.log</code> files - Includes everything, including the Sim4Life and <code>iSolve</code> logs, useful for debugging</p> <p>Both logs write to the console, but only progress logs appear in the GUI.</p>"},{"location":"tutorials/03_near_field_basics/#phases-and-subtasks","title":"Phases and subtasks","text":"<p>GOLIAT organizes work into three phases, each containing multiple subtasks.</p> <p>The three phases:</p> <ol> <li>Setup: Creates Sim4Life project, imports models, configures simulation</li> <li>Run: Executes FDTD solver (longest phase)</li> <li>Extract: Processes SAR data, generates reports</li> </ol> <p>Subtask logging:</p> <p>When a subtask starts, you see: <pre><code>  - Loading phantom model...\n</code></pre></p> <p>When it finishes, you see: <pre><code>    - Done in 3.2s\n</code></pre></p> <p>The timing line is indented to align with the subtask name. This format applies to console, GUI, and log files. A phase (containing subtasks) is also timed and aligned one tab less.</p> <p></p> <p>Console output showing subtask progression with timings.</p>"},{"location":"tutorials/03_near_field_basics/#simulation-specific-logs","title":"Simulation-specific logs","text":"<p>Each simulation writes logs to its project directory:</p> <pre><code>results/near_field/thelonious/700MHz/front_of_eyes_center_vertical/\n    progress.log        # High-level progress\n    verbose.log         # Detailed logs\n    config.json         # Metadata for caching\n    simulation.smash    # Sim4Life project\n</code></pre> <p>The <code>progress.log</code> file is a subset of <code>verbose.log</code>, containing only user-facing messages. This is the log shown in the GUI.</p>"},{"location":"tutorials/03_near_field_basics/#running-the-simulation","title":"Running the simulation","text":"<p>Now that we finally understand all the above, it's time to run the near-field study:</p>"},{"location":"tutorials/03_near_field_basics/#understanding-the-results","title":"Understanding the results","text":"<p>After the simulation completes, find the results in:</p> <pre><code>results/near_field/thelonious/700MHz/\n  front_of_eyes_center_vertical/\n</code></pre>"},{"location":"tutorials/03_near_field_basics/#output-files","title":"Output files","text":"<p>Simulation project: - <code>simulation.smash</code>: Complete Sim4Life project with fields and SAR</p> <p>SAR data: - <code>sar_results.json</code>: Raw SAR values for all tissues - <code>sar_stats_all_tissues.pkl</code>: Statistical summaries (pickle format) - <code>sar_stats_all_tissues.html</code>: Human-readable HTML report</p> <p>Metadata: - <code>config.json</code>: Config snapshot and caching flags</p> <p>Analysis and visualization sections will be added in a future tutorial.</p>"},{"location":"tutorials/03_near_field_basics/#checking-the-sim4life-project","title":"Checking the Sim4Life project","text":"<p>Open the project to inspect the simulation setup:</p>"},{"location":"tutorials/03_near_field_basics/#whats-next","title":"What's next","text":"<p>You've completed your first near-field simulation. Next steps:</p> <p>Tutorial 4: Gridding and phantom rotation - Manual vs automatic gridding - Subgridding for antenna components - By_cheek placement with phantom rotation - Scene alignment optimization</p> <p>Tutorial 5: Parallel and cloud execution - Running multiple simulations simultaneously - Config splitting strategies - Using oSPARC for cloud compute</p>"},{"location":"tutorials/03_near_field_basics/#summary","title":"Summary","text":"<p>You learned: - Near-field simulations model device exposure with antennas near the body - Antenna configuration includes materials, power, and gridding settings - Placement scenarios use anatomical landmarks for positioning - The GUI shows real-time progress, logs, timings, and system utilization - GOLIAT uses two log streams (progress and verbose) with different purposes - Simulations progress through setup, run, and extract phases - Results include SAR data, statistics, and complete Sim4Life projects</p> <p>In Tutorial 4, we'll explore computational gridding strategies and more complex placements requiring phantom rotation.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/","title":"4. Gridding and Phantom Rotation","text":"<pre><code>from pathlib import Path\nimport importlib.util\n\np = Path.cwd()\nwhile not (p / \"scripts\" / \"notebook_helpers.py\").exists():\n    p = p.parent\nspec = importlib.util.spec_from_file_location(\"_\", p / \"scripts\" / \"notebook_helpers.py\")\nm = importlib.util.module_from_spec(spec)\nspec.loader.exec_module(m)\nrun_bash = m.get_run_bash()\n\nimport IPython\n\nIPython.core.display.max_output_size = None\n</code></pre> <p>This helper function lets you run bash commands from Python cells using <code>run_bash('command')</code>.</p> <p>If you're using bash directly (recommended), ignore the Python code blocks and just run the commands directly. Make sure to always run <code>source .bashrc</code> first.</p> <pre><code>run_bash(\"cat configs/tutorial_4_advanced.json\")\n</code></pre> <pre><code>run_bash(\"goliat study tutorial_4_advanced\")\n</code></pre> <p>This runs 4 simulations: 1. 700 MHz, by_cheek, tragus position, cheek_base orientation (with rotation, with subgrid) 2. 700 MHz, by_cheek, tragus position, tilt_base orientation (no rotation, with subgrid) 3. 835 MHz, by_cheek, tragus position, cheek_base orientation (with rotation, no subgrid) 4. 835 MHz, by_cheek, tragus position, tilt_base orientation (no rotation, no subgrid)</p> <p>Watch for these key steps in the logs:</p> <p>For cheek_base orientation: <pre><code>  - Calculating placement details...\n  - Calculated base rotation for cheek alignment: 84.23 degrees around X-axis.\n  - Handling phantom rotation...\n  - Finding touching angle via binary search...\n  - Determined touching angle: 13.50 deg\n  - Aligning simulation scene with phone...\n</code></pre></p> <p>For tilt_base orientation: <pre><code>  - Calculating placement details...\n  - Calculated base rotation for cheek alignment: 84.23 degrees around X-axis.\n  - Handling phantom rotation...\n  - Phantom rotation not enabled for this orientation.\n  - Aligning simulation scene with phone...\n</code></pre></p> <p>The setup phase takes longer for cheek_base due to the binary search (extra 5-8 seconds).</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#tutorial-4-gridding-and-phantom-rotation","title":"Tutorial 4: Gridding and phantom rotation","text":"<p>Learn computational mesh strategies and advanced near-field placement techniques.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#what-youll-learn","title":"What you'll learn","text":"<ul> <li>Automatic vs manual gridding</li> <li>Subgridding for antenna components</li> <li>Per-frequency grid settings</li> <li>By_cheek placement with phantom rotation</li> <li>Binary search for touching angle detection</li> <li>Scene alignment optimization</li> </ul> <p>Related documentation: Configuration (gridding parameters), Advanced features (phantom rotation)</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Tutorial 3 completed (near-field basics)</li> <li>Understanding of FDTD grid concepts</li> <li>Antenna models available</li> </ul>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#bash-setup","title":"Bash setup","text":"<p>Run this once per notebook session:</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#computational-gridding-basics","title":"Computational gridding basics","text":"<p>The FDTD solver discretizes space into a rectangular mesh. Cell size affects both accuracy and computation time.</p> <p>Key tradeoffs:</p> <ul> <li>Smaller cells: More accurate, longer simulation time</li> <li>Larger cells: Faster simulation, potential artifacts</li> <li>Optimal size: 10-20 cells per wavelength minimum</li> </ul> <p>For a 700 MHz signal: - Wavelength in tissue: ~40-60 mm (depends on tissue type) - Recommended cell size: 2-3 mm (GOLIAT enforces a 3 mm maximum for manual grids)</p> <p>GOLIAT supports three gridding strategies:</p> Strategy When to use Configuration Automatic Quick tests, uniform materials <code>grid_mode: \"automatic\"</code> Manual Production runs, precise control <code>grid_mode: \"manual\"</code> + per-frequency settings Subgridding Fine details (antenna parts) Defined in <code>antenna_config</code> <p>The GOLIAT EU Project uses manual gridding with per-frequency settings for all production simulations.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#the-configuration-file","title":"The configuration file","text":"<p>This tutorial uses the Thelonious phantom with two frequencies (700 MHz and 835 MHz) to demonstrate gridding configurations. The 700 MHz antenna uses subgridding, while 835 MHz does not.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#gridding-parameters","title":"Gridding parameters","text":"<p>The <code>gridding_parameters</code> section defines global mesh settings.</p> <pre><code>\"gridding_parameters\": {\n  \"global_gridding\": {\n    \"grid_mode\": \"manual\",\n    \"manual_fallback_max_step_mm\": 5.0\n  },\n  \"global_gridding_per_frequency\": {\n    \"700\": 2.5,\n    \"835\": 2.5\n  },\n  \"padding\": {\n    \"padding_mode\": \"manual\",\n    \"manual_bottom_padding_mm\": [0, 0, 0],\n    \"manual_top_padding_mm\": [0, 0, 0]\n  }\n}\n</code></pre> <p>Key parameters:</p> <ul> <li><code>grid_mode</code>: Use <code>\"manual\"</code> for explicit control, <code>\"automatic\"</code> for Sim4Life defaults</li> <li><code>manual_fallback_max_step_mm</code>: Maximum cell size if no per-frequency value is defined</li> <li><code>global_gridding_per_frequency</code>: Cell size in mm for each frequency</li> <li><code>padding</code>: Extra space around simulation boundaries</li> </ul> <p>The per-frequency settings let you use finer grids for higher frequencies where wavelengths are shorter.</p> <p></p> <p>Left: Coarse 5 mm grid. Right: Fine 2.5 mm grid. Finer grids resolve more details.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#subgridding-for-antennas","title":"Subgridding for antennas","text":"<p>Subgridding applies a finer mesh to specific components without affecting the global grid. This is useful for small antenna features that need high resolution.</p> <p>Here's the 700 MHz antenna config with subgridding:</p> <pre><code>\"700\": {\n  \"center_frequency\": 700,\n  \"target_power_mW\": 267,\n  \"model_type\": \"PIFA\",\n  \"source_name\": \"Lines 1\",\n  \"materials\": {...},\n  \"gridding\": {\n    \"automatic\": [\"component1:Substrate\", \"Lines 1\"],\n    \"subgridding\": {\n      \"components\": [\"component1:Battery\", \"component1:Patch\", \"Extrude 1\", \"component1:ShortingPin\"],\n      \"SubGridMode\": \"Box\",\n      \"SubGridLevel\": \"x9\",\n      \"AutoRefinement\": \"AutoRefinementVeryFine\"\n    }\n  }\n}\n</code></pre> <p>Subgridding parameters:</p> <ul> <li><code>components</code>: List of CAD entities to apply subgrid to</li> <li><code>SubGridMode</code>: Subgrid shape (<code>\"Box\"</code> is standard)</li> <li><code>SubGridLevel</code>: Resolution multiplier relative to global grid</li> <li><code>\"x3\"</code>: 3x finer (cell size divided by 3)</li> <li><code>\"x9\"</code>: 9x finer (cell size divided by 9)</li> <li>Higher values give better accuracy but increase computation time</li> <li><code>AutoRefinement</code>: Additional refinement level</li> <li><code>\"AutoRefinementVeryFine\"</code>: Highest quality</li> <li><code>\"AutoRefinementFine\"</code>: Moderate quality</li> <li><code>\"AutoRefinementDefault\"</code>: Standard quality</li> </ul> <p>For 700 MHz with global grid 2.5 mm and SubGridLevel x9: - Global cell size: 2.5 mm - Subgrid cell size: 2.5 / 9 \u2248 0.28 mm</p> <p>This resolves fine antenna features without making the entire domain expensive.</p> <p></p> <p>Subgrid region around antenna components (shown in red). Global grid is coarser (blue).</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#comparing-with-and-without-subgridding","title":"Comparing with and without subgridding","text":"<p>The 835 MHz antenna does not use subgridding:</p> <pre><code>\"835\": {\n  \"center_frequency\": 835,\n  \"target_power_mW\": 228,\n  \"model_type\": \"PIFA\",\n  \"source_name\": \"Lines 1\",\n  \"materials\": {...},\n  \"gridding\": {\n    \"automatic\": [\"component1:Substrate\", \"Lines 1\"]\n  }\n}\n</code></pre> <p>This antenna uses only the global 2.5 mm grid. You can compare results to see if subgridding makes a difference for your specific antenna geometry.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#by_cheek-placement","title":"By_cheek placement","text":"<p>The <code>by_cheek</code> placement positions the phone at the ear, using the tragus (ear cartilage protrusion) as an anatomical landmark.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#configuration","title":"Configuration","text":"<pre><code>\"placement_scenarios\": {\n  \"by_cheek\": {\n    \"bounding_box\": \"default\",\n    \"positions\": {\n      \"tragus\": [0, 0, 0]\n    },\n    \"orientations\": {\n      \"cheek_base\": {\n        \"rotate_phantom_to_cheek\": true,\n        \"angle_offset_deg\": 0\n      },\n      \"tilt_base\": []\n    },\n    \"antenna_reference\": {\n      \"distance_from_top\": 10\n    },\n    \"phantom_reference\": \"tragus\"\n  }\n}\n</code></pre> <p>Key differences from front_of_eyes:</p> <ul> <li>Uses <code>tragus</code> instead of <code>nasion</code> as reference point</li> <li>Distance from cheek is 8 mm (vs 200 mm from eyes)</li> <li>Includes base alignment calculation (ear-to-mouth vector)</li> <li>Supports phantom rotation option</li> </ul>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#tragus-landmark","title":"Tragus landmark","text":"<p>The <code>phantom_reference: \"tragus\"</code> parameter points to coordinates defined in <code>phantom_definitions</code>:</p> <pre><code>\"phantom_definitions\": {\n  \"thelonious\": {\n    \"tragus\": [0, 7, -5],\n    \"lips\": [0, 122, 31],\n    ...\n    \"placements\": {\n      \"do_by_cheek\": true,\n      \"distance_from_cheek\": 8\n    }\n  }\n}\n</code></pre> <p>GOLIAT finds the ear skin entity, calculates its center, applies the tragus offset, then positions the phone 8 mm away.</p> <p></p> <p>Tragus anatomical landmark used as reference for by_cheek placement.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#phantom-rotation","title":"Phantom rotation","text":"<p>For some by_cheek orientations, the phantom needs to rotate toward the phone to create realistic contact. This is configured using a dictionary format in the orientations section.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#configuration_1","title":"Configuration","text":"<pre><code>\"orientations\": {\n  \"cheek_base\": {\n    \"rotate_phantom_to_cheek\": true,\n    \"angle_offset_deg\": 0\n  }\n}\n</code></pre> <p>Parameters:</p> <ul> <li><code>rotate_phantom_to_cheek</code>: Enable automatic rotation (boolean)</li> <li><code>angle_offset_deg</code>: Additional angle to rotate phantom away from phone after contact (number)</li> </ul> <p>When this is enabled, GOLIAT: 1. Places phone and phantom in initial positions 2. Runs binary search to find touching angle 3. Applies the angle + offset 4. Rotates phantom, bounding boxes, and sensors 5. Continues with scene alignment</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#binary-search-for-touching-angle","title":"Binary search for touching angle","text":"<p>GOLIAT uses binary search to find the exact angle where the phantom's skin touches the phone's ground plane.</p> <p>The search: - Searches between 0 and 30 degrees rotation around Z axis - Uses 0.5 degree precision - Checks for overlap at each iteration - Stops when touching distance is minimized</p> <p>Watch the console output during setup to see the search progress:</p> <pre><code>  - Handling phantom rotation...\n  - Finding touching angle via binary search...\n    - Testing angle: 15.00 deg (distance: 2.35 mm)\n    - Testing angle: 7.50 deg (distance: 5.82 mm)\n    - Testing angle: 11.25 deg (distance: 3.47 mm)\n    - Testing angle: 13.12 deg (distance: 2.89 mm)\n    ...\n    - Determined touching angle: 13.50 deg\n    - Applying offset: 0.00 deg\n    - Final rotation: 13.50 deg\n    - Done in 4.8s\n</code></pre> <p></p> <p>Console output showing binary search iterations converging to optimal angle.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#before-and-after-rotation","title":"Before and after rotation","text":"<p>Before rotation: Gap between phantom and phone.</p> <p></p> <p>After rotation: Phantom skin touches phone ground plane.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#angle-offset","title":"Angle offset","text":"<p>The <code>angle_offset_deg</code> parameter lets you fine-tune the final position. Positive values rotate the phantom away from the phone (increasing gap), negative values rotate toward it (increasing overlap).</p> <p>Examples: - <code>angle_offset_deg: 0</code>: Phantom just touches phone (default) - <code>angle_offset_deg: 2</code>: 2 degree separation (small gap) - <code>angle_offset_deg: -1</code>: 1 degree overlap (slight compression)</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#scene-alignment","title":"Scene alignment","text":"<p>For by_cheek placements, GOLIAT automatically aligns the entire scene with the phone's upright orientation. This optimizes the computational grid and can reduce simulation time.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#how-it-works","title":"How it works","text":"<p>After phantom rotation (if enabled), GOLIAT:</p> <ol> <li>Identifies reference entities on phone:</li> <li>PIFA: <code>component1:Substrate</code> and <code>component1:Battery</code></li> <li>IFA: <code>Ground</code> and <code>Battery</code></li> <li>Calculates transformation matrix to make phone upright</li> <li>Applies transformation to all scene entities:</li> <li>Phantom group</li> <li>Antenna group</li> <li>Simulation bounding box</li> <li>Antenna bounding box</li> <li>Head and trunk bounding boxes</li> <li>Point sensors</li> </ol> <p>Only parent groups and bounding boxes are transformed, not individual tissues. This keeps relative geometry correct while aligning the grid with the phone.</p> <p></p> <p>Scene after alignment: Phone is upright, grid aligns with phone orientation.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#why-this-matters","title":"Why this matters","text":"<p>FDTD grids are always axis-aligned rectangular meshes. When the phone is tilted relative to the axes, the grid must use smaller cells to resolve edges accurately. Aligning the phone with the axes lets the grid use larger cells while maintaining accuracy.</p> <p>This can reduce: - Number of grid cells (by 10-30%) - Memory usage - Simulation time</p> <p>The alignment happens automatically for all by_cheek placements. No configuration is needed.</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#running-the-simulations","title":"Running the simulations","text":"<p>Run the study:</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#comparing-results","title":"Comparing results","text":"<p>After simulations complete, compare the four cases:</p> <p>Subgridding comparison: - 700 MHz (with subgrid) vs 835 MHz (no subgrid) - Check if SAR hotspot patterns differ - Compare peak 10g SAR values</p> <p>Rotation comparison: - cheek_base (with rotation) vs tilt_base (no rotation) - Check contact region SAR values - Compare field penetration depth</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#todo-analysis-and-visualization-tools-will-be-covered-in-a-future-tutorial","title":"TODO: Analysis and visualization tools will be covered in a future tutorial.","text":"<p>Find results in:</p> <pre><code>results/near_field/thelonious/700MHz/\n  by_cheek_tragus_cheek_base/     # With rotation, with subgrid\n  by_cheek_tragus_tilt_base/      # No rotation, with subgrid\n\nresults/near_field/thelonious/835MHz/\n  by_cheek_tragus_cheek_base/     # With rotation, no subgrid\n  by_cheek_tragus_tilt_base/      # No rotation, no subgrid\n</code></pre>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#gridding-recommendations","title":"Gridding recommendations","text":"<p>Based on GOLIAT EU Project experience:</p> <p>For production simulations: - Use manual gridding with per-frequency settings - 2.5 mm cells for frequencies below 1000 MHz - 1.5-2.0 mm cells for frequencies 1000-3000 MHz - 1.0 mm cells for frequencies above 3000 MHz</p> <p>For subgridding: - Apply to small antenna components (patches, pins, batteries) - Use SubGridLevel x9 for fine metallic features - Use AutoRefinementVeryFine for best accuracy - Skip subgridding for quick test runs</p> <p>For phantom rotation: - Enable for by_cheek placements where contact matters - Use <code>angle_offset_deg: 0</code> for realistic contact - Test without rotation first to verify basic setup</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#whats-next","title":"What's next","text":"<p>You've learned advanced near-field techniques. Next steps:</p> <p>Tutorial 5: Parallel and cloud execution - Running multiple simulations simultaneously - Config splitting strategies - Using oSPARC for cloud compute</p>"},{"location":"tutorials/04_gridding_and_phantom_rotation/#summary","title":"Summary","text":"<p>You learned: - FDTD grids discretize space into rectangular meshes with tradeoffs between accuracy and speed - Manual gridding with per-frequency settings provides precise control - Subgridding applies finer resolution to antenna components without affecting global grid - By_cheek placement uses tragus landmark and includes automatic base alignment - Phantom rotation uses binary search to find optimal touching angle - Scene alignment optimizes grid orientation for by_cheek placements automatically - The GOLIAT EU Project uses manual 2.5 mm grids with x9 subgridding for production</p> <p>In Tutorial 5, we'll explore running multiple simulations in parallel to use multi-core systems and cloud compute resources.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/","title":"5. Parallel and Cloud Execution","text":"<pre><code>from pathlib import Path\nimport importlib.util\n\np = Path.cwd()\nwhile not (p / \"scripts\" / \"notebook_helpers.py\").exists():\n    p = p.parent\nspec = importlib.util.spec_from_file_location(\"_\", p / \"scripts\" / \"notebook_helpers.py\")\nm = importlib.util.module_from_spec(spec)\nspec.loader.exec_module(m)\nrun_bash = m.get_run_bash()\n\nimport IPython\n\nIPython.core.display.max_output_size = None\n</code></pre> <p>This helper function lets you run bash commands from Python cells using <code>run_bash('command')</code>. The setup also disables output truncation so you can see all command output.</p> <p>If you're using bash directly (recommended), ignore the Python code blocks and just run the commands directly. Make sure to always run <code>source .bashrc</code> first.</p> <pre><code>run_bash(\"cat configs/tutorial_5_parallel.json\")\n</code></pre> <pre><code>run_bash(\"goliat parallel tutorial_5_parallel --num-splits 4\")\n</code></pre> <p>Output:</p> <pre><code>Creating parallel configs in: configs/tutorial_5_parallel_parallel\n  - Copied: base_config.json\nSmart split strategy: 4 phantom group(s) \u00d7 1 frequencies group(s) = 4 total configs\nPhantom groups: [1, 1, 1, 1]\nFrequencies groups: [2]\n  - Created: tutorial_5_parallel_0.json (phantoms: ['duke'], frequencies: 2)\n  - Created: tutorial_5_parallel_1.json (phantoms: ['thelonious'], frequencies: 2)\n  - Created: tutorial_5_parallel_2.json (phantoms: ['eartha'], frequencies: 2)\n  - Created: tutorial_5_parallel_3.json (phantoms: ['ella'], frequencies: 2)\nConfig splitting complete.\nFound 4 configs to run in parallel.\nRemoved stale lock file: goliat.lock\n--- Study 1/4 started ---\n--- Study 2/4 started ---\n--- Study 3/4 started ---\n--- Study 4/4 started ---\n</code></pre> <p></p> <p>Terminal showing config split details.</p> <pre><code>run_bash(\"ls configs/tutorial_5_parallel_parallel/\")\n</code></pre> <p>Output:</p> <pre><code>base_config.json\ntutorial_5_parallel_0.json\ntutorial_5_parallel_1.json\ntutorial_5_parallel_2.json\ntutorial_5_parallel_3.json\n</code></pre> <p>Each config is a complete, runnable configuration with a subset of the original work.</p> <p>Check one split:</p> <pre><code>run_bash(\"cat configs/tutorial_5_parallel_parallel/tutorial_5_parallel_0.json\")\n</code></pre> <p>You'll see it contains only <code>duke</code> in the phantoms list, while keeping both frequencies.</p> <p></p> <p>Directory showing split config files.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#tutorial-5-parallel-and-cloud-execution","title":"Tutorial 5: Parallel and cloud execution","text":"<p>Learn to run multiple simulations simultaneously on local hardware or cloud resources.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#what-youll-learn","title":"What you'll learn","text":"<ul> <li>Local parallel execution with <code>goliat parallel</code></li> <li>Config splitting strategies</li> <li>Managing multiple GUI instances</li> <li>Results merging</li> <li>oSPARC batch execution overview</li> </ul> <p>Related documentation: Cloud setup</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#prerequisites","title":"Prerequisites","text":"<ul> <li>Tutorial 1-4 completed</li> <li>Multi-core CPU (4+ cores recommended)</li> <li>For oSPARC: API credentials in <code>.env</code> file</li> </ul>"},{"location":"tutorials/05_parallel_and_cloud_execution/#bash-setup","title":"Bash setup","text":"<p>Run this once per notebook session:</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#why-parallel-execution-matters","title":"Why parallel execution matters","text":"<p>A single simulation can take 15-40 minutes depending on complexity. A study with 4 phantoms and 2 frequencies requires 8 simulations, which would take 2-5 hours sequentially.</p> <p>With parallel execution: - 4-core machine: Run 4 simulations simultaneously (cut time by 4x) - Cloud resources: Run dozens simultaneously (finish large studies in hours)</p> <p>GOLIAT supports two parallel strategies:</p> Strategy When to use Resources needed Local parallel 10-50 simulations, multi-core machine CPU cores, RAM oSPARC batch 50+ simulations, limited local resources API credentials, credits <p>This tutorial focuses on local parallel execution. oSPARC batch is covered briefly with links to detailed documentation.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#important-limitation-gpu-and-isolve-execution","title":"Important limitation: GPU and iSolve execution","text":"<p>Important: When running parallel simulations on a single machine with one GPU, iSolve will only execute one simulation at a time. This is a fundamental limitation of Sim4Life's GPU-based solver.</p> <p>What this means: - Setup and extract phases can run in parallel (no GPU required) - Run phase (iSolve) cannot run in parallel on a single GPU machine - Multiple parallel processes will queue for GPU access, effectively running sequentially</p> <p>Impact: Running <code>goliat parallel</code> with <code>--num-splits 4</code> on a single-GPU machine will: - Speed up setup phases (4x faster) - Speed up extract phases (4x faster) - NOT speed up run phases (still sequential, same total time as running individually)</p> <p>Solutions for true parallel iSolve execution: 1. oSPARC batch: Submit simulations to cloud platform where each job gets its own GPU 2. Multiple Windows PCs: Set up GOLIAT on multiple machines as described in Cloud Setup</p> <p>For large studies requiring many simulations, oSPARC batch is the recommended approach.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#understanding-config-splitting","title":"Understanding config splitting","text":"<p>The <code>goliat parallel</code> command splits a large config into smaller configs, each handling a subset of the work.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#splitting-strategies","title":"Splitting strategies","text":"<p>GOLIAT uses a smart algorithm that considers: - Number of phantoms - Number of frequencies (far-field) or antennas (near-field) - Target number of splits</p> <p>The algorithm finds the best factorization to distribute work evenly.</p> <p>Example 1: 4 phantoms, 2 frequencies, 4 splits - Split phantoms into 4 groups (1 phantom each) - Keep all frequencies in each config - Result: 4 configs, each with 1 phantom and 2 frequencies</p> <p>Example 2: 2 phantoms, 8 frequencies, 4 splits - Keep all phantoms in each config - Split frequencies into 4 groups (2 frequencies each) - Result: 4 configs, each with 2 phantoms and 2 frequencies</p> <p>Example 3: 4 phantoms, 4 frequencies, 4 splits - Split phantoms into 2 groups (2 phantoms each) - Split frequencies into 2 groups (2 frequencies each) - Result: 4 configs (2 phantom groups \u00d7 2 frequency groups)</p> <p>The algorithm balances work across splits to minimize idle time.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#the-configuration-file","title":"The configuration file","text":"<p>This tutorial uses a far-field config with 4 phantoms and 2 frequencies, totaling 16 simulations (4 phantoms \u00d7 2 frequencies \u00d7 2 directions \u00d7 1 polarization).</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#key-parameters","title":"Key parameters","text":"<pre><code>{\n  \"study_type\": \"far_field\",\n  \"phantoms\": [\"duke\", \"thelonious\", \"eartha\", \"ella\"],\n  \"frequencies_mhz\": [700, 900],\n  \"far_field_setup\": {\n    \"type\": \"environmental\",\n    \"environmental\": {\n      \"incident_directions\": [\"x_pos\", \"z_neg\"],\n      \"polarizations\": [\"theta\"]\n    }\n  }\n}\n</code></pre> <p>This config generates: - 4 phantoms - 2 frequencies - 2 incident directions - 1 polarization - Total: 4 \u00d7 2 \u00d7 2 \u00d7 1 = 16 simulations</p> <p>Running sequentially would take 4-8 hours. Running in parallel on 4 cores takes 1-2 hours.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#running-parallel-studies","title":"Running parallel studies","text":"<p>The <code>goliat parallel</code> command handles splitting, launching, and coordinating multiple studies.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#step-1-split-the-config","title":"Step 1: Split the config","text":"<p>Run:</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#step-2-inspect-split-configs","title":"Step 2: Inspect split configs","text":"<p>The split configs are in <code>configs/tutorial_5_parallel_parallel/</code>:</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#step-3-multiple-guis","title":"Step 3: Multiple GUIs","text":"<p>After splitting, GOLIAT launches one <code>goliat study</code> process per config. Each process opens its own GUI window.</p> <p>You'll see 4 GUI windows, each tracking one phantom's simulations.</p> <p></p> <p>Four GOLIAT GUIs running in parallel, one per phantom.</p> <p>Each GUI shows: - Its subset of simulations (e.g., duke at 700 MHz and 900 MHz) - Progress through setup, run, extract phases - Independent ETA calculations - System utilization (shared across all processes)</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#step-4-monitor-system-resources","title":"Step 4: Monitor system resources","text":"<p>With 4 parallel processes, CPU usage should be high across multiple cores.</p> <p>Open Task Manager (Windows) or Activity Monitor (Mac) to verify: - CPU usage: 80-100% (varies based on FDTD vs setup work) - RAM usage: Increases per simulation (2-8 GB each) - Disk I/O: Moderate (reading/writing project files)</p> <p></p> <p>Task Manager showing high CPU usage across multiple cores.</p> <p>If any process idles while others work, the split may be unbalanced. Adjust split strategy or reduce number of splits.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#step-5-results-merging","title":"Step 5: Results merging","text":"<p>When all processes complete, results are in the standard directory structure:</p> <pre><code>results/far_field/duke/700MHz/...\nresults/far_field/duke/900MHz/...\nresults/far_field/thelonious/700MHz/...\nresults/far_field/thelonious/900MHz/...\nresults/far_field/eartha/700MHz/...\nresults/far_field/eartha/900MHz/...\nresults/far_field/ella/700MHz/...\nresults/far_field/ella/900MHz/...\n</code></pre> <p>No manual merging is needed. Each process writes to its own phantom/frequency subdirectories, and the results structure is identical to running sequentially.</p> <p></p> <p>Single results directory containing outputs from all parallel processes.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#command-options","title":"Command options","text":"<p>The <code>goliat parallel</code> command supports several options.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#number-of-splits","title":"Number of splits","text":"<pre><code>goliat parallel my_config --num-splits N\n</code></pre> <p>Choose N based on: - Number of CPU cores (N \u2264 cores for best performance) - Available RAM (each simulation needs 2-8 GB) - Number of phantoms and frequencies (N must factor evenly)</p> <p>Valid splits: - 4 phantoms, 2 frequencies: 1, 2, 4, 8 splits work - 2 phantoms, 3 frequencies: 1, 2, 3, 6 splits work - 1 phantom, 8 frequencies: 1, 2, 4, 8 splits work</p> <p>If you request an invalid split, GOLIAT reports the closest achievable factorization.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#skip-split","title":"Skip split","text":"<p>If you already split a config and want to re-run:</p> <pre><code>goliat parallel my_config --skip-split\n</code></pre> <p>This reuses the existing split directory without regenerating configs. Useful for: - Re-running after errors - Tweaking execution control settings - Testing with <code>--no-cache</code></p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#no-cache","title":"No cache","text":"<p>Force all simulations to re-run:</p> <pre><code>goliat parallel my_config --no-cache\n</code></pre> <p>This disables the caching system, ignoring any existing <code>config.json</code> metadata. Useful for: - Testing config changes - Debugging setup issues - Regenerating results after code updates</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#when-to-use-parallel-execution","title":"When to use parallel execution","text":"<p>Good cases: - 10-50 simulations - Multi-core machine (4+ cores) - Enough RAM (8-32 GB) - Local compute sufficient for timeline</p> <p>Avoid when: - Only 2-5 simulations (overhead not worth it) - Low RAM (causes thrashing) - 50+ simulations (use oSPARC batch instead)</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#osparc-cloud-execution-overview","title":"oSPARC cloud execution overview","text":"<p>For large studies (50+ simulations), oSPARC provides cloud compute resources. This is a brief overview; see the Cloud setup guide for complete instructions.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#workflow","title":"Workflow","text":"<ol> <li>Generate input files locally:</li> <li>Set <code>only_write_input_file: true</code></li> <li> <p>Run <code>goliat study</code> to create <code>.h5</code> solver files</p> </li> <li> <p>Submit batch to oSPARC:</p> </li> <li>Set <code>batch_run: true</code></li> <li>Run <code>goliat study</code> again</li> <li> <p>GOLIAT uploads files and monitors job status</p> </li> <li> <p>Download and extract:</p> </li> <li>When jobs complete, GOLIAT downloads results</li> <li>Set <code>do_extract: true</code> to process SAR data</li> </ol>"},{"location":"tutorials/05_parallel_and_cloud_execution/#credentials-setup","title":"Credentials setup","text":"<p>oSPARC requires API credentials in a <code>.env</code> file:</p> <pre><code>OSPARC_API_KEY=your_api_key_here\nOSPARC_API_SECRET=your_api_secret_here\n</code></pre> <p>Get credentials from https://api.sim4life.science</p> <p></p> <p>Example .env file with oSPARC credentials (redacted).</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#batch-configuration","title":"Batch configuration","text":"<p>Enable batch mode in your config:</p> <pre><code>{\n  \"execution_control\": {\n    \"do_setup\": true,\n    \"only_write_input_file\": true,\n    \"do_run\": false,\n    \"do_extract\": false,\n    \"batch_run\": true\n  }\n}\n</code></pre> <p></p> <p>Config section enabling batch mode.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#monitoring","title":"Monitoring","text":"<p>During batch execution, the GUI shows job status:</p> <pre><code>--- Submitting Jobs to oSPARC in Parallel ---\n  - Submitted job 1/50: duke_700_x_pos_theta\n  - Submitted job 2/50: duke_700_x_neg_theta\n  ...\n  - Job 1/50: PENDING\n  - Job 2/50: SUCCESS (downloaded)\n  - Job 3/50: RUNNING\n</code></pre> <p>Jobs progress through states: - PENDING: Queued, waiting for resources - RUNNING: Executing on oSPARC compute node - SUCCESS: Completed, results downloaded - FAILED: Error occurred (check logs)</p> <p></p> <p>GUI showing oSPARC job status monitoring.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#osparc-dashboard","title":"oSPARC dashboard","text":"<p>You can also monitor jobs at https://api.sim4life.science</p> <p></p> <p>oSPARC web interface showing running jobs.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#costs-and-limits","title":"Costs and limits","text":"<p>oSPARC charges based on: - Compute time (per hour per core) - Storage (per GB)</p> <p>The GOLIAT EU Project has access to dedicated resources. For individual use, check pricing and quotas.</p> <p>oSPARC limits: - ~61 parallel jobs per user - Storage quotas (varies by plan) - API rate limits (handled by GOLIAT)</p> <p>For more details, see: - Cloud setup guide</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#choosing-the-right-strategy","title":"Choosing the right strategy","text":"Factor Local parallel oSPARC batch Number of simulations 10-50 50-500+ Timeline Hours to 1 day Hours (with resources) Cost Free (your hardware) Paid (compute credits) Setup complexity Simple Moderate (credentials) RAM requirement High (all processes) Low (only setup) <p>Hybrid approach: - Use local parallel for setup (fast) - Generate input files - Submit batch to oSPARC for run phase - Extract locally</p> <p>This balances speed, cost, and resource usage.</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#whats-next","title":"What's next","text":"<p>You've completed the GOLIAT tutorial series. Next steps:</p> <p>Explore advanced features: - Free-space antenna validation - Custom analysis scripts - Result visualization tools - Integration with other EMF tools</p> <p>Read the documentation: - Configuration reference: All config parameters - Advanced features: Phantom rotation, profiling, custom setups - Cloud setup: VM deployment, oSPARC integration</p>"},{"location":"tutorials/05_parallel_and_cloud_execution/#summary","title":"Summary","text":"<p>You learned: - Local parallel execution uses <code>goliat parallel</code> to split configs and run multiple studies simultaneously - Config splitting uses smart factorization based on phantoms and frequencies - Each split runs in its own process with its own GUI window - Results merge automatically into the standard directory structure - Choose number of splits based on CPU cores, RAM, and work distribution - oSPARC batch execution scales to hundreds of simulations on cloud resources - oSPARC requires API credentials and uses a three-step workflow (generate, submit, extract) - Hybrid approaches combine local setup with cloud execution for efficiency</p> <p>You've completed all five tutorials and can now run sophisticated EMF dosimetry studies with GOLIAT.</p>"},{"location":"tutorials/overview/","title":"GOLIAT tutorials","text":"<p>Interactive tutorials for learning GOLIAT through hands-on examples.</p>"},{"location":"tutorials/overview/#getting-started","title":"Getting started","text":"<p>Each tutorial is a Jupyter notebook that you can run interactively. They use the bash helper from <code>scripts/notebook_helpers.py</code> to execute GOLIAT commands.</p>"},{"location":"tutorials/overview/#tutorial-list","title":"Tutorial list","text":""},{"location":"tutorials/overview/#1-far-field-basics","title":"1. Far-field basics","text":"<p>Start here. Learn environmental exposure simulations with plane waves.</p> <ul> <li>Duration: 25-30 minutes</li> <li>Difficulty: Beginner</li> <li>Topics: Plane waves, directions, polarizations, config structure, running first study</li> </ul>"},{"location":"tutorials/overview/#2-configuration-and-caching","title":"2. Configuration and caching","text":"<p>Learn how configs extend each other and how GOLIAT avoids redundant work.</p> <ul> <li>Duration: 30-35 minutes</li> <li>Difficulty: Beginner to Intermediate</li> <li>Topics: Config inheritance, validation, config hashing, metadata, <code>--no-cache</code> flag</li> </ul>"},{"location":"tutorials/overview/#3-near-field-basics","title":"3. Near-field basics","text":"<p>Device exposure scenarios with antennas.</p> <ul> <li>Duration: 30-35 minutes</li> <li>Difficulty: Intermediate</li> <li>Topics: Antennas, placements, anatomical landmarks, localized SAR</li> </ul>"},{"location":"tutorials/overview/#4-gridding-and-phantom-rotation","title":"4. Gridding and phantom rotation","text":"<p>Computational grids and advanced near-field techniques.</p> <ul> <li>Duration: 35-40 minutes</li> <li>Difficulty: Intermediate to Advanced</li> <li>Topics: Automatic/manual gridding, subgridding, phantom rotation, scene alignment</li> </ul>"},{"location":"tutorials/overview/#5-parallel-and-cloud-execution","title":"5. Parallel and cloud execution","text":"<p>Running multiple simulations (local parallel and oSPARC).</p> <ul> <li>Duration: 30-35 minutes</li> <li>Difficulty: Intermediate to Advanced</li> <li>Topics: Config splitting, multiple GUIs, oSPARC setup, batch runs, job monitoring</li> </ul>"},{"location":"tutorials/overview/#contributing","title":"Contributing","text":"<p>Found an issue or want to improve a tutorial? See the Technical Guide for developer information.</p>"},{"location":"tutorials/overview/#see-also","title":"See also","text":"<ul> <li>Quick start guide (get GOLIAT running in minutes)</li> <li>User guide (comprehensive workflow explanations)</li> <li>Configuration reference (full config parameter documentation)</li> <li>Full List of Features (everything GOLIAT can do)</li> </ul>"},{"location":"user_guide/quick_start/","title":"Quick start: Your first GOLIAT simulation","text":"<p>Welcome to GOLIAT! This guide will get you up and running with your first automated EMF dosimetry simulation in minutes. GOLIAT streamlines the entire process using Sim4Life, handling scene setup, execution, and results analysis. We'll walk through a simple \"Hello World\" near-field simulation to calculate Specific Absorption Rate (SAR) in a digital human phantom.</p>"},{"location":"user_guide/quick_start/#what-youll-achieve","title":"What you'll achieve","text":"<p>By the end of this guide, you will have: - Cloned the GOLIAT repository. - Set up your Python environment with Sim4Life integration. - Configured a basic near-field simulation. - Run your first GOLIAT study. - Understood where to find and interpret the simulation results.</p>"},{"location":"user_guide/quick_start/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, please ensure you have the following:</p> <ul> <li>Sim4Life: Version 8.2.0 with a valid license. If you don't have it, you can download it from ZMT Zurich. Note: GOLIAT has only been tested on Sim4Life 8.2.0; compatibility with newer versions is untested.</li> <li>Python: Version 3.11 (GOLIAT is designed to use the Python distribution bundled with Sim4Life, so a separate Python installation is usually not required).</li> <li>Digital Phantom Models: GOLIAT automatically downloads phantom models (e.g., \"thelonious\" for a child, \"eartha\" for an adult) on first run. You may be prompted to provide your email for licensing purposes.</li> <li>Antenna Models: Antenna models for various frequencies are auto-downloaded as needed.</li> </ul> <p>\ud83d\udca1 Pro Tip: If you're new to EMF dosimetry or Sim4Life, familiarize yourself with core concepts. See the User Guide for background on SAR and digital human phantoms.</p>"},{"location":"user_guide/quick_start/#step-1-clone-the-repository-and-set-up-sim4life-python","title":"Step 1: Clone the repository and set up Sim4Life Python","text":"<p>First, open your terminal or command prompt and clone the GOLIAT repository:</p> <pre><code>git clone https://github.com/rwydaegh/goliat.git\ncd goliat\n</code></pre> <p>Next, set up your Sim4Life Python environment:</p> <pre><code>source .bashrc\n</code></pre> <p>Note: The <code>.bashrc</code> file is pre-configured for the default Sim4Life location (<code>C:/Program Files/Sim4Life_8.2.0/Python</code>). If Sim4Life is installed elsewhere or you're using a different version, GOLIAT will automatically prompt you to edit <code>.bashrc</code> when needed. Most users won't need to edit it manually.</p> <p>Important: Install the GOLIAT package in editable mode:</p> <pre><code>python -m pip install -e .\n</code></pre> <p>This installs GOLIAT and its dependencies. The editable mode allows code modifications to be reflected immediately without reinstalling.</p> <p>Now initialize GOLIAT by running:</p> <pre><code>goliat init\n</code></pre> <p>This will: - Verify Sim4Life Python interpreter is being used - Prepare data files (phantoms, antennas)</p> <p>Alternative: If you skip <code>goliat init</code>, commands like <code>goliat study</code> will automatically prompt you to install when first run.</p>"},{"location":"user_guide/quick_start/#step-2-configure-your-first-study","title":"Step 2: Configure your first study","text":"<p>GOLIAT uses a flexible JSON-based configuration system located in the <code>configs/</code> directory. For your first simulation, we'll use a simple near-field configuration.</p> <ol> <li> <p>Choose a template:</p> <ul> <li>For Near-Field simulations (device close to the body), copy <code>configs/near_field_config.json</code> to <code>configs/my_first_near_field_study.json</code>.</li> <li>For Far-Field simulations (whole-body plane wave exposure), copy <code>configs/far_field_config.json</code> to <code>configs/my_first_far_field_study.json</code>.</li> </ul> </li> <li> <p>Edit your custom config (e.g., <code>configs/my_first_near_field_study.json</code>):</p> <pre><code>{\n  \"extends\": \"base_config.json\",\n  \"study_type\": \"near_field\",\n  \"phantoms\": [\"thelonious\"],\n  \"frequencies_mhz\": [700],\n  \"execution_control\": {\n    \"do_setup\": true,\n    \"do_run\": true,\n    \"do_extract\": true\n  }\n}\n</code></pre> <p>Note: In this example, we use the \"thelonious\" child phantom and a single frequency (700 MHz) for a quick test run. GOLIAT's configuration system supports inheritance. Your custom config extends <code>base_config.json</code>, allowing you to override only the settings you need. For a deep dive into all available parameters, refer to the Configuration Guide.</p> </li> <li> <p>Environment Variables (Optional): Create a <code>.env</code> file in the project root if needed:</p> <ul> <li>oSPARC Cloud Runs: Add API credentials if using cloud execution</li> <li>Phantom Downloads: Add email if prompted during phantom download</li> </ul> </li> </ol> <p>For details, see Troubleshooting.</p>"},{"location":"user_guide/quick_start/#step-3-run-your-first-simulation","title":"Step 3: Run your first simulation","text":"<p>Now you're ready to launch your first GOLIAT study! Execute the following command in your terminal:</p> <pre><code>goliat study my_first_near_field_study\n</code></pre> <p>What happens:</p> <ul> <li>GOLIAT GUI opens showing real-time progress and ETA</li> <li>Downloads phantom and antenna models (one-time)</li> <li>Builds simulation scene in Sim4Life (loads phantom, places antenna)</li> <li>Runs FDTD solver via iSolve</li> <li>Extracts SAR metrics (whole-body, head/trunk, peak 10g SAR)</li> <li>Duration: 5-10 minutes depending on hardware</li> </ul> <p> GOLIAT GUI displaying real-time progress and simulation status.</p>"},{"location":"user_guide/quick_start/#step-4-view-and-analyze-results","title":"Step 4: View and analyze results","text":"<p>Once the simulation is complete, GOLIAT will save all results in a structured directory within the <code>results/</code> folder. For our example, you'll find outputs in <code>results/near_field/thelonious/700MHz/by_cheek/</code>.</p> <p>Key output files: -   <code>sar_results.json</code>: Contains normalized SAR values (e.g., mW/kg per 1W input power). -   <code>sar_stats_all_tissues.pkl</code>: A detailed Python pickle file with tissue-specific data. -   Plots: Various plots, such as SAR heatmaps and bar charts, visualizing the results.</p> <p>You can also run the dedicated analysis script to aggregate and further process your results:</p> <p><pre><code>goliat analyze --config my_first_near_field_study\n</code></pre> This will generate additional CSV files and plots in the <code>results/</code> directory.</p> <p>Example results plot:  Example plot generated by GOLIAT showing SAR distribution.</p> <p>Troubleshooting: Encountering issues? Refer to the Troubleshooting Guide for common problems and solutions (e.g., Sim4Life licensing, Python path errors, disk space management).</p>"},{"location":"user_guide/quick_start/#next-steps","title":"Next steps","text":"<p>You've successfully run your first GOLIAT simulation. Here's what you can do next:</p> <ul> <li>Explore all features: Check out the Full List of Features to discover everything GOLIAT can do</li> <li>Customize your studies: Experiment with configuration files to explore different frequencies, phantoms, and antenna placements</li> <li>Manage disk space: For serial workflows, enable automatic cleanup: <code>\"auto_cleanup_previous_results\": [\"output\"]</code>. See Configuration Guide</li> <li>Scale with the cloud: Use oSPARC for parallel, large-scale simulations by setting <code>\"batch_run\": true</code> in your config</li> <li>Explore tutorials: Start with Far-Field Basics Tutorial or Parallel and Cloud Execution Tutorial</li> </ul> <p>If you have questions or encounter issues, open a GitHub Issue.</p>"},{"location":"user_guide/user_guide/","title":"\ud83d\udcd6 User Guide: Understanding GOLIAT Workflows","text":"<p>This guide explains how GOLIAT operates, covering workflows for both near-field (device close to the body, like a mobile phone) and far-field (whole-body exposure, such as environmental plane waves) scenarios.</p> <p>GOLIAT automates the complex and often tedious aspects of EMF simulations: downloading necessary models, constructing complex scenes in Sim4Life, executing calculations, and extracting metrics like Specific Absorption Rate (SAR).</p>"},{"location":"user_guide/user_guide/#key-concepts-in-emf-dosimetry","title":"\ud83d\udca1 Key concepts in EMF dosimetry","text":"<p>Before diving into the workflows, let's clarify some fundamental terms:</p> <ul> <li>Phantoms: These are highly detailed digital human models (e.g., \"thelonious\" represents a 6-year-old boy, \"eartha\" an adult female). They serve as realistic 3D representations for safe and accurate simulation of EMF interaction with biological tissues.</li> <li>Near-Field Simulations: Focus on scenarios where an EMF source (e.g., an antenna in a mobile device) is in close proximity to the body. These simulations assess localized absorption, particularly in sensitive areas like the head, eyes, or limbs.</li> <li>Far-Field Simulations: Address scenarios involving plane waves impinging on the entire body from various directions (e.g., front, back, sides). These are typically used for evaluating environmental or broadcast exposure.</li> <li>Specific Absorption Rate (SAR): The primary output metric, representing the rate at which electromagnetic energy is absorbed per unit mass of biological tissue, typically expressed in milliwatts per kilogram (mW/kg) per 1W of input power. GOLIAT provides whole-body average SAR, localized SAR (e.g., head/trunk), and peak spatial-average SAR (psSAR) over 10g tissue cubes in specific organs (e.g., brain, eyes, skin).</li> <li>Configuration Files (Configs): JSON files that serve as the \"recipe\" for your simulations. They define all parameters, including phantom selection, frequencies, antenna properties, and execution controls. GOLIAT uses a hierarchical system where study-specific configs inherit from <code>base_config.json</code>, allowing for easy customization and overrides.</li> </ul>"},{"location":"user_guide/user_guide/#end-to-end-workflow-from-config-to-analysis","title":"\ud83d\ude80 End-to-end workflow: from config to analysis","text":"<p>GOLIAT's robust and modular design follows a clear, sequential flow: Load Config \u2192 Orchestrate Study \u2192 Setup Scene \u2192 Run Simulation \u2192 Extract Results \u2192 Analyze &amp; Plot.</p>"},{"location":"user_guide/user_guide/#1-load-configuration","title":"1. Load configuration","text":"<p>Your journey begins by specifying a configuration file. -   Execute your study using the command line: <pre><code>goliat study your_study_config.json\n</code></pre></p> <p>To bypass the caching system and force a fresh run, use the <code>--no-cache</code> flag:</p> <p><pre><code>goliat study your_study_config.json --no-cache\n</code></pre> -   GOLIAT intelligently merges your chosen configuration (e.g., <code>near_field_config.json</code>) with the <code>base_config.json</code>, applying overrides for specific parameters like solver settings or gridding refinements. -   A graphical user interface (GUI) will launch. Your configuration will be loaded and the study will initiate.</p> <p>\ud83d\udca1 Pro Tip: Configuration files are human-readable JSON. We recommend editing them in a code editor like VS Code. Start by copying one of the provided templates (e.g., <code>near_field_config.json</code>) and modify only the parameters relevant to your study, such as phantoms or frequencies. Refer to the Configuration Guide for a detailed breakdown of all parameters.</p>"},{"location":"user_guide/user_guide/#2-orchestrate-study","title":"2. Orchestrate study","text":"<p>The core logic of your simulation is managed by specialized Study classes (<code>NearFieldStudy</code> or <code>FarFieldStudy</code>).</p> <ul> <li>Near-Field Example: If you're running a near-field study, the <code>NearFieldStudy</code> class will systematically loop through all defined phantoms, frequencies, and antenna placements. For instance, it might process \"thelonious\" phantom at 700 MHz with an antenna placed \"by_cheek\" (e.g., 8mm from the cheek).</li> <li>Far-Field Example: For far-field studies, the <code>FarFieldStudy</code> class iterates through phantoms, frequencies, incident directions (e.g., x_pos, y_neg), and polarizations (e.g., theta, phi).</li> <li>Project Management: For each unique simulation scenario, GOLIAT creates a dedicated Sim4Life project file (<code>.smash</code>) within a structured <code>results/</code> directory. The directory structure follows the pattern <code>results/{study_type}/{phantom}/{frequency}MHz/{scenario}/</code>, where <code>scenario</code> identifies the specific simulation configuration. For a near-field study, this might be <code>results/near_field/thelonious/700MHz/by_cheek_tragus_cheek_base/</code>. For a far-field study, it would be <code>results/far_field/thelonious/700MHz/environmental_x_pos_theta/</code>. Each simulation gets its own directory and project file, providing isolation and reliability.</li> <li>Progress Tracking: The GUI provides real-time progress updates and an estimate for the Time Remaining, which becomes more accurate as the current session progresses. </li> </ul>"},{"location":"user_guide/user_guide/#3-setup-scene-in-sim4life","title":"3. Setup scene in Sim4Life","text":"<p>This phase involves GOLIAT automatically constructing the 3D simulation environment within Sim4Life.</p> <ul> <li>Phantom Loading: The specified digital phantom model is downloaded (if not already present) and imported into the scene, complete with its detailed tissue segmentation (e.g., skin, brain, muscle).</li> <li>Antenna/Source Placement:<ul> <li>Near-Field: The CAD model of the antenna (e.g., PIFA or IFA type) is imported and precisely positioned relative to the phantom, according to the defined placement scenario (e.g., 8mm gap from the cheek, with a specific tilt).</li> <li>Far-Field: Instead of an antenna, a plane wave source is configured, specifying its electric field strength (e.g., 1 V/m), incident direction, and polarization.</li> </ul> </li> <li>Material Assignment: Appropriate electromagnetic properties (e.g., conductivity, permittivity) are assigned to all entities in the scene (tissues, antenna components) based on the specified frequency.</li> <li>Gridding: The simulation domain is discretized into a computational grid. GOLIAT intelligently applies gridding rules, using finer cells around critical areas like the antenna or phantom surface, and coarser cells elsewhere. This can be automatic or manually controlled via millimeter steps.</li> <li>Scene Optimization: For <code>by_cheek</code> placements, GOLIAT automatically aligns the entire simulation scene (phantom, bounding boxes, sensors) with the phone's upright orientation. This alignment optimizes the computational grid orientation and can reduce simulation time. The alignment occurs after antenna placement and phantom rotation (if enabled), keeping the relative geometry correct throughout the scene.</li> <li>Boundaries and Sensors: Perfectly Matched Layer (PML) boundaries are configured to absorb outgoing electromagnetic waves, preventing reflections. Point sensors are strategically placed at the corners of the simulation bounding box to monitor field values for convergence.</li> <li>Solver Configuration: The Finite-Difference Time-Domain (FDTD) solver from <code>iSolve.exe</code> is set up, typically leveraging GPU acceleration (e.g., Acceleware or CUDA kernel) for faster computation.</li> </ul>"},{"location":"user_guide/user_guide/#4-run-simulation","title":"4. Run simulation","text":"<p>With the scene meticulously set up, GOLIAT proceeds to execute the electromagnetic simulation.</p> <ul> <li>Local Execution: For local runs, GOLIAT directly invokes the Sim4Life <code>iSolve.exe</code> solver. The GUI remains responsive, displaying logs and progress updates as the solver runs.</li> <li>Cloud Execution (oSPARC): For large-scale or parallel studies, GOLIAT can generate the necessary input files (<code>.h5</code>) and submit them as jobs to the oSPARC cloud platform. It then monitors the status of these jobs (e.g., PENDING \u2192 RUNNING \u2192 SUCCESS).</li> <li>Duration: A single simulation can take anywhere from 5 seconds to 5 hours, depending on factors like grid resolution, frequency, and computational resources. All results are normalized to a 1W input power for consistency.</li> </ul> <p>Batch mode: By setting <code>\"batch_run\": true</code> in your configuration, GOLIAT can manage multiple simulations concurrently, either locally (using <code>goliat parallel</code>) or on oSPARC. The GUI tracks the status of all jobs and automatically downloads results upon completion.</p> <p>Important limitation: When running parallel simulations locally on a single machine with one GPU, iSolve will only execute one simulation at a time. This means: - Setup and extract phases can run in parallel (CPU-based, benefits from parallelization) - Run phase (iSolve) cannot run in parallel on a single GPU machine (processes queue sequentially) - For true parallel iSolve execution, use oSPARC batch or multiple Windows PCs as described in Cloud Setup</p>"},{"location":"user_guide/user_guide/#5-extract-analyze-results","title":"5. Extract &amp; analyze results","text":"<p>After the simulation, GOLIAT's <code>ResultsExtractor</code> and <code>Analyzer</code> components take over to process and interpret the vast amount of raw data.</p> <ul> <li>SAR Extraction: The extractor pulls various SAR metrics from the simulation output:<ul> <li>Whole-Body SAR: The average SAR over the entire phantom.</li> <li>Localized SAR: Average SAR in specific regions, such as the head or trunk, relevant for localized exposures.</li> <li>psSAR10g: Peak spatial-average SAR over a 10-gram tissue cube, typically reported for sensitive organs like the eyes, brain, and skin.</li> <li>Power Balance: A check to ensure energy conservation within the simulation, ideally close to 100%.</li> </ul> </li> <li>Normalization: All extracted SAR values are normalized to a 1W input power, providing a standardized basis for comparison.</li> <li>Output Files (located in the <code>results/</code> folder):<ul> <li><code>sar_results.json</code>: A JSON file containing the primary normalized SAR values.</li> <li><code>sar_stats_all_tissues.pkl</code>: A Python pickle file with detailed, tissue-specific SAR data.</li> <li>Plots: GOLIAT automatically generates a suite of visualizations, including SAR heatmaps (showing SAR distribution by tissue and frequency), bar charts (comparing SAR in different regions), and boxplots (illustrating SAR distributions).</li> </ul> </li> <li>Aggregated Analysis: You can run the dedicated analysis script (<code>goliat analyze --config your_config.json</code>) to aggregate results across multiple simulations and generate CSV reports and additional plots.</li> <li>Log Files: For debugging and detailed tracking, GOLIAT generates two types of log files in the <code>logs/</code> directory for each run: a <code>.progress.log</code> for high-level updates and a <code>.log</code> for verbose, detailed information. The system automatically manages these files, keeping a maximum of 15 pairs to prevent excessive disk usage.</li> </ul> <p>Example output interpretation: For a near-field 700MHz simulation with an antenna by the cheek, you might observe: -   Head SAR: 0.5 mW/kg (per 1W input). -   Brain psSAR10g: 2.1 mW/kg peak. For far-field studies, the analysis often involves averaging results over different incident directions to determine typical exposure scenarios.</p> <p>\ud83d\udca1 If you simulate the whole-body, you get an overview of all the SAR values in each tissue (as defined by Sim4Life), their psSAR10g values and more! This is also displayed in HTML files. Moreover, we define a number of tissue groups of interest, including the eyes, head, skin and genitals which aggregate the above results for groups of tissues (as defined in <code>data/material_name_mapping.json</code>).</p>"},{"location":"user_guide/user_guide/#near-field-vs-far-field-workflows-a-comparison","title":"\ud83d\udd04 Near-field vs. far-field workflows: a comparison","text":"<p>While the core GOLIAT workflow remains consistent, the specifics of scene setup and analysis differ between near-field and far-field studies.</p>"},{"location":"user_guide/user_guide/#near-field-workflow-device-exposure","title":"Near-field workflow (device exposure)","text":"<ul> <li> <p>Primary Use Case: Assessing localized EMF exposure from devices held close to the body, such as mobile phones, wearables, or other devices. The focus is on SAR in specific tissues and organs.</p> </li> <li> <p>Key Steps:</p> <ol> <li>Configuration: Set <code>\"study_type\": \"near_field\"</code> and define specific <code>placement_scenarios</code> (e.g., \"by_cheek\", \"on_wrist\").</li> <li>Scene Setup: Involves importing a detailed CAD model of the device antenna and precisely positioning it relative to the phantom, often with a small air gap (e.g., 8mm).</li> <li>Simulation Run: Typically uses a harmonic excitation (single frequency) to simulate continuous wave exposure.</li> <li>Results Analysis: Concentrates on localized SAR values (e.g., head SAR, trunk SAR) and peak spatial-average SAR (psSAR10g) in sensitive tissues like the eyes, brain, and skin.</li> </ol> </li> <li> <p>Free-Space Mode: GOLIAT supports a \"freespace\" phantom option, allowing you to run simulations of the antenna in isolation (without a body). This is useful for antenna characterization and validation.</p> </li> </ul>"},{"location":"user_guide/user_guide/#far-field-workflow-environmental-exposure","title":"Far-field workflow (environmental exposure)","text":"<ul> <li> <p>Primary Use Case: Evaluating whole-body EMF exposure from distant sources, such as broadcast antennas, cellular base stations, or industrial equipment. The focus is on whole-body average SAR and overall field distribution. We reduce the complexity of impinging fields to all orthogonal directions and two polarizations, and assume that by normalizing this to 1 W, we can construct a transfer functions between measured E-field values and absorption values, especially for channel scenarios where the user is not down- or uploading anything.</p> </li> <li> <p>Key Steps:</p> <ol> <li>Configuration: Set <code>\"study_type\": \"far_field\"</code> and define <code>incident_directions</code> (e.g., <code>[\"x_pos\", \"y_neg\"]</code>) and <code>polarizations</code> (e.g., <code>[\"theta\", \"phi\"]</code>).</li> <li>Scene Setup: Instead of a device, plane wave sources are configured to illuminate the phantom from multiple directions, covering a full range of exposure angles.</li> <li>Simulation Run: Multiple simulations are typically run for each frequency, covering all specified directions and polarizations (e.g., 12 simulations per frequency: 6 directions \u00d7 2 polarizations).</li> <li>Results Analysis: Focuses on whole-body average SAR and how SAR is distributed across the entire phantom, often aggregated over various exposure scenarios.</li> </ol> </li> <li> <p>Auto-Induced Mode: While currently a placeholder, this mode is envisioned for future implementations to simulate EMF exposure induced by body motion or other dynamic scenarios.</p> </li> </ul>"},{"location":"user_guide/user_guide/#tips-for-success","title":"\u2705 Tips for success","text":"<ul> <li>Scale Up Your Studies: For multi-core local execution, leverage <code>goliat parallel near_field_config.json --num-splits 4</code> to distribute simulations across multiple CPU cores. Note: On a single-GPU machine, this only parallelizes setup and extract phases; iSolve run phases will still execute sequentially. For true parallel run phases, use oSPARC batch or multiple Windows PCs.</li> <li>Cloud Computing with oSPARC: For hundreds or thousands of simulations, oSPARC offers a cost-effective and fast cloud solution. Remember to set up your API keys in a <code>.env</code> file.</li> <li>Manage disk space: For serial workflows on machines with limited storage, use <code>\"auto_cleanup_previous_results\": [\"output\"]</code> to automatically delete previous simulation files. See Configuration Guide for details.</li> <li>Customize with Confidence: Feel free to modify frequencies and placements in your configuration files. However, for consistency with GOLIAT's protocols, it's generally recommended to keep the core antenna models fixed.</li> <li>Effective Debugging: Always consult the <code>logs/</code> directory for detailed error messages. You can also rerun specific phases of a study (e.g., <code>\"do_setup\": false, \"do_run\": false, \"do_extract\": true</code>) to isolate and debug issues more efficiently.</li> </ul> <p>You can now navigate GOLIAT and perform EMF dosimetry simulations. For hands-on examples, proceed to the Tutorials. For a complete reference of all available features, see the Full List of Features. If you have any further questions or encounter issues, please open a GitHub Issue.</p>"}]}